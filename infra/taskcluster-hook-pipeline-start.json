{
    "bindings": [
        {
            "exchange": "exchange/taskcluster-queue/v1/task-completed",
            "routingKeyPattern": "route.project.bugbug.deploy_ending"
        }
    ],
    "schedule": [
        "0 0 0 * * *"
    ],
    "metadata": {
        "description": "",
        "name": "BugBug data pipeline",
        "owner": "mcastelluccio@mozilla.com"
    },
    "task": {
        "created": {
            "$fromNow": "0 seconds"
        },
        "deadline": {
            "$fromNow": "2 hours"
        },
        "expires": {
            "$fromNow": "1 month"
        },
        "extra": {},
        "metadata": {
            "description": "",
            "name": "BugBug data pipeline",
            "owner": "mcastelluccio@mozilla.com",
            "source": "https://github.com/mozilla/bugbug"
        },
        "payload": {
            "artifacts": {},
            "cache": {},
            "capabilities": {},
            "command": [
                "/bin/bash",
                "-lcx",
                "git clone https://github.com/mozilla/bugbug && cd bugbug && git checkout data-pipeline-definition && pip install taskcluster json-e requests pyyaml && python infra/spawn_data_pipeline.py data-pipeline.yml"
            ],
            "env": {},
            "features": {
                "taskclusterProxy": true
            },
            "image": "python:3.7.3",
            "maxRunTime": 7200
        },
        "priority": "normal",
        "provisionerId": "aws-provisioner-v1",
        "retries": 5,
        "routes": [
            "notify.irc-channel.#bugbug.on-failed"
        ],
        "schedulerId": "-",
        "scopes": [
            "assume:hook-id:project-relman/bugbug",
            "secrets:get:project/relman/bugbug/production"
        ],
        "tags": {},
        "workerType": "taskcluster-generic"
    },
    "triggerSchema": {
        "additionalProperties": true,
        "type": "object"
    }
}
