{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "milan@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-02-18T21:23:09Z", "type_id": 4, "creation_date": "2016-02-18T19:01:21Z", "id": 1344838, "setter": "mchang@mozilla.com"}, {"status": "+", "name": "approval-mozilla-aurora", "modification_date": "2016-02-24T15:34:09Z", "type_id": 720, "creation_date": "2016-02-22T17:01:40Z", "id": 1346543, "setter": "lhenry@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2016-02-29T13:10:49Z", "type_id": 721, "creation_date": "2016-02-22T17:01:40Z", "id": 1346544, "setter": "sledru@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8720899}], "classification": "Components", "creator": "mchang@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_has_str": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "Ensure Accelerated Canvas on Mac happens only on 10.7 or later", "cf_last_resolved": "2016-02-21T01:28:35Z", "votes": 0, "severity": "major", "is_confirmed": true, "is_creator_accessible": true, "cf_status_firefox45": "fixed", "cf_has_regression_range": "---", "is_cc_accessible": true, "comment_count": 21, "comments": [{"text": "Due to bug 1244569 and 1246633, it seems like accelerated skia canvas breaks some things. From the daily today, we decided to disable accelerated skia canvas on OS X versions < 10.8", "author": "mchang@mozilla.com", "id": 11176107, "time": "2016-02-18T16:42:21Z"}, {"text": "From https://dxr.mozilla.org/mozilla-central/source/gfx/thebes/gfxPlatformMac.cpp#433, we should not be enabling accelerated skia canvas on less than 10.7, but from bug 1244569, the user is reporting 10.6.8. Maybe we're not respecting accelerated canvas prefs somewhere, digging.", "author": "mchang@mozilla.com", "id": 11176226, "time": "2016-02-18T17:15:05Z"}, {"text": "Also: https://dxr.mozilla.org/mozilla-central/source/gfx/thebes/gfxPlatform.cpp#1172", "author": "milan@mozilla.com", "id": 11176578, "time": "2016-02-18T18:50:59Z"}, {"text": "In other words, I have a feeling that UseAcceleratedCanvas and UseAcceleratedSkiaCanvas should not both exist.", "author": "milan@mozilla.com", "id": 11176590, "time": "2016-02-18T18:52:29Z"}, {"text": "Created attachment 8720899\nMozReview Request: Bug 1249312: UseAcceleratedCanvas on Mac should really be UseAcceleratedSkiaCanvas. r?mchang\n\nReview commit: https://reviewboard.mozilla.org/r/35503/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/35503/", "author": "milan@mozilla.com", "id": 11176623, "time": "2016-02-18T19:01:21Z"}, {"text": "Come to think of it, I don't know what was happening here: https://dxr.mozilla.org/mozilla-central/source/gfx/layers/composite/LayerManagerComposite.cpp#1470 - were we forcing accelerated CG somehow?", "author": "milan@mozilla.com", "id": 11176628, "time": "2016-02-18T19:03:02Z"}, {"text": "Comment on attachment 8720899\nMozReview Request: Bug 1249312: UseAcceleratedCanvas on Mac should really be UseAcceleratedSkiaCanvas. r?mchang\n\nhttps://reviewboard.mozilla.org/r/35503/#review32189", "author": "mchang@mozilla.com", "id": 11177167, "time": "2016-02-18T21:23:09Z"}, {"text": "We're still unsure if the google maps problem in bug 1246633 is strictly related to 10.7 as someone reproduced it on 10.10.", "author": "mchang@mozilla.com", "id": 11177238, "time": "2016-02-18T21:43:45Z"}, {"text": "*** Bug 1244569 has been marked as a duplicate of this bug. ***", "author": "mchang@mozilla.com", "id": 11177734, "time": "2016-02-18T23:57:19Z"}, {"text": "Successful try - https://treeherder.mozilla.org/#/jobs?repo=try&revision=31f2c5e20ce8", "author": "mchang@mozilla.com", "id": 11179571, "time": "2016-02-19T16:24:15Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/7595a1641deb", "author": "pulsebot@bots.tld", "id": 11179588, "time": "2016-02-19T16:29:35Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/7595a1641deb", "author": "philringnalda@gmail.com", "id": 11182124, "time": "2016-02-21T01:28:35Z"}, {"text": "Comment on attachment 8720899\nMozReview Request: Bug 1249312: UseAcceleratedCanvas on Mac should really be UseAcceleratedSkiaCanvas. r?mchang\n\nApproval Request Comment\n[Feature/regressing bug #]: bug 1150944, accelerated canvas on OS X\n[User impact if declined]: Graphic artifacts such as bug 1244569 \n[Describe test coverage new/current, TreeHerder]: Manual, treeherder\n[Risks and why]: Low - Accelerated canvas was only supposed to be enabled on 10.7 or higher, but there was a bug in the check where lower versions such as 10.6 would actually enable accelerated canvas.\n[String/UUID change made/needed]: None", "author": "mchang@mozilla.com", "id": 11184633, "time": "2016-02-22T17:01:40Z"}, {"text": "Tracking since this is a fairly recent regression (shipped with 42)", "author": "lhenry@mozilla.com", "id": 11191468, "time": "2016-02-24T15:32:52Z"}, {"text": "Comment on attachment 8720899\nMozReview Request: Bug 1249312: UseAcceleratedCanvas on Mac should really be UseAcceleratedSkiaCanvas. r?mchang\n\nShould prevent some issues on macs, please uplift to aurora", "author": "lhenry@mozilla.com", "id": 11191476, "time": "2016-02-24T15:34:09Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-aurora/rev/917763c36a6e", "author": "cbook@mozilla.com", "id": 11191530, "time": "2016-02-24T15:47:01Z"}, {"text": "Milan, do you confirm that we really want that in 45 & 45esr or this can ride the train? This is really late in the cycle.\nthanks", "author": "sledru@mozilla.com", "id": 11194754, "time": "2016-02-25T13:35:34Z"}, {"text": "I appreciate the lateness of the request.  About 24% of our OS X user base is affected, and has had sub par canvas experience since this regression slipped in.\n\nBefore we do though - Mason, we would want bug 1249659 as well, right?  This only deals with 10.6 systems, and it's bug 1249659 that also handles it for 10.7 ones.", "author": "milan@mozilla.com", "id": 11195029, "time": "2016-02-25T15:18:19Z"}, {"text": "(In reply to Milan Sreckovic [:milan] from comment #17)\n> I appreciate the lateness of the request.  About 24% of our OS X user base\n> is affected, and has had sub par canvas experience since this regression\n> slipped in.\n> \n> Before we do though - Mason, we would want bug 1249659 as well, right?  This\n> only deals with 10.6 systems, and it's bug 1249659 that also handles it for\n> 10.7 ones.\n\nCorrect, we probably want both this and bug 1249659. I was going to ask for beta uplift on bug 1249659  after this one lands.", "author": "mchang@mozilla.com", "id": 11195307, "time": "2016-02-25T16:30:34Z"}, {"text": "Comment on attachment 8720899\nMozReview Request: Bug 1249312: UseAcceleratedCanvas on Mac should really be UseAcceleratedSkiaCanvas. r?mchang\n\nI am very unhappy to see this kind of uplift request that late in the cycle.\nNext time, please be on top of your features, Bug 1244569 has been reported a month ago :/\nTaking it for the only reason that 45 is an ESR.", "author": "sledru@mozilla.com", "id": 11202916, "time": "2016-02-29T13:10:49Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-beta/rev/7fe56562e45d", "author": "cbook@mozilla.com", "id": 11203558, "time": "2016-02-29T15:04:44Z"}], "id": 1249312, "priority": "--", "platform": "x86", "cf_crash_signature": "", "version": "44 Branch", "cf_status_firefox47": "fixed", "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_firefox46": "+", "cf_tracking_firefox47": "+", "cf_tracking_firefox45": "+", "last_change_time": "2016-02-29T15:04:44Z", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1244569, 1246633, 1249659], "qa_contact": "", "creation_time": "2016-02-18T16:42:21Z", "cf_status_firefox_esr52": "---", "component": "Graphics", "assigned_to_detail": {"email": "mchang@mozilla.com", "id": 482523, "name": "mchang@mozilla.com", "real_name": "Mason Chang [Inactive]  [:mchang]"}, "groups": [], "cf_status_firefox60": "---", "target_milestone": "mozilla47", "cf_status_firefox44": "wontfix", "cc": ["ed.wiesmeier3@gmail.com", "epinal99-bugzilla2@yahoo.fr", "jmuizelaar@mozilla.com", "lsalzman@mozilla.com", "matt.woodrow@gmail.com", "mchang@mozilla.com", "milan@mozilla.com", "nical.bugzilla@gmail.com", "sledru@mozilla.com", "u520228@disabled.tld"], "cf_status_firefox46": "fixed", "cf_rank": null, "cf_status_thunderbird_esr52": "---", "url": "", "cf_tracking_firefox59": "---", "creator_detail": {"email": "mchang@mozilla.com", "id": 482523, "name": "mchang@mozilla.com", "real_name": "Mason Chang [Inactive]  [:mchang]"}, "whiteboard": "gfx-noted,regression", "mentors": [], "cc_detail": [{"email": "ed.wiesmeier3@gmail.com", "id": 562215, "name": "ed.wiesmeier3@gmail.com", "real_name": ""}, {"email": "epinal99-bugzilla2@yahoo.fr", "id": 337567, "name": "epinal99-bugzilla2@yahoo.fr", "real_name": "Loic"}, {"email": "jmuizelaar@mozilla.com", "id": 309398, "name": "jmuizelaar@mozilla.com", "real_name": "Jeff Muizelaar [:jrmuizel]"}, {"email": "lsalzman@mozilla.com", "id": 536714, "name": "lsalzman@mozilla.com", "real_name": "Lee Salzman [:lsalzman]"}, {"email": "matt.woodrow@gmail.com", "id": 380838, "name": "matt.woodrow@gmail.com", "real_name": "Matt Woodrow (:mattwoodrow)"}, {"email": "mchang@mozilla.com", "id": 482523, "name": "mchang@mozilla.com", "real_name": "Mason Chang [Inactive]  [:mchang]"}, {"email": "milan@mozilla.com", "id": 456486, "name": "milan@mozilla.com", "real_name": "Milan Sreckovic [:milan]"}, {"email": "nical.bugzilla@gmail.com", "id": 438998, "name": "nical.bugzilla@gmail.com", "real_name": "Nicolas Silva [:nical]"}, {"email": "sledru@mozilla.com", "id": 495955, "name": "sledru@mozilla.com", "real_name": "Sylvestre Ledru [:sylvestre]"}, {"email": "u520228@disabled.tld", "id": 520228, "name": "u520228@disabled.tld", "real_name": ""}], "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "assigned_to": "mchang@mozilla.com", "is_open": false, "cf_qa_whiteboard": "", "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1246633, 1244569"}, {"removed": "1246633", "field_name": "depends_on", "added": ""}], "who": "mchang@mozilla.com", "when": "2016-02-18T16:42:45Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8720899, "added": "review?(mchang@mozilla.com)"}], "who": "milan@mozilla.com", "when": "2016-02-18T19:01:21Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(mchang@mozilla.com)", "attachment_id": 8720899, "added": "review+"}], "who": "mchang@mozilla.com", "when": "2016-02-18T21:23:09Z"}, {"changes": [{"removed": "Disable accelerated Canvas on OS X versions < 10.8", "field_name": "summary", "added": "Disable accelerated Skia Canvas on OS X versions < 10.8, and accelerated CG canvas always"}], "who": "milan@mozilla.com", "when": "2016-02-18T21:25:26Z"}, {"changes": [{"removed": "Disable accelerated Skia Canvas on OS X versions < 10.8, and accelerated CG canvas always", "field_name": "summary", "added": "Ensure Accelerated Canvas on Mac happens only on 10.7 or later"}], "who": "mchang@mozilla.com", "when": "2016-02-18T21:43:45Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ed.wiesmeier3@gmail.com"}], "who": "mchang@mozilla.com", "when": "2016-02-18T23:57:19Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox44", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox45", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox46", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox47", "added": "affected"}], "who": "mchang@mozilla.com", "when": "2016-02-19T00:00:09Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1249659"}], "who": "mchang@mozilla.com", "when": "2016-02-19T16:36:35Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla47"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-02-20 17:28:35"}, {"removed": "affected", "field_name": "cf_status_firefox47", "added": "fixed"}], "who": "philringnalda@gmail.com", "when": "2016-02-21T01:28:35Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8720899, "added": "approval-mozilla-aurora?, approval-mozilla-beta?"}], "who": "mchang@mozilla.com", "when": "2016-02-22T17:01:40Z"}, {"changes": [{"removed": "---", "field_name": "cf_tracking_firefox45", "added": "?"}, {"removed": "---", "field_name": "cf_tracking_firefox46", "added": "+"}, {"removed": "---", "field_name": "cf_tracking_firefox47", "added": "+"}], "who": "lhenry@mozilla.com", "when": "2016-02-24T15:32:52Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?", "attachment_id": 8720899, "added": "approval-mozilla-aurora+"}], "who": "lhenry@mozilla.com", "when": "2016-02-24T15:34:09Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox46", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2016-02-24T15:47:01Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "sledru@mozilla.com"}, {"removed": "affected", "field_name": "cf_status_firefox44", "added": "wontfix"}], "who": "sledru@mozilla.com", "when": "2016-02-25T13:31:50Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(milan@mozilla.com)"}], "who": "sledru@mozilla.com", "when": "2016-02-25T13:35:34Z"}, {"changes": [{"removed": "?", "field_name": "cf_tracking_firefox45", "added": "+"}], "who": "sledru@mozilla.com", "when": "2016-02-25T14:22:11Z"}, {"changes": [{"removed": "needinfo?(milan@mozilla.com)", "field_name": "flagtypes.name", "added": "needinfo?(mchang@mozilla.com)"}], "who": "milan@mozilla.com", "when": "2016-02-25T15:18:19Z"}, {"changes": [{"removed": "needinfo?(mchang@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "mchang@mozilla.com", "when": "2016-02-25T16:30:34Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-beta?", "attachment_id": 8720899, "added": "approval-mozilla-beta+"}], "who": "sledru@mozilla.com", "when": "2016-02-29T13:10:49Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox45", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2016-02-29T15:04:44Z"}], "resolution": "FIXED", "op_sys": "Mac OS X", "cf_fx_points": "---", "cf_blocking_fennec": "---"}