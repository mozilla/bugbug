{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "nfroyd@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-08-19T17:11:03Z", "type_id": 4, "creation_date": "2016-08-19T15:24:06Z", "id": 1442128, "setter": "bill.mccloskey@gmail.com"}, {"status": "+", "name": "approval-mozilla-aurora", "modification_date": "2016-08-22T18:56:45Z", "type_id": 720, "creation_date": "2016-08-22T00:32:33Z", "id": 1442712, "setter": "rkothari@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2016-08-24T15:27:07Z", "type_id": 721, "creation_date": "2016-08-22T00:32:33Z", "id": 1442713, "setter": "lhenry@mozilla.com"}], "content_type": "text/plain", "id": 8782932}], "classification": "Components", "creator": "nfroyd@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_has_str": "---", "cf_user_story": "", "dupe_of": null, "cf_tracking_firefox_relnote": "---", "platform": "All", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": ["regression"], "cc_detail": [{"email": "bill.mccloskey@gmail.com", "id": 389993, "name": "bill.mccloskey@gmail.com", "real_name": "Bill McCloskey [inactive unless it's an emergency] (:billm)"}, {"email": "rkothari@mozilla.com", "id": 538805, "name": "rkothari@mozilla.com", "real_name": "Ritu Kothari (:ritu)"}], "cf_last_resolved": "2016-08-20T01:19:39Z", "cf_status_firefox50": "fixed", "cf_status_firefox51": "fixed", "votes": 0, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 10, "comments": [{"text": "Pickle::{Read,Write}Sentinel were introduced as a way of catching\nproblems with corrupted IPDL messages at the point of message\nserialization, rather than the point of use of the bad data.  The\nchecking itself is only done on debug or non-release builds, but the\ncalls to the functions are compiled in regardless of whether checking is\ndone.  While LTO could plausibly optimize away all the calls, we don't\nhave LTO on all of our platforms, particularly mobile.  Therefore, we\nshould move the non-checking versions of the calls inline, so the\ncompiler can eliminate those calls entirely, even in non-LTO builds.", "author": "nfroyd@mozilla.com", "id": 11639793, "time": "2016-08-19T15:22:12Z"}, {"text": "Created attachment 8782932\navoid compiling {Read,Write}Sentinel calls in non-sentinel checking builds\n\nThis change saves ~280K of .text on x86-64 Linux.", "author": "nfroyd@mozilla.com", "id": 11639801, "time": "2016-08-19T15:24:06Z"}, {"text": "[Tracking Requested - why for this release]: This is a decent-sized size regression, which is particularly important for our Android builds.", "author": "nfroyd@mozilla.com", "id": 11640160, "time": "2016-08-19T17:15:34Z"}, {"text": "Pushed by nfroyd@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/9140ec44d27b\navoid compiling {Read,Write}Sentinel calls in non-sentinel checking builds; r=billm", "author": "pulsebot@bots.tld", "id": 11640182, "time": "2016-08-19T17:24:28Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/9140ec44d27b", "author": "kwierso@gmail.com", "id": 11641346, "time": "2016-08-20T01:19:39Z"}, {"text": "Comment on attachment 8782932\navoid compiling {Read,Write}Sentinel calls in non-sentinel checking builds\n\nApproval Request Comment\n[Feature/regressing bug #]: bug 1262671\n[User impact if declined]: larger binaries, slightly worse performance\n[Describe test coverage new/current, TreeHerder]: e10s tests run this code pretty comprehensively.\n[Risks and why]: This is a low-risk patch; it's essentially restoring us to the same code we produce on the 48 branch, and eliminating a few no-op function calls.\n[String/UUID change made/needed]: none", "author": "nfroyd@mozilla.com", "id": 11642568, "time": "2016-08-22T00:32:33Z"}, {"text": "Comment on attachment 8782932\navoid compiling {Read,Write}Sentinel calls in non-sentinel checking builds\n\nRecent regression, let's uplift to Aurora50, has stabilized on Nightly for a few days.", "author": "rkothari@mozilla.com", "id": 11645334, "time": "2016-08-22T18:56:45Z"}, {"text": "Comment on attachment 8782932\navoid compiling {Read,Write}Sentinel calls in non-sentinel checking builds\n\nFix for regression from 49, let's uplift this for beta 7.", "author": "lhenry@mozilla.com", "id": 11651607, "time": "2016-08-24T15:27:07Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-aurora/rev/8a0abccd9563", "author": "ryanvm@gmail.com", "id": 11653616, "time": "2016-08-25T03:14:53Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-beta/rev/ffd7ae9b354a", "author": "ryanvm@gmail.com", "id": 11653667, "time": "2016-08-25T03:42:52Z"}], "id": 1296642, "priority": "--", "cc": ["bill.mccloskey@gmail.com", "rkothari@mozilla.com"], "cf_crash_signature": "", "version": "49 Branch", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox49": "+", "cf_tracking_firefox59": "---", "see_also": [], "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [942609, 1262671], "qa_contact": "", "creation_time": "2016-08-19T15:22:12Z", "cf_status_firefox_esr52": "---", "component": "IPC", "assigned_to_detail": {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}, "cf_status_firefox49": "fixed", "groups": [], "cf_status_firefox60": "---", "cf_tracking_firefox50": "+", "target_milestone": "mozilla51", "is_cc_accessible": true, "cf_rank": null, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}, "whiteboard": "", "mentors": [], "summary": "avoid compiling {Read,Write}Sentinel calls in non-sentinel checking builds", "alias": null, "op_sys": "All", "flags": [], "cf_tracking_firefox58": "---", "assigned_to": "nfroyd@mozilla.com", "is_open": false, "history": [{"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8782932, "added": "review?(wmccloskey@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "wmccloskey@mozilla.com"}], "who": "nfroyd@mozilla.com", "when": "2016-08-19T15:24:06Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(wmccloskey@mozilla.com)", "attachment_id": 8782932, "added": "review+"}], "who": "bill.mccloskey@gmail.com", "when": "2016-08-19T17:11:03Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1262671"}, {"removed": "---", "field_name": "cf_tracking_firefox49", "added": "?"}, {"removed": "---", "field_name": "cf_status_firefox49", "added": "affected"}, {"removed": "---", "field_name": "cf_tracking_firefox50", "added": "?"}, {"removed": "---", "field_name": "cf_status_firefox50", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox51", "added": "affected"}], "who": "nfroyd@mozilla.com", "when": "2016-08-19T17:15:34Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "942609"}], "who": "nfroyd@mozilla.com", "when": "2016-08-19T17:26:16Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla51"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-08-20 01:19:39"}, {"removed": "affected", "field_name": "cf_status_firefox51", "added": "fixed"}], "who": "kwierso@gmail.com", "when": "2016-08-20T01:19:39Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8782932, "added": "approval-mozilla-aurora?, approval-mozilla-beta?"}], "who": "nfroyd@mozilla.com", "when": "2016-08-22T00:32:33Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "cc", "added": "rkothari@mozilla.com"}, {"removed": "?", "field_name": "cf_tracking_firefox49", "added": "+"}, {"removed": "?", "field_name": "cf_tracking_firefox50", "added": "+"}], "who": "rkothari@mozilla.com", "when": "2016-08-22T18:55:58Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?", "attachment_id": 8782932, "added": "approval-mozilla-aurora+"}], "who": "rkothari@mozilla.com", "when": "2016-08-22T18:56:45Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-beta?", "attachment_id": 8782932, "added": "approval-mozilla-beta+"}], "who": "lhenry@mozilla.com", "when": "2016-08-24T15:27:07Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox50", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2016-08-25T03:14:53Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox49", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2016-08-25T03:42:52Z"}, {"changes": [{"removed": "unspecified", "field_name": "version", "added": "49 Branch"}], "who": "ryanvm@gmail.com", "when": "2016-12-29T17:26:24Z"}], "resolution": "FIXED", "last_change_time": "2016-12-29T17:26:24Z", "cf_fx_points": "---", "cf_blocking_fennec": "---"}