{"status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Client Software", "creator": "sfoster@mozilla.com", "cc": ["dharvey@mozilla.com"], "depends_on": [], "creation_time": "2018-05-18T17:27:34Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86_64", "keywords": [], "summary": "Opened tabs lost between restarts: XULStore.js, line 65: Error: Can't find profile directory", "cf_last_resolved": "2018-06-01T11:11:21Z", "attachments": [], "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 4, "comments": [{"text": "Today after and update+restart all my tabs disappeared. I'm not sure if the platform is relevant, but I'm on Linux (Ubuntu 16.04)\nI reproduce this reliably on a new profile with a build from central: \n\nSTR: \n1. Start firefox with a new, clean profile\n2. Load a page e.g. wikipedia.org in a tab\n3. Confirm sessionstore-backups directory has been created in the profile directory, with the expected previous and recovery files\n4. Close the browser\n5. Re-start the browser using the same profile\n\nExpected: \nBrowser opens with wikipedia opened in a tab\n\nActual:\nNo previous tabs are opened. Under the History menu, session restore and recent tabs/windows options are greyed out (empty). \n\nI'm seeing this in the terminal I used to launch Firefox: \n\nJavaScript error: file:///home/sfoster/moz/firefox/obj-x86_64-pc-linux-gnu/dist/bin/components/XULStore.js, line 65: Error: Can't find profile directory.\n\nI'll try to get more info with mozregression.", "author": "sfoster@mozilla.com", "id": 13287840, "time": "2018-05-18T17:27:34Z"}, {"text": "I'm not having any luck reproducing this with mozregression. I tried: \n\nmozregression --good 2018-05-10 --bad 2018-05-18\n\nI load up wikipedia.org in the first tab, close the browser. I then use the Application command output from mozregression to get the application and profile path to re-launch and verify that \"Restore previous session\" under the app menu is active and works to restore my wikipedia tab.", "author": "sfoster@mozilla.com", "id": 13287896, "time": "2018-05-18T17:57:09Z"}, {"text": "I was able to use the Refresh on about:support to restore the ability to save the session and restore it after restart. Which lead me to doubt my earlier repro on a new profile. Trying again I'm no longer able reproduce. I'm not sure if I was looking in the wrong place? Hopefully this is a false alarm and just something glitching on my end. I'll wait for confirmation before closing this bug.", "author": "sfoster@mozilla.com", "id": 13287937, "time": "2018-05-18T18:08:01Z"}, {"text": "Yup not seen any other reports and sounds like a glitch, without being able to reproduce again closing wfm, cheers", "author": "dharvey@mozilla.com", "id": 13379937, "time": "2018-06-01T11:11:21Z"}], "id": 1462717, "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "---", "blocks": [], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Session Restore", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "---", "is_cc_accessible": true, "cf_rank": null, "groups": [], "url": "", "creator_detail": {"email": "sfoster@mozilla.com", "id": 430165, "name": "sfoster@mozilla.com", "real_name": "Sam Foster [:sfoster]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "dharvey@mozilla.com", "id": 389449, "name": "dharvey@mozilla.com", "real_name": "Dale Harvey (:daleharvey)"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-01T11:11:21Z", "cf_status_firefox_esr60": "---", "assigned_to": "nobody@mozilla.org", "is_open": false, "resolution": "WORKSFORME", "op_sys": "Linux", "cf_fx_points": "---", "history": [{"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "cc", "added": "dharvey@mozilla.com"}, {"removed": "", "field_name": "resolution", "added": "WORKSFORME"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-06-01 11:11:21"}], "who": "dharvey@mozilla.com", "when": "2018-06-01T11:11:21Z"}]}