{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "bgrinstead@mozilla.com", "mentors_detail": [], "depends_on": [1456588], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "cc_detail": [{"email": "bzbarsky@mit.edu", "id": 20209, "name": "bzbarsky@mit.edu", "real_name": "Boris Zbarsky [:bz] (Vacation Jun 16-24) (no decent commit message means r-)"}, {"email": "enndeakin@gmail.com", "id": 6102, "name": "enndeakin@gmail.com", "real_name": "Neil Deakin"}], "cf_last_resolved": "2018-04-27T10:08:50Z", "attachments": [{"creator": "bgrinstead@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "text/x-review-board-request", "id": 8970789}, {"creator": "bgrinstead@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "text/x-review-board-request", "id": 8970790}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 13, "comments": [{"text": "As far as I can tell this is used for two things (https://searchfox.org/mozilla-central/search?q=nsIDOMXULTextboxElement&path=)\n\n1) In a few JS callers via instanceof checks\n2) In nsFocusManager::GetRedirectedFocus to get the `inputField` attribute from JS (which evaluates to the HTML input/textarea tag in the XBL anon content).\n\nFor (1) we should be able to swap them out with tag name checks, and for (2) we should be able to directly reach into the anon content to get the HTML tag.\n\nOnce it's gone we can stop having the textbox (and child bindings) implement it.", "author": "bgrinstead@mozilla.com", "id": 13231638, "time": "2018-04-25T03:20:01Z"}, {"text": "Created attachment 8970789\nBug 1456703 - Stop using nsIDOMXULTextBoxElement to detect XUL textboxes\n\nThis is used in JS via instanceof checks, and in C++ only to get the `inputField`\nattribute (the actual HTML input or textarea). We can swap out instanceof by checking\nthe tag name, and we can directly query for the input field from C++.\n\nReview commit: https://reviewboard.mozilla.org/r/239552/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/239552/", "author": "bgrinstead@mozilla.com", "id": 13231642, "time": "2018-04-25T03:24:03Z"}, {"text": "Created attachment 8970790\nBug 1456703 - Remove nsIDOMXULTextBoxElement\n\nReview commit: https://reviewboard.mozilla.org/r/239554/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/239554/", "author": "bgrinstead@mozilla.com", "id": 13231643, "time": "2018-04-25T03:24:03Z"}, {"text": "Comment on attachment 8970789\nBug 1456703 - Stop using nsIDOMXULTextBoxElement to detect XUL textboxes\n\nhttps://reviewboard.mozilla.org/r/239552/#review245760\n\n::: toolkit/modules/sessionstore/FormData.jsm:208\n(Diff revision 1)\n>          continue;\n>        }\n>  \n>        if (node instanceof Ci.nsIDOMHTMLInputElement ||\n>            ChromeUtils.getClassName(node) === \"HTMLTextAreaElement\" ||\n> -          node instanceof Ci.nsIDOMXULTextBoxElement) {\n> +          node.localName == \"textbox\") {\n\nThis should check the namespace", "author": "enndeakin@gmail.com", "id": 13235274, "time": "2018-04-26T14:04:04Z"}, {"text": "Comment on attachment 8970790\nBug 1456703 - Remove nsIDOMXULTextBoxElement\n\nhttps://reviewboard.mozilla.org/r/239554/#review245762", "author": "enndeakin@gmail.com", "id": 13235276, "time": "2018-04-26T14:04:34Z"}, {"text": "Will rebase around Bug 1456588 which is on inbound", "author": "bgrinstead@mozilla.com", "id": 13235647, "time": "2018-04-26T15:13:29Z"}, {"text": "Comment on attachment 8970789\nBug 1456703 - Stop using nsIDOMXULTextBoxElement to detect XUL textboxes\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/239552/diff/1-2/", "author": "bgrinstead@mozilla.com", "id": 13235782, "time": "2018-04-26T15:44:58Z"}, {"text": "Comment on attachment 8970790\nBug 1456703 - Remove nsIDOMXULTextBoxElement\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/239554/diff/1-2/", "author": "bgrinstead@mozilla.com", "id": 13235783, "time": "2018-04-26T15:44:58Z"}, {"text": "We're sorry, Autoland could not rebase your commits for you automatically. Please manually rebase your commits and try again.\n\nhg error in cmd: hg rebase -s b22f31de49a87949c0625cda8d72c0a46cd21b13 -d 356d8af4a2b9: rebasing 460639:b22f31de49a8 \"Bug 1456703 - Stop using nsIDOMXULTextBoxElement to detect XUL textboxes r=enndeakin+6102\"\nrebasing 460640:47ac4dd8a607 \"Bug 1456703 - Remove nsIDOMXULTextBoxElement r=enndeakin+6102\" (tip)\nother [source] changed dom/interfaces/xul/nsIDOMXULTreeElement.idl which local [dest] deleted\nuse (c)hanged version, leave (d)eleted, or leave (u)nresolved? u\nmerging dom/interfaces/xul/moz.build\nwarning: conflicts while merging dom/interfaces/xul/moz.build! (edit, then use 'hg resolve --mark')\nunresolved conflicts (see hg resolve, then hg rebase --continue)", "author": "autoland@mozilla.bugs", "id": 13236712, "time": "2018-04-26T21:05:39Z"}, {"text": "Comment on attachment 8970789\nBug 1456703 - Stop using nsIDOMXULTextBoxElement to detect XUL textboxes\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/239552/diff/2-3/", "author": "bgrinstead@mozilla.com", "id": 13236963, "time": "2018-04-26T22:17:40Z"}, {"text": "Comment on attachment 8970790\nBug 1456703 - Remove nsIDOMXULTextBoxElement\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/239554/diff/2-3/", "author": "bgrinstead@mozilla.com", "id": 13236964, "time": "2018-04-26T22:17:40Z"}, {"text": "Pushed by bgrinstead@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/3e0ca85e6970\nStop using nsIDOMXULTextBoxElement to detect XUL textboxes r=enndeakin+6102\nhttps://hg.mozilla.org/integration/autoland/rev/ef26c0022369\nRemove nsIDOMXULTextBoxElement r=enndeakin+6102", "author": "pulsebot@bots.tld", "id": 13237230, "time": "2018-04-27T00:57:58Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/3e0ca85e6970\nhttps://hg.mozilla.org/mozilla-central/rev/ef26c0022369", "author": "csabou@mozilla.com", "id": 13237809, "time": "2018-04-27T10:08:50Z"}], "id": 1456703, "priority": "P3", "cc": ["bzbarsky@mit.edu", "enndeakin@gmail.com"], "cf_crash_signature": "", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1397874, 1455676], "qa_contact": "", "creation_time": "2018-04-25T03:20:01Z", "cf_status_firefox_esr52": "---", "component": "DOM", "assigned_to_detail": {"email": "bgrinstead@mozilla.com", "id": 476442, "name": "bgrinstead@mozilla.com", "real_name": "Brian Grinstead [:bgrins]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "fixed", "cf_status_firefox60": "---", "target_milestone": "mozilla61", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "bgrinstead@mozilla.com", "id": 476442, "name": "bgrinstead@mozilla.com", "real_name": "Brian Grinstead [:bgrins]"}, "whiteboard": "", "mentors": [], "summary": "Remove nsIDOMXULTextBoxElement", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-04-27T10:08:50Z", "assigned_to": "bgrinstead@mozilla.com", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1455676"}], "who": "bgrinstead@mozilla.com", "when": "2018-04-25T04:14:29Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "enndeakin@gmail.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8970789, "added": "review?(enndeakin@gmail.com)"}], "who": "bgrinstead@mozilla.com", "when": "2018-04-25T04:49:35Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8970790, "added": "review?(enndeakin@gmail.com)"}], "who": "bgrinstead@mozilla.com", "when": "2018-04-25T04:49:49Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P3"}], "who": "bugs@pettay.fi", "when": "2018-04-25T10:42:42Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(enndeakin@gmail.com)", "attachment_id": 8970789, "added": "review+"}], "who": "enndeakin@gmail.com", "when": "2018-04-26T14:04:04Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(enndeakin@gmail.com)", "attachment_id": 8970790, "added": "review+"}], "who": "enndeakin@gmail.com", "when": "2018-04-26T14:04:34Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1456588"}], "who": "bgrinstead@mozilla.com", "when": "2018-04-26T15:13:29Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review+", "attachment_id": 8970789, "added": ""}, {"field_name": "flagtypes.name", "removed": "review+", "attachment_id": 8970790, "added": ""}], "who": "bgrinstead@mozilla.com", "when": "2018-04-26T15:44:58Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "bgrinstead@mozilla.com"}], "who": "bgrinstead@mozilla.com", "when": "2018-04-26T15:55:34Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla61"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-04-27 10:08:50"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "csabou@mozilla.com", "when": "2018-04-27T10:08:50Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}