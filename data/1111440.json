{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "dbaron@dbaron.org", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-05-13T00:37:27Z", "type_id": 4, "creation_date": "2016-05-11T23:56:07Z", "id": 1392589, "setter": "cam@mcc.id.au"}], "content_type": "text/plain", "id": 8751517}, {"creator": "dbaron@dbaron.org", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-05-14T05:17:34Z", "type_id": 4, "creation_date": "2016-05-13T21:53:53Z", "id": 1393934, "setter": "cam@mcc.id.au"}], "content_type": "text/plain", "id": 8752374}], "classification": "Components", "creator": "cam@mcc.id.au", "cc": ["cam@mcc.id.au", "richard.marti@gmail.com", "siqinbilige@gmail.com"], "depends_on": [649142, 1118103, 1138384, 1272606, 1272608], "creation_time": "2014-12-15T04:26:25Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "convert all in-tree style sheets logical properties from -moz-padding-start etc. to padding-inline-start etc.", "id": 1111440, "assigned_to_detail": {"email": "dbaron@dbaron.org", "id": 3881, "name": "dbaron@dbaron.org", "real_name": "David Baron :dbaron: \u231a\ufe0fUTC-8"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "dbaron@dbaron.org", "comment_count": 17, "comments": [{"text": "Once we've added the new padding-inline-start etc. logical properties, we can change all occurrences of the old, prefixed ones in the tree to the new names.  (The old names will remain as aliases for the new names.)", "author": "cam@mcc.id.au", "id": 9692804, "time": "2014-12-15T04:26:25Z"}, {"text": "Well, the new logical properties are going to go behind a pref to begin with, so unless we enable them unconditionally in UA style sheets, we should wait until we're ready to enable the pref before converting everything in the tree.", "author": "cam@mcc.id.au", "id": 9725976, "time": "2014-12-23T05:02:55Z"}, {"text": "We shipped these logical properties in bug 1118103 / bug 1138384, so we can do this now.", "author": "dbaron@dbaron.org", "id": 11200617, "time": "2016-02-27T02:26:22Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=655c964f69e0&group_state=expanded", "author": "dbaron@dbaron.org", "id": 11401858, "time": "2016-05-11T22:23:31Z"}, {"text": "Created attachment 8751517\nReplace -moz- prefixed logical margin/padding/border properties with their standard versions\n\nThis patch was generated by the command:\n  find . -name \"*.css\" -exec sed -i -f mozpropsub {} \\;\nin the root of a mozilla-central tree, with the file mozpropsub\ncontaining the contents:\ns/-moz-padding-end\\>/padding-inline-end/g\ns/-moz-padding-start\\>/padding-inline-start/g\ns/-moz-margin-end\\>/margin-inline-end/g\ns/-moz-margin-start\\>/margin-inline-start/g\ns/-moz-border-end\\>/border-inline-end/g\ns/-moz-border-end-color\\>/border-inline-end-color/g\ns/-moz-border-end-style\\>/border-inline-end-style/g\ns/-moz-border-end-width\\>/border-inline-end-width/g\ns/-moz-border-start\\>/border-inline-start/g\ns/-moz-border-start-color\\>/border-inline-start-color/g\ns/-moz-border-start-style\\>/border-inline-start-style/g\ns/-moz-border-start-width\\>/border-inline-start-width/g\n\nWhile I didn't manually review all the changes, I did review the list of\nfiles, and manually reviewed the changes in the files that I thought\nwere more interesting.\n\nNote that there are a few tests that should be fixed up as well, but\nI'll do that in a later patch.\n\nMozReview-Commit-ID: EiQTuuV0MNQ", "author": "dbaron@dbaron.org", "id": 11402045, "time": "2016-05-11T23:56:07Z"}, {"text": "Comment on attachment 8751517\nReplace -moz- prefixed logical margin/padding/border properties with their standard versions\n\nReview of attachment 8751517:\n-----------------------------------------------------------------\n\nI skimmed through the changed lines, and the sed script looks good.\n\n::: browser/themes/shared/incontentprefs/preferences.inc.css\n@@ +255,5 @@\n>  #weavePrefsDeck > vbox > #pairDevice > label,\n>  #weavePrefsDeck > #needsUpdate > hbox > #loginError,\n>  #weavePrefsDeck > #hasFxaAccount > vbox > label,\n>  #weavePrefsDeck > #hasFxaAccount > hbox:not(#tosPP-normal) > label {\n>    /* no margin-start for elements at the begin of a line */\n\ns/margin-start/margin-inline-start/ in the comment, and then s/begin/beginning/ while you're there.", "author": "cam@mcc.id.au", "id": 11405760, "time": "2016-05-13T00:37:27Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/e56017a57ea7b6068766a825698077451ab78710\nBug 1111440 - Replace -moz- prefixed logical margin/padding/border properties with their standard versions.  r=heycam\n\nhttps://hg.mozilla.org/integration/fx-team/rev/943ca7ad1ea35e01a6ba6bfa0a4f3896f1150e15\nBug 1111440 - Manual comment changes along with replacing -moz- prefixed logical margin/padding/border properties with their standard versions.  r=heycam", "author": "dbaron@dbaron.org", "id": 11406107, "time": "2016-05-13T05:20:21Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/e56017a57ea7\nhttps://hg.mozilla.org/mozilla-central/rev/943ca7ad1ea3", "author": "cbook@mozilla.com", "id": 11406602, "time": "2016-05-13T10:03:42Z"}, {"text": "Created attachment 8752374\nReplace rest of -moz-/Moz prefixed logical margin/padding/border properties with their standard versions\n\nThis patch was generated by the command:\n  find ??* -type f -exec sed -i -f ../mozpropsub {} \\;\nin the root of the repository, with the file ../mozpropsub containing:\ns/-moz-padding-end\\>/padding-inline-end/g\ns/-moz-padding-start\\>/padding-inline-start/g\ns/-moz-margin-end\\>/margin-inline-end/g\ns/-moz-margin-start\\>/margin-inline-start/g\ns/-moz-border-end\\>/border-inline-end/g\ns/-moz-border-end-color\\>/border-inline-end-color/g\ns/-moz-border-end-style\\>/border-inline-end-style/g\ns/-moz-border-end-width\\>/border-inline-end-width/g\ns/-moz-border-start\\>/border-inline-start/g\ns/-moz-border-start-color\\>/border-inline-start-color/g\ns/-moz-border-start-style\\>/border-inline-start-style/g\ns/-moz-border-start-width\\>/border-inline-start-width/g\ns/\\<MozPaddingEnd\\>/paddingInlineEnd/g\ns/\\<MozPaddingStart\\>/paddingInlineStart/g\ns/\\<MozMarginEnd\\>/marginInlineEnd/g\ns/\\<MozMarginStart\\>/marginInlineStart/g\ns/\\<MozBorderEnd\\>/borderInlineEnd/g\ns/\\<MozBorderEndColor\\>/borderInlineEndColor/g\ns/\\<MozBorderEndStyle\\>/borderInlineEndStyle/g\ns/\\<MozBorderEndWidth\\>/borderInlineEndWidth/g\ns/\\<MozBorderStart\\>/borderInlineStart/g\ns/\\<MozBorderStartColor\\>/borderInlineStartColor/g\ns/\\<MozBorderStartStyle\\>/borderInlineStartStyle/g\ns/\\<MozBorderStartWidth\\>/borderInlineStartWidth/g\n\nThe diffs for the following files:\n  layout/style/nsCSSPropAliasList.h\n  layout/style/test/property_database.js\n  layout/style/test/test_value_computation.html\nwere then manually removed from the patch.\n\nMozReview-Commit-ID: 8fbYnlZcn9U", "author": "dbaron@dbaron.org", "id": 11408540, "time": "2016-05-13T21:53:30Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=8a3c5bd665af&group_state=expanded", "author": "dbaron@dbaron.org", "id": 11408923, "time": "2016-05-14T02:29:45Z"}, {"text": "Comment on attachment 8752374\nReplace rest of -moz-/Moz prefixed logical margin/padding/border properties with their standard versions\n\nReview of attachment 8752374:\n-----------------------------------------------------------------\n\n> find ??* -type f -exec sed -i -f ../mozpropsub {} \\;\n\nWas the \"??*\" to deliberately skip db/ and js/?\n\nI'm a bit wary of changing fuzzer-created tests like layout/generic/crashtests/767765.html, which might well be relying on that specific content.  Maybe skip that one?\n\n::: devtools/client/shared/widgets/AbstractTreeItem.jsm\n@@ +48,5 @@\n>   *     node.appendChild(arrowNode);\n>   *     ...\n>   *     // Use `this.itemDataSrc` to customize the tree item and\n>   *     // `this.level` to calculate the indentation.\n> + *     node.marginInlineStart = (this.level * 10) + \"px\";\n\nThis comment line looks wrong.  If you care to, can you (in a separate patch) make that read \"node.style.marginLineStart\"?", "author": "cam@mcc.id.au", "id": 11408990, "time": "2016-05-14T05:17:34Z"}, {"text": "(In reply to Cameron McCormack (:heycam) from comment #10)\n> Was the \"??*\" to deliberately skip db/ and js/?\n\nEr, that was just silly.  It doesn't skip db and js.  But \".??*\" is a trick to skip \".\" and \"..\"; \"*\" would have been fine; I just needed to use \"*\" rather than \".\" to avoid .hg.\n\n> I'm a bit wary of changing fuzzer-created tests like\n> layout/generic/crashtests/767765.html, which might well be relying on that\n> specific content.  Maybe skip that one?\n\nI'd rather make the change; if it relied on the property being set, it will break when we remove it.\n\n> This comment line looks wrong.  If you care to, can you (in a separate\n> patch) make that read \"node.style.marginLineStart\"?\n\nI'll look at this more closely in the morning.", "author": "dbaron@dbaron.org", "id": 11409005, "time": "2016-05-14T06:07:43Z"}, {"text": "(In particular, the odd thing about the last comment is that devtools/client/performance/test/helpers/synth-utils.js , which is not in a comment, has the same issue.)", "author": "dbaron@dbaron.org", "id": 11409017, "time": "2016-05-14T06:45:29Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/cdc7ecf62c5df89e32ed69a5a17e4fd89ee22170\nBug 1111440 - Replace rest of -moz-/Moz prefixed logical margin/padding/border properties with their standard versions.  r=heycam", "author": "dbaron@dbaron.org", "id": 11409021, "time": "2016-05-14T07:00:42Z"}, {"text": "(In reply to David Baron [:dbaron] \u231a\ufe0fUTC-7 (review requests must explain patch) from comment #11)\n> I'd rather make the change; if it relied on the property being set, it will\n> break when we remove it.\n\nOK.  I guess it won't break, but will just continue not to crash.  (When I said \"relying on that specific content\" I meant more that before the fix, we might have been crashing due to e.g. particular document content lengths.  But you are right that once we remove the alias, we might make the crashtest no longer test the thing it was testing originally, but in a different way from the change due to switching to the official property name now.)", "author": "cam@mcc.id.au", "id": 11409023, "time": "2016-05-14T07:04:31Z"}, {"text": "Rather than just land a second patch, I moved that issue to bug 1272857 to get proper feedback on it.", "author": "dbaron@dbaron.org", "id": 11409024, "time": "2016-05-14T07:05:16Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/cdc7ecf62c5d", "author": "philringnalda@gmail.com", "id": 11409471, "time": "2016-05-15T01:25:36Z"}], "cf_last_resolved": "2016-05-15T01:25:36Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2016-05-15T01:25:36Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [1272136, 1272664, 1272921], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Layout", "votes": 0, "groups": [], "cf_status_firefox60": "---", "target_milestone": "mozilla49", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "cam@mcc.id.au", "id": 54040, "name": "cam@mcc.id.au", "real_name": "Cameron McCormack (:heycam) (away for the moment)"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "cam@mcc.id.au", "id": 54040, "name": "cam@mcc.id.au", "real_name": "Cameron McCormack (:heycam) (away for the moment)"}, {"email": "richard.marti@gmail.com", "id": 282357, "name": "richard.marti@gmail.com", "real_name": "Richard Marti (:Paenglab)"}, {"email": "siqinbilige@gmail.com", "id": 512533, "name": "siqinbilige@gmail.com", "real_name": ""}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "siqinbilige@gmail.com"}], "who": "siqinbilige@gmail.com", "when": "2014-12-15T05:31:20Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "richard.marti@gmail.com"}], "who": "richard.marti@gmail.com", "when": "2014-12-15T05:52:09Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1118103, 1138384"}], "who": "dbaron@dbaron.org", "when": "2016-05-11T21:03:25Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1272136"}], "who": "dbaron@dbaron.org", "when": "2016-05-11T21:04:49Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "dbaron@dbaron.org"}], "who": "dbaron@dbaron.org", "when": "2016-05-11T22:09:58Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8751517, "added": "review?(cam@mcc.id.au)"}, {"removed": "", "field_name": "cc", "added": "cam@mcc.id.au"}], "who": "dbaron@dbaron.org", "when": "2016-05-11T23:56:07Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(cam@mcc.id.au)", "attachment_id": 8751517, "added": "review+"}], "who": "cam@mcc.id.au", "when": "2016-05-13T00:37:27Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "leave-open"}], "who": "dbaron@dbaron.org", "when": "2016-05-13T05:21:15Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1272608"}], "who": "aleth@instantbird.org", "when": "2016-05-13T11:54:37Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1272606"}], "who": "aleth@instantbird.org", "when": "2016-05-13T11:54:52Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1272664"}], "who": "standard8@mozilla.com", "when": "2016-05-13T13:47:51Z"}, {"changes": [{"removed": "leave-open", "field_name": "keywords", "added": ""}], "who": "dbaron@dbaron.org", "when": "2016-05-13T21:52:31Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8752374, "added": "review?(cam@mcc.id.au)"}], "who": "dbaron@dbaron.org", "when": "2016-05-13T21:53:53Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(cam@mcc.id.au)", "attachment_id": 8752374, "added": "review+"}], "who": "cam@mcc.id.au", "when": "2016-05-14T05:17:34Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1272921"}], "who": "stefanh@inbox.com", "when": "2016-05-14T23:25:54Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla49"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-05-15 01:25:36"}, {"removed": "---", "field_name": "cf_status_firefox49", "added": "fixed"}], "who": "philringnalda@gmail.com", "when": "2016-05-15T01:25:36Z"}], "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}