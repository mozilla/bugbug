{"cf_tracking_thunderbird_esr52": "---", "cf_tracking_firefox60": "---", "attachments": [{"creator": "mconca@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "image/png", "id": 8971650}], "cf_tracking_firefox62": "---", "creator": "nyet@nyet.org", "mentors_detail": [], "depends_on": [1370499], "cf_status_firefox_esr60": "---", "cf_user_story": "", "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "nyet@nyet.org"}], "who": "nyet@nyet.org", "when": "2018-03-24T02:05:47Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1370499"}], "who": "nyet@nyet.org", "when": "2018-03-24T02:07:18Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jwhitlock@mozilla.com"}, {"removed": "API", "field_name": "component", "added": "Untriaged"}, {"removed": "developer.mozilla.org", "field_name": "product", "added": "Firefox"}], "who": "jwhitlock@mozilla.com", "when": "2018-03-26T16:03:07Z"}, {"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "NEW"}, {"removed": "", "field_name": "cc", "added": "ovidiu.boca@softvision.ro"}, {"removed": "Untriaged", "field_name": "component", "added": "WebExtensions: General"}, {"removed": "Firefox", "field_name": "product", "added": "Toolkit"}, {"removed": "0", "field_name": "is_confirmed", "added": "1"}], "who": "ovidiu.boca@softvision.ro", "when": "2018-03-28T11:47:43Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(nyet@nyet.org)"}], "who": "aswan@mozilla.com", "when": "2018-03-29T16:43:44Z"}, {"changes": [{"removed": "needinfo?(nyet@nyet.org)", "field_name": "flagtypes.name", "added": ""}], "who": "nyet@nyet.org", "when": "2018-03-29T17:18:44Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "aswan@mozilla.com"}, {"removed": "add contextMenu.create() context for LEFT click on bookmark folder", "field_name": "summary", "added": "add contextMenu.create() context for bookmarks folders in toolbar"}, {"removed": "[specification][type:feature]", "field_name": "whiteboard", "added": "design-decision-needed"}], "who": "aswan@mozilla.com", "when": "2018-03-29T19:58:34Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ntim.bugs@gmail.com"}, {"removed": "design-decision-needed", "field_name": "whiteboard", "added": "[design-decision-needed]"}], "who": "ntim.bugs@gmail.com", "when": "2018-04-08T10:12:57Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cneiman@mozilla.com"}], "who": "cneiman@mozilla.com", "when": "2018-05-04T15:22:04Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mixedpuppy@gmail.com"}], "who": "mixedpuppy@gmail.com", "when": "2018-05-07T14:27:24Z"}, {"changes": [{"removed": "jwhitlock@mozilla.com", "field_name": "cc", "added": ""}], "who": "jwhitlock@mozilla.com", "when": "2018-05-07T14:29:34Z"}, {"changes": [{"removed": "[design-decision-needed]", "field_name": "whiteboard", "added": "[design-decision-approved]"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(mixedpuppy@gmail.com)"}], "who": "cneiman@mozilla.com", "when": "2018-05-08T18:07:57Z"}, {"changes": [{"removed": "needinfo?(mixedpuppy@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "mixedpuppy@gmail.com", "when": "2018-05-08T18:15:26Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P5"}, {"removed": "", "field_name": "cc", "added": "mconca@mozilla.com"}], "who": "mconca@mozilla.com", "when": "2018-05-08T20:59:26Z"}], "cf_tracking_firefox_relnote": "---", "platform": "All", "keywords": [], "cc_detail": [{"email": "aswan@mozilla.com", "id": 561655, "name": "aswan@mozilla.com", "real_name": "Andrew Swan [:aswan] (on PTO until 6/25)"}, {"email": "cneiman@mozilla.com", "id": 582971, "name": "cneiman@mozilla.com", "real_name": "Caitlin Neiman [:caitmuenster]"}, {"email": "mconca@mozilla.com", "id": 599100, "name": "mconca@mozilla.com", "real_name": "Mike Conca [:mconca] (Denver, CO, USA UTC-6)"}, {"email": "mixedpuppy@gmail.com", "id": 372685, "name": "mixedpuppy@gmail.com", "real_name": "Shane Caraveo (:mixedpuppy)"}, {"email": "ntim.bugs@gmail.com", "id": 445472, "name": "ntim.bugs@gmail.com", "real_name": "Tim Nguyen :ntim"}, {"email": "nyet@nyet.org", "id": 62355, "name": "nyet@nyet.org", "real_name": "Nye Liu"}, {"email": "ovidiu.boca@softvision.ro", "id": 551038, "name": "ovidiu.boca@softvision.ro", "real_name": "ovidiu boca[:Ovidiu]"}], "cf_last_resolved": null, "cf_tracking_firefox61": "---", "votes": 1, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 25, "comments": [{"text": "What problem would this feature solve?\n======================================\nTrying to override (or extend) Open all in Tabs functionality\n\n\n\nWho has this problem?\n=====================\nAll contributors to MDN\n\nHow do you know that the users identified above have this problem?\n==================================================================\nMany pre-quantum extensions relied on this. None of them work now.\n\nHow are the users identified above solving this problem now?\n============================================================\nThere is no solution. Currently the \"bookmark\" context only allows adding to the RIGHT click bookmark context menu.\n\nDo you have any suggestions for solving the problem? Please explain in detail.\n==============================================================================\nAdd a contextMenus.create() context to allow adding items to the LEFT click menu of bookmark folders.\n\nIs there anything else we should know?\n======================================", "author": "nyet@nyet.org", "id": 13153100, "time": "2018-03-24T02:05:26Z"}, {"text": "Sample addon that uses \"bookmarks\" context: note that it can only add items to the right click menu\n\nhttps://addons.mozilla.org/en-US/firefox/addon/replace-all-in-tabs/", "author": "nyet@nyet.org", "id": 13153103, "time": "2018-03-24T02:10:15Z"}, {"text": "I don't understand what you're requesting, we don't show context menus on a left-click", "author": "aswan@mozilla.com", "id": 13167027, "time": "2018-03-29T16:43:44Z"}, {"text": "I understand that; there seems to be no way to add (or override) anything on left click bookmarks. \"Open all in Tabs\" is technically a \"context\" type item, but is in LEFT click.\n\nI would like to override \"Open all in Tabs\" behavior, or add a new items that does something different; in this case, do not create new tabs, but load the bookmarks into existing tabs.\n\nThere used to be a (builtin) option to adjust that behavior of \"open all in tabs\" but it is gone. I would like to add it back.", "author": "nyet@nyet.org", "id": 13167164, "time": "2018-03-29T17:18:44Z"}, {"text": "The option was \"browser.tabs.LoadBookmarksInTabs\"\n\nThe very old behavior was to ALWAYS replace in tabs, then they added that option. All was good. Then they completely made \"new tabs\" the default and (sadly) *REMOVED* the about:config option.", "author": "nyet@nyet.org", "id": 13167170, "time": "2018-03-29T17:20:52Z"}, {"text": "Also, to complicate matters further, there is no way to really implement real bookmark launching because things like about:config etc. cannot be opened using tab.create() or .update()", "author": "nyet@nyet.org", "id": 13170200, "time": "2018-03-31T00:22:31Z"}, {"text": "Created attachment 8971650\nCapture.PNG\n\nAttached is an image showing the menu item being discussed.", "author": "mconca@mozilla.com", "id": 13238755, "time": "2018-04-27T17:32:05Z"}, {"text": "Hi Nye, this has been added to the agenda for the WebExtensions APIs triage on May 8. Would you be able to join us? \n\nHere\u2019s a quick overview of what to expect at the triage: \n\n* We normally spend 5 minutes per bug\n* The more information in the bug, the better\n* The goal of the triage is to give a general thumbs up or thumbs down on a proposal; we won't be going deep into implementation details\n\nRelevant Links: \n\n* Wiki for the meeting: https://wiki.mozilla.org/WebExtensions/Triage#Next_Meeting\n* Meeting agenda: https://docs.google.com/document/d/1TRkZ2u3GQXwlHpfP4-P_SXcwIwvlQz5Sm-C8I89Ya_o/edit#\n* Vision doc for WebExtensions: https://wiki.mozilla.org/WebExtensions/Vision", "author": "cneiman@mozilla.com", "id": 13254908, "time": "2018-05-04T15:22:04Z"}, {"text": "I think it's reasonable to make contexts: [\"bookmarks\"] apply to this menu as well.", "author": "ntim.bugs@gmail.com", "id": 13254967, "time": "2018-05-04T15:44:05Z"}, {"text": "Alternatively, this can be a different context type, like \"bookmarks-folder\".", "author": "ntim.bugs@gmail.com", "id": 13254969, "time": "2018-05-04T15:44:31Z"}, {"text": "Catlin: I can be at the meeting, depending on what time it is, I have a few other things on my calendar that day.\n\nTim: A different context type would be preferable because otherwise any new item will appear in both.\n\nAs an aside, if this feature is added, it would also be good to make sure that any addons using partially supported context type (depending on browser version) can be made to be compatible with both old and new browsers without making two versions of the addon.\n\nThanks!", "author": "nyet@nyet.org", "id": 13255237, "time": "2018-05-04T17:31:26Z"}, {"text": "Also note that since we are talking about LEFT click and not RIGHT click, the \"context\" in \"contextMenus\" (which generally means RIGHT click) is a misnomer, as opposed to the \"context\" option of create() itself.\n\nI do not if there is some sort of nomenclature consensus that would help clear up that confusion.", "author": "nyet@nyet.org", "id": 13257105, "time": "2018-05-06T19:54:06Z"}, {"text": "(In reply to Nye Liu from comment #4)\n> The option was \"browser.tabs.LoadBookmarksInTabs\"\n> \n> The very old behavior was to ALWAYS replace in tabs, then they added that\n> option. All was good. Then they completely made \"new tabs\" the default and\n> (sadly) *REMOVED* the about:config option.\n\nI don't understand this.   loadBookmarksInTabs is still in prefs and about:config.\n\n(In reply to Nye Liu from comment #11)\n> Also note that since we are talking about LEFT click and not RIGHT click,\n> the \"context\" in \"contextMenus\" (which generally means RIGHT click) is a\n> misnomer, as opposed to the \"context\" option of create() itself.\n\nI don't see anywhere that we make a distinction on right vs. left context clicks, we simply have context menus that are initiated by mouse button 2, which is probably dependent on OS settings (e.g. does RTL change the meaning of mouse button numbers).  Adding support for different context menus dependent on which mouse button is used would be subject to UX approval.  I don't see a need for this.\n\nSee https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n\n(In reply to Tim Nguyen :ntim (busy until May 25th) from comment #9)\n> Alternatively, this can be a different context type, like \"bookmarks-folder\".\n\nThis seems like the most straightforward approach, but that doesn't \"override\" existing context menus per comment 0.\n\nI think \"bookmarks\" should apply to both, \"bookmarks-folder\" applies only to folders.\n\nI'm not really clear what this bug is about.  Subject is clear, OP keeps talking about right click context.", "author": "mixedpuppy@gmail.com", "id": 13259628, "time": "2018-05-07T14:27:24Z"}, {"text": "Ahh, I understand now.  \n\nThis is a confusion between the context menu on a bookmark folder and the bookmark folder action which produces a menu (not a context menu).  The request here it to modify the (non-context) menu that clicking on the bookmark folder produces.", "author": "mixedpuppy@gmail.com", "id": 13259655, "time": "2018-05-07T14:40:10Z"}, {"text": "Sorry about the digression, but it is apropo to motivation:\n\n(In reply to Shane Caraveo (:mixedpuppy) from comment #12)\n> (In reply to Nye Liu from comment #4)\n> > The option was \"browser.tabs.LoadBookmarksInTabs\"\n> > \n> > The very old behavior was to ALWAYS replace in tabs, then they added that\n> > option. All was good. Then they completely made \"new tabs\" the default and\n> > (sadly) *REMOVED* the about:config option.\n> \n> I don't understand this.   loadBookmarksInTabs is still in prefs and\n> about:config.\n\nIt no longer does anything useful. It used to alter the \"Open all in tabs\" behavior between \"Open bookmarks in *new* tabs\" and \"Load bookmarks in *existing* tabs\".\n\n> The request\n> here it to modify the (non-context) menu that clicking on the bookmark folder\n> produces.\n\nYes!", "author": "nyet@nyet.org", "id": 13259884, "time": "2018-05-07T16:22:24Z"}, {"text": "(In reply to Nye Liu from comment #14)\n> Sorry about the digression, but it is apropo to motivation:\n> \n> (In reply to Shane Caraveo (:mixedpuppy) from comment #12)\n> > (In reply to Nye Liu from comment #4)\n> > > The option was \"browser.tabs.LoadBookmarksInTabs\"\n> > > \n> > > The very old behavior was to ALWAYS replace in tabs, then they added that\n> > > option. All was good. Then they completely made \"new tabs\" the default and\n> > > (sadly) *REMOVED* the about:config option.\n> > \n> > I don't understand this.   loadBookmarksInTabs is still in prefs and\n> > about:config.\n> \n> It no longer does anything useful. It used to alter the \"Open all in tabs\"\n> behavior between \"Open bookmarks in *new* tabs\" and \"Load bookmarks in\n> *existing* tabs\".\n\nThat doesn't look like the case.\n\nhttps://searchfox.org/mozilla-central/rev/b28b94dc81d60c6d9164315adbd4a5073526d372/browser/components/places/PlacesUIUtils.jsm#710\n\nSpecifically, if that pref is true it changes from \"current\" to \"tab\" which should cause new tabs to be created.  if this not working, open a new bug specifically for that.  A regression range would be nice also (see mozregression).", "author": "mixedpuppy@gmail.com", "id": 13259931, "time": "2018-05-07T16:39:44Z"}, {"text": "(In reply to Shane Caraveo (:mixedpuppy) from comment #15)\n> > It no longer does anything useful. It used to alter the \"Open all in tabs\"\n> > behavior between \"Open bookmarks in *new* tabs\" and \"Load bookmarks in\n> > *existing* tabs\".\n> \n> That doesn't look like the case.\n\nAFAIK it only affects loading single bookmarks, not the \"Load all in tabs\" item.", "author": "nyet@nyet.org", "id": 13259936, "time": "2018-05-07T16:41:17Z"}, {"text": "(In reply to Nye Liu from comment #16)\n> (In reply to Shane Caraveo (:mixedpuppy) from comment #15)\n> > > It no longer does anything useful. It used to alter the \"Open all in tabs\"\n> > > behavior between \"Open bookmarks in *new* tabs\" and \"Load bookmarks in\n> > > *existing* tabs\".\n> > \n> > That doesn't look like the case.\n> \n> AFAIK it only affects loading single bookmarks, not the \"Load all in tabs\"\n> item.\n\nIf it is a regression (and everything you said previously indicates that), then create a new bug.", "author": "mixedpuppy@gmail.com", "id": 13259949, "time": "2018-05-07T16:49:44Z"}, {"text": "It has been discussed to death, and unfortunately there is no resolution in sight, hence my addon :)\n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=411029\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=440093\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=683146", "author": "nyet@nyet.org", "id": 13260153, "time": "2018-05-07T17:54:47Z"}, {"text": "I should add, this behavior of loadBookmarksInTabs seems to be intentional, from what I gather from the threads (again, apologies for the digression).\n\nSee also bug 658774", "author": "nyet@nyet.org", "id": 13260157, "time": "2018-05-07T17:56:50Z"}, {"text": "In particular:\n\nBug 409122\nBug 395024", "author": "nyet@nyet.org", "id": 13260177, "time": "2018-05-07T18:03:42Z"}, {"text": "Looks like I was wrong, it was \"browser.tabs.loadFolderAndReplace\" that was removed, and not \"browser.tabs.LoadBookmarksInTabs\"", "author": "nyet@nyet.org", "id": 13260179, "time": "2018-05-07T18:05:02Z"}, {"text": "Conceptually we're good with some additional menu contexts (context in API terms[1]).  We have a number of design issues we have to go over in regards to the menu api so we'll add this as part of that discussion.  So while we're approving it at this level, it will still get considered/resolved as a part of the larger design conversation we're having.\n\n[1]https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/menus/ContextType", "author": "mixedpuppy@gmail.com", "id": 13263225, "time": "2018-05-08T18:15:26Z"}, {"text": "Nye, if there is an issue with the pref we've been discussion, please split that out from this bug which is about the menu system and not the behavior of that pref.", "author": "mixedpuppy@gmail.com", "id": 13263229, "time": "2018-05-08T18:16:46Z"}, {"text": "Shane, it looks like that horse left the barn years ago, and I don't want to fight over an ancient bug that is considered resolved by the design team. As long as web extensions allow developers to have the bookmark folder menu behave like they want, I don't see a reason to rock the boat and add cruft to mozilla itself.\n\nIf, on the other hand, you think the odds are good that I can convince everyone to resurrect LoadFolderAndReplace, let me know and I will reopen Bug 395024 or create a new bug to dispute it.\n\nAgain, apologies to all for the digression, I will let it go here.", "author": "nyet@nyet.org", "id": 13263394, "time": "2018-05-08T19:01:30Z"}], "id": 1448518, "priority": "P5", "cc": ["aswan@mozilla.com", "cneiman@mozilla.com", "mconca@mozilla.com", "mixedpuppy@gmail.com", "ntim.bugs@gmail.com", "nyet@nyet.org", "ovidiu.boca@softvision.ro"], "cf_crash_signature": "", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "status": "NEW", "product": "Toolkit", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2018-03-24T02:05:26Z", "cf_status_firefox_esr52": "---", "component": "WebExtensions: General", "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "enhancement", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "nyet@nyet.org", "id": 62355, "name": "nyet@nyet.org", "real_name": "Nye Liu"}, "whiteboard": "[design-decision-approved]", "mentors": [], "summary": "add contextMenu.create() context for bookmarks folders in toolbar", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-08T20:59:26Z", "assigned_to": "nobody@mozilla.org", "is_open": true, "cf_blocking_webextensions": "---", "resolution": "", "op_sys": "Other", "cf_fx_points": "---", "cf_blocking_fennec": "---"}