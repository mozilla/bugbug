{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "emilio@crisal.io", "mentors_detail": [], "depends_on": [1395112], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "cc_detail": [{"email": "jan@ikenmeyer.eu", "id": 580271, "name": "jan@ikenmeyer.eu", "real_name": "Jan Andre Ikenmeyer [:darkspirit]"}, {"email": "xidorn+moz@upsuper.org", "id": 373403, "name": "xidorn+moz@upsuper.org", "real_name": "Xidorn Quan [:xidorn] UTC+10"}], "cf_last_resolved": "2018-05-02T15:08:58Z", "attachments": [{"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-01T23:47:49Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750775, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972075}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-01T23:49:51Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750776, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972076}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-01T23:50:05Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750777, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972077}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-01T23:52:58Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750778, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972078}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-02T00:02:37Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750779, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972079}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-02T00:07:07Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750780, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972080}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-02T00:16:27Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750781, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972081}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-02T00:17:05Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750782, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972082}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-02T00:35:02Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750783, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972083}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-02T00:37:51Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750784, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972084}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-02T00:38:32Z", "type_id": 4, "creation_date": "2018-04-30T18:00:29Z", "id": 1750785, "setter": "xidorn+moz@upsuper.org"}], "content_type": "text/x-review-board-request", "id": 8972085}], "votes": 1, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 48, "comments": [{"text": "", "author": "emilio@crisal.io", "id": 13243368, "time": "2018-04-30T15:14:09Z"}, {"text": "Created attachment 8972075\nBug 1457920: Merge ServoStyleSheet and StyleSheet.\n\nThese are the most minimal changes I could make. More cleanups incoming.\n\nReview commit: https://reviewboard.mozilla.org/r/240798/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240798/", "author": "emilio@crisal.io", "id": 13243838, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972076\nBug 1457920: Remove FORWARD_INTERNAL.\n\nReview commit: https://reviewboard.mozilla.org/r/240800/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240800/", "author": "emilio@crisal.io", "id": 13243839, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972077\nBug 1457920: Remove EnabledStateChanged.\n\nReview commit: https://reviewboard.mozilla.org/r/240802/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240802/", "author": "emilio@crisal.io", "id": 13243840, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972078\nBug 1457920: Remove DidDirty.\n\nReview commit: https://reviewboard.mozilla.org/r/240804/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240804/", "author": "emilio@crisal.io", "id": 13243841, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972079\nBug 1457920: Remove StyleSheet::AsServo.\n\nReview commit: https://reviewboard.mozilla.org/r/240806/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240806/", "author": "emilio@crisal.io", "id": 13243842, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972080\nBug 1457920: Move stuff from ServoStyleSheet.cpp to StyleSheet.cpp.\n\nReview commit: https://reviewboard.mozilla.org/r/240808/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240808/", "author": "emilio@crisal.io", "id": 13243843, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972081\nBug 1457920: Remove ServoStyleSheet usage.\n\nReview commit: https://reviewboard.mozilla.org/r/240810/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240810/", "author": "emilio@crisal.io", "id": 13243844, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972082\nBug 1457920: Remove ServoStyleSheet.{h,cpp}.\n\nReview commit: https://reviewboard.mozilla.org/r/240812/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240812/", "author": "emilio@crisal.io", "id": 13243845, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972083\nBug 1457920: Trivially inline a bunch of methods that had no reason for not being inlined.\n\nReview commit: https://reviewboard.mozilla.org/r/240814/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240814/", "author": "emilio@crisal.io", "id": 13243846, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972084\nBug 1457920: Cleanup a useless argument in Loader.\n\nReview commit: https://reviewboard.mozilla.org/r/240816/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240816/", "author": "emilio@crisal.io", "id": 13243847, "time": "2018-04-30T18:00:29Z"}, {"text": "Created attachment 8972085\nBug 1457920: Loader::ParseSheet is not really fallible.\n\nReview commit: https://reviewboard.mozilla.org/r/240818/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240818/", "author": "emilio@crisal.io", "id": 13243848, "time": "2018-04-30T18:00:29Z"}, {"text": "Comment on attachment 8972075\nBug 1457920: Merge ServoStyleSheet and StyleSheet.\n\nhttps://reviewboard.mozilla.org/r/240798/#review246524\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 1)\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n> -  virtual ~StyleSheet();\n>  \n> +  virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13243860, "time": "2018-04-30T18:04:57Z"}, {"text": "Comment on attachment 8972077\nBug 1457920: Remove EnabledStateChanged.\n\nhttps://reviewboard.mozilla.org/r/240802/#review246526\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 1)\n>               StyleSheet* aParentToUse,\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n>  \n>    virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13243871, "time": "2018-04-30T18:08:07Z"}, {"text": "Comment on attachment 8972078\nBug 1457920: Remove DidDirty.\n\nhttps://reviewboard.mozilla.org/r/240804/#review246528\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 1)\n>               StyleSheet* aParentToUse,\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n>  \n>    virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13243878, "time": "2018-04-30T18:10:03Z"}, {"text": "Comment on attachment 8972079\nBug 1457920: Remove StyleSheet::AsServo.\n\nhttps://reviewboard.mozilla.org/r/240806/#review246532\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 1)\n>               StyleSheet* aParentToUse,\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n>  \n>    virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13243896, "time": "2018-04-30T18:14:14Z"}, {"text": "Comment on attachment 8972083\nBug 1457920: Trivially inline a bunch of methods that had no reason for not being inlined.\n\nhttps://reviewboard.mozilla.org/r/240814/#review246536\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 1)\n>               StyleSheet* aParentToUse,\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n>  \n>    virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13243923, "time": "2018-04-30T18:20:52Z"}, {"text": "Comment on attachment 8972075\nBug 1457920: Merge ServoStyleSheet and StyleSheet.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240798/diff/1-2/", "author": "emilio@crisal.io", "id": 13244161, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972076\nBug 1457920: Remove FORWARD_INTERNAL.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240800/diff/1-2/", "author": "emilio@crisal.io", "id": 13244162, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972077\nBug 1457920: Remove EnabledStateChanged.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240802/diff/1-2/", "author": "emilio@crisal.io", "id": 13244163, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972078\nBug 1457920: Remove DidDirty.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240804/diff/1-2/", "author": "emilio@crisal.io", "id": 13244164, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972079\nBug 1457920: Remove StyleSheet::AsServo.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240806/diff/1-2/", "author": "emilio@crisal.io", "id": 13244165, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972080\nBug 1457920: Move stuff from ServoStyleSheet.cpp to StyleSheet.cpp.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240808/diff/1-2/", "author": "emilio@crisal.io", "id": 13244166, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972081\nBug 1457920: Remove ServoStyleSheet usage.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240810/diff/1-2/", "author": "emilio@crisal.io", "id": 13244167, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972082\nBug 1457920: Remove ServoStyleSheet.{h,cpp}.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240812/diff/1-2/", "author": "emilio@crisal.io", "id": 13244168, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972083\nBug 1457920: Trivially inline a bunch of methods that had no reason for not being inlined.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240814/diff/1-2/", "author": "emilio@crisal.io", "id": 13244169, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972084\nBug 1457920: Cleanup a useless argument in Loader.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240816/diff/1-2/", "author": "emilio@crisal.io", "id": 13244170, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972085\nBug 1457920: Loader::ParseSheet is not really fallible.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240818/diff/1-2/", "author": "emilio@crisal.io", "id": 13244171, "time": "2018-04-30T19:54:05Z"}, {"text": "Comment on attachment 8972075\nBug 1457920: Merge ServoStyleSheet and StyleSheet.\n\nhttps://reviewboard.mozilla.org/r/240798/#review246578\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 2)\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n> -  virtual ~StyleSheet();\n>  \n> +  virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13244582, "time": "2018-04-30T20:16:21Z"}, {"text": "Comment on attachment 8972077\nBug 1457920: Remove EnabledStateChanged.\n\nhttps://reviewboard.mozilla.org/r/240802/#review246580\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 2)\n>               StyleSheet* aParentToUse,\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n>  \n>    virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13244590, "time": "2018-04-30T20:20:18Z"}, {"text": "Comment on attachment 8972078\nBug 1457920: Remove DidDirty.\n\nhttps://reviewboard.mozilla.org/r/240804/#review246582\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 2)\n>               StyleSheet* aParentToUse,\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n>  \n>    virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13244595, "time": "2018-04-30T20:22:20Z"}, {"text": "Comment on attachment 8972079\nBug 1457920: Remove StyleSheet::AsServo.\n\nhttps://reviewboard.mozilla.org/r/240806/#review246586\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 2)\n>               StyleSheet* aParentToUse,\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n>  \n>    virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13244609, "time": "2018-04-30T20:26:06Z"}, {"text": "Comment on attachment 8972083\nBug 1457920: Trivially inline a bunch of methods that had no reason for not being inlined.\n\nhttps://reviewboard.mozilla.org/r/240814/#review246588\n\n\nCode analysis found 1 defect in this patch:\n - 1 defect found by mozlint\n\nYou can run this analysis locally with:\n - `./mach lint path/to/file` (JS/Python)\n\n\nIf you see a problem in this automated review, please report it here: http://bit.ly/2y9N9Vx\n\n\n::: layout/style/StyleSheet.h:64\n(Diff revision 2)\n>               StyleSheet* aParentToUse,\n>               dom::CSSImportRule* aOwnerRuleToUse,\n>               nsIDocument* aDocumentToUse,\n>               nsINode* aOwningNodeToUse);\n>  \n>    virtual ~StyleSheet() final;\n\nWarning: Virtual function declarations should specify only one of `virtual`, `final`, or `override` [cpp-virtual-final]", "author": "jkeromnes+clangbot@mozilla.com", "id": 13244623, "time": "2018-04-30T20:32:32Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=d356d330e463094613d2767c85b4ffff4ebfbf9f", "author": "emilio@crisal.io", "id": 13245148, "time": "2018-05-01T00:32:45Z"}, {"text": "Comment on attachment 8972075\nBug 1457920: Merge ServoStyleSheet and StyleSheet.\n\nhttps://reviewboard.mozilla.org/r/240798/#review246644\n\n::: layout/style/StyleSheetInfo.h:48\n(Diff revision 2)\n> +  // FIXME(emilio): most of this struct should be const, then we can remove the\n> +  // UrlExtraData member and such.\n\nI think the direction is the reverse, actually. We need to pass in `URLExtraData` for parsing, and some value needs to hold that struct, so we probably want to remove the URI member rather than the `URLExtraData` member, unless you want everything which is currently holding `URLExtraData` to instead hold three separate refcounted objects.", "author": "xidorn+moz@upsuper.org", "id": 13247462, "time": "2018-05-01T23:47:49Z"}, {"text": "Comment on attachment 8972076\nBug 1457920: Remove FORWARD_INTERNAL.\n\nhttps://reviewboard.mozilla.org/r/240800/#review246852\n\n::: layout/style/StyleSheet.cpp:468\n(Diff revision 2)\n>                          ErrorResult& aRv)\n>  {\n>    if (!AreRulesAvailable(aSubjectPrincipal, aRv)) {\n>      return nullptr;\n>    }\n> -  FORWARD_INTERNAL(GetCssRulesInternal, ())\n> +  return GetCssRulesInternal();\n\nI guess we should probably merge the internal functions into these directly.", "author": "xidorn+moz@upsuper.org", "id": 13247465, "time": "2018-05-01T23:49:51Z"}, {"text": "Comment on attachment 8972077\nBug 1457920: Remove EnabledStateChanged.\n\nhttps://reviewboard.mozilla.org/r/240802/#review246854", "author": "xidorn+moz@upsuper.org", "id": 13247466, "time": "2018-05-01T23:50:05Z"}, {"text": "Comment on attachment 8972078\nBug 1457920: Remove DidDirty.\n\nhttps://reviewboard.mozilla.org/r/240804/#review246856", "author": "xidorn+moz@upsuper.org", "id": 13247472, "time": "2018-05-01T23:52:58Z"}, {"text": "Comment on attachment 8972079\nBug 1457920: Remove StyleSheet::AsServo.\n\nhttps://reviewboard.mozilla.org/r/240806/#review246858", "author": "xidorn+moz@upsuper.org", "id": 13247480, "time": "2018-05-02T00:02:37Z"}, {"text": "Comment on attachment 8972080\nBug 1457920: Move stuff from ServoStyleSheet.cpp to StyleSheet.cpp.\n\nhttps://reviewboard.mozilla.org/r/240808/#review246860", "author": "xidorn+moz@upsuper.org", "id": 13247486, "time": "2018-05-02T00:07:07Z"}, {"text": "Comment on attachment 8972081\nBug 1457920: Remove ServoStyleSheet usage.\n\nhttps://reviewboard.mozilla.org/r/240810/#review246862", "author": "xidorn+moz@upsuper.org", "id": 13247488, "time": "2018-05-02T00:16:27Z"}, {"text": "Comment on attachment 8972082\nBug 1457920: Remove ServoStyleSheet.{h,cpp}.\n\nhttps://reviewboard.mozilla.org/r/240812/#review246864", "author": "xidorn+moz@upsuper.org", "id": 13247489, "time": "2018-05-02T00:17:05Z"}, {"text": "Comment on attachment 8972083\nBug 1457920: Trivially inline a bunch of methods that had no reason for not being inlined.\n\nhttps://reviewboard.mozilla.org/r/240814/#review246866\n\n::: layout/style/StyleSheet.h\n(Diff revision 2)\n> -  nsINode* GetOwnerNode() const { return mOwningNode; }\n> -  inline StyleSheet* GetParentSheet() const { return mParent; }\n>  \n> +  nsINode* GetOwnerNode() const\n> +  {\n> +    return mOwningNode;\n> +  }\n> +\n> +  StyleSheet* GetParentSheet() const\n> +  {\n> +    return mParent;\n> +  }\n\nI believe we have code style guidelines which explicitly allow single line method definition inside class definitions. That's more compact and shouldn't affect readability, so it is unnecessary to expand it.\n\n::: layout/style/StyleSheet.cpp:10\n(Diff revision 2)\n>   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n>  \n>  #include \"mozilla/StyleSheet.h\"\n>  \n>  #include \"mozilla/ComputedStyleInlines.h\"\n> +#include \"mozilla/css/ErrorReporter.h\"\n\nIt's not clear to me why do you need to add this include. It doesn't seem to me there is any change here requires this.\n\n::: layout/style/StyleSheet.cpp:20\n(Diff revision 2)\n>  #include \"mozilla/dom/MediaList.h\"\n>  #include \"mozilla/dom/ShadowRoot.h\"\n>  #include \"mozilla/dom/ShadowRootBinding.h\"\n>  #include \"mozilla/ServoCSSRuleList.h\"\n>  #include \"mozilla/ServoStyleSet.h\"\n> +#include \"mozilla/StaticPrefs.h\"\n\nDitto.", "author": "xidorn+moz@upsuper.org", "id": 13247499, "time": "2018-05-02T00:35:02Z"}, {"text": "Comment on attachment 8972084\nBug 1457920: Cleanup a useless argument in Loader.\n\nhttps://reviewboard.mozilla.org/r/240816/#review246868", "author": "xidorn+moz@upsuper.org", "id": 13247503, "time": "2018-05-02T00:37:51Z"}, {"text": "Comment on attachment 8972085\nBug 1457920: Loader::ParseSheet is not really fallible.\n\nhttps://reviewboard.mozilla.org/r/240818/#review246870", "author": "xidorn+moz@upsuper.org", "id": 13247504, "time": "2018-05-02T00:38:32Z"}, {"text": "Pushed by ecoal95@gmail.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/e7b20e0b6727\nMerge ServoStyleSheet and StyleSheet. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/eebbf9fbebc7\nRemove FORWARD_INTERNAL. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/844f6c4c9356\nRemove EnabledStateChanged. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/424b39cb6769\nRemove DidDirty. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/39788dcbd008\nRemove StyleSheet::AsServo. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/7d3b204b45dc\nMove stuff from ServoStyleSheet.cpp to StyleSheet.cpp. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/04bb8bf9a707\nRemove ServoStyleSheet usage. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/174b29e05978\nRemove ServoStyleSheet.{h,cpp}. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/2de7dbfe200c\nTrivially inline a bunch of methods that had no reason for not being inlined. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/af58b003b734\nCleanup a useless argument in Loader. r=xidorn\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/f823923df3e6\nLoader::ParseSheet is not really fallible. r=xidorn", "author": "pulsebot@bots.tld", "id": 13247588, "time": "2018-05-02T02:14:38Z"}, {"text": "(In reply to Xidorn Quan [:xidorn] UTC+10 from comment #34)\n> Comment on attachment 8972075\n> Bug 1457920: Merge ServoStyleSheet and StyleSheet.\n> \n> https://reviewboard.mozilla.org/r/240798/#review246644\n> \n> ::: layout/style/StyleSheetInfo.h:48\n> (Diff revision 2)\n> > +  // FIXME(emilio): most of this struct should be const, then we can remove the\n> > +  // UrlExtraData member and such.\n> \n> I think the direction is the reverse, actually. We need to pass in\n> `URLExtraData` for parsing, and some value needs to hold that struct, so we\n> probably want to remove the URI member rather than the `URLExtraData`\n> member, unless you want everything which is currently holding `URLExtraData`\n> to instead hold three separate refcounted objects.\n\nYeah, agreed, reworded.\n\n(In reply to Xidorn Quan [:xidorn] UTC+10 from comment #42)\n> Comment on attachment 8972083\n> Bug 1457920: Trivially inline a bunch of methods that had no reason for not\n> being inlined.\n> \n> https://reviewboard.mozilla.org/r/240814/#review246866\n> \n> ::: layout/style/StyleSheet.h\n> (Diff revision 2)\n> > -  nsINode* GetOwnerNode() const { return mOwningNode; }\n> > -  inline StyleSheet* GetParentSheet() const { return mParent; }\n> >  \n> > +  nsINode* GetOwnerNode() const\n> > +  {\n> > +    return mOwningNode;\n> > +  }\n> > +\n> > +  StyleSheet* GetParentSheet() const\n> > +  {\n> > +    return mParent;\n> > +  }\n> \n> I believe we have code style guidelines which explicitly allow single line\n> method definition inside class definitions. That's more compact and\n> shouldn't affect readability, so it is unnecessary to expand it.\n> \n> ::: layout/style/StyleSheet.cpp:10\n> (Diff revision 2)\n> >   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n> >  \n> >  #include \"mozilla/StyleSheet.h\"\n> >  \n> >  #include \"mozilla/ComputedStyleInlines.h\"\n> > +#include \"mozilla/css/ErrorReporter.h\"\n> \n> It's not clear to me why do you need to add this include. It doesn't seem to\n> me there is any change here requires this.\n> \n> ::: layout/style/StyleSheet.cpp:20\n> (Diff revision 2)\n> >  #include \"mozilla/dom/MediaList.h\"\n> >  #include \"mozilla/dom/ShadowRoot.h\"\n> >  #include \"mozilla/dom/ShadowRootBinding.h\"\n> >  #include \"mozilla/ServoCSSRuleList.h\"\n> >  #include \"mozilla/ServoStyleSet.h\"\n> > +#include \"mozilla/StaticPrefs.h\"\n> \n> Ditto.\n\nThese are unified build bustage from removing the header / cpp files. I'll move them to the appropriate commit.", "author": "emilio@crisal.io", "id": 13247591, "time": "2018-05-02T02:15:49Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/e7b20e0b6727\nhttps://hg.mozilla.org/mozilla-central/rev/eebbf9fbebc7\nhttps://hg.mozilla.org/mozilla-central/rev/844f6c4c9356\nhttps://hg.mozilla.org/mozilla-central/rev/424b39cb6769\nhttps://hg.mozilla.org/mozilla-central/rev/39788dcbd008\nhttps://hg.mozilla.org/mozilla-central/rev/7d3b204b45dc\nhttps://hg.mozilla.org/mozilla-central/rev/04bb8bf9a707\nhttps://hg.mozilla.org/mozilla-central/rev/174b29e05978\nhttps://hg.mozilla.org/mozilla-central/rev/2de7dbfe200c\nhttps://hg.mozilla.org/mozilla-central/rev/af58b003b734\nhttps://hg.mozilla.org/mozilla-central/rev/f823923df3e6", "author": "csabou@mozilla.com", "id": 13249017, "time": "2018-05-02T15:08:58Z"}], "id": 1457920, "priority": "--", "cc": ["jan@ikenmeyer.eu", "xidorn+moz@upsuper.org"], "cf_crash_signature": "", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2018-04-30T15:14:09Z", "cf_status_firefox_esr52": "---", "component": "CSS Parsing and Computation", "assigned_to_detail": {"email": "emilio@crisal.io", "id": 546716, "name": "emilio@crisal.io", "real_name": "Emilio Cobos \u00c1lvarez [:emilio]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "fixed", "cf_status_firefox60": "---", "target_milestone": "mozilla61", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "emilio@crisal.io", "id": 546716, "name": "emilio@crisal.io", "real_name": "Emilio Cobos \u00c1lvarez [:emilio]"}, "whiteboard": "", "mentors": [], "summary": "Merge ServoStyleSheet and StyleSheet.", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-02T15:08:58Z", "assigned_to": "emilio@crisal.io", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "jan@ikenmeyer.eu"}], "who": "jan@ikenmeyer.eu", "when": "2018-04-30T15:15:41Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "xidorn+moz@upsuper.org"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972075, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972076, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972077, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972078, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972079, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972080, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972081, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972082, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972083, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972084, "added": "review?(xidorn+moz@upsuper.org)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972085, "added": "review?(xidorn+moz@upsuper.org)"}], "who": "emilio@crisal.io", "when": "2018-04-30T18:00:29Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972075, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-01T23:47:49Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972076, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-01T23:49:51Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972077, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-01T23:50:05Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972078, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-01T23:52:58Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972079, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-02T00:02:37Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972080, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-02T00:07:07Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972081, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-02T00:16:27Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972082, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-02T00:17:05Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972083, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-02T00:35:02Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972084, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-02T00:37:51Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(xidorn+moz@upsuper.org)", "attachment_id": 8972085, "added": "review+"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-02T00:38:32Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla61"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-02 15:08:58"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "csabou@mozilla.com", "when": "2018-05-02T15:08:58Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}