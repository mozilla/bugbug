{"cf_tracking_thunderbird_esr52": "---", "status": "VERIFIED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "nsm.nikhil@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2015-09-01T21:54:18Z", "type_id": 4, "creation_date": "2015-08-31T20:35:57Z", "id": 1243113, "setter": "william@fastmail.com"}, {"status": "+", "name": "approval-mozilla-aurora", "modification_date": "2015-09-09T20:15:56Z", "type_id": 720, "creation_date": "2015-09-08T16:28:11Z", "id": 1247989, "setter": "sledru@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8655037}, {"creator": "nsm.nikhil@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2015-09-01T22:11:19Z", "type_id": 4, "creation_date": "2015-09-01T20:18:26Z", "id": 1243961, "setter": "william@fastmail.com"}, {"status": "+", "name": "approval-mozilla-aurora", "modification_date": "2015-09-09T20:15:49Z", "type_id": 720, "creation_date": "2015-09-08T16:27:52Z", "id": 1247988, "setter": "sledru@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8655625}], "classification": "Components", "creator": "ananuti@gmail.com", "mentors_detail": [], "depends_on": [], "cf_has_str": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": ["crash"], "summary": "shutdown crash in nsIPrincipal::GetAppStatus()", "cf_last_resolved": "2015-09-03T11:19:27Z", "votes": 0, "severity": "critical", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 20, "comments": [{"text": "This bug was filed from the Socorro interface and is \nreport bp-df7870a8-9fc8-4a39-9aea-fd2e02150829.\n=============================================================\n\nSTR\n1. Open Gmail & enable desktop notifications.\n2. Close firefox when new mail notification show on the bottom right.\n\n\n[Tracking Requested - why for this release]: crash, this will get annoying for users if close firefox on notification.", "author": "ananuti@gmail.com", "id": 10673916, "time": "2015-08-29T08:13:48Z"}, {"text": "Created attachment 8655037\nMozReview Request: Bug 1199901 - Clear mObserver when WorkerNotificationObserver is destroyed. r?wchen\n\nBug 1199901 - Clear mObserver when WorkerNotificationObserver is destroyed. r?wchen", "author": "nsm.nikhil@gmail.com", "id": 10679109, "time": "2015-08-31T20:35:57Z"}, {"text": "The patch doesn't look related to the crash. Is this the right patch or can you explain why this solves the problem?", "author": "william@fastmail.com", "id": 10680449, "time": "2015-09-01T02:34:49Z"}, {"text": "(In reply to William Chen [:wchen] from comment #2)\n> The patch doesn't look related to the crash. Is this the right patch or can\n> you explain why this solves the problem?\n\nSorry, I completely forgot about patch 2. I'll have that up in some time. This patch is for another bug I noticed on Linux that is triggered by the same STR, so please review this too. This one is caused because we fail to clear the mObserver when the observer goes away.", "author": "nsm.nikhil@gmail.com", "id": 10682950, "time": "2015-09-01T17:10:06Z"}, {"text": "Comment on attachment 8655037\nMozReview Request: Bug 1199901 - Clear mObserver when WorkerNotificationObserver is destroyed. r?wchen\n\nBug 1199901 - Clear mObserver when WorkerNotificationObserver is destroyed. r?wchen", "author": "nsm.nikhil@gmail.com", "id": 10683793, "time": "2015-09-01T20:18:25Z"}, {"text": "Created attachment 8655625\nMozReview Request: Bug 1199901 - GetOrigin() fails cleanly instead of asserting principal. r?wchen\n\nBug 1199901 - GetOrigin() fails cleanly instead of asserting principal. r?wchen\n\nWhen we use the XUL based alerts and the main firefox window is closed, the XUL\nwindow still keeps the process running, but as the window closes it calls\nDisconnectFromOwner() on the Notification. Later, when the XUL alert closes\n(either due to timeout or due to script) attempts to get the principal can\nfail. This patch allows that to happen and will just skip deleting the\nNotification from persistent storage.", "author": "nsm.nikhil@gmail.com", "id": 10683794, "time": "2015-09-01T20:18:26Z"}, {"text": "Comment on attachment 8655037\nMozReview Request: Bug 1199901 - Clear mObserver when WorkerNotificationObserver is destroyed. r?wchen\n\nhttps://reviewboard.mozilla.org/r/17787/#review16079\n\nTrailing whitespace", "author": "william@fastmail.com", "id": 10684201, "time": "2015-09-01T21:54:18Z"}, {"text": "Comment on attachment 8655625\nMozReview Request: Bug 1199901 - GetOrigin() fails cleanly instead of asserting principal. r?wchen\n\nhttps://reviewboard.mozilla.org/r/17951/#review16085", "author": "william@fastmail.com", "id": 10684261, "time": "2015-09-01T22:11:19Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/7f7c010fd294\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/17a5de3b6eaa", "author": "pulsebot@bots.tld", "id": 10687466, "time": "2015-09-02T15:55:35Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/50fd13696678", "author": "pulsebot@bots.tld", "id": 10687536, "time": "2015-09-02T16:08:34Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/7f7c010fd294\nhttps://hg.mozilla.org/mozilla-central/rev/17a5de3b6eaa\nhttps://hg.mozilla.org/mozilla-central/rev/50fd13696678", "author": "cbook@mozilla.com", "id": 10691334, "time": "2015-09-03T11:19:27Z"}, {"text": "Do you want to request uplift to aurora for these patches? Are older version (41 for example) significantly affected? Thanks!", "author": "lhenry@mozilla.com", "id": 10697695, "time": "2015-09-04T17:26:15Z"}, {"text": "Forgot to needinfo you. Nikhil what do you think?", "author": "lhenry@mozilla.com", "id": 10697700, "time": "2015-09-04T17:26:56Z"}, {"text": "(In reply to Liz Henry (:lizzard) (needinfo? me) from comment #11)\n> Do you want to request uplift to aurora for these patches? Are older version\n> (41 for example) significantly affected? Thanks!\n\nSo the GetOrigin() failure was a main thread issue which means we may have already been shipping it for several releases (IIRC we have had notifications enabled for more than a year). Unless it is showing up in crash stats for older releases, I don't think it is worth uplifting.", "author": "nsm.nikhil@gmail.com", "id": 10697766, "time": "2015-09-04T17:40:05Z"}, {"text": "I can't reproduce in 41 and I don't see that 41 is affected from crash-stats.\nI guess it's regressed by bug 1114554 so this should be uplift to aurora, yes?", "author": "ananuti@gmail.com", "id": 10699408, "time": "2015-09-05T00:22:19Z"}, {"text": "Verified fixed in Nightly 9/4/2015.", "author": "ananuti@gmail.com", "id": 10699420, "time": "2015-09-05T00:23:50Z"}, {"text": "Comment on attachment 8655625\nMozReview Request: Bug 1199901 - GetOrigin() fails cleanly instead of asserting principal. r?wchen\n\nEkanan, you are right, Bug 1114554 caused this.\n\nApproval Request Comment\n[Feature/regressing bug #]: Bug 1114554\n[User impact if declined]: Crash when closing the browser while a Notification is open.\n[Describe test coverage new/current, TreeHerder]:\n[Risks and why]: No risk.\n[String/UUID change made/needed]: None.", "author": "nsm.nikhil@gmail.com", "id": 10705992, "time": "2015-09-08T16:27:52Z"}, {"text": "Comment on attachment 8655625\nMozReview Request: Bug 1199901 - GetOrigin() fails cleanly instead of asserting principal. r?wchen\n\nFix a crash, taking it.", "author": "sledru@mozilla.com", "id": 10712101, "time": "2015-09-09T20:15:49Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-aurora/rev/a04096cb27cc\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/77863b95e7d6\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/f37badf7f491", "author": "kwierso@gmail.com", "id": 10716832, "time": "2015-09-10T18:50:59Z"}, {"text": "Verified fixed in aurora 20150911004112.", "author": "ananuti@gmail.com", "id": 10723279, "time": "2015-09-12T00:30:15Z"}], "id": 1199901, "priority": "--", "cc": ["allstars.chh@mozilla.bugs", "nsm.nikhil@gmail.com", "william@fastmail.com"], "cf_crash_signature": "[@ nsIPrincipal::GetAppStatus()]", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_firefox59": "---", "cf_tracking_firefox42": "+", "cf_tracking_firefox43": "+", "last_change_time": "2015-09-12T00:30:15Z", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2015-08-29T08:13:48Z", "cf_status_firefox_esr52": "---", "component": "DOM: Workers", "assigned_to_detail": {"email": "nsm.nikhil@gmail.com", "id": 415061, "name": "nsm.nikhil@gmail.com", "real_name": "Nikhil Marathe [:nsm] (No longer reading bugmail, please needinfo?)"}, "groups": [], "cf_status_firefox60": "---", "cf_status_firefox41": "unaffected", "cf_status_firefox43": "verified", "cf_status_firefox42": "verified", "target_milestone": "mozilla43", "is_cc_accessible": true, "cf_rank": null, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "ananuti@gmail.com", "id": 362030, "name": "ananuti@gmail.com", "real_name": "Ekanan Ketunuti"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "allstars.chh@mozilla.bugs", "id": 434672, "name": "allstars.chh@mozilla.bugs", "real_name": "Yoshi Huang [:allstars.chh], Inactive"}, {"email": "nsm.nikhil@gmail.com", "id": 415061, "name": "nsm.nikhil@gmail.com", "real_name": "Nikhil Marathe [:nsm] (No longer reading bugmail, please needinfo?)"}, {"email": "william@fastmail.com", "id": 414438, "name": "william@fastmail.com", "real_name": "William Chen [:wchen]"}], "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "assigned_to": "nsm.nikhil@gmail.com", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "nsm.nikhil@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(nsm.nikhil@gmail.com)"}], "who": "ananuti@gmail.com", "when": "2015-08-29T08:13:48Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "allstars.chh@mozilla.com"}], "who": "allstars.chh@mozilla.bugs", "when": "2015-08-31T08:14:30Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "nsm.nikhil@gmail.com"}, {"removed": "needinfo?(nsm.nikhil@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "nsm.nikhil@gmail.com", "when": "2015-08-31T19:17:50Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8655037, "added": "review?(wchen@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "wchen@mozilla.com"}], "who": "nsm.nikhil@gmail.com", "when": "2015-08-31T20:35:57Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(nsm.nikhil@gmail.com)"}], "who": "william@fastmail.com", "when": "2015-09-01T02:34:49Z"}, {"changes": [{"removed": "needinfo?(nsm.nikhil@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "nsm.nikhil@gmail.com", "when": "2015-09-01T17:10:06Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8655625, "added": "review?(wchen@mozilla.com)"}], "who": "nsm.nikhil@gmail.com", "when": "2015-09-01T20:18:26Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(wchen@mozilla.com)", "attachment_id": 8655037, "added": "review+"}], "who": "william@fastmail.com", "when": "2015-09-01T21:54:18Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(wchen@mozilla.com)", "attachment_id": 8655625, "added": "review+"}], "who": "william@fastmail.com", "when": "2015-09-01T22:11:19Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla43"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-09-03 04:19:27"}, {"removed": "affected", "field_name": "cf_status_firefox43", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2015-09-03T11:19:27Z"}, {"changes": [{"removed": "?", "field_name": "cf_tracking_firefox42", "added": "+"}, {"removed": "?", "field_name": "cf_tracking_firefox43", "added": "+"}], "who": "lhenry@mozilla.com", "when": "2015-09-04T17:26:15Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(nsm.nikhil@gmail.com)"}], "who": "lhenry@mozilla.com", "when": "2015-09-04T17:26:56Z"}, {"changes": [{"removed": "needinfo?(nsm.nikhil@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "nsm.nikhil@gmail.com", "when": "2015-09-04T17:40:05Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(nsm.nikhil@gmail.com)"}, {"removed": "---", "field_name": "cf_status_firefox41", "added": "unaffected"}], "who": "ananuti@gmail.com", "when": "2015-09-05T00:22:19Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}, {"removed": "fixed", "field_name": "cf_status_firefox43", "added": "verified"}], "who": "ananuti@gmail.com", "when": "2015-09-05T00:23:50Z"}, {"changes": [{"removed": "needinfo?(nsm.nikhil@gmail.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8655625, "added": "approval-mozilla-aurora?"}], "who": "nsm.nikhil@gmail.com", "when": "2015-09-08T16:27:52Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8655037, "added": "approval-mozilla-aurora?"}], "who": "nsm.nikhil@gmail.com", "when": "2015-09-08T16:28:11Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?", "attachment_id": 8655625, "added": "approval-mozilla-aurora+"}], "who": "sledru@mozilla.com", "when": "2015-09-09T20:15:49Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?", "attachment_id": 8655037, "added": "approval-mozilla-aurora+"}], "who": "sledru@mozilla.com", "when": "2015-09-09T20:15:56Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox42", "added": "fixed"}], "who": "kwierso@gmail.com", "when": "2015-09-10T18:50:59Z"}, {"changes": [{"removed": "fixed", "field_name": "cf_status_firefox42", "added": "verified"}], "who": "ananuti@gmail.com", "when": "2015-09-12T00:30:15Z"}], "resolution": "FIXED", "op_sys": "Windows 10", "cf_fx_points": "---", "cf_blocking_fennec": "---"}