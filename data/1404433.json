{"cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Components", "creator": "mcastelluccio@mozilla.com", "cc": ["gmierz2@outlook.com", "nfroyd@mozilla.com"], "depends_on": [1414962], "creation_time": "2017-09-29T17:37:10Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "summary": "Get coverage build with Clang on Linux green", "cf_last_resolved": null, "attachments": [], "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_crash_signature": "", "comments": [{"text": "There are quite a few failures, e.g. see https://treeherder.mozilla.org/#/jobs?repo=try&revision=e30d8c3c59a9737f1825e81e6901774f562ede00 or https://treeherder.mozilla.org/#/jobs?repo=try&revision=014e361716000d0dee4427bf7195316a2aba7b21.\n\nMost of them are timeouts, some of them are due to leak checking (that we could disable like we do for asan).\n\nGreg, do you think you could help here? You have a lot of experience as you've done the same with the GCC build too!", "author": "mcastelluccio@mozilla.com", "id": 12714776, "time": "2017-09-29T17:37:10Z"}, {"text": "Sure thing! I'll get to it within the next couple weeks. I'm leaving a ni? open here for myself.", "author": "gmierz2@outlook.com", "id": 12724505, "time": "2017-10-03T13:50:06Z"}, {"text": "Here's a test run for the latest changes (including the clang patches): https://treeherder.mozilla.org/#/jobs?repo=try&revision=73dc9ddd7ee0e3b72c0d80bbe67b7a462760de16", "author": "gmierz2@outlook.com", "id": 12920700, "time": "2017-12-15T20:43:13Z"}, {"text": "Good run without RUSTFLAG: https://treeherder.mozilla.org/#/jobs?repo=try&revision=ab4006e68da88eb2705d40af90f1b98022f977d6\n\nGood run with RUSTFLAG: https://treeherder.mozilla.org/#/jobs?repo=try&revision=26556adb8b2f4def3a372f398bbf63d2f1bdbf16", "author": "gmierz2@outlook.com", "id": 12920999, "time": "2017-12-15T22:12:09Z"}, {"text": "So, the build that uses the RUSTFLAG option is failing. But the regular clang build without it is working. There are many timeouts though and only a handful of bugs from the looks of it, which is promising.", "author": "gmierz2@outlook.com", "id": 12921791, "time": "2017-12-16T19:58:42Z"}, {"text": "(In reply to Greg Mierzwinski [:sparky] from comment #4)\n> So, the build that uses the RUSTFLAG option is failing. But the regular\n> clang build without it is working. There are many timeouts though and only a\n> handful of bugs from the looks of it, which is promising.\n\nStrange, the build with the Rust flags is failing because it doesn't recognize the \"profile\" option ([task 2017-12-16T05:14:18.647Z] 05:14:18     INFO -  error: unknown codegen option: `profile`). So it seems it is not actually using the custom Rust build.", "author": "mcastelluccio@mozilla.com", "id": 12921864, "time": "2017-12-16T21:49:31Z"}, {"text": "Here's a linux64 clang coverage run without any task timeouts, only bugs to fix: https://treeherder.mozilla.org/#/jobs?repo=try&revision=f60c1e4bbf038e3333ca22e79fc667fbebd869f8\n\nShould we file bugs for each of them?", "author": "gmierz2@outlook.com", "id": 12942092, "time": "2018-01-03T18:01:30Z"}, {"text": "(In reply to Greg Mierzwinski [:sparky] from comment #6)\n> Here's a linux64 clang coverage run without any task timeouts, only bugs to\n> fix:\n> https://treeherder.mozilla.org/#/\n> jobs?repo=try&revision=f60c1e4bbf038e3333ca22e79fc667fbebd869f8\n> \n> Should we file bugs for each of them?\n\nOne failure is due to a wrong year (2017 instead of 2018), that's an interesting one :)\nMost of the failures in web-platform tests are timeouts, we could try increasing the timeout multiplier like I did in https://bugzilla.mozilla.org/page.cgi?id=splinter.html&bug=1418283&attachment=8933264 (I increased it to 4, maybe we can increase it a little more).\nAlso, we need to add the \"--llvm\" parameter to the gcov invocation.\n\nWith these changes, could you try respinning another try build and re-running the failures 5 times (so we make sure they are not intermittents)?", "author": "mcastelluccio@mozilla.com", "id": 12942417, "time": "2018-01-03T19:40:14Z"}], "id": 1404433, "priority": "--", "mentors_detail": [], "comment_count": 8, "version": "Version 3", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "status": "NEW", "product": "Testing", "cf_fx_iteration": "---", "blocks": [1335518], "qa_contact": "", "see_also": [], "cf_status_firefox_esr52": "---", "component": "Code Coverage", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "---", "is_cc_accessible": true, "groups": [], "url": "", "creator_detail": {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "gmierz2@outlook.com", "id": 560562, "name": "gmierz2@outlook.com", "real_name": "Greg Mierzwinski [:sparky]"}, {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}], "alias": null, "dupe_of": null, "flags": [{"requestee": "gmierz2@outlook.com", "status": "?", "name": "needinfo", "modification_date": "2017-10-03T13:50:06Z", "type_id": 800, "creation_date": "2017-10-03T13:50:06Z", "id": 1658415, "setter": "gmierz2@outlook.com"}], "last_change_time": "2018-01-03T19:40:14Z", "cf_status_firefox_esr60": "---", "assigned_to": "nobody@mozilla.org", "is_open": true, "resolution": "", "op_sys": "Unspecified", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "nfroyd@mozilla.com"}], "who": "nfroyd@mozilla.com", "when": "2017-09-29T18:46:09Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(gmierz2@outlook.com)"}], "who": "gmierz2@outlook.com", "when": "2017-10-03T13:50:06Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1414962"}], "who": "mcastelluccio@mozilla.com", "when": "2017-11-09T10:34:29Z"}]}