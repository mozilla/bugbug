{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "nth10sd@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "text/plain", "id": 8610939}, {"creator": "jcoppeard@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-06-04T20:02:24Z", "type_id": 4, "creation_date": "2015-05-27T09:20:04Z", "id": 1175742, "setter": "jwalden+bmo@mit.edu"}], "content_type": "text/plain", "id": 8611102}], "classification": "Components", "creator": "nth10sd@gmail.com", "cc": ["choller@mozilla.com", "jruderman@gmail.com", "jwalden+bmo@mit.edu", "shu@rfrn.org"], "depends_on": [], "creation_time": "2015-05-27T00:56:46Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86_64", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": ["assertion", "regression", "testcase"], "summary": "Assertion failure: item->isKind(isImport ? PNK_IMPORT_SPEC : PNK_EXPORT_SPEC), at frontend/NameFunctions.cpp", "id": 1168666, "assigned_to_detail": {"email": "jcoppeard@mozilla.com", "id": 443194, "name": "jcoppeard@mozilla.com", "real_name": "Jon Coppeard (:jonco) (PTO until 13th March)"}, "severity": "critical", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "jcoppeard@mozilla.com", "comment_count": 5, "comments": [{"text": "// Randomly chosen test: js/src/tests/js1_5/extensions/regress-421621.js\nexport*\n\nasserts js debug shell on m-c changeset e537a1ba501b with --fuzzing-safe --no-threads --no-ion at Assertion failure: item->isKind(isImport ? PNK_IMPORT_SPEC : PNK_EXPORT_SPEC), at js/src/frontend/NameFunctions.cpp.\n\nConfigure options:\n\nCC=\"clang -Qunused-arguments\" CXX=\"clang++ -Qunused-arguments\" AR=ar AUTOCONF=/usr/local/Cellar/autoconf213/2.13/bin/autoconf213 sh /Users/skywalker/trees/mozilla-central/js/src/configure --target=x86_64-apple-darwin12.5.0 --enable-debug --enable-nspr-build --enable-more-deterministic --with-ccache --enable-gczeal --enable-debug-symbols --disable-tests\n\npython -u ~/fuzzing/js/compileShell.py -b \"--enable-debug --enable-more-deterministic --enable-nspr-build\" -r e537a1ba501b\n\nautoBisect shows this is probably related to the following changeset:\n\nThe first bad revision is:\nchangeset:   https://hg.mozilla.org/mozilla-central/rev/7d0a928ac2b9\nuser:        Jeff Walden\ndate:        Wed Mar 04 13:21:30 2015 -0800\nsummary:     Bug 1165456 - Extra bits of name-resolution conversion.  r=shu\n\nWaldo, is bug 1165456 a likely regressor?", "author": "nth10sd@gmail.com", "id": 10313117, "time": "2015-05-27T00:56:46Z"}, {"text": "Created attachment 8610939\nstack\n\n(lldb) bt 5\n* thread #1: tid = 0x7e072, 0x000000010018d68a js-dbg-64-dm-nsprBuild-darwin-e537a1ba501b`(anonymous namespace)::NameResolver::resolve(this=<unavailable>, cur=<unavailable>, prefixArg=<unavailable>) + 5834 at NameFunctions.cpp:709, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n  * frame #0: 0x000000010018d68a js-dbg-64-dm-nsprBuild-darwin-e537a1ba501b`(anonymous namespace)::NameResolver::resolve(this=<unavailable>, cur=<unavailable>, prefixArg=<unavailable>) + 5834 at NameFunctions.cpp:709\n    frame #1: 0x000000010018cd36 js-dbg-64-dm-nsprBuild-darwin-e537a1ba501b`(anonymous namespace)::NameResolver::resolve(this=<unavailable>, cur=<unavailable>, prefixArg=<unavailable>) + 3446 at NameFunctions.cpp:748\n    frame #2: 0x000000010016a655 js-dbg-64-dm-nsprBuild-darwin-e537a1ba501b`js::frontend::CompileScript(js::ExclusiveContext*, js::LifoAlloc*, JS::Handle<JSObject*>, JS::Handle<JSScript*>, JS::Handle<js::StaticEvalObject*>, JS::ReadOnlyCompileOptions const&, JS::SourceBufferHolder&, JSString*, unsigned int, js::SourceCompressionTask*) [inlined] js::frontend::NameFunctions(pn=0x00000001028b6090) + 3525 at NameFunctions.cpp:775\n    frame #3: 0x000000010016a625 js-dbg-64-dm-nsprBuild-darwin-e537a1ba501b`js::frontend::CompileScript(cx=0x00000001028a5180, alloc=0x0000000000000000, scopeChain=<unavailable>, evalCaller=<unavailable>, evalStaticScope=<unavailable>, options=0x00007fff5fbff278, srcBuf=<unavailable>, source_=<unavailable>, staticLevel=<unavailable>, extraSct=<unavailable>) + 3477 at BytecodeCompiler.cpp:389\n    frame #4: 0x000000010073430e js-dbg-64-dm-nsprBuild-darwin-e537a1ba501b`JS::Compile(cx=0x00000001028a5180, options=0x00007fff5fbff278, srcBuf=0x00007fff5fbff090, script=<unavailable>) + 254 at jsapi.cpp:3839\n(lldb)", "author": "nth10sd@gmail.com", "id": 10313121, "time": "2015-05-27T00:57:57Z"}, {"text": "Created attachment 8611102\nbug1168666-export-spec-assert\n\nWe just need to update the assertions to allow an export spec list containing a single export batch spec node for |export *|.", "author": "jcoppeard@mozilla.com", "id": 10314380, "time": "2015-05-27T09:20:04Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/f644f5821789", "author": "pulsebot@bots.tld", "id": 10349825, "time": "2015-06-05T08:56:40Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/f644f5821789", "author": "kwierso@gmail.com", "id": 10352983, "time": "2015-06-05T22:26:39Z"}], "cf_last_resolved": "2015-06-05T22:26:39Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-06-05T22:26:39Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [349611, 1100132, 1165456], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "JavaScript Engine", "votes": 0, "groups": [], "cf_status_firefox60": "---", "cf_status_firefox41": "fixed", "target_milestone": "mozilla41", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "nth10sd@gmail.com", "id": 132034, "name": "nth10sd@gmail.com", "real_name": "Gary Kwong [:gkw] [:nth10sd]"}, "whiteboard": "[jsbugmon:update]", "mentors": [], "cc_detail": [{"email": "choller@mozilla.com", "id": 395101, "name": "choller@mozilla.com", "real_name": "Christian Holler (:decoder)"}, {"email": "jruderman@gmail.com", "id": 11608, "name": "jruderman@gmail.com", "real_name": "Jesse Ruderman"}, {"email": "jwalden+bmo@mit.edu", "id": 83595, "name": "jwalden+bmo@mit.edu", "real_name": "Jeff Walden [:Waldo]"}, {"email": "shu@rfrn.org", "id": 381259, "name": "shu@rfrn.org", "real_name": "Shu-yu Guo [:shu]"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jwalden+bmo@mit.edu)"}], "who": "nth10sd@gmail.com", "when": "2015-05-27T00:56:46Z"}, {"changes": [{"removed": "Assertion failure: item->isKind(isImport ? PNK_IMPORT_SPEC : PNK_EXPORT_SPEC), at js/src/frontend/NameFunctions.cpp", "field_name": "summary", "added": "Assertion failure: item->isKind(isImport ? PNK_IMPORT_SPEC : PNK_EXPORT_SPEC), at frontend/NameFunctions.cpp"}], "who": "nth10sd@gmail.com", "when": "2015-05-27T00:57:13Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "jcoppeard@mozilla.com"}, {"removed": "needinfo?(jwalden+bmo@mit.edu)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8611102, "added": "review?(jwalden+bmo@mit.edu)"}], "who": "jcoppeard@mozilla.com", "when": "2015-05-27T09:20:04Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1100132"}], "who": "nth10sd@gmail.com", "when": "2015-05-27T21:37:13Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jwalden+bmo@mit.edu)", "attachment_id": 8611102, "added": "review+"}], "who": "jwalden+bmo@mit.edu", "when": "2015-06-04T20:02:24Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla41"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-06-05 15:26:39"}, {"removed": "affected", "field_name": "cf_status_firefox41", "added": "fixed"}], "who": "kwierso@gmail.com", "when": "2015-06-05T22:26:39Z"}], "resolution": "FIXED", "op_sys": "Mac OS X", "cf_fx_points": "---", "cf_blocking_fennec": "---"}