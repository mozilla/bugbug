{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "cbook@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "fixed", "cf_user_story": "", "cf_backlog": "---", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["intermittent-failure"], "cc_detail": [{"email": "apehrson@mozilla.com", "id": 489889, "name": "apehrson@mozilla.com", "real_name": "Andreas Pehrson [:pehrsons]"}, {"email": "bvandyk@mozilla.com", "id": 560379, "name": "bvandyk@mozilla.com", "real_name": "Bryce Van Dyk (:bryce)"}, {"email": "jib@mozilla.com", "id": 456498, "name": "jib@mozilla.com", "real_name": "Jan-Ivar Bruaroey [:jib] (needinfo? me)"}, {"email": "martin.thomson@gmail.com", "id": 438654, "name": "martin.thomson@gmail.com", "real_name": "Martin Thomson [:mt:]"}, {"email": "rjesup@jesup.org", "id": 11539, "name": "rjesup@jesup.org", "real_name": "Randell Jesup [:jesup]"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}], "cf_last_resolved": "2018-06-08T21:56:09Z", "attachments": [{"creator": "jib@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-05-03T00:44:23Z", "type_id": 4, "creation_date": "2016-05-02T21:14:32Z", "id": 1386687, "setter": "rjesup@jesup.org"}], "content_type": "text/x-review-board-request", "id": 8747943}, {"creator": "apehrson@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-06-08T13:06:57Z", "type_id": 4, "creation_date": "2018-06-08T10:36:10Z", "id": 1767522, "setter": "bvandyk@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2018-06-08T18:39:18Z", "type_id": 721, "creation_date": "2018-06-08T14:19:27Z", "id": 1767584, "setter": "ryanvm@gmail.com"}, {"status": "+", "name": "approval-mozilla-esr60", "modification_date": "2018-06-08T18:39:18Z", "type_id": 929, "creation_date": "2018-06-08T14:19:27Z", "id": 1767585, "setter": "ryanvm@gmail.com"}], "content_type": "text/x-review-board-request", "id": 8984396}, {"creator": "apehrson@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-06-08T13:07:39Z", "type_id": 4, "creation_date": "2018-06-08T10:36:10Z", "id": 1767523, "setter": "bvandyk@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8984397}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 60, "comments": [{"text": "https://treeherder.mozilla.org/logviewer.html#?job_id=26277329&repo=mozilla-inbound\n\n 06:20:22 INFO - 461 INFO TEST-UNEXPECTED-FAIL | dom/media/test/test_mediarecorder_principals.html | mediaRecorder.onerror must fire SecurityError", "author": "cbook@mozilla.com", "id": 11344052, "time": "2016-04-21T09:58:53Z"}, {"text": "11 automation job failures were associated with this bug in the last 7 days.\n\nRepository breakdown:\n* mozilla-inbound: 9\n* mozilla-central: 1\n* fx-team: 1\n\nPlatform breakdown:\n* linux64: 11\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2016-04-18&endday=2016-04-24&tree=all", "author": "orangefactor@bots.tld", "id": 11351483, "time": "2016-04-25T01:04:21Z"}, {"text": "jib/mt: any idea why this is failing intermittently?", "author": "rjesup@jesup.org", "id": 11358352, "time": "2016-04-26T20:10:34Z"}, {"text": "There are two tests in this file, both relying on partial http requests. The first one works fine, but the second one never redirects. The initial request from the second test [1] starts here (with v2_*):\n\n> 06:20:17     INFO -  Received request for key = v2_11009232\n> 06:20:17     INFO -  Response Content-Range = bytes 0-285309/285310\n> 06:20:17     INFO -  Response Content-Length = 285310\n> 06:20:20     INFO -  --DOCSHELL 0x7f34990eb800 == 3 [pid = 1883] [id = 75]\n> 06:20:21     INFO -  TEST-INFO | started process screentopng\n> 06:20:22     INFO -  TEST-INFO | screentopng: exit 0\n\nAnyone know what \"screentopng\" is? If we see this again, I'd be curious to see if it's involved.\n\n> 06:20:22     INFO -  455 INFO TEST-PASS | dom/media/test/test_mediarecorder_principals.html | A valid string reason is expected\n> 06:20:22     INFO -  456 INFO TEST-PASS | dom/media/test/test_mediarecorder_principals.html | Reason cannot be empty\n> 06:20:22     INFO -  457 INFO video.currentTime = 0.964463\n> 06:20:22     INFO -  458 INFO video.currentTime = 1.977329\n\nGravity waves here, just looking at the times for the last two lines above. How is that possible, even accounting for rounding error? What's further odd is that these two lines seem to be from *from the first test*!\n\n> 06:20:22     INFO -  459 INFO TEST-PASS | dom/media/test/test_mediarecorder_principals.html | mediaRecorder.start() must throw SecurityError\n> 06:20:22     INFO -  460 INFO TEST-PASS | dom/media/test/test_mediarecorder_principals.html | mediaRecorder.start() should not throw here\n> 06:20:22     INFO -  461 INFO TEST-UNEXPECTED-FAIL | dom/media/test/test_mediarecorder_principals.html | mediaRecorder.onerror must fire SecurityError\n\nI thought I'd locked down the partial loader sufficiently in this test, but the seek.ogv file being operated on is only 4 seconds long after all, so I don't know if it's possible for things to be out of whack enough for this file to finish without any redirecting taking place. I suggest we keep an eye on it, and compare with future logs.\n\n[1] http://mxr.mozilla.org/mozilla-central/source/dom/media/test/test_mediarecorder_principals.html?force=1#71", "author": "jib@mozilla.com", "id": 11358794, "time": "2016-04-26T21:42:24Z"}, {"text": "Sorry, just noticed the robot in comment 1.\n\nYeah the \"screentopng\" seems to be the culprit, whatever it is.\n\nIt shows up in the middle of this second test in every intermittent log. Linux x64 debug and asan only. Is there a way to move this thing away from this particular test, or just away in general?", "author": "jib@mozilla.com", "id": 11358829, "time": "2016-04-26T21:50:57Z"}, {"text": "(In reply to Jan-Ivar Bruaroey [:jib] from comment #4)\n> Sorry, just noticed the robot in comment 1.\n> \n> Yeah the \"screentopng\" seems to be the culprit, whatever it is.\n> \n> It shows up in the middle of this second test in every intermittent log.\n> Linux x64 debug and asan only. Is there a way to move this thing away from\n> this particular test, or just away in general?\n\nscreentopng is a snapshot-the-screen thing run after a failure, that's not a cause, it's an effect.", "author": "rjesup@jesup.org", "id": 11358855, "time": "2016-04-26T21:57:46Z"}, {"text": "Hmm that makes sense. Pity it throws off the logs so much, to the point of it looking like it happens a whole second before the failure is reported.", "author": "jib@mozilla.com", "id": 11359017, "time": "2016-04-26T22:31:33Z"}, {"text": "So the test is failing, because a SecurityError is not thrown within the 4 seconds of the file, because the rigged redirect from all subsequent partial requests isn't happening, because no partial requests apart from the initial one (v2_*) appear to be made by the HTMLMediaElement loader, which is odd, because the test directly ahead of it, loads the same file the same way, and it causes plenty of partial loads (v1_*), as can be seen in the log.\n\nIs there some file caching specific to linux x64 going on, or other unique concurrency behaviors I should be aware of there? Timing wise, things seem to almost be overlapping here. Maybe breaking the two tests into different test files would help?", "author": "jib@mozilla.com", "id": 11359066, "time": "2016-04-26T22:42:55Z"}, {"text": "I'd be fine with disabling this test on linux x64 fwiw. Any takers?", "author": "jib@mozilla.com", "id": 11359179, "time": "2016-04-26T23:04:20Z"}, {"text": "Is the first request forcing a partial load?  That is, does the response include a short range no matter what?", "author": "martin.thomson@gmail.com", "id": 11359492, "time": "2016-04-27T01:09:32Z"}, {"text": "Yes. Both tests work under the same media.cache_size of 192K. Using the log from comment 0 again:\n\n> 06:20:15     INFO -  Received request for key = v1_11009232\n> 06:20:15     INFO -  Response Content-Range = bytes 0-285309/285310\n> 06:20:15     INFO -  Response Content-Length = 285310\n\nIronically, seek.ogv is so small (278K) that the initial request includes the entire file (we're probably below some minimum value), but with our tiny buffer, more requests are forthcoming:\n\n> 06:20:15     INFO -  Received request for key = v1_11009232\n> 06:20:15     INFO -  Redirecting to http://example.org/tests/dom/media/test/dynamic_redirect.sjs?nested&key=v1_11009232&res=seek.ogv\n\nhere's the second request and redirect,\n\n> 06:20:15     INFO -  [Parent 1820] WARNING: NS_ENSURE_TRUE(mCacheEntry) failed: file /home/worker/workspace/build/src/netwerk/protocol/http/nsHttpChannel.cpp, line 4286\n> 06:20:15     INFO -  Received request for key = v1_11009232\n> 06:20:15     INFO -  Response Content-Range = bytes 32768-285309/285310\n> 06:20:15     INFO -  Response Content-Length = 252542\n\nand this is an actual partial request for a chunk of 246K (skipping the first 32K for some reason).\n\n> 06:20:16     INFO -  Received request for key = v1_11009232\n> 06:20:16     INFO -  Redirecting to http://example.org/tests/dom/media/test/dynamic_redirect.sjs?nested&key=v1_11009232&res=seek.ogv\n> 06:20:16     INFO -  [Parent 1820] WARNING: NS_ENSURE_TRUE(mCacheEntry) failed: file /home/worker/workspace/build/src/netwerk/protocol/http/nsHttpChannel.cpp, line 4286\n> 06:20:16     INFO -  Received request for key = v1_11009232\n> 06:20:16     INFO -  Response Content-Range = bytes 285310-285310/285310\n> 06:20:16     INFO -  Response Content-Length = 1\n> 06:20:16     INFO -  [Child 1883] WARNING: NS_ENSURE_TRUE(aRangeStart < aRangeEnd) failed: file /home/worker/workspace/build/src/dom/media/MediaResource.cpp, line 352\n\nAnd a bonus one where it's getting a byte past the end of the file, which looks like a fence-post error in HTMLMediaElement, but lets not chase that here.\n\n> 06:20:17     INFO -  Received request for key = v2_11009232\n\nAnd here's comes the second request.", "author": "jib@mozilla.com", "id": 11361891, "time": "2016-04-27T17:33:26Z"}, {"text": "There were no objections in the morning meeting to disabling this on linux x64 for now.", "author": "jib@mozilla.com", "id": 11361893, "time": "2016-04-27T17:33:52Z"}, {"text": "17 automation job failures were associated with this bug in the last 7 days.\n\nRepository breakdown:\n* mozilla-inbound: 10\n* fx-team: 3\n* ash: 2\n* try: 1\n* mozilla-central: 1\n\nPlatform breakdown:\n* linux64: 17\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2016-04-25&endday=2016-05-01&tree=all", "author": "orangefactor@bots.tld", "id": 11372975, "time": "2016-05-02T01:03:30Z"}, {"text": "Created attachment 8747943\nMozReview Request: Bug 1266345 - disable test_mediarecorder_principals.html on linux 64\n\nReview commit: https://reviewboard.mozilla.org/r/50081/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/50081/", "author": "jib@mozilla.com", "id": 11375587, "time": "2016-05-02T21:14:32Z"}, {"text": "Comment on attachment 8747943\nMozReview Request: Bug 1266345 - disable test_mediarecorder_principals.html on linux 64\n\nhttps://reviewboard.mozilla.org/r/50081/#review46869", "author": "rjesup@jesup.org", "id": 11376149, "time": "2016-05-03T00:44:23Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/e4711157125b", "author": "pulsebot@bots.tld", "id": 11379003, "time": "2016-05-03T20:20:43Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/e4711157125b", "author": "cbook@mozilla.com", "id": 11380719, "time": "2016-05-04T09:59:15Z"}, {"text": "Still happening.", "author": "ryanvm@gmail.com", "id": 11441975, "time": "2016-05-26T19:20:08Z"}, {"text": "5 automation job failures were associated with this bug in the last 7 days.\n\nRepository breakdown:\n* mozilla-inbound: 3\n* fx-team: 2\n\nPlatform breakdown:\n* linux32: 4\n* osx-10-10: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2016-05-23&endday=2016-05-29&tree=all", "author": "orangefactor@bots.tld", "id": 11447190, "time": "2016-05-30T01:04:42Z"}, {"text": "7 automation job failures were associated with this bug in the last 7 days.\n\nRepository breakdown:\n* autoland: 3\n* mozilla-inbound: 2\n* mozilla-central: 1\n* fx-team: 1\n\nPlatform breakdown:\n* osx-10-10: 6\n* windows7-32: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2016-10-03&endday=2016-10-09&tree=all", "author": "orangefactor@bots.tld", "id": 11771627, "time": "2016-10-10T01:04:23Z"}, {"text": "5 failures in 690 pushes (0.007 failures/push) were associated with this bug in the last 7 days.  \n\nRepository breakdown:\n* mozilla-central: 2\n* mozilla-release: 1\n* mozilla-inbound: 1\n* mozilla-aurora: 1\n\nPlatform breakdown:\n* linux32: 2\n* windowsxp: 1\n* windows7-32-vm: 1\n* osx-10-10: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-01-16&endday=2017-01-22&tree=all", "author": "orangefactor@bots.tld", "id": 12001150, "time": "2017-01-23T01:03:20Z"}, {"text": "6 failures in 749 pushes (0.008 failures/push) were associated with this bug in the last 7 days.  \n\nRepository breakdown:\n* mozilla-inbound: 5\n* mozilla-central: 1\n\nPlatform breakdown:\n* windows8-64: 3\n* linux32: 2\n* windows7-32: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-01-23&endday=2017-01-29&tree=all", "author": "orangefactor@bots.tld", "id": 12019998, "time": "2017-01-30T01:03:36Z"}, {"text": "5 failures in 733 pushes (0.007 failures/push) were associated with this bug in the last 7 days.  \n\nRepository breakdown:\n* try: 2\n* autoland: 2\n* mozilla-inbound: 1\n\nPlatform breakdown:\n* windows8-64: 2\n* windows7-32-vm: 1\n* osx-10-10: 1\n* linux32: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-01-30&endday=2017-02-05&tree=all", "author": "orangefactor@bots.tld", "id": 12039966, "time": "2017-02-06T01:03:16Z"}, {"text": "15 failures in 836 pushes (0.018 failures/push) were associated with this bug in the last 7 days.  \nRepository breakdown:\n* autoland: 6\n* mozilla-inbound: 5\n* mozilla-central: 2\n* mozilla-beta: 1\n* graphics: 1\n\nPlatform breakdown:\n* windows8-64: 9\n* linux32: 5\n* osx-10-10: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-02-06&endday=2017-02-12&tree=all", "author": "orangefactor@bots.tld", "id": 12060538, "time": "2017-02-13T01:03:52Z"}, {"text": "6 failures in 833 pushes (0.007 failures/push) were associated with this bug in the last 7 days.  \nRepository breakdown:\n* autoland: 3\n* mozilla-inbound: 2\n* graphics: 1\n\nPlatform breakdown:\n* linux32: 3\n* windows8-64: 1\n* windows7-32: 1\n* osx-10-10: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-02-13&endday=2017-02-19&tree=all", "author": "orangefactor@bots.tld", "id": 12081257, "time": "2017-02-20T01:03:38Z"}, {"text": "5 failures in 845 pushes (0.006 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* autoland: 3\n* mozilla-inbound: 1\n* mozilla-aurora: 1\n\nPlatform breakdown:\n* windows7-32-vm: 3\n* windows8-64: 2\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-03-27&endday=2017-04-02&tree=all", "author": "orangefactor@bots.tld", "id": 12198150, "time": "2017-04-03T01:03:04Z"}, {"text": "6 failures in 770 pushes (0.008 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* mozilla-inbound: 2\n* autoland: 2\n* try: 1\n* mozilla-esr52: 1\n\nPlatform breakdown:\n* windows7-32-vm: 3\n* windows7-32: 2\n* windows8-64: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-05-01&endday=2017-05-07&tree=all", "author": "orangefactor@bots.tld", "id": 12298882, "time": "2017-05-08T01:05:07Z"}, {"text": "5 failures in 879 pushes (0.006 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* mozilla-inbound: 2\n* oak: 1\n* mozilla-beta: 1\n* autoland: 1\n\nPlatform breakdown:\n* windows7-32-vm: 3\n* windows7-32: 2\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-05-08&endday=2017-05-14&tree=all", "author": "orangefactor@bots.tld", "id": 12317591, "time": "2017-05-15T01:04:33Z"}, {"text": "8 failures in 820 pushes (0.01 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* mozilla-inbound: 3\n* autoland: 3\n* try: 1\n* mozilla-central: 1\n\nPlatform breakdown:\n* windows8-64: 2\n* windows7-32-vm: 2\n* windows7-32: 2\n* osx-10-10: 1\n* linux32: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-05-29&endday=2017-06-04&tree=all", "author": "orangefactor@bots.tld", "id": 12371116, "time": "2017-06-05T01:03:47Z"}, {"text": "11 failures in 864 pushes (0.013 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* autoland: 5\n* mozilla-central: 3\n* try: 2\n* mozilla-inbound: 1\n\nPlatform breakdown:\n* windows7-32-vm: 6\n* windows8-64: 5\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-06-05&endday=2017-06-11&tree=all", "author": "orangefactor@bots.tld", "id": 12389111, "time": "2017-06-12T01:02:57Z"}, {"text": "8 failures in 814 pushes (0.01 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* autoland: 5\n* try: 3\n\nPlatform breakdown:\n* windows7-32-vm: 4\n* linux32: 2\n* windows8-64: 1\n* osx-10-10: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-06-12&endday=2017-06-18&tree=all", "author": "orangefactor@bots.tld", "id": 12408681, "time": "2017-06-19T01:13:56Z"}, {"text": "4 failures in 892 pushes (0.004 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* mozilla-inbound: 3\n* try: 1\n\nPlatform breakdown:\n* linux32: 2\n* windows7-32-vm: 1\n* osx-10-10: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-06-19&endday=2017-06-25&tree=all", "author": "orangefactor@bots.tld", "id": 12428673, "time": "2017-06-26T01:14:51Z"}, {"text": "1 failures in 718 pushes (0.001 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* autoland: 1\n\nPlatform breakdown:\n* linux32: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-06-26&endday=2017-07-02&tree=all", "author": "orangefactor@bots.tld", "id": 12442857, "time": "2017-07-03T01:11:40Z"}, {"text": "1 failures in 656 pushes (0.002 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* mozilla-inbound: 1\n\nPlatform breakdown:\n* linux32: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-07-03&endday=2017-07-09&tree=all", "author": "orangefactor@bots.tld", "id": 12457776, "time": "2017-07-10T01:12:13Z"}, {"text": "3 failures in 720 pushes (0.004 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* oak: 1\n* mozilla-esr52: 1\n* autoland: 1\n\nPlatform breakdown:\n* linux32: 2\n* windows7-32-vm: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-07-10&endday=2017-07-16&tree=all", "author": "orangefactor@bots.tld", "id": 12476932, "time": "2017-07-17T01:13:00Z"}, {"text": "4 failures in 822 pushes (0.005 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* mozilla-beta: 2\n* autoland: 2\n\nPlatform breakdown:\n* linux32: 2\n* windows7-32-vm: 1\n* osx-10-10: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-07-17&endday=2017-07-23&tree=all", "author": "orangefactor@bots.tld", "id": 12497987, "time": "2017-07-24T01:14:27Z"}, {"text": "2 failures in 1008 pushes (0.002 failures/push) were associated with this bug in the last 7 days.   \n\nRepository breakdown:\n* mozilla-inbound: 1\n* mozilla-esr52: 1\n\nPlatform breakdown:\n* windows7-32-vm: 1\n* osx-10-10: 1\n\nFor more details, see:\nhttps://brasstacks.mozilla.com/orangefactor/?display=Bug&bugid=1266345&startday=2017-07-24&endday=2017-07-30&tree=all", "author": "orangefactor@bots.tld", "id": 12519633, "time": "2017-07-31T01:15:34Z"}, {"text": "Mass change P2->P3 to align with new Mozilla triage process.", "author": "mreavy-bug-cleanup@mozilla.bugs", "id": 12663099, "time": "2017-09-14T00:47:11Z"}, {"text": "1 failures in 792 pushes (0.001 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-inbound: 1\n\nPlatform breakdown:\n* linux32: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-04-09&endday=2018-04-15&tree=trunk", "author": "orangefactor@bots.tld", "id": 13207269, "time": "2018-04-16T01:08:49Z"}, {"text": "3 failures in 782 pushes (0.004 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-inbound: 2\n* autoland: 1\n\nPlatform breakdown:\n* windows10-64-qr: 2\n* linux32: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-04-16&endday=2018-04-22&tree=trunk", "author": "orangefactor@bots.tld", "id": 13225098, "time": "2018-04-23T01:20:38Z"}, {"text": "3 failures in 780 pushes (0.004 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* autoland: 3\n\nPlatform breakdown:\n* windows10-64-qr: 2\n* linux32: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-04-23&endday=2018-04-29&tree=trunk", "author": "orangefactor@bots.tld", "id": 13241329, "time": "2018-04-30T01:21:00Z"}, {"text": "1 failures in 660 pushes (0.002 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* autoland: 1\n\nPlatform breakdown:\n* linux32: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-05-07&endday=2018-05-13&tree=trunk", "author": "orangefactor@bots.tld", "id": 13273911, "time": "2018-05-14T01:19:17Z"}, {"text": "1 failures in 639 pushes (0.002 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-inbound: 1\n\nPlatform breakdown:\n* linux32: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-05-14&endday=2018-05-20&tree=trunk", "author": "orangefactor@bots.tld", "id": 13292411, "time": "2018-05-21T01:21:48Z"}, {"text": "1 failures in 632 pushes (0.002 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-inbound: 1\n\nPlatform breakdown:\n* windows10-64-qr: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-05-21&endday=2018-05-27&tree=trunk", "author": "orangefactor@bots.tld", "id": 13367218, "time": "2018-05-28T01:09:42Z"}, {"text": "2 failures in 655 pushes (0.003 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-inbound: 1\n* autoland: 1\n\nPlatform breakdown:\n* windows10-64-qr: 2\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-05-28&endday=2018-06-03&tree=trunk", "author": "orangefactor@bots.tld", "id": 13383737, "time": "2018-06-04T01:22:09Z"}, {"text": "This is failing very frequently on ESR60 since the uplift of 1453127 to it :(. I also find it a bit comical that this has been skipped on Linux64 since 2016. Can you please take a look, Andreas?", "author": "ryanvm@gmail.com", "id": 13392521, "time": "2018-06-07T00:41:45Z"}, {"text": "29 failures in 126 pushes (0.23 failures/push) were associated with this bug yesterday.    \n\nRepository breakdown:\n* mozilla-esr60: 28\n* mozilla-beta: 1\n\nPlatform breakdown:\n* linux32: 7\n* osx-10-10: 6\n* macosx64-nightly: 6\n* linux32-nightly: 6\n* windows7-32: 2\n* windows7-32-nightly: 1\n* windows10-64: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-06-06&endday=2018-06-06&tree=trunk", "author": "orangefactor@bots.tld", "id": 13392550, "time": "2018-06-07T01:00:53Z"}, {"text": "I caught this in rr and the MediaRecorder error is due to there being 2 video tracks, and MediaRecorder doesn't support recording multiple tracks of the same type. [1]\n\nHowever, one of the two tracks has already ended, so it can be safely ignored. That fixes it for me locally.\n\n\n[1] https://searchfox.org/mozilla-central/rev/c621276fbdd9591f52009042d959b9e19b66d49f/dom/media/MediaRecorder.cpp#790", "author": "apehrson@mozilla.com", "id": 13395892, "time": "2018-06-08T10:20:45Z"}, {"text": "Created attachment 8984396\nBug 1266345 - Let MediaRecorder ignore ended tracks.\n\nReview commit: https://reviewboard.mozilla.org/r/250218/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/250218/", "author": "apehrson@mozilla.com", "id": 13395916, "time": "2018-06-08T10:36:10Z"}, {"text": "Created attachment 8984397\nBug 1266345 - Re-enable test on linux64.\n\nReview commit: https://reviewboard.mozilla.org/r/250220/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/250220/", "author": "apehrson@mozilla.com", "id": 13395917, "time": "2018-06-08T10:36:10Z"}, {"text": "Comment on attachment 8984396\nBug 1266345 - Let MediaRecorder ignore ended tracks.\n\nhttps://reviewboard.mozilla.org/r/250218/#review256544", "author": "bvandyk@mozilla.com", "id": 13396106, "time": "2018-06-08T13:06:57Z"}, {"text": "Comment on attachment 8984397\nBug 1266345 - Re-enable test on linux64.\n\nhttps://reviewboard.mozilla.org/r/250220/#review256546", "author": "bvandyk@mozilla.com", "id": 13396108, "time": "2018-06-08T13:07:39Z"}, {"text": "try push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=455829078589ce334d80668f2242e6bc8b090343", "author": "apehrson@mozilla.com", "id": 13396169, "time": "2018-06-08T13:32:14Z"}, {"text": "Pushed by pehrsons@gmail.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0bcaf31fab70\nLet MediaRecorder ignore ended tracks. r=bryce\nhttps://hg.mozilla.org/integration/autoland/rev/0e691269f2a0\nRe-enable test on linux64. r=bryce", "author": "pulsebot@bots.tld", "id": 13396171, "time": "2018-06-08T13:33:52Z"}, {"text": "Comment on attachment 8984396\nBug 1266345 - Let MediaRecorder ignore ended tracks.\n\n[Approval Request Comment]\nIf this is not a sec:{high,crit} bug, please state case for ESR consideration: Unblocks bug 1453127 from landing on esr60.\nUser impact if declined: See bug 1453127\nFix Landed on Version: 62\nRisk to taking this patch (and alternatives if risky): Very low risk\nString or UUID changes made by this patch: None\n\nSee https://wiki.mozilla.org/Release_Management/ESR_Landing_Process for more info.\n\nApproval Request Comment\n[Feature/Bug causing the regression]: bug 1208371\n[User impact if declined]: An application could unexpectedly be unable to record a MediaStream. A workaround is simple but might not be obvious.\n[Is this code covered by automated tests?]: Not explicitly, but it was caught by this intermittent.\n[Has the fix been verified in Nightly?]: Not merged yet\n[Needs manual test from QE? If yes, steps to reproduce]: No\n[List of other uplifts needed for the feature/fix]: None\n[Is the change risky?]: No\n[Why is the change risky/not risky?]: Trivial fix\n[String changes made/needed]: None", "author": "apehrson@mozilla.com", "id": 13396283, "time": "2018-06-08T14:19:27Z"}, {"text": "Comment on attachment 8984396\nBug 1266345 - Let MediaRecorder ignore ended tracks.\n\nmochitest-mda looks good on autoland, approving for 61.0b13 and ESR 60.1 to unblock the bug 1453127 from getting to the places it needs to be.", "author": "ryanvm@gmail.com", "id": 13396928, "time": "2018-06-08T18:39:18Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-beta/rev/ae3aed9bb6a1\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/160112362170", "author": "ryanvm@gmail.com", "id": 13396957, "time": "2018-06-08T18:53:24Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-esr60/rev/3258221fa293\nhttps://hg.mozilla.org/releases/mozilla-esr60/rev/a2929372f83d", "author": "ryanvm@gmail.com", "id": 13396997, "time": "2018-06-08T19:10:11Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/0bcaf31fab70\nhttps://hg.mozilla.org/mozilla-central/rev/0e691269f2a0", "author": "cbrindusan@mozilla.com", "id": 13397321, "time": "2018-06-08T21:56:09Z"}, {"text": "38 failures in 669 pushes (0.057 failures/push) were associated with this bug in the last 7 days. \n\nThis is the #32 most frequent failure this week.  \n\n** This failure happened more than 30 times this week! Resolving this bug is a high priority. **\n\n** Try to resolve this bug as soon as possible. If unresolved for 2 weeks, the affected test(s) may be disabled. **  \n\nRepository breakdown:\n* mozilla-esr60: 35\n* mozilla-inbound: 2\n* mozilla-beta: 1\n\nPlatform breakdown:\n* linux32-nightly: 7\n* linux32: 7\n* osx-10-10: 6\n* macosx64-nightly: 6\n* windows7-32: 4\n* windows7-32-nightly: 3\n* windows10-64-qr: 2\n* windows10-64-nightly: 2\n* windows10-64: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1266345&startday=2018-06-04&endday=2018-06-10&tree=trunk", "author": "orangefactor@bots.tld", "id": 13399534, "time": "2018-06-11T01:22:14Z"}], "id": 1266345, "priority": "P3", "cc": ["apehrson@mozilla.com", "bvandyk@mozilla.com", "jib@mozilla.com", "martin.thomson@gmail.com", "rjesup@jesup.org", "ryanvm@gmail.com"], "cf_crash_signature": "", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1208371], "qa_contact": "", "creation_time": "2016-04-21T09:58:53Z", "cf_status_firefox_esr52": "---", "component": "Audio/Video: Recording", "assigned_to_detail": {"email": "jib@mozilla.com", "id": 456498, "name": "jib@mozilla.com", "real_name": "Jan-Ivar Bruaroey [:jib] (needinfo? me)"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "fixed", "cf_status_firefox61": "fixed", "cf_status_firefox60": "---", "target_milestone": "mozilla62", "cf_rank": "25", "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "https://treeherder.mozilla.org/logviewer.html#?job_id=26277329&repo=mozilla-inbound", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "cbook@mozilla.com", "id": 277293, "name": "cbook@mozilla.com", "real_name": "Carsten Book [:Tomcat]"}, "whiteboard": "", "mentors": [], "summary": "Intermittent test_mediarecorder_principals.html | mediaRecorder.onerror must fire SecurityError", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [{"status": "+", "name": "in-testsuite", "modification_date": "2018-06-08T18:53:24Z", "type_id": 37, "creation_date": "2018-06-08T18:53:24Z", "id": 1767739, "setter": "ryanvm@gmail.com"}], "last_change_time": "2018-06-11T01:22:14Z", "assigned_to": "jib@mozilla.com", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cf_rank", "added": "25"}, {"removed": "--", "field_name": "priority", "added": "P2"}, {"removed": "", "field_name": "cc", "added": "jib@mozilla.com, martin.thomson@gmail.com, rjesup@jesup.org"}, {"removed": "Audio/Video", "field_name": "component", "added": "Audio/Video: Recording"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jib@mozilla.com), needinfo?(martin.thomson@gmail.com)"}], "who": "rjesup@jesup.org", "when": "2016-04-26T20:10:34Z"}, {"changes": [{"removed": "needinfo?(jib@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jib@mozilla.com", "when": "2016-04-26T21:42:24Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jib@mozilla.com)"}], "who": "rjesup@jesup.org", "when": "2016-04-26T21:57:46Z"}, {"changes": [{"removed": "needinfo?(jib@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jib@mozilla.com", "when": "2016-04-26T22:31:33Z"}, {"changes": [{"removed": "needinfo?(martin.thomson@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "martin.thomson@gmail.com", "when": "2016-04-27T01:09:32Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8747943, "added": "review?(rjesup@jesup.org)"}], "who": "jib@mozilla.com", "when": "2016-05-02T21:14:32Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "jib@mozilla.com"}], "who": "jib@mozilla.com", "when": "2016-05-02T21:14:58Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(rjesup@jesup.org)", "attachment_id": 8747943, "added": "review+"}], "who": "rjesup@jesup.org", "when": "2016-05-03T00:44:23Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla49"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-05-04 02:59:15"}, {"removed": "---", "field_name": "cf_status_firefox49", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2016-05-04T09:59:15Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "REOPENED"}, {"removed": "FIXED", "field_name": "resolution", "added": ""}, {"removed": "mozilla49", "field_name": "target_milestone", "added": "---"}, {"removed": "fixed", "field_name": "cf_status_firefox49", "added": "---"}], "who": "ryanvm@gmail.com", "when": "2016-05-26T19:20:08Z"}, {"changes": [{"removed": "P2", "field_name": "priority", "added": "P3"}], "who": "mreavy-bug-cleanup@mozilla.bugs", "when": "2017-09-14T00:47:11Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "apehrson@mozilla.com, ryanvm@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(apehrson@mozilla.com)"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "affected"}], "who": "ryanvm@gmail.com", "when": "2018-06-07T00:41:45Z"}, {"changes": [{"removed": "needinfo?(apehrson@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "apehrson@mozilla.com", "when": "2018-06-08T10:20:45Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8984396, "added": "review?(bvandyk@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8984397, "added": "review?(bvandyk@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "bvandyk@mozilla.com"}], "who": "apehrson@mozilla.com", "when": "2018-06-08T10:36:10Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bvandyk@mozilla.com)", "attachment_id": 8984396, "added": "review+"}], "who": "bvandyk@mozilla.com", "when": "2018-06-08T13:06:57Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bvandyk@mozilla.com)", "attachment_id": 8984397, "added": "review+"}], "who": "bvandyk@mozilla.com", "when": "2018-06-08T13:07:39Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8984396, "added": "approval-mozilla-beta?, approval-mozilla-esr60?"}], "who": "apehrson@mozilla.com", "when": "2018-06-08T14:19:27Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1208371"}], "who": "apehrson@mozilla.com", "when": "2018-06-08T14:19:36Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-beta?, approval-mozilla-esr60?", "attachment_id": 8984396, "added": "approval-mozilla-beta+, approval-mozilla-esr60+"}], "who": "ryanvm@gmail.com", "when": "2018-06-08T18:39:18Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "in-testsuite+"}, {"removed": "affected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2018-06-08T18:53:24Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox_esr60", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2018-06-08T19:10:11Z"}, {"changes": [{"removed": "REOPENED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla62"}, {"removed": "2016-05-04 09:59:15", "field_name": "cf_last_resolved", "added": "2018-06-08 21:56:09"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "cbrindusan@mozilla.com", "when": "2018-06-08T21:56:09Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}