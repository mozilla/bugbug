{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "andrew@comminos.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-06-25T04:14:16Z", "type_id": 4, "creation_date": "2015-06-24T23:38:56Z", "id": 1196933, "setter": "bugmail@mozilla.staktrace.com"}], "content_type": "text/plain", "id": 8625973}], "classification": "Components", "creator": "andrew@comminos.com", "cc": ["andrew@comminos.com", "botond@mozilla.com", "bugmail@mozilla.staktrace.com", "jmuizelaar@mozilla.com"], "depends_on": [], "creation_time": "2015-06-24T21:59:52Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "Synthesis of native mouse scroll events is incorrect on GTK3", "id": 1177233, "assigned_to_detail": {"email": "andrew@comminos.com", "id": 502464, "name": "andrew@comminos.com", "real_name": "Andrew Comminos [:acomminos]"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "andrew@comminos.com", "comment_count": 6, "comments": [{"text": "The synthesis for native scroll events implemented in bug 1161634 causes gfx/layers/apz/test/test_wheel_scroll.html to intermittently fail on GTK3.\n\n5089 20:24:46 INFO - 1266 INFO TEST-UNEXPECTED-FAIL | gfx/layers/apz/test/test_wheel_scroll.html | We should not have scrolled to the bottom of the scrollframe - got false, expected true\n5090 20:24:46 INFO - 1267 INFO TEST-UNEXPECTED-FAIL | gfx/layers/apz/test/test_wheel_scroll.html | The rotation should have been adjusted - got false, expected true\n\nThis is because the pixel deltas are treated as line deltas by the event handler, causing us to scroll too much. We could either convert to line deltas using the pixel deltas provided to nsWindow::SynthesizeNativeMouseScrollEvent (we would need to pass down the nsIDOMElement to the widget layer I believe), ditch the GDK_SCROLL_SMOOTH path, or perhaps synthesize a 'custom' event type (may conflict with new GDK scroll event types).\n\nThe GTK2 path isn't quite correct either, discarding pixel deltas entirely and just sending line scroll events in the correct direction.", "author": "andrew@comminos.com", "id": 10420256, "time": "2015-06-24T21:59:52Z"}, {"text": "Created attachment 8625973\nConvert to native scroll units for APZ testing on GTK.\n\nThis converts the APZ tests' pixel deltas to our pseudo-line units for GTK using the scrollable element's font size. Thanks!", "author": "andrew@comminos.com", "id": 10420773, "time": "2015-06-24T23:38:56Z"}, {"text": "Comment on attachment 8625973\nConvert to native scroll units for APZ testing on GTK.\n\nReview of attachment 8625973:\n-----------------------------------------------------------------\n\nLGTM, thanks!", "author": "bugmail@mozilla.staktrace.com", "id": 10421114, "time": "2015-06-25T04:14:16Z"}, {"text": "Try push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=ea3064b7cdb5", "author": "andrew@comminos.com", "id": 10421415, "time": "2015-06-25T06:39:21Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/eba8941bf4a3", "author": "pulsebot@bots.tld", "id": 10421552, "time": "2015-06-25T08:38:25Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/eba8941bf4a3", "author": "cbook@mozilla.com", "id": 10424774, "time": "2015-06-26T11:35:46Z"}], "cf_last_resolved": "2015-06-26T11:35:46Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-06-26T11:35:46Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [627699], "qa_contact": "", "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1161634"], "cf_fx_iteration": "---", "component": "Widget: Gtk", "votes": 0, "groups": [], "cf_status_firefox60": "---", "cf_status_firefox41": "fixed", "target_milestone": "mozilla41", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "andrew@comminos.com", "id": 502464, "name": "andrew@comminos.com", "real_name": "Andrew Comminos [:acomminos]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "andrew@comminos.com", "id": 502464, "name": "andrew@comminos.com", "real_name": "Andrew Comminos [:acomminos]"}, {"email": "botond@mozilla.com", "id": 474533, "name": "botond@mozilla.com", "real_name": "Botond Ballo [:botond]"}, {"email": "bugmail@mozilla.staktrace.com", "id": 426788, "name": "bugmail@mozilla.staktrace.com", "real_name": "Kartikaya Gupta (email:kats@mozilla.com)"}, {"email": "jmuizelaar@mozilla.com", "id": 309398, "name": "jmuizelaar@mozilla.com", "real_name": "Jeff Muizelaar [:jrmuizel]"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "botond@mozilla.com"}], "who": "botond@mozilla.com", "when": "2015-06-24T22:33:48Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bugmail.mozilla@staktrace.com"}], "who": "bugmail@mozilla.staktrace.com", "when": "2015-06-24T22:34:40Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8625973, "added": "review?(bugmail.mozilla@staktrace.com)"}], "who": "andrew@comminos.com", "when": "2015-06-24T23:38:56Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bugmail.mozilla@staktrace.com)", "attachment_id": 8625973, "added": "review+"}], "who": "bugmail@mozilla.staktrace.com", "when": "2015-06-25T04:14:16Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "checkin-needed"}, {"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}], "who": "andrew@comminos.com", "when": "2015-06-25T06:36:38Z"}, {"changes": [{"removed": "checkin-needed", "field_name": "keywords", "added": ""}], "who": "pulsebot@bots.tld", "when": "2015-06-25T08:38:25Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla41"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-06-26 04:35:46"}, {"removed": "---", "field_name": "cf_status_firefox41", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2015-06-26T11:35:46Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}