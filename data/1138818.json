{"cf_status_firefox39": "affected", "cf_tracking_firefox60": "---", "attachments": [{"creator": "edilee@mozilla.com", "is_obsolete": 1, "is_patch": 0, "flags": [], "content_type": "application/zip", "id": 8580819}, {"creator": "msamuel@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8598050}, {"creator": "msamuel@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8598186}, {"creator": "msamuel@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8598762}, {"creator": "msamuel@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-05-01T00:52:06Z", "type_id": 748, "creation_date": "2015-04-30T19:17:01Z", "id": 1158755, "setter": "adw@mozilla.com"}], "content_type": "text/plain", "id": 8600022}, {"creator": "msamuel@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-05-07T22:13:46Z", "type_id": 748, "creation_date": "2015-05-06T23:28:55Z", "id": 1162567, "setter": "adw@mozilla.com"}], "content_type": "text/plain", "id": 8602390}, {"creator": "msamuel@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-05-07T22:09:02Z", "type_id": 748, "creation_date": "2015-05-07T18:36:26Z", "id": 1163301, "setter": "adw@mozilla.com"}], "content_type": "text/plain", "id": 8602885}, {"creator": "edilee@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8603798}, {"creator": "edilee@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "feedback", "modification_date": "2015-05-10T19:11:30Z", "type_id": 607, "creation_date": "2015-05-10T18:56:39Z", "id": 1164700, "setter": "francesco.lodolo@gmail.com"}], "content_type": "text/plain", "id": 8603860}, {"creator": "edilee@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-05-25T15:48:15Z", "type_id": 748, "creation_date": "2015-05-25T08:48:35Z", "id": 1174057, "setter": "msamuel@mozilla.com"}], "content_type": "text/plain", "id": 8610011}, {"creator": "edilee@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8610020}, {"creator": "edilee@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8610434}, {"creator": "msamuel@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-05-27T20:54:42Z", "type_id": 748, "creation_date": "2015-05-27T15:55:59Z", "id": 1176038, "setter": "edilee@mozilla.com"}], "content_type": "text/plain", "id": 8611262}], "classification": "Client Software", "creator": "edilee@mozilla.com", "cc": ["adw@mozilla.com", "athornburgh@mozilla.com", "cornel.ionce@softvision.ro", "edilee@mozilla.com", "francesco.lodolo@gmail.com", "kghim@mozilla.com", "kwierso@gmail.com", "msamuel@mozilla.com", "pfinch@mozilla.com", "philringnalda@gmail.com"], "depends_on": [1165404, 1169251, 1147476, 1150228, 1165386, 1165420, 1165430, 1165525, 1165594, 1166552, 1169237, 1169241, 1172987, 1183932], "creation_time": "2015-03-03T07:52:48Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "New tab user onboarding for sponsored suggested tiles", "cf_last_resolved": "2015-05-14T22:42:45Z", "assigned_to_detail": {"email": "msamuel@mozilla.com", "id": 413880, "name": "msamuel@mozilla.com", "real_name": "Marina Samuel [:emtwo]"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "msamuel@mozilla.com", "comment_count": 67, "comments": [{"text": "We'll want to add a paragraph explaining suggested tiles and maybe(?) retrigger the first-run experience to have the \"what's this page\" dialog appear.\n\nkghim, who should be needinfo? to provide the intro text?", "author": "edilee@mozilla.com", "id": 9977875, "time": "2015-03-03T07:52:48Z"}, {"text": "Ed, I think we should approach the Suggested Tiles intro this way:\n1) Figure out constraints in showing introduction overlay on new tab (athornburgh)\n2) Figure out complexity in implementation (msamuel)\n3) Determine appropriate description text/design based on 1 & 2 (kghim/pfinch/athornburgh)\n\nFirst step is on athornburgh.", "author": "kghim@mozilla.com", "id": 9981702, "time": "2015-03-03T22:30:57Z"}, {"text": "I have a 1-on-1 with Madhava tomorrow (Wed), and was going to talk with him about it then. I'll report back immediately after in this bug with the outcome.\n\nHe's already seen this in both design and prototype form, so we should all be on the same page from a UX/UI perspective.\n\n-A", "author": "athornburgh@mozilla.com", "id": 9982047, "time": "2015-03-04T00:33:35Z"}, {"text": "For new user and existing users.\n\nitems:\n- Suggested Tiles intro\n- Existing Tiles control functionality\n- Disclaimer overlay\n- New tab options", "author": "kghim@mozilla.com", "id": 10053669, "time": "2015-03-19T23:27:56Z"}, {"text": "This will most likely replace the \"what is this page\" link and related popup. Not sure if we trigger the onboarding flow again if the user clicks \"what is this page\" as a menu item where somewhere in the flow, there's a link to the firefox/tiles page?", "author": "edilee@mozilla.com", "id": 10054035, "time": "2015-03-20T00:36:55Z"}, {"text": "Created attachment 8580819\nonboarding spec\n\nCopying over dcrobot's bug 1138817 comment 10:\n\nAttached are ALL the comps for Tiles on New Tab for Firefox 39, including the\non-boarding experience.\n\nAll comments from Kevin have been incorporated. If anyone else has feedback,\nplease respond by EOD today (3-20-2015).", "author": "edilee@mozilla.com", "id": 10057753, "time": "2015-03-20T18:39:41Z"}, {"text": "> Created attachment 8580819\n> Attached are ALL the comps for Tiles on New Tab for Firefox 39, including the\n> on-boarding experience.\nA few things to note:\n\n- the size of the user's screen isn't guaranteed, so if we naively center the messaging, it could cover up the thing we're highlighting\n- we can't guarantee a suggested or sponsored tile for every locale to be available during onboarding, so it might make sense to ship a dummy suggested/sponsored tile (whimsycorn?) to convey the concepts\n- do we need to be more explicit about some of the items that are currently in the \"what is this page?\" messaging? e.g., data analytics notice", "author": "edilee@mozilla.com", "id": 10057849, "time": "2015-03-20T18:55:19Z"}, {"text": "Ed...\n\n- Let's talk more about this to determine either a technical or design solution. What I've proposed was intended to be independent of browser window size.\n\n- Why can't we just show all users w/o a suitable match a Mozilla tile? That way everyone get's an actual ad... but some will see one from Mozilla, and others from a partner. No unicorns ;)\n\n- The on-boarding UI includes links to all of those resources. If we need to say something specific within this experience, I need to know exactly what the words should say and any rules around how they should be displayed. From there, I can figure something out. Will need Geoff to weigh in on this.", "author": "athornburgh@mozilla.com", "id": 10057934, "time": "2015-03-20T19:10:04Z"}, {"text": "Considering the scope of this bug, we'll need to release into Nightly 40, then uplift to Beta 39. Merge date is 2015-05-11.", "author": "kghim@mozilla.com", "id": 10078436, "time": "2015-03-25T22:22:35Z"}, {"text": "Additionally, when a new user has seen the onboarding, do not display it again during history tile (existing user phase).", "author": "kghim@mozilla.com", "id": 10078446, "time": "2015-03-25T22:24:28Z"}, {"text": "(In reply to Kevin Ghim from comment #8)\n> Considering the scope of this bug, we'll need to release into Nightly 40,\n> then uplift to Beta 39. Merge date is 2015-05-11.\nWhiteboard: .? \u2192 .002\n\nIf this is targeting Nightly 40, then the whiteboard priority should be nowhere close to .002", "author": "edilee@mozilla.com", "id": 10079285, "time": "2015-03-26T02:19:01Z"}, {"text": "> - the size of the user's screen isn't guaranteed, so if we naively center\n> the messaging, it could cover up the thing we're highlighting\n\nPerhaps we can not highlight tiles if the screen is smaller than a certain size?", "author": "msamuel@mozilla.com", "id": 10153464, "time": "2015-04-14T15:36:36Z"}, {"text": "> - Why can't we just show all users w/o a suitable match a Mozilla tile? That\n> way everyone get's an actual ad... but some will see one from Mozilla, and\n> others from a partner. No unicorns ;)\n\nIf a user is shown a Mozilla affiliate tile, it won't have a 'suggested' tag correct? Won't this defeat the purpose of telling users 'Firefox only suggests sites that match your interests' while showing them what a suggested tile looks like?\n\nAlso, we can't guarantee that certain tiles will be in the location where we want to highlight them. Can we choose certain tiles and place them on top of the overlay just for demonstration purposes instead of 'highlighting' the tiles underneath?", "author": "msamuel@mozilla.com", "id": 10153507, "time": "2015-04-14T15:45:53Z"}, {"text": "My understanding was that the Mozilla suggested tiles would be released on Fx 38... and for Fx 39 we're introducing suggested tiles from partners. If this is still true, then the user should NOT see the on-boarding UNTIL an appropriate partner tile is available.\n\nFurthermore, according to the revised comps, ALL suggested tiles are labeled as such, regardless of whether it's a Mozilla or partner tile.\n\nFor the minority of users who have very small screens, I think we should talk about this as a team... But personally, I'm ok if we don't show the tile examples since the text in the layover window is sufficient. The one exception is the New Tab Controls menu, as this is literally the most important thing we need to show (both legally, and in terms of user control).\n\n-A", "author": "athornburgh@mozilla.com", "id": 10153580, "time": "2015-04-14T15:56:25Z"}, {"text": "Why did you remove the blocking bug 1145303?", "author": "edilee@mozilla.com", "id": 10186159, "time": "2015-04-22T16:24:19Z"}, {"text": "Created attachment 8598050\nPart 1: v1: Onboarding UI without the tile images\n\nThis patch includes the majority of the on-boarding UI based on https://bug1150228.bugzilla.mozilla.org/attachment.cgi?id=8592387 (pages 11-20)\n\nIt's only based on the small screen UI seen in the last few pages (the larger screen UI is a separate bug)\n\nI'll add the images for each page of the onboarding in a 'part 2' patch; I want to get some of the bugs blocking bug 1150228 done first so I can reuse the styling.", "author": "msamuel@mozilla.com", "id": 10202216, "time": "2015-04-27T15:41:56Z"}, {"text": "Created attachment 8598186\nPart 1: v2: Onboarding UI without the tile images\n\nRemoved some unused code & adjusted a comment.", "author": "msamuel@mozilla.com", "id": 10203524, "time": "2015-04-27T19:40:44Z"}, {"text": "Here's a build to test it out: https://treeherder.mozilla.org/#/jobs?repo=try&revision=2dd7ffa0830d\n\nI'll also be updating the intro.js test in a bit.", "author": "msamuel@mozilla.com", "id": 10206784, "time": "2015-04-28T13:53:37Z"}, {"text": "Created attachment 8598762\nPart 1: v3: Onboarding UI without the tile images\n\nTests added", "author": "msamuel@mozilla.com", "id": 10207793, "time": "2015-04-28T17:12:02Z"}, {"text": "Before removing the existing panel UI, we'll want to land it in a way that Firefox could show the old panel or the new onboarding. This is so that we can uplift to Aurora 39 an onboarding experience that is en-US only. For that uplift, we'll also need to land strings in a way that doesn't break string freeze similar to what we needed to do for bug 1141617.\n\nI'm thinking something along the lines of..\n\nintro.js:\n\nif DirectoryLinksProvider.locale == en-US\n  do onboarding if necessary\nelse\n  do old panel if necessary\n\nAnd then we'll have a followup bug that lands in Nightly 40 that removes the check and always does onboarding check and panel code can be removed.", "author": "edilee@mozilla.com", "id": 10208341, "time": "2015-04-28T18:29:18Z"}, {"text": "Comment on attachment 8598762\nPart 1: v3: Onboarding UI without the tile images\n\n>+newtab.intro.delete=delete\nPer bug 1150228 comment 24/25, we should be consistent with the existing \"remove\" label instead of \"delete\".", "author": "edilee@mozilla.com", "id": 10208935, "time": "2015-04-28T20:11:11Z"}, {"text": "Created attachment 8600022\nPart 1: v4: Onboarding UI without the tile images\n\nHardcoded strings & onboarding for en-US. Old intro is shown for non-en-US.", "author": "msamuel@mozilla.com", "id": 10218687, "time": "2015-04-30T19:17:01Z"}, {"text": "Comment on attachment 8598762\nPart 1: v3: Onboarding UI without the tile images\n\n># HG changeset patch\n># Parent f214df6ac75f0202e40733be62c5b169d7a40b7f\n># User Marina Samuel <msamuel@mozilla.com>\n>\n>diff --git a/browser/app/profile/firefox.js b/browser/app/profile/firefox.js\n>--- a/browser/app/profile/firefox.js\n>+++ b/browser/app/profile/firefox.js\n>@@ -1615,16 +1615,19 @@ pref(\"browser.panorama.animate_zoom\", tr\n> // Defines the url to be used for new tabs.\n> pref(\"browser.newtab.url\", \"about:newtab\");\n> // Activates preloading of the new tab url.\n> pref(\"browser.newtab.preload\", true);\n> \n> // Remembers if the about:newtab intro has been shown\n> pref(\"browser.newtabpage.introShown\", false);\n> \n>+// Remembers if the about:newtab update intro has been shown\n>+pref(\"browser.newtabpage.updateIntroShown\", false);\n>+\n> // Toggles the content of 'about:newtab'. Shows the grid when enabled.\n> pref(\"browser.newtabpage.enabled\", true);\n> \n> // number of rows of newtab grid\n> pref(\"browser.newtabpage.rows\", 3);\n> \n> // number of columns of newtab grid\n> pref(\"browser.newtabpage.columns\", 5);\n>diff --git a/browser/base/content/newtab/intro.js b/browser/base/content/newtab/intro.js\n>--- a/browser/base/content/newtab/intro.js\n>+++ b/browser/base/content/newtab/intro.js\n>@@ -1,57 +1,165 @@\n> #ifdef 0\n> /* This Source Code Form is subject to the terms of the Mozilla Public\n>  * License, v. 2.0. If a copy of the MPL was not distributed with this file,\n>  * You can obtain one at http://mozilla.org/MPL/2.0/. */\n> #endif\n> \n> const PREF_INTRO_SHOWN = \"browser.newtabpage.introShown\";\n>+const PREF_UPDATE_INTRO_SHOWN = \"browser.newtabpage.updateIntroShown\";\n>+\n>+// These consts indicate the type of intro/onboarding we show.\n>+const WELCOME = \"welcome\";\n>+const UPDATE = \"update\";\n>+\n>+// The maximum paragraph ID listed for 'newtab.intro.paragraph'\n>+// strings in newTab.properties\n>+const MAX_PARAGRAPH_ID = 9;\n>+\n>+const NUM_INTRO_PAGES = 3;\n> \n> let gIntro = {\n>   _nodeIDSuffixes: [\n>-    \"panel\",\n>-    \"what\",\n>+    \"mask\",\n>+    \"modal\",\n>+    \"numerical-progress\",\n>+    \"text\",\n>+    \"buttons\",\n>+    \"header\",\n>+    \"footer\"\n>   ],\n> \n>+  _buttonStrings: {\n>+    \"continue\": newTabString(\"intro.continue\"),\n>+    \"skip\": newTabString(\"intro.skip\"),\n>+    \"next\": newTabString(\"intro.next\"),\n>+    \"back\": newTabString(\"intro.back\"),\n>+    \"gotit\": newTabString(\"intro.gotit\")\n>+  },\n>+\n>+  /**\n>+   * The paragraphs & buttons to show on each page in the intros.\n>+   */\n>+  _introPages: {\n>+    \"welcome\": [[0,1],[2,3],[4,5]],\n>+    \"update\": [[6,5],[4,3],[0,1]],\n>+    \"buttons\": [[\"skip\", \"continue\"],[\"back\", \"next\"],[\"back\", \"gotit\"]]\n>+  },\n>+\n>+  _paragraphs: [],\n>+\n>   _nodes: {},\n> \n>   init: function() {\n>     for (let idSuffix of this._nodeIDSuffixes) {\n>       this._nodes[idSuffix] = document.getElementById(\"newtab-intro-\" + idSuffix);\n>     }\n>+  },\n> \n>-    this._nodes.panel.addEventListener(\"popupshowing\", e => this._setUpPanel());\n>-    this._nodes.panel.addEventListener(\"popuphidden\", e => this._hidePanel());\n>-    this._nodes.what.addEventListener(\"click\", e => this.showPanel());\n>+  _goToPage: function(pageNum) {\n>+    this._currPage = pageNum;\n>+\n>+    this._nodes[\"numerical-progress\"].innerHTML = `${this._bold(pageNum + 1)}/ ${NUM_INTRO_PAGES}`;\n>+    this._nodes[\"numerical-progress\"].setAttribute(\"page\", pageNum);\n>+\n>+    // Set the paragraphs\n>+    let paragraphNodes = this._nodes.text.getElementsByTagName(\"p\");\n>+    let paragraphIDs = this._introPages[this._onboardingType][pageNum];\n>+    paragraphIDs.forEach((arg, index) => {\n>+      paragraphNodes[index].innerHTML = this._paragraphs[arg];\n>+    });\n>+\n>+    // Set the buttons\n>+    let buttonNodes = this._nodes.buttons.getElementsByTagName(\"input\");\n>+    let buttonIDs = this._introPages.buttons[pageNum];\n>+    buttonIDs.forEach((arg, index) => {\n>+      buttonNodes[index].setAttribute(\"value\", this._buttonStrings[arg]);\n>+    });\n>+  },\n>+\n>+  _bold: function(str) {\n>+    return `<strong> ${str} </strong>`\n>+  },\n>+\n>+  _link: function(url, text) {\n>+    return '<a href=\"' + url + '\" target=\"_blank\">' + text + \"</a>\"\n>+  },\n>+\n>+  _exitIntro: function() {\n>+    this._nodes.mask.style.opacity = 0;\n>+    this._nodes.mask.addEventListener(\"transitionend\", () => {\n>+      this._nodes.mask.style.display = \"none\";\n>+    });\n>+  },\n>+\n>+  _back: function() {\n>+    if (this._currPage == 0) {\n>+      // We're on the first page so 'back' means exit.\n>+      this._exitIntro();\n>+      return;\n>+    }\n>+    this._goToPage(this._currPage - 1);\n>+  },\n>+\n>+  _next: function() {\n>+    if (this._currPage == (NUM_INTRO_PAGES - 1)) {\n>+      // We're on the last page so 'next' means exit.\n>+      this._exitIntro();\n>+      return;\n>+    }\n>+    this._goToPage(this._currPage + 1);\n>+  },\n>+\n>+  _generateParagraphs: function() {\n>+    let customizeIcon = '<input type=\"button\" class=\"newtab-control newtab-customize\"/>';\n>+\n>+    let substringMappings = {\n>+      \"2\": [this._link(TILES_PRIVACY_LINK, newTabString(\"privacy.link\"))],\n>+      \"4\": [customizeIcon, this._bold(newTabString(\"intro.controls\"))],\n>+      \"6\": [this._bold(newTabString(\"intro.delete\")), this._bold(newTabString(\"intro.pin\"))],\n>+      \"7\": [this._link(TILES_INTRO_LINK, newTabString(\"learn.link\"))],\n>+      \"8\": [this._link(TILES_INTRO_LINK, newTabString(\"learn.link\"))]\n>+    }\n>+\n>+    for (let i = 1; i <= MAX_PARAGRAPH_ID; i++) {\n>+      try {\n>+        this._paragraphs.push(newTabString(\"intro.paragraph\" + i, substringMappings[i]))\n>+      } catch (ex) {\n>+        // Paragraph with this ID doesn't exist so continue\n>+      }\n>+    }\n>   },\n> \n>   showIfNecessary: function() {\n>     if (!Services.prefs.getBoolPref(PREF_INTRO_SHOWN)) {\n>-      Services.prefs.setBoolPref(PREF_INTRO_SHOWN, true);\n>+      this._onboardingType = WELCOME;\n>+      this.showPanel();\n>+    } else if (!Services.prefs.getBoolPref(PREF_UPDATE_INTRO_SHOWN)) {\n>+      this._onboardingType = UPDATE;\n>       this.showPanel();\n>     }\n>+    Services.prefs.setBoolPref(PREF_INTRO_SHOWN, true);\n>+    Services.prefs.setBoolPref(PREF_UPDATE_INTRO_SHOWN, true);\n>   },\n> \n>   showPanel: function() {\n>-    // Point the panel at the 'what' link\n>-    this._nodes.panel.hidden = false;\n>-    this._nodes.panel.openPopup(this._nodes.what);\n>+    this._nodes.mask.style.display = \"block\";\n>+    this._nodes.mask.style.opacity = 1;\n>+\n>+    if (!this._paragraphs.length) {\n>+      // It's our first time showing the panel. Do some initial setup\n>+      this._generateParagraphs();\n>+    }\n>+    this._goToPage(0);\n>+\n>+    // Header text\n>+    this._nodes.header.innerHTML = newTabString(\"intro.header.\" + this._onboardingType);\n>+\n>+    // Footer links\n>+    let footerLinkNodes = this._nodes.footer.getElementsByTagName(\"li\");\n>+    [this._link(TILES_INTRO_LINK, newTabString(\"learn.link2\")),\n>+     this._link(TILES_PRIVACY_LINK, newTabString(\"privacy.link2\")),\n>+    ].forEach((arg, index) => {\n>+      footerLinkNodes[index].innerHTML = arg;\n>+    });\n>   },\n>-\n>-  _setUpPanel: function() {\n>-    // Build the panel if necessary\n>-    if (this._nodes.panel.childNodes.length == 1) {\n>-      ['<a href=\"' + TILES_INTRO_LINK + '\">' + newTabString(\"learn.link\") + \"</a>\",\n>-       '<a href=\"' + TILES_PRIVACY_LINK + '\">' + newTabString(\"privacy.link\") + \"</a>\",\n>-       '<input type=\"button\" class=\"newtab-customize\"/>',\n>-      ].forEach((arg, index) => {\n>-        let paragraph = document.createElementNS(HTML_NAMESPACE, \"p\");\n>-        this._nodes.panel.appendChild(paragraph);\n>-        paragraph.innerHTML = newTabString(\"intro.paragraph\" + (index + 1), [arg]);\n>-      });\n>-    }\n>-  },\n>-\n>-  _hidePanel: function() {\n>-    this._nodes.panel.hidden = true;\n>-  }\n> };\n>diff --git a/browser/base/content/newtab/newTab.css b/browser/base/content/newtab/newTab.css\n>--- a/browser/base/content/newtab/newTab.css\n>+++ b/browser/base/content/newtab/newTab.css\n>@@ -533,8 +533,215 @@ input[type=button] {\n>     background-image: url(\"chrome://global/skin/menu/shared-menu-check@2x.png\");\n>   }\n> }\n> \n> .searchSuggestionTable {\n>   font: message-box;\n>   font-size: 16px;\n> }\n>+\n>+/**\n>+ * Onboarding styling\n>+ */\n>+\n>+ #newtab-intro-mask {\n>+  position: fixed;\n>+  top: 0;\n>+  left: 0;\n>+  width: 100%;\n>+  height: 100%;\n>+  background: #424F5A;\n>+  z-index:100;\n>+  background-color: rgba(66,79,90,0.95);;\n>+  transition: opacity .5s linear;\n>+  overflow: auto;\n>+  display: none;\n>+}\n>+\n>+#newtab-intro-modal {\n>+  font-family: \"Helvetica\";\n>+  width: 700px;\n>+  height: 500px;\n>+  position: fixed;\n>+  left: 0;\n>+  right: 0;\n>+  top: 0;\n>+  bottom: 0;\n>+  margin: auto;\n>+  background: linear-gradient(#FFFFFF, #F9F9F9);\n>+  box-shadow: 0px 2px 4px #C1C1C1;\n>+  border-radius: 8px 8px 0px 0px;\n>+}\n>+\n>+#newtab-intro-header {\n>+  font-size: 28px;\n>+  color: #737980;\n>+  text-align: center;\n>+  top: 50px;\n>+  position: relative;\n>+  border-bottom: 2px solid #E0DFE0;\n>+  padding-bottom: 10px;\n>+  width: 600px;\n>+  display: block;\n>+  margin: 0px auto;\n>+  font-weight: 100;\n>+}\n>+\n>+#newtab-intro-footer {\n>+  width: 100%;\n>+  height: 55px;\n>+  margin: 0px auto;\n>+  display: block;\n>+  position: absolute;\n>+  bottom: 0px;\n>+  background-color: white;\n>+  box-shadow: 0px -1px 4px #EBEBEB;\n>+  text-align: center;\n>+  vertical-align: middle;\n>+  line-height: 55px;\n>+}\n>+\n>+#newtab-intro-footer > ul {\n>+  list-style-type: none;\n>+  margin: 0px;\n>+  padding: 0px;\n>+}\n>+\n>+#newtab-intro-footer > ul > li {\n>+  display: inline;\n>+  padding-left: 10px;\n>+  padding-right: 10px;\n>+}\n>+\n>+#newtab-intro-footer > ul > li > a {\n>+  text-decoration: none;\n>+  color: #4A90E2;\n>+}\n>+\n>+#newtab-intro-footer > ul > li > a:visited {\n>+  color: #171F26;\n>+}\n>+\n>+#newtab-intro-footer > ul > :first-child {\n>+  border-right: solid 1px #C1C1C1;\n>+}\n>+\n>+#newtab-intro-body {\n>+  height: 300px;\n>+  position: relative;\n>+  display: block;\n>+  top: 50px;\n>+  margin: 25px 50px 30px;\n>+}\n>+\n>+#newtab-intro-content > * {\n>+  display: inline-block;\n>+}\n>+\n>+#newtab-intro-content {\n>+  height: 210px;\n>+  position: relative;\n>+}\n>+\n>+#newtab-intro-buttons {\n>+  height: 90px;\n>+  text-align: center;\n>+  vertical-align: middle;\n>+  line-height: 90px;\n>+}\n>+\n>+#newtab-intro-tile {\n>+  width: 290px;\n>+  height: 100%;\n>+}\n>+\n>+#newtab-intro-text {\n>+  height: 100%;\n>+  width: 270px;\n>+  right: 0px;\n>+  position: absolute;\n>+  font-size: 14px;\n>+  line-height: 20px;\n>+}\n>+\n>+#newtab-intro-text > p {\n>+  margin: 0 0 1em 0;\n>+}\n>+\n>+#newtab-intro-text .newtab-control {\n>+  background-size: 18px auto;\n>+  height: 18px;\n>+  width: 18px;\n>+  vertical-align: middle;\n>+  opacity: 1;\n>+  position: inherit;\n>+}\n>+\n>+#newtab-intro-buttons > input {\n>+  width: 150px;\n>+  height: 50px;\n>+  margin: 0px 5px;\n>+  vertical-align: bottom;\n>+  border-radius: 2px;\n>+  border: solid 1px #2C72E2;\n>+  background-color: #FFFFFF;\n>+  color: #4A90E2;\n>+}\n>+\n>+#newtab-intro-buttons > input[default] {\n>+  background-color: #4A90E2;\n>+  color: #FFFFFF;\n>+}\n>+\n>+#newtab-intro-buttons > input:hover {\n>+  background-color: #2C72E2;\n>+  color: #FFFFFF;\n>+}\n>+\n>+#newtab-intro-progress {\n>+  position: absolute;\n>+  width: 100%;\n>+}\n>+\n>+#newtab-intro-numerical-progress {\n>+  text-align: center;\n>+  top: 15px;\n>+  position: relative;\n>+  font-size: 12px;\n>+  color: #424F5A;\n>+}\n>+\n>+#newtab-intro-graphical-progress {\n>+  text-align: left;\n>+  border-radius: 1.5px;\n>+  overflow: hidden;\n>+  position: relative;\n>+  margin: 10px auto 0px;\n>+  height: 3px;\n>+  top: 8px;\n>+  width: 35px;\n>+  opacity: 0.25;\n>+  background-color: #DCDCDC;\n>+}\n>+\n>+#indicator {\n>+  position: absolute;\n>+  top: 0px;\n>+  left: 0px;\n>+  display: inline-block;\n>+  width: 0%;\n>+  height: 4px;\n>+  background: none repeat scroll 0% 0% #FF9500;\n>+  transition: width 0.3s ease-in-out 0s;\n>+}\n>+\n>+#newtab-intro-numerical-progress[page=\"0\"] + #newtab-intro-graphical-progress > #indicator {\n>+  width: 33%;\n>+}\n>+\n>+#newtab-intro-numerical-progress[page=\"1\"] + #newtab-intro-graphical-progress > #indicator {\n>+  width: 66%;\n>+}\n>+\n>+#newtab-intro-numerical-progress[page=\"2\"] + #newtab-intro-graphical-progress > #indicator {\n>+  width: 100%;\n>+}\n>diff --git a/browser/base/content/newtab/newTab.xul b/browser/base/content/newtab/newTab.xul\n>--- a/browser/base/content/newtab/newTab.xul\n>+++ b/browser/base/content/newtab/newTab.xul\n>@@ -42,16 +42,45 @@\n>     <xul:hbox id=\"newtab-customize-classic\" class=\"newtab-customize-panel-item\">\n>       <xul:label>&newtab.customize.topsites;</xul:label>\n>     </xul:hbox>\n>     <xul:hbox id=\"newtab-customize-blank\" class=\"newtab-customize-panel-item\">\n>       <xul:label>&newtab.customize.blank2;</xul:label>\n>     </xul:hbox>\n>   </xul:panel>\n> \n>+  <div id=\"newtab-intro-mask\">\n>+    <div id=\"newtab-intro-modal\">\n>+      <div id=\"newtab-intro-progress\">\n>+        <div id=\"newtab-intro-numerical-progress\"/>\n>+        <div id=\"newtab-intro-graphical-progress\">\n>+          <span id=\"indicator\"/>\n>+        </div>\n>+      </div>\n>+      <div id=\"newtab-intro-header\"/>\n>+      <div id=\"newtab-intro-body\">\n>+        <div id=\"newtab-intro-content\">\n>+          <div id=\"newtab-intro-tile\"/>\n>+          <div id=\"newtab-intro-text\">\n>+            <p/><p/>\n>+          </div>\n>+        </div>\n>+        <div id=\"newtab-intro-buttons\">\n>+          <input type=\"button\" onclick=\"gIntro._back()\"/>\n>+          <input type=\"button\" default=\"true\" onclick=\"gIntro._next()\"/>\n>+        </div>\n>+      </div>\n>+      <div id=\"newtab-intro-footer\">\n>+        <ul>\n>+          <li/><li/>\n>+        </ul>\n>+      </div>\n>+    </div>\n>+  </div>\n>+\n>   <div id=\"newtab-scrollbox\">\n> \n>     <div id=\"newtab-vertical-margin\">\n> \n>       <div id=\"newtab-margin-top\"/>\n> \n>       <div id=\"newtab-margin-undo-container\">\n>         <div id=\"newtab-undo-container\" undo-disabled=\"true\">\n>diff --git a/browser/base/content/test/newtab/browser_newtab_intro.js b/browser/base/content/test/newtab/browser_newtab_intro.js\n>--- a/browser/base/content/test/newtab/browser_newtab_intro.js\n>+++ b/browser/base/content/test/newtab/browser_newtab_intro.js\n>@@ -1,51 +1,94 @@\n> /* Any copyright is dedicated to the Public Domain.\n>    http://creativecommons.org/publicdomain/zero/1.0/ */\n> \n> const INTRO_PREF = \"browser.newtabpage.introShown\";\n>+const UPDATE_INTRO_PREF = \"browser.newtabpage.updateIntroShown\";\n> const PRELOAD_PREF = \"browser.newtab.preload\";\n> \n> function runTests() {\n>   let origIntro = Services.prefs.getBoolPref(INTRO_PREF);\n>+  let origUpdateIntro = Services.prefs.getBoolPref(UPDATE_INTRO_PREF);\n>   let origPreload = Services.prefs.getBoolPref(PRELOAD_PREF);\n>   registerCleanupFunction(_ => {\n>     Services.prefs.setBoolPref(INTRO_PREF, origIntro);\n>+    Services.prefs.setBoolPref(INTRO_PREF, origUpdateIntro);\n>     Services.prefs.setBoolPref(PRELOAD_PREF, origPreload);\n>   });\n> \n>   // Test with preload false\n>   Services.prefs.setBoolPref(INTRO_PREF, false);\n>+  Services.prefs.setBoolPref(UPDATE_INTRO_PREF, false);\n>   Services.prefs.setBoolPref(PRELOAD_PREF, false);\n> \n>-  let panel;\n>-  function maybeWaitForPanel() {\n>-    // If already open, no need to wait\n>-    if (panel.state == \"open\") {\n>-      executeSoon(TestRunner.next);\n>-      return;\n>-    }\n>-\n>-    // We're expecting the panel to open, so wait for it\n>-    panel.addEventListener(\"popupshown\", TestRunner.next);\n>-    isnot(panel.state, \"open\", \"intro panel can be slow to show\");\n>-  }\n>+  let intro;\n>+  yield addNewTabPageTab();\n>+  intro = getContentDocument().getElementById(\"newtab-intro-mask\");\n>+  is(intro.style.opacity, 1, \"intro automatically shown on first opening\");\n>+  is(getContentDocument().getElementById(\"newtab-intro-header\").innerHTML,\n>+     \"Welcome to New Tab on Firefox!\", \"we show the first-run intro.\");\n>+  is(Services.prefs.getBoolPref(INTRO_PREF), true, \"newtab remembers that the intro was shown\");\n>+  is(Services.prefs.getBoolPref(UPDATE_INTRO_PREF), true, \"newtab avoids showing update if intro was shown\");\n> \n>   yield addNewTabPageTab();\n>-  panel = getContentDocument().getElementById(\"newtab-intro-panel\");\n>-  yield maybeWaitForPanel();\n>-  is(panel.state, \"open\", \"intro automatically shown on first opening\");\n>-  is(Services.prefs.getBoolPref(INTRO_PREF), true, \"newtab remembers that the intro was shown\");\n>-\n>-  yield addNewTabPageTab();\n>-  panel = getContentDocument().getElementById(\"newtab-intro-panel\");\n>-  is(panel.state, \"closed\", \"intro not shown on second opening\");\n>+  intro = getContentDocument().getElementById(\"newtab-intro-mask\");\n>+  is(intro.style.opacity, 0, \"intro not shown on second opening\");\n> \n>   // Test with preload true\n>   Services.prefs.setBoolPref(INTRO_PREF, false);\n>   Services.prefs.setBoolPref(PRELOAD_PREF, true);\n> \n>   yield addNewTabPageTab();\n>-  panel = getContentDocument().getElementById(\"newtab-intro-panel\");\n>-  yield maybeWaitForPanel();\n>-  is(panel.state, \"open\", \"intro automatically shown on preloaded opening\");\n>+  intro = getContentDocument().getElementById(\"newtab-intro-mask\");\n>+  is(intro.style.opacity, 1, \"intro automatically shown on preloaded opening\");\n>+  is(getContentDocument().getElementById(\"newtab-intro-header\").innerHTML,\n>+     \"Welcome to New Tab on Firefox!\", \"we show the first-run intro.\");\n>   is(Services.prefs.getBoolPref(INTRO_PREF), true, \"newtab remembers that the intro was shown\");\n>+  is(Services.prefs.getBoolPref(UPDATE_INTRO_PREF), true, \"newtab avoids showing update if intro was shown\");\n>+\n>+  // Test with first run true but update false\n>+  Services.prefs.setBoolPref(UPDATE_INTRO_PREF, false);\n>+\n>+  yield addNewTabPageTab();\n>+  intro = getContentDocument().getElementById(\"newtab-intro-mask\");\n>+  is(intro.style.opacity, 1, \"intro automatically shown on preloaded opening\");\n>+  is(getContentDocument().getElementById(\"newtab-intro-header\").innerHTML,\n>+     \"New Tab got an update!\", \"we show the update intro.\");\n>+  is(Services.prefs.getBoolPref(INTRO_PREF), true, \"INTRO_PREF stays true\");\n>+  is(Services.prefs.getBoolPref(UPDATE_INTRO_PREF), true, \"newtab remembers that the update intro was show\");\n>+\n>+  // Test clicking the 'next' and 'back' buttons.\n>+  let buttons = getContentDocument().getElementById(\"newtab-intro-buttons\").getElementsByTagName(\"input\");\n>+  let progress = getContentDocument().getElementById(\"newtab-intro-numerical-progress\");\n>+  let back = buttons[0];\n>+  let next = buttons[1];\n>+\n>+  synthesizeNativeMouseLDown(next);\n>+  synthesizeNativeMouseLUp(next).then(() => {\n>+    is(progress.getAttribute(\"page\"), 1, \"we get to the 2nd page\");\n>+    is(intro.style.opacity, 1, \"intro visible\");\n>+  }, Cu.reportError);\n>+\n>+  synthesizeNativeMouseLDown(next);\n>+  synthesizeNativeMouseLUp(next).then(() => {\n>+    is(progress.getAttribute(\"page\"), 2, \"we get to the 3rd page\");\n>+    is(intro.style.opacity, 1, \"intro visible\");\n>+  }, Cu.reportError);\n>+\n>+  synthesizeNativeMouseLDown(back);\n>+  synthesizeNativeMouseLUp(back).then(() => {\n>+    is(progress.getAttribute(\"page\"), 1, \"go back to 2nd page\");\n>+    is(intro.style.opacity, 1, \"intro visible\");\n>+  }, Cu.reportError);\n>+\n>+  synthesizeNativeMouseLDown(back);\n>+  synthesizeNativeMouseLUp(back).then(() => {\n>+    is(progress.getAttribute(\"page\"), 0, \"go back to 1st page\");\n>+    is(intro.style.opacity, 1, \"intro visible\");\n>+  }, Cu.reportError);\n>+\n>+  synthesizeNativeMouseLDown(back);\n>+  synthesizeNativeMouseLUp(back).then(() => {\n>+    is(progress.getAttribute(\"page\"), 0, \"another back will 'skip tutorial'\");\n>+    is(intro.style.opacity, 0, \"intro exited\");\n>+  }, Cu.reportError);\n> }\n>diff --git a/browser/locales/en-US/chrome/browser/newTab.properties b/browser/locales/en-US/chrome/browser/newTab.properties\n>--- a/browser/locales/en-US/chrome/browser/newTab.properties\n>+++ b/browser/locales/en-US/chrome/browser/newTab.properties\n>@@ -21,19 +21,41 @@ newtab.sponsored.explain=This tile is be\n> # LOCALIZATION NOTE(newtab.suggested.explain): %1$S will be replaced inline by\n> # the (X) block icon. %2$S will be replaced by an active link using string\n> # newtab.learn.link as text.\n> newtab.suggested.explain=This site is suggested to you by Mozilla. You can remove it at any time by clicking the %1$S button. %2$S\n> # LOCALIZATION NOTE(newtab.enhanced.explain): %1$S will be replaced inline by\n> # the gear icon used to customize the new tab window. %2$S will be replaced by\n> # an active link using string newtab.learn.link as text.\n> newtab.enhanced.explain=A Mozilla partner has visually enhanced this tile, replacing the screenshot. You can turn off enhanced tiles by clicking the %1$S button for your preferences. %2$S\n>-# LOCALIZATION NOTE(newtab.intro.paragraph1): %1$S will be replaced inline by\n>-# active link using string newtab.learn.link as text.\n>-newtab.intro.paragraph1=When you open a new tab, you\u00e2\u0080\u0099ll see tiles from the sites you frequently visit, along with tiles that we think might be of interest to you. Some of these tiles may be sponsored by Mozilla partners. We\u00e2\u0080\u0099ll always indicate to you which tiles are sponsored. %1$S\n> # LOCALIZATION NOTE(newtab.intro.paragraph2): %1$S will be replaced inline by\n> # active link using string newtab.privacy.link as text.\n> newtab.intro.paragraph2=In order to provide this service, Mozilla collects and uses certain analytics information relating to your use of the tiles in accordance with our %1$S.\n>-# LOCALIZATION NOTE(newtab.intro.paragraph3): %1$S will be replaced inline by\n>-# the gear icon used to customize the new tab window.\n>-newtab.intro.paragraph3=You can turn off the tiles feature by clicking the %1$S button for your preferences.\n>+# LOCALIZATION NOTE(newtab.intro.paragraph4): %1$S will be replaced inline by\n>+# the gear icon used to customize the new tab window. %2$S will be replaced by\n>+# newtab.intro.controls as text\n>+newtab.intro.paragraph4=You can turn off this feature by clicking the gear (%1$S) button and selecting \"Show blank page\" in the %2$S menu.\n>+newtab.intro.paragraph5=New Tab will show the sites you visit most frequently, along with sites we think might be of interest to you. To get started, you'll see several sites from Mozilla.\n>+# LOCALIZATION NOTE(newtab.intro.paragraph6): %1$S will be replaced by\n>+# newtab.intro.delete as bold text. %2$S will be replaced by\n>+# newtab.intro.pin as bold text\n>+newtab.intro.paragraph6=You can %1$S or %2$S any site by using the controls available on rollover.\n>+newtab.intro.paragraph7=Some of the sites you will see may be suggested by Mozilla and may be sponsored by a Mozilla partner. We'll always indicate which sites are sponsored.\n>+# LOCALIZATION NOTE(newtab.intro.paragraph8): %1$S will be replaced inline by\n>+# an active link using string newtab.learn.link as text.\n>+newtab.intro.paragraph8=Firefox will only show sites that most closely match your interests on the Web. %1$S\n>+newtab.intro.paragraph9=Now when you open New Tab, you'll also see sites we think might be interesting to you.\n>+# LOCALIZATION NOTE(newtab.intro.controls): the controls in the gear icon\n>+# menu for customizing the new tab window. Used in newtab.intro.paragraph4\n>+newtab.intro.controls=New Tab Controls\n> newtab.learn.link=Learn more\u00e2\u0080\u00a6\n> newtab.privacy.link=Privacy Notice\n>+newtab.learn.link2=More about New Tab\n>+newtab.privacy.link2=About your privacy\n>+newtab.intro.delete=delete\n>+newtab.intro.pin=pin\n>+newtab.intro.header.welcome=Welcome to New Tab on Firefox!\n>+newtab.intro.header.update=New Tab got an update!\n>+newtab.intro.skip=Skip this\n>+newtab.intro.continue=Continue tour\n>+newtab.intro.back=Back\n>+newtab.intro.next=Next\n>+newtab.intro.gotit=Got it!", "author": "msamuel@mozilla.com", "id": 10218692, "time": "2015-04-30T19:18:07Z"}, {"text": "oops giant comment O_O", "author": "msamuel@mozilla.com", "id": 10218702, "time": "2015-04-30T19:20:07Z"}, {"text": "Comment on attachment 8600022\nPart 1: v4: Onboarding UI without the tile images\n\nReview of attachment 8600022:\n-----------------------------------------------------------------\n\nNice job!\n\n::: browser/base/content/newtab/intro.js\n@@ +55,5 @@\n> +  /**\n> +   * The paragraphs & buttons to show on each page in the intros.\n> +   */\n> +  _introPages: {\n> +    \"welcome\": [[0,1],[2,3],[4,5]],\n\nCould you please add a comment explaining these structures?\n\n@@ +79,5 @@\n> +  },\n> +\n> +  _goToPage: function(pageNum) {\n> +    let buttonStrings = {\n> +      \"continue\": this._newTabString(\"intro.continue\"),\n\nNit: You could replace this table with simply this._newTabString(\"intro.\" + arg), below.\n\n@@ +111,5 @@\n> +    return `<strong> ${str} </strong>`\n> +  },\n> +\n> +  _link: function(url, text) {\n> +    return '<a href=\"' + url + '\" target=\"_blank\">' + text + \"</a>\"\n\nNit: Why a template string for _bold but concatenation for _link?  Not a big deal, but it would be nice for them to be consistent.\n\n::: browser/base/content/newtab/newTab.css\n@@ +551,5 @@\n> +  width: 100%;\n> +  height: 100%;\n> +  background: #424F5A;\n> +  z-index:100;\n> +  background-color: rgba(66,79,90,0.95);;\n\nNit: extra semicolon", "author": "adw@mozilla.com", "id": 10220249, "time": "2015-05-01T00:52:06Z"}, {"text": "Marina, here are my comments:\n\n1.) Layover dropshadow opacity should be set to \"multiply\", not solid. It currently looks like a glow instead of a darker shadow.\n2.) The orange progress fill (under \"1/3, 2/3, 3/3\") looks faint or partially transparent. It should be solid #FF9500. Please confirm or fix.\n\nThat's all for now!", "author": "athornburgh@mozilla.com", "id": 10222782, "time": "2015-05-01T20:09:52Z"}, {"text": "3.) Please bold the appropriate words depicted in the comps here: https://www.dropbox.com/sh/qytsdfoqide7095/AAA42KJdgI-DqRin3hYl3J1ja?dl=0", "author": "athornburgh@mozilla.com", "id": 10222805, "time": "2015-05-01T20:15:28Z"}, {"text": "> 1.) Layover dropshadow opacity should be set to \"multiply\", not solid. It\n> currently looks like a glow instead of a darker shadow.\n\nAaron, would you be able to specify in CSS the styling for this? I did \"box-shadow: 0px 2px 4px #C1C1C1;\" but it doesn't look like box-shadow has a multiply property. Thanks!", "author": "msamuel@mozilla.com", "id": 10239901, "time": "2015-05-06T23:22:18Z"}, {"text": "Created attachment 8602390\nPart 2: v1: Add onboarding images", "author": "msamuel@mozilla.com", "id": 10239927, "time": "2015-05-06T23:28:55Z"}, {"text": "Marina, the more I think about it, the solution is super simple: just make the shadow #000000 / 70% transparency. Thank you!", "author": "athornburgh@mozilla.com", "id": 10240279, "time": "2015-05-07T02:06:05Z"}, {"text": "Created attachment 8602885\n[strings] Part 3: v1: Change to localizable strings\n\nThis patch goes on top of part 1 and part 2 and it replaces hardcoded strings with localizable strings.", "author": "msamuel@mozilla.com", "id": 10243715, "time": "2015-05-07T18:36:03Z"}, {"text": "Comment on attachment 8602885\n[strings] Part 3: v1: Change to localizable strings\n\n>+# LOCALIZATION NOTE(newtab.intro.header.welcome): %1$S will be replaced by\n>+# newtab.intro.firefox as bold text.\n>+newtab.intro.header.welcome=Welcome to New Tab on %1$S\n>+newtab.intro.firefox=Firefox!\nProbably want to reuse brandShortName defined elsewhere. And move the \"!\" to .welcome ?\n\nhttp://mxr.mozilla.org/mozilla-central/source/browser/base/content/webrtcIndicator.js#12\n15   let brand = Services.strings.createBundle(\"chrome://branding/locale/brand.properties\");\n16   let brandShortName = brand.GetStringFromName(\"brandShortName\");", "author": "edilee@mozilla.com", "id": 10244738, "time": "2015-05-07T21:47:37Z"}, {"text": "Comment on attachment 8602390\nPart 2: v1: Add onboarding images\n\nReview of attachment 8602390:\n-----------------------------------------------------------------\n\n::: browser/base/content/newtab/intro.js\n@@ +181,5 @@\n> +          image.classList.add(\"newtab-intro-image-customize\");\n> +          break;\n> +        case this._imageTypes.PIN_REMOVE:\n> +          imageClass = \"-hover\";\n> +        case this._imageTypes.SUGGESTED:\n\nPlease add a comment saying that the fall-through is intentional.\n\n@@ +197,5 @@\n> +            '    <input type=\"button\" class=\"newtab-control newtab-control-pin\"/>' +\n> +            '    <input type=\"button\" class=\"newtab-control newtab-control-block\"/>' + (imageClass ? \"\" :\n> +            '    <span class=\"newtab-sponsored\">SUGGESTED</span>') +\n> +            '  </div>' +\n> +            '</div>';\n\nPlease add a break here to prevent accidentally falling through if we add another case in the future.", "author": "adw@mozilla.com", "id": 10244885, "time": "2015-05-07T22:13:46Z"}, {"text": "(In reply to Ed Lee :Mardak from comment #31)\n> Comment on attachment 8602885\n> [strings] Part 3: v1: Change to localizable strings\n> \n> >+# LOCALIZATION NOTE(newtab.intro.header.welcome): %1$S will be replaced by\n> >+# newtab.intro.firefox as bold text.\n> >+newtab.intro.header.welcome=Welcome to New Tab on %1$S\n> >+newtab.intro.firefox=Firefox!\n> Probably want to reuse brandShortName defined elsewhere. And move the \"!\" to\n> .welcome ?\n\nEd's right.", "author": "adw@mozilla.com", "id": 10244898, "time": "2015-05-07T22:15:32Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/5b45e43dec40\nhttps://hg.mozilla.org/integration/fx-team/rev/cb5842311d43\nhttps://hg.mozilla.org/integration/fx-team/rev/70121f99d5f1", "author": "msamuel@mozilla.com", "id": 10248937, "time": "2015-05-08T19:40:14Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/31aa34ac00ba", "author": "pulsebot@bots.tld", "id": 10249026, "time": "2015-05-08T20:00:15Z"}, {"text": "All backed out in https://treeherder.mozilla.org/#/jobs?repo=fx-team&revision=9c709ae78ec4 for bc1 orange:\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=3007032&repo=fx-team", "author": "kwierso@gmail.com", "id": 10249851, "time": "2015-05-08T23:03:45Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/5751177e9259", "author": "pulsebot@bots.tld", "id": 10249871, "time": "2015-05-08T23:11:15Z"}, {"text": "I unbacked out the SUGGESTED string\n\nhttps://hg.mozilla.org/integration/fx-team/rev/5751177e9259", "author": "edilee@mozilla.com", "id": 10249874, "time": "2015-05-08T23:12:30Z"}, {"text": "Backout:\nhttps://hg.mozilla.org/integration/fx-team/rev/3cb8a737f45b", "author": "pulsebot@bots.tld", "id": 10249892, "time": "2015-05-08T23:14:18Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/adbc210cb42b", "author": "pulsebot@bots.tld", "id": 10251719, "time": "2015-05-10T06:49:15Z"}, {"text": "Created attachment 8603798\npart 3a: strings only\n\nI landed part 3 as 3a with only strings except for the one that already landed in bug 1138817 for SUGGESTED. I also updated a localization note to say brandShortName.", "author": "edilee@mozilla.com", "id": 10251720, "time": "2015-05-10T06:49:48Z"}, {"text": "Here's a build from fx-team before it was backed out:\n\nhttp://ftp.mozilla.org/pub/mozilla.org/firefox/tinderbox-builds/fx-team-macosx64/1431115202/firefox-40.0a1.en-US.mac.dmg\n\nOn page 1/3 of update or 3/3 of intro, \"Learn more...\" seems to have a default link styling. Should it be the same as the styling at the bottom for \"About your privacy\" ?\n\nFor 3/3 of update or 1/1 of intro, the menu has a pointer cursor making it seem like the menu can be clicked on. \"Privacy Notice\" also has default link styling. The inline gear ([gear]) icon also has a pointer cursor.\n\nFor the link styling of the bottom items, they become black when visited. Not sure if that's expected.", "author": "edilee@mozilla.com", "id": 10251729, "time": "2015-05-10T07:02:46Z"}, {"text": "And for those testing, you can go to about:config and toggle introShown/updateIntroShown to see the intro again. (I believe dcrobot said we don't want a menu item to trigger the intro again.)", "author": "edilee@mozilla.com", "id": 10251731, "time": "2015-05-10T07:05:43Z"}, {"text": "(In reply to Ed Lee :Mardak from comment #41)\n> I landed part 3 as 3a with only strings except for the one that already\n> landed in bug 1138817 for SUGGESTED. I also updated a localization note to\n> say brandShortName.\n\nBacked out in https://hg.mozilla.org/integration/fx-team/rev/153c1531b908 since that removed the currently-used strings, breaking the browser_newtab_intro.js test.", "author": "philringnalda@gmail.com", "id": 10252022, "time": "2015-05-10T14:06:00Z"}, {"text": "I really wish we could land so many strings not so close to merge day.\n\n># LOCALIZATION NOTE(newtab.intro.paragraph6): %1$S will be replaced by\n># newtab.intro.remove as bold text. %2$S will be replaced by\n># newtab.intro.pin as bold text\n>newtab.intro.paragraph6=You can %1$S or %2$S any site by using the controls available on rollover.\n>newtab.intro.remove=remove\n>newtab.intro.pin=pin\n\nCan you confirm that \"remove\" and \"pin\" are used solely in this string?\n\n>newtab.intro.paragraph8 = Firefox will only show sites that most closely match your interests on the Web. %1$S\n\nWhy hard-coded Firefox and not brandShortName?\n\n># LOCALIZATION NOTE(newtab.intro.header.welcome): %1$S will be replaced by\n># newtab.intro.firefox as bold text.\n\nThere's no such thing as \"newtab.intro.firefox\" in the landed strings.", "author": "francesco.lodolo@gmail.com", "id": 10252193, "time": "2015-05-10T17:49:56Z"}, {"text": "Created attachment 8603860\npart 3a: v2 strings only\n\nSorry for the late in nightly strings. Is there something that needs to be specially handled because the strings were backed out?\n\n(In reply to Francesco Lodolo [:flod] (UTC+2) from comment #45)\n> ># LOCALIZATION NOTE(newtab.intro.paragraph6): %1$S will be replaced by\n> ># newtab.intro.remove as bold text. %2$S will be replaced by\n> ># newtab.intro.pin as bold text\n> >newtab.intro.paragraph6=You can %1$S or %2$S any site by using the controls available on rollover.\n> >newtab.intro.remove=remove\n> >newtab.intro.pin=pin\n> Can you confirm that \"remove\" and \"pin\" are used solely in this string?\nThey are, and I made it explicit by changing them to newtab.intro.paragraph6.pin/remove.\n\n> >newtab.intro.paragraph8 = Firefox will only show sites that most closely match your interests on the Web. %1$S\n> Why hard-coded Firefox and not brandShortName?\nChanged to %1$S for brandShortName and %2$S for learn more.\n\n> ># LOCALIZATION NOTE(newtab.intro.header.welcome): %1$S will be replaced by\n> ># newtab.intro.firefox as bold text.\n> There's no such thing as \"newtab.intro.firefox\" in the landed strings.\nThis was fixed to brandShortName after the initial back out.", "author": "edilee@mozilla.com", "id": 10252255, "time": "2015-05-10T18:56:39Z"}, {"text": "Comment on attachment 8603860\npart 3a: v2 strings only\n\nReview of attachment 8603860:\n-----------------------------------------------------------------\n\nSince strings were backed out \"quickly\", you can land them without new IDs. You'll need to land this before merge, to avoid breaking string freeze in Aurora and get approval.\n\nPatch LGTM.", "author": "francesco.lodolo@gmail.com", "id": 10252264, "time": "2015-05-10T19:11:30Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/93f893af2866", "author": "pulsebot@bots.tld", "id": 10252382, "time": "2015-05-10T20:22:12Z"}, {"text": "Comment on attachment 8603860\npart 3a: v2 strings only\n\nemtwo, f? just to remind you that I renamed remove/pin to paragraph6.remove/pin and changed paragraph8 to accept brandShortName. Also, I didn't remove the paragraph1/3 to not break the current tests.", "author": "edilee@mozilla.com", "id": 10252386, "time": "2015-05-10T20:25:35Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/93f893af2866", "author": "philringnalda@gmail.com", "id": 10252691, "time": "2015-05-11T01:46:02Z"}, {"text": "Updated tests with fixes that ran fine on try:\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=a5902a1a16fa\n\nAlso adjusted patches accordingly based on already landed string changes\n\nhttps://hg.mozilla.org/integration/fx-team/rev/f44d1033b21e\nhttps://hg.mozilla.org/integration/fx-team/rev/53c8327e4b03\nhttps://hg.mozilla.org/integration/fx-team/rev/a0cbe2e08a48", "author": "msamuel@mozilla.com", "id": 10265164, "time": "2015-05-13T18:50:01Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/f44d1033b21e\nhttps://hg.mozilla.org/mozilla-central/rev/53c8327e4b03\nhttps://hg.mozilla.org/mozilla-central/rev/a0cbe2e08a48", "author": "kwierso@gmail.com", "id": 10270575, "time": "2015-05-14T22:42:45Z"}, {"text": "Comment on attachment 8580819\nonboarding spec\n\nobsolete spec. new one should be attachment 8592387 I believe..", "author": "edilee@mozilla.com", "id": 10274242, "time": "2015-05-15T18:50:53Z"}, {"text": "We'll be uplifting this to 39 and 40, but we'll want to resolve some l10n issues first for 40, e.g., bug 1165394 and bug 1165430. For 39, we're uplifting this as en-US only.", "author": "edilee@mozilla.com", "id": 10274324, "time": "2015-05-15T19:05:19Z"}, {"text": "Comment on attachment 8600022\nPart 1: v4: Onboarding UI without the tile images\n\n>+++ b/browser/base/content/newtab/intro.js\n>+  _introPages: {\n>+    \"welcome\": [[0,1],[2,3],[4,5]],\n>+    \"update\": [[6,5],[4,3],[0,1]],\n\n>+    for (let i = 1; i <= MAX_PARAGRAPH_ID; i++) {\n>+      try {\n>+        this._paragraphs.push(this._newTabString(\"intro.paragraph\" + i, substringMappings[i]))\n>+      } catch (ex) {\n>+        // Paragraph with this ID doesn't exist so continue\n\n>+++ b/browser/locales/en-US/chrome/browser/newTab.properties\n>-newtab.intro.paragraph1=When you open a new tab, you\u00e2\u0080\u0099ll see tiles from the sites you frequently visit, along with tiles that we think might be of interest to you. Some of these tiles may be sponsored by Mozilla partners. We\u00e2\u0080\u0099ll always indicate to you which tiles are sponsored. %1$S\n>-newtab.intro.paragraph3=You can turn off the tiles feature by clicking the %1$S button for your preferences.\n\nTurns out this logic is somewhat dangerous in that it relies on the newTab.properties file. I was unremoving the paragraph1/3 for aurora uplift, and this changed the logic of which strings get shown. _introPages.welcome/update are using the compacted/id-skipped array, but safer would probably be to have this._paragraphs be a sparse array that matches the ids of the .properties.", "author": "edilee@mozilla.com", "id": 10305886, "time": "2015-05-25T08:34:57Z"}, {"text": "Created attachment 8610011\npart 4: v1 (aurora only)\n\nFor aurora, the 2 paragraphs will be unremoved:\n\nhttps://hg.mozilla.org/mozilla-central/rev/a0cbe2e08a48#l3.1", "author": "edilee@mozilla.com", "id": 10305900, "time": "2015-05-25T08:42:31Z"}, {"text": "Created attachment 8610020\nfor aurora (Mardak will land)", "author": "edilee@mozilla.com", "id": 10305952, "time": "2015-05-25T09:02:48Z"}, {"text": "Comment on attachment 8610011\npart 4: v1 (aurora only)\n\nReview of attachment 8610011:\n-----------------------------------------------------------------\n\nNice, thanks Ed", "author": "msamuel@mozilla.com", "id": 10306763, "time": "2015-05-25T15:48:15Z"}, {"text": "Comment on attachment 8600022\nPart 1: v4: Onboarding UI without the tile images\n\n>   showIfNecessary: function() {\n>     if (!Services.prefs.getBoolPref(PREF_INTRO_SHOWN)) {\n>-      Services.prefs.setBoolPref(PREF_INTRO_SHOWN, true);\n>+      this._onboardingType = WELCOME;\n>+      this.showPanel();\n>+    } else if (!Services.prefs.getBoolPref(PREF_UPDATE_INTRO_SHOWN) && DirectoryLinksProvider.locale == \"en-US\") {\n>+      this._onboardingType = UPDATE;\n>       this.showPanel();\n>     }\n>+    Services.prefs.setBoolPref(PREF_INTRO_SHOWN, true);\n>+    Services.prefs.setBoolPref(PREF_UPDATE_INTRO_SHOWN, true);\nemtwo, this logic doesn't seem quite right for non en-US users who might only be seeing the old intro message. These users should have UPDATE kept false until they run a version of Firefox that can show the new intro/update.", "author": "edilee@mozilla.com", "id": 10308618, "time": "2015-05-26T08:12:33Z"}, {"text": "Created attachment 8610434\nfor beta (Mardak will land)", "author": "edilee@mozilla.com", "id": 10308714, "time": "2015-05-26T08:45:13Z"}, {"text": "Verified on nightly 2015-05-24 os x\n\n1) create new profile\n2) see onboarding with the desired 3 pages starting with \"Welcome to New Tab on Nightly\"\n3) tested the 4 links (2 on bottom, 1 on page 1, 1 on page 2)\n4) can go forwards/back/skip\n\n5) toggled browser.newtabpage.updateIntroShown -> false from about:config\n6) see onboarding with the 3 pages starting with \"New Tab got an update!\"\n7) checks links and functionality as in step 3,4", "author": "edilee@mozilla.com", "id": 10312505, "time": "2015-05-26T22:30:49Z"}, {"text": "Comment on attachment 8610020\nfor aurora (Mardak will land)\n\nApproval Request Comment: See bug 1140185 comment 11", "author": "edilee@mozilla.com", "id": 10313147, "time": "2015-05-27T01:05:50Z"}, {"text": "Created attachment 8611262\nPart 2a: v1 (beta):  Don't set non-en-US users update pref to true\n\n(In reply to Ed Lee :Mardak from comment #59)\n> Comment on attachment 8600022\n> Part 1: v4: Onboarding UI without the tile images\n> \n> >   showIfNecessary: function() {\n> >     if (!Services.prefs.getBoolPref(PREF_INTRO_SHOWN)) {\n> >-      Services.prefs.setBoolPref(PREF_INTRO_SHOWN, true);\n> >+      this._onboardingType = WELCOME;\n> >+      this.showPanel();\n> >+    } else if (!Services.prefs.getBoolPref(PREF_UPDATE_INTRO_SHOWN) && DirectoryLinksProvider.locale == \"en-US\") {\n> >+      this._onboardingType = UPDATE;\n> >       this.showPanel();\n> >     }\n> >+    Services.prefs.setBoolPref(PREF_INTRO_SHOWN, true);\n> >+    Services.prefs.setBoolPref(PREF_UPDATE_INTRO_SHOWN, true);\n> emtwo, this logic doesn't seem quite right for non en-US users who might\n> only be seeing the old intro message. These users should have UPDATE kept\n> false until they run a version of Firefox that can show the new intro/update.\n\nEd, good point. I have a little patch here that should address this problem", "author": "msamuel@mozilla.com", "id": 10315710, "time": "2015-05-27T15:55:59Z"}, {"text": "http://hg.mozilla.org/releases/mozilla-aurora/rev/99698ae93eb8", "author": "edilee@mozilla.com", "id": 10317241, "time": "2015-05-27T20:42:34Z"}, {"text": "Comment on attachment 8610020\nfor aurora (Mardak will land)\n\napproval-mozilla-aurora+ granted in bug 1140185 comment 14", "author": "edilee@mozilla.com", "id": 10317277, "time": "2015-05-27T20:47:29Z"}, {"text": "Verified fixed on latest Aurora, build ID: 20150528004000.\n\nTested on Windows 7 64-bit, Mac OS X 10.9.5 and Ubuntu 14.04 32-bit.", "author": "cornel.ionce@softvision.ro", "id": 10321231, "time": "2015-05-28T13:24:37Z"}], "id": 1138818, "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-07-15T01:18:26Z", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "---", "blocks": [1140185, 1121549, 1145303, 1163137, 1167610], "qa_contact": "", "see_also": [], "cf_fx_iteration": "41.1 - May 25", "component": "New Tab Page", "votes": 0, "groups": [], "cf_status_firefox60": "---", "cf_status_firefox41": "verified", "cf_status_firefox40": "verified", "target_milestone": "Firefox 41", "is_cc_accessible": true, "status": "VERIFIED", "url": "", "creator_detail": {"email": "edilee@mozilla.com", "id": 125983, "name": "edilee@mozilla.com", "real_name": "Ed Lee :Mardak (PTO-Mar18)"}, "whiteboard": ".001 [strings]", "mentors": [], "cc_detail": [{"email": "adw@mozilla.com", "id": 334927, "name": "adw@mozilla.com", "real_name": "Drew Willcoxon :adw"}, {"email": "athornburgh@mozilla.com", "id": 508242, "name": "athornburgh@mozilla.com", "real_name": "Aaron"}, {"email": "cornel.ionce@softvision.ro", "id": 458186, "name": "cornel.ionce@softvision.ro", "real_name": "Cornel Ionce [:cornel_ionce], Desktop Release QA"}, {"email": "edilee@mozilla.com", "id": 125983, "name": "edilee@mozilla.com", "real_name": "Ed Lee :Mardak (PTO-Mar18)"}, {"email": "francesco.lodolo@gmail.com", "id": 130462, "name": "francesco.lodolo@gmail.com", "real_name": "Francesco Lodolo [:flod]"}, {"email": "kghim@mozilla.com", "id": 499936, "name": "kghim@mozilla.com", "real_name": "Kevin Ghim"}, {"email": "kwierso@gmail.com", "id": 308534, "name": "kwierso@gmail.com", "real_name": "Wes Kocher (:KWierso)"}, {"email": "msamuel@mozilla.com", "id": 413880, "name": "msamuel@mozilla.com", "real_name": "Marina Samuel [:emtwo]"}, {"email": "pfinch@mozilla.com", "id": 322066, "name": "pfinch@mozilla.com", "real_name": "Patrick Finch"}, {"email": "philringnalda@gmail.com", "id": 135518, "name": "philringnalda@gmail.com", "real_name": "Phil Ringnalda (:philor)"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [{"status": "+", "name": "firefox-backlog", "modification_date": "2015-05-27T20:42:34Z", "type_id": 846, "creation_date": "2015-05-27T20:42:34Z", "id": 1176422, "setter": "edilee@mozilla.com"}, {"status": "+", "name": "qe-verify", "modification_date": "2015-05-27T20:42:34Z", "type_id": 864, "creation_date": "2015-05-27T20:42:34Z", "id": 1176423, "setter": "edilee@mozilla.com"}], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "13", "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "edilee@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(kghim@mozilla.com)"}], "who": "edilee@mozilla.com", "when": "2015-03-03T07:53:07Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "athornburgh@mozilla.com, pfinch@mozilla.com"}, {"removed": "needinfo?(kghim@mozilla.com)", "field_name": "flagtypes.name", "added": "needinfo?(athornburgh@mozilla.com)"}], "who": "kghim@mozilla.com", "when": "2015-03-03T22:30:57Z"}, {"changes": [{"removed": "needinfo?(athornburgh@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "athornburgh@mozilla.com", "when": "2015-03-04T00:33:35Z"}, {"changes": [{"removed": "1120311", "field_name": "blocks", "added": "1121549"}], "who": "kghim@mozilla.com", "when": "2015-03-05T00:19:48Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1140185"}], "who": "edilee@mozilla.com", "when": "2015-03-19T19:42:13Z"}, {"changes": [{"removed": "Update new tab intro messaging for suggested tiles", "field_name": "summary", "added": "New tab user onboarding for sponsored suggested tiles"}], "who": "kghim@mozilla.com", "when": "2015-03-19T23:27:56Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1147476"}], "who": "msamuel@mozilla.com", "when": "2015-03-25T19:41:58Z"}, {"changes": [{"removed": "---", "field_name": "cf_fx_points", "added": "13"}], "who": "msamuel@mozilla.com", "when": "2015-03-25T19:51:24Z"}, {"changes": [{"removed": ".?", "field_name": "whiteboard", "added": ".002"}], "who": "kghim@mozilla.com", "when": "2015-03-25T22:22:35Z"}, {"changes": [{"removed": ".002", "field_name": "whiteboard", "added": ".006"}], "who": "kghim@mozilla.com", "when": "2015-03-26T14:42:29Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1145303"}], "who": "edilee@mozilla.com", "when": "2015-04-02T23:51:51Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(athornburgh@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-04-14T15:45:53Z"}, {"changes": [{"removed": "needinfo?(athornburgh@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "athornburgh@mozilla.com", "when": "2015-04-14T15:56:25Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "msamuel@mozilla.com"}], "who": "msamuel@mozilla.com", "when": "2015-04-14T16:03:37Z"}, {"changes": [{"removed": "1145303", "field_name": "blocks", "added": ""}], "who": "kghim@mozilla.com", "when": "2015-04-22T15:35:53Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1145303"}], "who": "kghim@mozilla.com", "when": "2015-04-22T16:30:13Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "adw@mozilla.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8598050, "added": "review?(adw@mozilla.com), feedback?(edilee@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-04-27T15:41:56Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8598050, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(adw@mozilla.com), feedback?(edilee@mozilla.com)", "attachment_id": 8598050, "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8598186, "added": "review?(adw@mozilla.com), feedback?(edilee@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-04-27T19:40:44Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8598186, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(adw@mozilla.com), feedback?(edilee@mozilla.com)", "attachment_id": 8598186, "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8598762, "added": "review?(adw@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-04-28T17:12:02Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1150228"}], "who": "edilee@mozilla.com", "when": "2015-04-28T20:11:48Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8600022, "added": "review?(adw@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-04-30T19:17:01Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8598762, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(adw@mozilla.com)", "attachment_id": 8598762, "added": ""}], "who": "msamuel@mozilla.com", "when": "2015-04-30T19:18:07Z"}, {"changes": [{"field_name": "attachments.ispatch", "removed": "0", "attachment_id": 8600022, "added": "1"}], "who": "msamuel@mozilla.com", "when": "2015-04-30T19:18:22Z"}, {"changes": [{"removed": ".006", "field_name": "whiteboard", "added": "[strings] .006"}], "who": "msamuel@mozilla.com", "when": "2015-04-30T19:35:21Z"}, {"changes": [{"removed": "[strings] .006", "field_name": "whiteboard", "added": ".006 [strings]"}], "who": "edilee@mozilla.com", "when": "2015-04-30T19:35:48Z"}, {"changes": [{"removed": "---", "field_name": "cf_fx_iteration", "added": "40.3 - 11 May"}], "who": "edilee@mozilla.com", "when": "2015-04-30T22:45:57Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1160372"}], "who": "edilee@mozilla.com", "when": "2015-05-01T00:09:36Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(adw@mozilla.com)", "attachment_id": 8600022, "added": "review+"}], "who": "adw@mozilla.com", "when": "2015-05-01T00:52:06Z"}, {"changes": [{"removed": ".006 [strings]", "field_name": "whiteboard", "added": ".001 [strings]"}], "who": "edilee@mozilla.com", "when": "2015-05-01T19:08:09Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(athornburgh@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-05-06T23:22:18Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8602390, "added": "review?(adw@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-05-06T23:28:55Z"}, {"changes": [{"removed": "needinfo?(athornburgh@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "athornburgh@mozilla.com", "when": "2015-05-07T02:06:05Z"}, {"changes": [{"field_name": "attachments.ispatch", "removed": "0", "attachment_id": 8602885, "added": "1"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8602885, "added": "review?(adw@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-05-07T18:36:26Z"}, {"changes": [{"removed": "1160372", "field_name": "blocks", "added": ""}], "who": "edilee@mozilla.com", "when": "2015-05-07T19:24:39Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(adw@mozilla.com)", "attachment_id": 8602885, "added": "review+"}], "who": "adw@mozilla.com", "when": "2015-05-07T22:09:02Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(adw@mozilla.com)", "attachment_id": 8602390, "added": "review+"}], "who": "adw@mozilla.com", "when": "2015-05-07T22:13:46Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1138817"}], "who": "edilee@mozilla.com", "when": "2015-05-08T06:03:23Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1163137"}], "who": "edilee@mozilla.com", "when": "2015-05-08T20:21:02Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "wkocher@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(msamuel@mozilla.com)"}], "who": "kwierso@gmail.com", "when": "2015-05-08T23:03:45Z"}, {"changes": [{"removed": "1138817", "field_name": "blocks", "added": ""}], "who": "edilee@mozilla.com", "when": "2015-05-08T23:12:41Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "philringnalda@gmail.com"}], "who": "philringnalda@gmail.com", "when": "2015-05-10T14:06:00Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "francesco.lodolo@gmail.com"}], "who": "francesco.lodolo@gmail.com", "when": "2015-05-10T17:49:56Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8603798, "added": "1"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8603860, "added": "feedback?(francesco.lodolo@gmail.com)"}], "who": "edilee@mozilla.com", "when": "2015-05-10T18:56:39Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "feedback?(francesco.lodolo@gmail.com)", "attachment_id": 8603860, "added": "feedback+"}], "who": "francesco.lodolo@gmail.com", "when": "2015-05-10T19:11:30Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8603860, "added": "feedback?(msamuel@mozilla.com)"}], "who": "edilee@mozilla.com", "when": "2015-05-10T20:25:35Z"}, {"changes": [{"removed": "40.3 - 11 May", "field_name": "cf_fx_iteration", "added": "41.1 - May 25"}], "who": "edilee@mozilla.com", "when": "2015-05-12T22:31:08Z"}, {"changes": [{"removed": "needinfo?(msamuel@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "msamuel@mozilla.com", "when": "2015-05-13T18:50:01Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 41"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-05-14 15:42:45"}, {"removed": "---", "field_name": "cf_status_firefox41", "added": "fixed"}], "who": "kwierso@gmail.com", "when": "2015-05-14T22:42:45Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "feedback?(msamuel@mozilla.com)", "attachment_id": 8603860, "added": ""}], "who": "msamuel@mozilla.com", "when": "2015-05-15T14:58:25Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1165386"}], "who": "dholbert@mozilla.com", "when": "2015-05-15T17:43:58Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1165394"}], "who": "edilee@mozilla.com", "when": "2015-05-15T18:00:01Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1165404"}], "who": "dholbert@mozilla.com", "when": "2015-05-15T18:11:35Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1165420"}], "who": "dholbert@mozilla.com", "when": "2015-05-15T18:41:23Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8580819, "added": "1"}], "who": "edilee@mozilla.com", "when": "2015-05-15T18:50:53Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1165430"}], "who": "edilee@mozilla.com", "when": "2015-05-15T19:01:12Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox39", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox40", "added": "affected"}], "who": "edilee@mozilla.com", "when": "2015-05-15T19:05:19Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1165525"}], "who": "edilee@mozilla.com", "when": "2015-05-15T23:52:13Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1165594"}], "who": "theo@mozillafoundation.org", "when": "2015-05-16T15:02:55Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1166552"}], "who": "edilee@mozilla.com", "when": "2015-05-20T19:11:56Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1167610"}], "who": "mconley@mozilla.com", "when": "2015-05-22T15:06:01Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8610011, "added": "review?(adw@mozilla.com)"}], "who": "edilee@mozilla.com", "when": "2015-05-25T08:42:31Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8610011, "added": "review?(msamuel@mozilla.com)"}], "who": "edilee@mozilla.com", "when": "2015-05-25T08:48:35Z"}, {"changes": [{"field_name": "attachments.description", "removed": "part 4: v1", "attachment_id": 8610011, "added": "part 4: v1 (aurora only)"}], "who": "edilee@mozilla.com", "when": "2015-05-25T09:08:43Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(msamuel@mozilla.com)", "attachment_id": 8610011, "added": "review+"}], "who": "msamuel@mozilla.com", "when": "2015-05-25T15:48:15Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(msamuel@mozilla.com)"}], "who": "edilee@mozilla.com", "when": "2015-05-26T08:12:33Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}, {"removed": "fixed", "field_name": "cf_status_firefox41", "added": "verified"}], "who": "edilee@mozilla.com", "when": "2015-05-26T22:30:49Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8610020, "added": "approval-mozilla-aurora?"}], "who": "edilee@mozilla.com", "when": "2015-05-27T01:05:50Z"}, {"changes": [{"removed": "needinfo?(msamuel@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8611262, "added": "review?(edilee@mozilla.com)"}], "who": "msamuel@mozilla.com", "when": "2015-05-27T15:55:59Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "firefox-backlog+, qe-verify+"}, {"removed": "affected", "field_name": "cf_status_firefox40", "added": "fixed"}], "who": "edilee@mozilla.com", "when": "2015-05-27T20:42:34Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?", "attachment_id": 8610020, "added": ""}], "who": "edilee@mozilla.com", "when": "2015-05-27T20:47:29Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(edilee@mozilla.com)", "attachment_id": 8611262, "added": "review+"}], "who": "edilee@mozilla.com", "when": "2015-05-27T20:54:42Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(adw@mozilla.com)", "attachment_id": 8610011, "added": ""}], "who": "edilee@mozilla.com", "when": "2015-05-27T20:55:16Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cornel.ionce@softvision.ro"}, {"removed": "", "field_name": "depends_on", "added": "1169237, 1169241, 1169251"}, {"removed": "fixed", "field_name": "cf_status_firefox40", "added": "verified"}], "who": "cornel.ionce@softvision.ro", "when": "2015-05-28T13:24:37Z"}, {"changes": [{"removed": "1165394", "field_name": "depends_on", "added": ""}], "who": "edilee@mozilla.com", "when": "2015-06-12T17:11:41Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1172987"}], "who": "edilee@mozilla.com", "when": "2015-06-12T17:12:38Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1176517"}], "who": "theo@mozillafoundation.org", "when": "2015-06-20T19:43:32Z"}, {"changes": [{"removed": "1176517", "field_name": "depends_on", "added": ""}], "who": "edilee@mozilla.com", "when": "2015-06-21T03:39:55Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1183932"}], "who": "kghim@mozilla.com", "when": "2015-07-15T01:18:26Z"}]}