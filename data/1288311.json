{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "cpearce@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-07-22T21:49:20Z", "type_id": 4, "creation_date": "2016-07-22T01:35:24Z", "id": 1427626, "setter": "francois@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8773562}, {"creator": "cpearce@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-07-25T18:22:54Z", "type_id": 4, "creation_date": "2016-07-24T20:36:58Z", "id": 1428491, "setter": "francois@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8773563}, {"creator": "cpearce@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-07-22T02:58:08Z", "type_id": 4, "creation_date": "2016-07-22T01:35:24Z", "id": 1427628, "setter": "spohl.mozilla.bugs@gmail.com"}], "content_type": "text/x-review-board-request", "id": 8773564}], "classification": "Components", "creator": "cpearce@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_has_str": "---", "cf_user_story": "", "cf_backlog": "---", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "cc_detail": [{"email": "cpearce@mozilla.com", "id": 287422, "name": "cpearce@mozilla.com", "real_name": "Chris Pearce (:cpearce)"}, {"email": "francois@mozilla.com", "id": 303427, "name": "francois@mozilla.com", "real_name": "Fran\u00e7ois Marier [:francois]"}, {"email": "gsquelart@mozilla.com", "id": 515575, "name": "gsquelart@mozilla.com", "real_name": "Gerald Squelart [:gerald]"}, {"email": "spohl.mozilla.bugs@gmail.com", "id": 456485, "name": "spohl.mozilla.bugs@gmail.com", "real_name": "Stephen A Pohl [:spohl]"}], "cf_last_resolved": "2016-07-28T15:48:34Z", "votes": 0, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 18, "comments": [{"text": "The following histograms are expiring in 50:\n\n* VIDEO_ADOBE_GMP_DISAPPEARED expires in version 50.0a1 (watched by cpearce@mozilla.com) - Whether or not the Adobe EME GMP was expected to be resident on disk but mysteriously isn't.\n* VIDEO_ADOBE_GMP_MISSING_FILES expires in version 50.0a1 (watched by cpearce@mozilla.com) - Adobe EME GMP files missing (0=none, or sum of: 1=library, 2=info, 4=voucher)\n* VIDEO_CAN_CREATE_AAC_DECODER expires in version 50.0a1 (watched by cpearce@mozilla.com) - Whether at startup we report we can playback MP4 (AAC) audio. This is single value is recorded at every startup.\n* VIDEO_CAN_CREATE_H264_DECODER expires in version 50.0a1 (watched by cpearce@mozilla.com) - Whether at startup we report we can playback MP4 (H.264) video. This is single value is recorded at every startup.\n* VIDEO_OPENH264_GMP_DISAPPEARED expires in version 50.0a1 (watched by cpearce@mozilla.com, rjesup@mozilla.com) - Whether or not the OpenH264 GMP was expected to be resident on disk but mysteriously isn't.\n* VIDEO_OPENH264_GMP_MISSING_FILES expires in version 50.0a1 (watched by cpearce@mozilla.com, rjesup@mozilla.com) - OpenH264 GMP files missing (0=none, or sum of: 1=library, 2=info)\n\n\nWe still want the CAN_CREATE_*_DECODER probes, as we're actively trying to drive the percentage of people who *can't* create to 0.\n\nThe missing GMP probes can go I think.", "author": "cpearce@mozilla.com", "id": 11564117, "time": "2016-07-21T04:08:13Z"}, {"text": "Created attachment 8773562\nBug 1288311 - Extend VIDEO_CAN_CREATE_*_DECODER telemetry probes.\n\nWe're actively trying to encourage people to install Windows system decoders to\ndrive the \"can't create\" number to 0. So we need this probe to measure our\nprogress.\n\nReview commit: https://reviewboard.mozilla.org/r/66252/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/66252/", "author": "cpearce@mozilla.com", "id": 11567175, "time": "2016-07-22T01:35:24Z"}, {"text": "Created attachment 8773563\nBug 1288311 - Remove GMP unsupported/installation failure telemetry probes.\n\nThe telemetry results indicate there's not a big problem here that we need to\nsolve. So doesn't seem worth while keeping the probes.\n\nReview commit: https://reviewboard.mozilla.org/r/66254/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/66254/", "author": "cpearce@mozilla.com", "id": 11567176, "time": "2016-07-22T01:35:24Z"}, {"text": "Created attachment 8773564\nBug 1288311 - Remove GMP install failed/unsupported telemetry reporting code.\n\nThe telemetry result indicate that unexplained install failures are very rare,\nso we don't need to bother keeping this probe.\n\nWe should still need to check whether the GMP files disappear from disk, as\ntelemetry indicates this does happen, though quite rarely.\n\nReview commit: https://reviewboard.mozilla.org/r/66256/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/66256/", "author": "cpearce@mozilla.com", "id": 11567177, "time": "2016-07-22T01:35:24Z"}, {"text": "Comment on attachment 8773564\nBug 1288311 - Remove GMP install failed/unsupported telemetry reporting code.\n\nhttps://reviewboard.mozilla.org/r/66256/#review63090\n\n::: toolkit/mozapps/extensions/internal/GMPProvider.jsm:515\n(Diff revision 1)\n>      // Installed -> Check if files are missing.\n> -    let status = this._arePluginFilesOnDisk();\n> -    status.installed = true;\n> -    status.mismatchedABI = false;\n> -    status.valid = true;\n> -    status.missing = [];\n> +    let filesOnDisk = this._arePluginFilesOnDisk();\n> +    return {\n> +      installed: true,\n> +      valid: filesOnDisk,\n> +      missing: !filesOnDisk\n\nThe only place where we seem to be checking the value of |missing| is in the logging call in |GMPProvider::startup|. What do you think about just changing that log call and removing the |missing| property entirely?", "author": "spohl.mozilla.bugs@gmail.com", "id": 11567266, "time": "2016-07-22T02:58:08Z"}, {"text": "Comment on attachment 8773563\nBug 1288311 - Remove GMP unsupported/installation failure telemetry probes.\n\nhttps://reviewboard.mozilla.org/r/66254/#review63306\n\n::: toolkit/components/telemetry/histogram-whitelists.json:2226\n(Diff revision 1)\n>      \"URLCLASSIFIER_LOOKUP_TIME\",\n>      \"URLCLASSIFIER_PS_CONSTRUCT_TIME\",\n>      \"URLCLASSIFIER_PS_FAILURE\",\n>      \"URLCLASSIFIER_PS_FALLOCATE_TIME\",\n>      \"URLCLASSIFIER_PS_FILELOAD_TIME\",\n>      \"VIDEO_ADOBE_GMP_DISAPPEARED\",\n\nDid you mean to leave these two here?", "author": "francois@mozilla.com", "id": 11569684, "time": "2016-07-22T21:45:43Z"}, {"text": "Comment on attachment 8773562\nBug 1288311 - Extend VIDEO_CAN_CREATE_*_DECODER telemetry probes.\n\nhttps://reviewboard.mozilla.org/r/66252/#review63308", "author": "francois@mozilla.com", "id": 11569693, "time": "2016-07-22T21:49:20Z"}, {"text": "(In reply to Stephen A Pohl [:spohl] from comment #4)\n> Comment on attachment 8773564\n> Bug 1288311 - Remove GMP install failed/unsupported telemetry reporting code.\n> \n> https://reviewboard.mozilla.org/r/66256/#review63090\n> \n> ::: toolkit/mozapps/extensions/internal/GMPProvider.jsm:515\n> (Diff revision 1)\n> >      // Installed -> Check if files are missing.\n> > -    let status = this._arePluginFilesOnDisk();\n> > -    status.installed = true;\n> > -    status.mismatchedABI = false;\n> > -    status.valid = true;\n> > -    status.missing = [];\n> > +    let filesOnDisk = this._arePluginFilesOnDisk();\n> > +    return {\n> > +      installed: true,\n> > +      valid: filesOnDisk,\n> > +      missing: !filesOnDisk\n> \n> The only place where we seem to be checking the value of |missing| is in the\n> logging call in |GMPProvider::startup|. What do you think about just\n> changing that log call and removing the |missing| property entirely?\n\nSure. The only place that sets valid to false is the files missing path, so we can infer from the logging that there's files missing anyway.", "author": "cpearce@mozilla.com", "id": 11570811, "time": "2016-07-24T20:32:05Z"}, {"text": "Comment on attachment 8773562\nBug 1288311 - Extend VIDEO_CAN_CREATE_*_DECODER telemetry probes.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/66252/diff/1-2/", "author": "cpearce@mozilla.com", "id": 11570812, "time": "2016-07-24T20:36:58Z"}, {"text": "Comment on attachment 8773563\nBug 1288311 - Remove GMP unsupported/installation failure telemetry probes.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/66254/diff/1-2/", "author": "cpearce@mozilla.com", "id": 11570813, "time": "2016-07-24T20:36:58Z"}, {"text": "Comment on attachment 8773564\nBug 1288311 - Remove GMP install failed/unsupported telemetry reporting code.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/66256/diff/1-2/", "author": "cpearce@mozilla.com", "id": 11570814, "time": "2016-07-24T20:36:58Z"}, {"text": "https://reviewboard.mozilla.org/r/66254/#review63306\n\n> Did you mean to leave these two here?\n\nNope! Fixed.", "author": "cpearce@mozilla.com", "id": 11570815, "time": "2016-07-24T20:37:19Z"}, {"text": "Comment on attachment 8773563\nBug 1288311 - Remove GMP unsupported/installation failure telemetry probes.\n\nhttps://reviewboard.mozilla.org/r/66254/#review63684", "author": "francois@mozilla.com", "id": 11573233, "time": "2016-07-25T18:22:55Z"}, {"text": "Comment on attachment 8773562\nBug 1288311 - Extend VIDEO_CAN_CREATE_*_DECODER telemetry probes.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/66252/diff/2-3/", "author": "cpearce@mozilla.com", "id": 11580159, "time": "2016-07-27T21:10:05Z"}, {"text": "Comment on attachment 8773563\nBug 1288311 - Remove GMP unsupported/installation failure telemetry probes.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/66254/diff/2-3/", "author": "cpearce@mozilla.com", "id": 11580160, "time": "2016-07-27T21:10:05Z"}, {"text": "Comment on attachment 8773564\nBug 1288311 - Remove GMP install failed/unsupported telemetry reporting code.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/66256/diff/2-3/", "author": "cpearce@mozilla.com", "id": 11580161, "time": "2016-07-27T21:10:05Z"}, {"text": "Pushed by cpearce@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/44c1818d4f7d\nExtend VIDEO_CAN_CREATE_*_DECODER telemetry probes. r=francois\nhttps://hg.mozilla.org/integration/autoland/rev/0c933f4358cc\nRemove GMP unsupported/installation failure telemetry probes. r=francois\nhttps://hg.mozilla.org/integration/autoland/rev/3c891b1d6811\nRemove GMP install failed/unsupported telemetry reporting code. r=spohl", "author": "pulsebot@bots.tld", "id": 11580171, "time": "2016-07-27T21:12:20Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/44c1818d4f7d\nhttps://hg.mozilla.org/mozilla-central/rev/0c933f4358cc\nhttps://hg.mozilla.org/mozilla-central/rev/3c891b1d6811", "author": "cbook@mozilla.com", "id": 11582341, "time": "2016-07-28T15:48:34Z"}], "id": 1288311, "priority": "P1", "cc": ["cpearce@mozilla.com", "francois@mozilla.com", "gsquelart@mozilla.com", "spohl.mozilla.bugs@gmail.com"], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_firefox59": "---", "last_change_time": "2016-07-28T15:48:34Z", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2016-07-21T04:08:13Z", "cf_status_firefox_esr52": "---", "component": "Audio/Video: Playback", "assigned_to_detail": {"email": "cpearce@mozilla.com", "id": 287422, "name": "cpearce@mozilla.com", "real_name": "Chris Pearce (:cpearce)"}, "cf_status_firefox49": "---", "groups": [], "cf_status_firefox60": "---", "target_milestone": "mozilla50", "is_cc_accessible": true, "cf_rank": null, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "cpearce@mozilla.com", "id": 287422, "name": "cpearce@mozilla.com", "real_name": "Chris Pearce (:cpearce)"}, "whiteboard": "", "mentors": [], "summary": "Update media telemetry probes expiring in Firefox 50.", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "assigned_to": "cpearce@mozilla.com", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "gsquelart@mozilla.com"}], "who": "gsquelart@mozilla.com", "when": "2016-07-21T05:06:39Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8773562, "added": "review?(francois@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8773563, "added": "review?(francois@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8773564, "added": "review?(spohl.mozilla.bugs@gmail.com)"}, {"removed": "", "field_name": "cc", "added": "francois@mozilla.com, spohl.mozilla.bugs@gmail.com"}], "who": "cpearce@mozilla.com", "when": "2016-07-22T01:35:24Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(spohl.mozilla.bugs@gmail.com)", "attachment_id": 8773564, "added": "review+"}], "who": "spohl.mozilla.bugs@gmail.com", "when": "2016-07-22T02:58:08Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(francois@mozilla.com)", "attachment_id": 8773563, "added": ""}], "who": "francois@mozilla.com", "when": "2016-07-22T21:45:43Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(francois@mozilla.com)", "attachment_id": 8773562, "added": "review+"}], "who": "francois@mozilla.com", "when": "2016-07-22T21:49:20Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8773563, "added": "review?(francois@mozilla.com)"}], "who": "cpearce@mozilla.com", "when": "2016-07-24T20:36:58Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(francois@mozilla.com)", "attachment_id": 8773563, "added": "review+"}], "who": "francois@mozilla.com", "when": "2016-07-25T18:22:54Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla50"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-07-28 15:48:34"}, {"removed": "---", "field_name": "cf_status_firefox50", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2016-07-28T15:48:34Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}