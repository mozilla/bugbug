{"status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "modi.konark@gmail.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_status_firefox56": "wontfix", "cf_tracking_firefox_relnote": "---", "cf_status_firefox58": "fixed", "keywords": ["csectype-disclosure", "privacy", "sec-high"], "cf_status_firefox57": "fixed", "summary": "fingerprinting users in private window using web-worker + indexedDB", "cf_last_resolved": "2017-11-08T14:32:57Z", "attachments": [{"creator": "amarchesini@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2017-11-06T18:41:15Z", "type_id": 748, "creation_date": "2017-11-06T17:30:29Z", "id": 1676990, "setter": "bugmail@asutherland.org"}, {"status": "+", "name": "approval-mozilla-release", "modification_date": "2017-11-27T21:08:08Z", "type_id": 737, "creation_date": "2017-11-22T20:24:19Z", "id": 1685613, "setter": "rkothari@mozilla.com"}, {"status": "+", "name": "approval-mozilla-esr52", "modification_date": "2017-11-27T22:21:18Z", "type_id": 914, "creation_date": "2017-11-22T20:24:19Z", "id": 1685614, "setter": "lhenry@mozilla.com"}, {"status": "+", "name": "sec-approval", "modification_date": "2017-11-08T02:45:25Z", "type_id": 799, "creation_date": "2017-11-06T23:41:07Z", "id": 1677197, "setter": "abillings@mozilla.com"}], "content_type": "text/plain", "id": 8925587}, {"creator": "bugmail@asutherland.org", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2017-11-07T17:24:41Z", "type_id": 748, "creation_date": "2017-11-07T02:28:28Z", "id": 1677274, "setter": "jvarga@mozilla.com"}], "content_type": "text/plain", "id": 8925768}], "cf_status_firefox61": "---", "votes": 0, "classification": "Client Software", "is_confirmed": false, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 48, "comments": [{"text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.62 Safari/537.36\n\nSteps to reproduce:\n\nIt's possible to fingerprint users in private window by first-party and third-party scripts\n1. Can be tracked even after browser restarts.\n2. Can be tracked even after user clears Everything. (history / cookies / offline data )\n\nDemo:\n1. Visit the test page in normal window and private window:\nhttps://cdn.cliqz.com/browser-f/fun-demo/test-webworker-indexed-db.html\n\nIt increments visit count, from inside the web-worker and on the page. Both using indexedDB as the storage.\nVisit count this point should be 1. Meaning new unique visit.\n\n2. Now restart the browser and visit the page again in both normal and private window.\nIt increments the counter to 2. Which means private-window behaviour is not as intended. The expectation is that the user is still treated as a new user.\n\nRepeat the steps after selecting clearing everything in `clear recent history`, the counter still increments.\n\n\n\n\nActual results:\n\nThis is a serious bug, as it can be exploited for moving tracking from cookies to web-workers + indexedDB and have a persistent UUID. Which makes it possible to track a user irrespective of private window, across websites.\n\nAlso, as per the MDN documentation and this bug: https://bugzilla.mozilla.org/show_bug.cgi?id=781982 , private window should not have access to IndexedDB but as demonstrated web workers are able to use IndexedDB\n\n\nExpected results:\n\n1. Private window should not have access to IndexedDB even via web workers.\n2. IndexedDB state should be cleaned after closing private window.\n\nAlthough if the user has disabled `always` accept third-party cookies, the attack is only possible as a first-party, but even then I think private window should not allow tracking even from a first-party perspective.\n\nShould also respect clear history / cookies / storage signal", "author": "modi.konark@gmail.com", "id": 12773562, "time": "2017-10-19T14:41:51Z"}, {"text": "Either I'm not understanding the steps or I can't reproduce this on Nightly (58).", "author": "dveditz@mozilla.com", "id": 12774101, "time": "2017-10-19T17:11:43Z"}, {"text": "(In reply to Konark from comment #0)\n> Repeat the steps after selecting clearing everything in `clear recent\n> history`, the counter still increments.\n\nThat's currently expected (other bugs filed) because IndexedDB isn't cleared based on time, only if you \"forget about this site\".\n\nMatt can reproduce the PB IndexedDB persisting across a restart.", "author": "dveditz@mozilla.com", "id": 12774116, "time": "2017-10-19T17:16:47Z"}, {"text": "(In reply to Daniel Veditz [:dveditz] from comment #1)\n> Either I'm not understanding the steps or I can't reproduce this on Nightly\n> (58).\n\nI tested the steps on Nighty 58 now, and it's reproducible. It does not work, if you  user sets third-party cookie settings changed to `from visited` or `never`. However, even in that case loading as first party should work.\n\nLet me know, if I should improve the steps to reproduce.", "author": "modi.konark@gmail.com", "id": 12774665, "time": "2017-10-19T20:38:52Z"}, {"text": "(In reply to Daniel Veditz [:dveditz] from comment #2)\n> (In reply to Konark from comment #0)\n> > Repeat the steps after selecting clearing everything in `clear recent\n> > history`, the counter still increments.\n> \n> That's currently expected (other bugs filed) because IndexedDB isn't cleared\n> based on time, only if you \"forget about this site\".\n> \nAs far as I checked, `Forget about this site` does not completely mitigate this attack. My understanding is the following:\n1. There is no way to forget about a site that the user visits in PB? Assuming the user never visited that site as a first party in normal mode.\n\n2. AFAIK, \"Forget about this site\", does not have an option to forget about a third-party site which can track a user, since most likely the user never visited it. If a third-party is using the above exploit, then would be interesting to see, how to delete the indexedDB for that.\n\n> Matt can reproduce the PB IndexedDB persisting across a restart.", "author": "modi.konark@gmail.com", "id": 12774700, "time": "2017-10-19T20:49:05Z"}, {"text": "(In reply to Konark from comment #3)\n> It does not work, if you  user sets third-party cookie settings changed to `from visited` or `never`.\n\nThanks-- that was my problem.\n\n(In reply to Konark from comment #4)\n> 1. There is no way to forget about a site that the user visits in PB?\n\nYes, because the assumption is that when you close the session we forget everything. Not doing that for IndexedDB is a major failing. I also find it surprising because I know we have tested this and I would hope we have automated tests to ensure it.", "author": "dveditz@mozilla.com", "id": 12776907, "time": "2017-10-20T16:05:33Z"}, {"text": "I'm surprised to hear that PB is writing site-specific data to the profile at all. Once it's in the file system's blocks, it's out of control and will never really go away again.", "author": "cr@mozilla.com", "id": 12776927, "time": "2017-10-20T16:17:22Z"}, {"text": "(In reply to Daniel Veditz [:dveditz] from comment #5)\n> (In reply to Konark from comment #3)\n> > It does not work, if you  user sets third-party cookie settings changed to `from visited` or `never`.\n> \n> Thanks-- that was my problem.\nBut because first-party can also access indexedDB in PB via workers, it should also work without changing the settings for third party cookies.", "author": "modi.konark@gmail.com", "id": 12782786, "time": "2017-10-23T16:59:49Z"}, {"text": "Andrew: assigned this to you because I don't know how long Ehsan will be \"away\". You could also talk to Wennie about whether :groovecoder would be an appropriate assignee as he's trying to learn this area.", "author": "dveditz@mozilla.com", "id": 12796603, "time": "2017-10-27T18:12:42Z"}, {"text": "I heard Luke is interested in working on this.", "author": "overholt@mozilla.com", "id": 12801888, "time": "2017-10-30T14:09:01Z"}, {"text": "Yeah, I'll jump into it. Will plan to get fixed for 58, so if I don't have a fix this week I'll ping back here to get some extra help next week.", "author": "lcrouch@mozilla.com", "id": 12801911, "time": "2017-10-30T14:18:37Z"}, {"text": "Tracking for 58. It is pretty late to get a fix in 57 but not impossible.", "author": "lhenry@mozilla.com", "id": 12803610, "time": "2017-10-30T22:30:16Z"}, {"text": "Created attachment 8925587\nidb.patch", "author": "amarchesini@mozilla.com", "id": 12821425, "time": "2017-11-06T17:30:29Z"}, {"text": "Comment on attachment 8925587\nidb.patch\n\nI think Andrew has better knowledge of the private browsing flags.", "author": "jvarga@mozilla.com", "id": 12821491, "time": "2017-11-06T17:56:02Z"}, {"text": "Comment on attachment 8925587\nidb.patch\n\nReview of attachment 8925587:\n-----------------------------------------------------------------\n\nUgh, yeah, when recently looking at this code very recently I was worried about this exact situation and had a to-do to attempt to repro.\n\nIn terms of uplift we *ABSOLUTELY* need this on 57.\n\nRestating the problem:\n- Under the existing code, IDBFactory:mPrivateBrowsingMode is the source of authority for whether to treat the context as in private browsing mode.  This is separately tracked from the OriginAttributes because of the annoying invariant that a system-principaled docshell can be in private browsing mode, but it will not have the OriginAttribute set, because we can't mutate the singleton system principal.\n- IDBFactory::CreateForWindow propagates mPrivateBrowsingMode correctly.\n- IDBFactory::CreateForWindow does not.\n\nRestating the solution:\n- Stop propagating the private browsing mode separately from the OriginAttribute.\n- Rely on the OriginAttribute\n\nThe one minor wrinkle in this is the aforementioned \"I'm a system-principaled private browsing docshell and I naively attempt to use IDB and the only thing stopping me from logging private browsing data is the existing check.\"  I don't think code is doing this right now because of the assertion at http://searchfox.org/mozilla-central/rev/5a60492a53667fc61a62af1847d005a210b7a4f6/dom/indexedDB/IDBFactory.cpp#625 but I think we do want to have a guard that ensures that in the system-principal case, if nsILoadContext::UsePrivateBrowsing() is true, we either early fail or explicitly crash.", "author": "bugmail@asutherland.org", "id": 12821636, "time": "2017-11-06T18:41:15Z"}, {"text": "One interesting thing we found is that some users are hitting crashes reliably due to this bug in our ESR 52-based Tor Browser:\n\n#0  mozilla::dom::quota::QuotaObject::DisableQuotaCheck (this=0x0)\n    at /home/debian/build/tor-browser/dom/quota/ActorsParent.cpp:2714\n#1  0x00007ffff39cf5ad in mozilla::dom::indexedDB::(anonymous namespace)::DatabaseConnection::DisableQuotaChecks (\n    this=0x7fffcac91580) at /home/debian/build/tor-browser/dom/indexedDB/ActorsParent.cpp:11355\n#2  mozilla::dom::indexedDB::(anonymous namespace)::Database::StartTransactionOp::DoDatabaseWork (this=0x7fffcac79040, \n    aConnection=0x7fffcac91580) at /home/debian/build/tor-browser/dom/indexedDB/ActorsParent.cpp:14927\n#3  0x00007ffff39cf10e in mozilla::dom::indexedDB::(anonymous namespace)::TransactionDatabaseOperationBase::RunOnConnectionThread (this=this@entry=0x7fffcac79040) at /home/debian/build/tor-browser/dom/indexedDB/ActorsParent.cpp:23735\n#4  0x00007ffff39cf28a in mozilla::dom::indexedDB::(anonymous namespace)::Database::StartTransactionOp::RunOnConnectionThread\n    (this=0x7fffcac79040) at /home/debian/build/tor-browser/dom/indexedDB/ActorsParent.cpp:14914\n#5  0x00007ffff39c71b4 in mozilla::dom::indexedDB::(anonymous namespace)::TransactionDatabaseOperationBase::Run (\n    this=0x7fffcac79040) at /home/debian/build/tor-browser/dom/indexedDB/ActorsParent.cpp:23906\n#6  0x00007ffff28ca7b1 in nsThread::ProcessNextEvent (this=0x7fffcc480590, aMayWait=<optimized out>, aResult=0x7fffc1888ccf)\n    at /home/debian/build/tor-browser/xpcom/threads/nsThread.cpp:1216\n#7  0x00007ffff28e53b5 in NS_ProcessNextEvent (aThread=<optimized out>, aThread@entry=0x7fffcc480590, \n    aMayWait=aMayWait@entry=true) at /home/debian/build/tor-browser/xpcom/glue/nsThreadUtils.cpp:361\n#8  0x00007ffff39b9e55 in mozilla::dom::indexedDB::(anonymous namespace)::ConnectionPool::ThreadRunnable::Run (\n    this=0x7fffcc0aaca0) at /home/debian/build/tor-browser/dom/indexedDB/ActorsParent.cpp:13539\n#9  0x00007ffff28ca7b1 in nsThread::ProcessNextEvent (this=0x7fffcc480590, aMayWait=<optimized out>, aResult=0x7fffc1888dff)\n    at /home/debian/build/tor-browser/xpcom/threads/nsThread.cpp:1216\n#10 0x00007ffff28e53b5 in NS_ProcessNextEvent (aThread=<optimized out>, aThread@entry=0x7fffcc480590, \n    aMayWait=aMayWait@entry=false) at /home/debian/build/tor-browser/xpcom/glue/nsThreadUtils.cpp:361\n#11 0x00007ffff2bb0f81 in mozilla::ipc::MessagePumpForNonMainThreads::Run (this=0x7fffcc4085c0, aDelegate=0x7fffc70b9d50)\n    at /home/debian/build/tor-browser/ipc/glue/MessagePump.cpp:338\n#12 0x00007ffff2b81b1c in MessageLoop::RunHandler (this=<optimized out>)\n    at /home/debian/build/tor-browser/ipc/chromium/src/base/message_loop.cc:225\n#13 MessageLoop::Run (this=this@entry=0x7fffc70b9d50)\n    at /home/debian/build/tor-browser/ipc/chromium/src/base/message_loop.cc:205\n#14 0x00007ffff28c953f in nsThread::ThreadFunc (aArg=0x7fffcc480590)\n    at /home/debian/build/tor-browser/xpcom/threads/nsThread.cpp:467\n#15 0x00007ffff7f96ec7 in _pt_root (arg=0x7fffcc0630c0)\n    at /home/debian/build/tor-browser/nsprpub/pr/src/pthreads/ptthread.c:216\n#16 0x00007ffff7bc3494 in start_thread (arg=0x7fffc1889700) at pthread_create.c:333\n#17 0x00007ffff6c51abf in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:97\n\nThe crash does not happen if they are not in Private Browsing Mode (PBM). I have not debugged this problem but I guess the code is not tested for this particular case (as everyone was assuming IndexedDB is off in PBM anyway).\n\nI guess this would go away with the proposed patch, right?", "author": "gk@torproject.org", "id": 12821979, "time": "2017-11-06T20:37:21Z"}, {"text": "For more details about the crashing and steps to reproduce see: https://trac.torproject.org/projects/tor/ticket/24040", "author": "gk@torproject.org", "id": 12821983, "time": "2017-11-06T20:38:19Z"}, {"text": "I did a quick hg import of this patch, then mach build and mach run. But I still see the same error/behavior as comment #0?", "author": "lcrouch@mozilla.com", "id": 12822146, "time": "2017-11-06T21:34:11Z"}, {"text": "Comment on attachment 8925587\nidb.patch\n\n[Security approval request comment]\nHow easily could an exploit be constructed based on the patch?\n\nIt's not about exploiting this bug, it's about using IDB in workers in privateBrowsing mode.\n\nDo comments in the patch, the check-in comment, or tests included in the patch paint a bulls-eye on the security problem?\n\nNo. Just a generic PrincipalInfo.attrs() check.\n\nWhich older supported branches are affected by this flaw?\n\nAll.\n\nIf not all supported branches, which bug introduced the flaw?\n\nBug 994190\n\nDo you have backports for the affected branches? If not, how different, hard to create, and risky will they be?\n\nNot too complex.\n\nHow likely is this patch to cause regressions; how much testing does it need?\n\nlow. The bug was introduced by a 'temporary' TODO if-statement.", "author": "amarchesini@mozilla.com", "id": 12822545, "time": "2017-11-06T23:41:07Z"}, {"text": "(In reply to Luke Crouch [:groovecoder] from comment #17)\n> I did a quick hg import of this patch, then mach build and mach run. But I\n> still see the same error/behavior as comment #0?\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=a3f8f2017d7494f0c733f71e2c8b0b928b181433\n\nI pushed to try. Can you check it again with this build? Locally it works correctly.", "author": "amarchesini@mozilla.com", "id": 12822548, "time": "2017-11-06T23:41:51Z"}, {"text": "Created attachment 8925768\nbrowser test of IndexedDB open calls in window/dedicatedworker/sharedworker in normal and PB windows\n\nHere's a test that passes for me with :baku's fix and fails for me without :baku's fix applied.\n\nThese are what the failures look like WITHOUT the patch applied:\nThe following tests failed:\n24 INFO TEST-UNEXPECTED-FAIL | dom/indexedDB/test/browser_private_idb.js | IndexedDB does not work in a private-browsing Worker. - Got created, expected error\nStack trace:\nchrome://mochikit/content/browser-test.js:test_is:1010\nchrome://mochitests/content/browser/dom/indexedDB/test/browser_private_idb.js:null:147\n25 INFO TEST-UNEXPECTED-FAIL | dom/indexedDB/test/browser_private_idb.js | IndexedDB does not work in a private-browsing SharedWorker. - Got created, expected error\n\nWe of course *do not* want to land the tests concurrently with the bug because they make the problem super obvious.  That said, there's not much doubt about the fix patch patching a hole in something related to private browsing and IDB.", "author": "bugmail@asutherland.org", "id": 12822850, "time": "2017-11-07T02:28:28Z"}, {"text": "Comment on attachment 8925768\nbrowser test of IndexedDB open calls in window/dedicatedworker/sharedworker in normal and PB windows\n\nReview of attachment 8925768:\n-----------------------------------------------------------------\n\nNice, thanks.", "author": "jvarga@mozilla.com", "id": 12824638, "time": "2017-11-07T17:24:41Z"}, {"text": "(In reply to Andrea Marchesini [:baku] from comment #19)\n> I pushed to try. Can you check it again with this build? Locally it works\n> correctly.\n\nAh yes, I was testing with a fast build. Now I got it to work with your build and with a local binary build.", "author": "lcrouch@mozilla.com", "id": 12825425, "time": "2017-11-07T21:24:21Z"}, {"text": "sec-approval+ for trunk. This isn't going to make 57 or ESR52.5.", "author": "abillings@mozilla.com", "id": 12826313, "time": "2017-11-08T02:45:10Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/8a46aeb0b562", "author": "ryanvm@gmail.com", "id": 12827574, "time": "2017-11-08T14:32:57Z"}, {"text": "Jan, we're also going to need QuotaManager cleanup logic for this in a follow-up.  Specifically, after running the test I created, I ended up with the directory \"storage/default/http+++example.com^privateBrowsingId=1\" with an \"idb\" directory in the testing profile.  (Which was empty because the test deletes the database once it's done with it.)\n\nShould we just add cleanup logic during the quota initialization sweep, or should we do a minor version change bump?", "author": "bugmail@asutherland.org", "id": 12827734, "time": "2017-11-08T15:22:06Z"}, {"text": ":ritu, is this something you can authorize a ride-along or last-minute RC landing for 57?  I really need to emphasize:\n*THIS IS/WAS A SERIOUS GAP IN OUR PRIVATE BROWSING IMPLEMENTATION*.\n\nThe fallout is:\n- A site in private browsing can persistently store data in the user's profile using IndexedDB from a Worker thread.  This data will be accessible from future private browsing sessions in an affected browser, but not from non-private browsing sessions.  The data is still partitioned like a container was used.  So something like \"browse to bluenile.com in private browsing, close private browsing window, close firefox, start firefox, start privatebrowsing, browse to bluenile.com\" will result in the data previously stored in indexeddb still being accessible.\n- The name of the site the user visited in private browsing mode will be visible in the profile directory.  So in the above example, there'd be a \"https+++bluenile.com^privateBrowsingId=1\".\n- Any IDB storage used by the site will show up under our about:preferences \"Site Data\" \"Settings...\" storage UI that enumerates origins and their storage used.  The UI will successfully clear the private browsing origin, but that's obviously going to be disconcerting for the users.\n- If the site created one or more IDB databases but deleted them, then the origin will not show up in that storage UI, even though the profile directory that clearly identifies the site origin was visited and that it was visited in private browsing mode will exist and continue to exist.  (Until we implement and land a fix for patch 25, but since that will be a somewhat more blatant patch, we do want to land that separately and later.)\n\nTo reiterate the good news:\n- Private Browsing does operate like a container because of our OriginAttributes mechanism, so the data is partitioned from non-private-browsing, and will be unable to communicate with windows on the same origin not in private-browsing mode, etc.", "author": "bugmail@asutherland.org", "id": 12827766, "time": "2017-11-08T15:35:58Z"}, {"text": "(In reply to Andrew Sutherland [:asuth] from comment #25)\n> Jan, we're also going to need QuotaManager cleanup logic for this in a\n> follow-up.  Specifically, after running the test I created, I ended up with\n> the directory \"storage/default/http+++example.com^privateBrowsingId=1\" with\n> an \"idb\" directory in the testing profile.  (Which was empty because the\n> test deletes the database once it's done with it.)\n> \n> Should we just add cleanup logic during the quota initialization sweep, or\n> should we do a minor version change bump?\n\nHm, so after the fix, we should never create storage/default/http+++example.com^privateBrowsingId=1 directory because CheckPermission() is called before we call EnsureOriginIsInitialized(), right ?\n\nAre you worried about such directories that were created before the fix ?", "author": "jvarga@mozilla.com", "id": 12827901, "time": "2017-11-08T16:22:30Z"}, {"text": "(In reply to Jan Varga [:janv] from comment #27)\n> Hm, so after the fix, we should never create\n> storage/default/http+++example.com^privateBrowsingId=1 directory because\n> CheckPermission() is called before we call EnsureOriginIsInitialized(),\n> right ?\n\nYes.\n \n> Are you worried about such directories that were created before the fix ?\n\nExactly.", "author": "bugmail@asutherland.org", "id": 12828035, "time": "2017-11-08T16:53:39Z"}, {"text": "(In reply to Andrew Sutherland [:asuth] from comment #28)\n> (In reply to Jan Varga [:janv] from comment #27)\n> > Hm, so after the fix, we should never create\n> > storage/default/http+++example.com^privateBrowsingId=1 directory because\n> > CheckPermission() is called before we call EnsureOriginIsInitialized(),\n> > right ?\n> \n> Yes.\n>  \n> > Are you worried about such directories that were created before the fix ?\n> \n> Exactly.\n\nIn that case, I think a minor upgrade is not optimal, since if the user goes back to a previous version, create some dirs with ^privateBrowsingId=1 and then goes back to the original version, these dirs won't be cleared.\n\nMajor version change bump would be better, but as we know that's a pain in the ass ...\nSo for now I would do it as part of the quota initialization sweep and once there's a good reason to do a major version change bump, we can move the cleanup there.", "author": "jvarga@mozilla.com", "id": 12828072, "time": "2017-11-08T17:07:06Z"}, {"text": "Hi Andrew, I am willing to consider this one for RC2 (which we will gtb tomm) if security team agrees this is a low risk change.\n\nDan, Al, I know in comment 23, your recommendation was not to take this in 57. Based on comment 25, do you believe this is worth uplifting in RC2? Please let me know. If this needs more bake time, we can consider uplifting this in a 57.x dot release. Thanks for your help!", "author": "rkothari@mozilla.com", "id": 12829645, "time": "2017-11-09T03:18:38Z"}, {"text": "We need to land this on ESR-52 whenever we ship this on the main release. Are we ready to get a backport and take it there, too?\n\nI agree this is a bad PB bug and the fix doesn't appear risky.", "author": "dveditz@mozilla.com", "id": 12830209, "time": "2017-11-09T09:15:47Z"}, {"text": "If Dan sees no issues, we can take it.", "author": "abillings@mozilla.com", "id": 12831565, "time": "2017-11-09T18:03:06Z"}, {"text": "(Assuming we do both...)", "author": "abillings@mozilla.com", "id": 12831566, "time": "2017-11-09T18:03:39Z"}, {"text": "Really sorry guys, this is too late for 57 :(\nWe are going to do a rc3 this week end but in case we have any potential regression caused by this patch, we won't be able to ship 57 on Tuesday...\n\nHowever, as dot releases are still a thing, we could take this as ride along (meaning that we would have to do a dot release for esr too).", "author": "sledru@mozilla.com", "id": 12833269, "time": "2017-11-10T07:54:01Z"}, {"text": "Andrew told me he's running a local ESR52 build with the patch here to see if it works (and will otherwise make an ESR52-specific patch). He'll ask for esr52 approval there so we can land that at the same time as 57.x. Thanks, Andrew!", "author": "overholt@mozilla.com", "id": 12866419, "time": "2017-11-22T18:41:48Z"}, {"text": "Comment on attachment 8925587\nidb.patch\n\nBoth the patch and the test graft to esr52 (and release) successfully.  See:\n- Comment 18 for the security approval request.\n- Comment 23 for security approval.\n- Comment 26 for general fallout of the bug.\n\n\n[[ESR Approval Request Comment]]\nThis is sec-high.  See next approval request for all other Q's.\n\n\n[[Release Approval Request Comment]]\n[Feature/Bug causing the regression]:\nBug 994190, Firefox 35, IndexedDB on workers.\n\n[User impact if declined]:\nSee Comment 26 for details, but, in short, Private Browsing is broken in DOM Workers.\n\n[Is this code covered by automated tests?]:\nThe non-Private-Browsing aspects are covered.  Because so many internal Gecko subsystems depend on IndexedDB (in non-PB mode), we have massive end-to-end coverage on top of the extensive IndexedDB tests.  The problem is that we didn't have enough tests of where it's not expected to work.\n\nAttachment 8925768 on this bug has been created to provide automated coverage going forward, and was tested against (then-trunk) 58, current release (just now), and current esr52 (just now) with and without the patch to verify the test correctly detects the failure and the fix correctly fixes it.  The plan is to land that test once the esr52 point release and 57 point release have happened.\n\n[Has the fix been verified in Nightly?]:\nYes, 2017-11-08, 14 days ago per Bugzilla.\n\n[Needs manual test from QE? If yes, steps to reproduce]:\nNo, but comment 0 has a test case if someone really wanted to.\n\n[List of other uplifts needed for the feature/fix]:\nNo other uplifts required.\n\n[Is the change risky?]:\nNo, it's the best.\n\n[Why is the change risky/not risky?]:\nIt's a minimal change in how we propagate a single boolean related to private browsing, eliminating the edge-cases between content pages and workers.  As noted in automated test coverage discussion, the tree would turn VERY orange if we got it wrong.\n\n[String changes made/needed]:\nNo changes made.", "author": "bugmail@asutherland.org", "id": 12866738, "time": "2017-11-22T20:24:19Z"}, {"text": "(messing with 57 flags in case it helps the bugzilla queries for approval requests).", "author": "bugmail@asutherland.org", "id": 12866742, "time": "2017-11-22T20:24:58Z"}, {"text": "Comment on attachment 8925587\nidb.patch\n\nThanks Andrew for your due diligence on this uplift nomination. We've decided to take this one due to the user impact and also since it has baked for a while on Nightly58/59, Release57+.\n\nLiz, will let you drive the ESR dot release", "author": "rkothari@mozilla.com", "id": 12877871, "time": "2017-11-27T21:08:08Z"}, {"text": "Comment on attachment 8925587\nidb.patch\n\nTaking this for ESR 52.5.1, important privacy fix. \n\nThis is the most organized uplift request ever! Thanks!", "author": "lhenry@mozilla.com", "id": 12878100, "time": "2017-11-27T22:21:18Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-release/rev/55236000eb15", "author": "ryanvm@gmail.com", "id": 12878504, "time": "2017-11-28T01:00:03Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-esr52/rev/f6216ea8b8fc4ff0c22f95e0aae6c4df2a5e6b5f", "author": "ryanvm@gmail.com", "id": 12881068, "time": "2017-11-28T20:12:24Z"}, {"text": "(In reply to Andrew Sutherland [:asuth] from comment #36)\n> [Is this code covered by automated tests?]:\n> The non-Private-Browsing aspects are covered.  Because so many internal\n> Gecko subsystems depend on IndexedDB (in non-PB mode), we have massive\n> end-to-end coverage on top of the extensive IndexedDB tests.  The problem is\n> that we didn't have enough tests of where it's not expected to work.\n> \n> Attachment 8925768 on this bug has been created to provide\n> automated coverage going forward, and was tested against (then-trunk) 58,\n> current release (just now), and current esr52 (just now) with and without\n> the patch to verify the test correctly detects the failure and the fix\n> correctly fixes it.  The plan is to land that test once the esr52 point\n> release and 57 point release have happened.\n> \n> [Has the fix been verified in Nightly?]:\n> Yes, 2017-11-08, 14 days ago per Bugzilla.\n> \n> [Needs manual test from QE? If yes, steps to reproduce]:\n> No, but comment 0 has a test case if someone really wanted to.\n\nHas automated coverage, does not need manual testing - per Andrew.", "author": "andrei.vaida@softvision.ro", "id": 12882356, "time": "2017-11-29T07:56:32Z"}, {"text": "Hi, just tested it on FF 57.0.1, could not reproduce it there. \n\nBut I did not see any information about this security fix in release notes for 57.0.1,\nhttps://www.mozilla.org/en-US/firefox/57.0.1/releasenotes/", "author": "modi.konark@gmail.com", "id": 12890400, "time": "2017-12-01T19:04:39Z"}, {"text": "Thanks for testing the new release (and originally reporting!!).  The security team can weigh in with the specifics, but I believe we're waiting for the ESR52 dot release and probably for time for users to update to the new version to disclose the CVE and specific vulnerabilities fixed.  I too am interested in the answer since that impacts when I can land the test!", "author": "bugmail@asutherland.org", "id": 12890609, "time": "2017-12-01T21:14:21Z"}, {"text": "(In reply to Konark from comment #43)\n\n> But I did not see any information about this security fix in release notes\n> for 57.0.1,\n> https://www.mozilla.org/en-US/firefox/57.0.1/releasenotes/\n\nWe had an issue getting ESR52.5.1 out the door. Since this issue is also fixed in that release, we don't want to disclose it before we get a new build out. It was originally going to be in the last day or so but we've been delayed until at least Monday.\n\nAdvisories don't go in the release notes anyway. It will be on the Known Vulnerabilities page for the release at https://www.mozilla.org/en-US/security/known-vulnerabilities/firefox/\n\nAndrew, you won't be able to land the test before Christmas. We want the release with the fix out and with a high uptake before we land a test that shows the vulnerability.", "author": "abillings@mozilla.com", "id": 12891022, "time": "2017-12-02T00:56:00Z"}, {"text": "(In reply to Al Billings [:abillings] from comment #45)\n> (In reply to Konark from comment #43)\n> \n> > But I did not see any information about this security fix in release notes\n> > for 57.0.1,\n> > https://www.mozilla.org/en-US/firefox/57.0.1/releasenotes/\n> \n> We had an issue getting ESR52.5.1 out the door. Since this issue is also\n> fixed in that release, we don't want to disclose it before we get a new\n> build out. It was originally going to be in the last day or so but we've\n> been delayed until at least Monday.\nThanks for the details, I did not realize ESR52.5.1 was not released yet, I saw it on the FTP and thought it's released (https://ftp.mozilla.org/pub/firefox/releases/52.5.1esr/mac/ - it's a 404 now), so will wait for a new update to test.\n\n> Advisories don't go in the release notes anyway. It will be on the Known\n> Vulnerabilities page for the release at\n> https://www.mozilla.org/en-US/security/known-vulnerabilities/firefox/\n> Andrew, you won't be able to land the test before Christmas. We want the\n> release with the fix out and with a high uptake before we land a test that\n> shows the vulnerability.", "author": "modi.konark@gmail.com", "id": 12891740, "time": "2017-12-02T19:42:59Z"}, {"text": "Is it safe to remove the secure flag from this bug now?", "author": "modi.konark@gmail.com", "id": 13217586, "time": "2018-04-19T07:06:42Z"}], "id": 1410106, "priority": "--", "platform": "Unspecified", "cf_crash_signature": "", "version": "56 Branch", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "57+", "see_also": [], "last_change_time": "2018-04-23T05:30:20Z", "cf_platform_rel": "---", "product": "Firefox", "cf_fx_iteration": "---", "blocks": [994190, 1455985], "qa_contact": "", "creation_time": "2017-10-19T14:41:51Z", "cf_status_firefox_esr52": "fixed", "component": "Private Browsing", "assigned_to_detail": {"email": "bugmail@asutherland.org", "id": 151407, "name": "bugmail@asutherland.org", "real_name": "Andrew Sutherland [:asuth]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "groups": [], "cf_status_firefox60": "---", "target_milestone": "Firefox 58", "cf_qa_whiteboard": "", "severity": "normal", "cf_rank": null, "cf_fx_points": "---", "url": "", "creator_detail": {"email": "modi.konark@gmail.com", "id": 473831, "name": "modi.konark@gmail.com", "real_name": "Konark Modi"}, "whiteboard": "[fingerprinting][adv-main57+][adv-esr52.5.1]", "mentors": [], "cc_detail": [{"email": "abillings@mozilla.com", "id": 280903, "name": "abillings@mozilla.com", "real_name": "Al Billings [:abillings]"}, {"email": "amarchesini@mozilla.com", "id": 446257, "name": "amarchesini@mozilla.com", "real_name": "Andrea Marchesini [:baku]"}, {"email": "andrei.vaida@softvision.ro", "id": 488993, "name": "andrei.vaida@softvision.ro", "real_name": "Andrei Vaida [:avaida] \u2013 please ni? me"}, {"email": "arthuredelstein@gmail.com", "id": 474980, "name": "arthuredelstein@gmail.com", "real_name": "Arthur Edelstein (Tor Browser dev) [:arthuredelstein]"}, {"email": "bugmail@asutherland.org", "id": 151407, "name": "bugmail@asutherland.org", "real_name": "Andrew Sutherland [:asuth]"}, {"email": "bzcc@fowlsmurf.net", "id": 317549, "name": "bzcc@fowlsmurf.net", "real_name": "James May [:fowl]"}, {"email": "cfu@mozilla.com", "id": 594760, "name": "cfu@mozilla.com", "real_name": "Chung-Sheng Fu [:cfu]"}, {"email": "cr@mozilla.com", "id": 465475, "name": "cr@mozilla.com", "real_name": "Christiane Ruetten [:cr]"}, {"email": "dveditz@mozilla.com", "id": 1689, "name": "dveditz@mozilla.com", "real_name": "Daniel Veditz [:dveditz]"}, {"email": "ehsan@mozilla.com", "id": 251051, "name": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari"}, {"email": "ethantseng@ntu.edu.tw", "id": 473897, "name": "ethantseng@ntu.edu.tw", "real_name": "Ethan Tseng [:ethan]"}, {"email": "fbraun@mozilla.com", "id": 428608, "name": "fbraun@mozilla.com", "real_name": "Frederik Braun [:freddyb] (Unavailable until August 20th)"}, {"email": "gk@torproject.org", "id": 349211, "name": "gk@torproject.org", "real_name": "Georg Koppen"}, {"email": "jcristau@mozilla.com", "id": 580382, "name": "jcristau@mozilla.com", "real_name": "Julien Cristau [:jcristau]"}, {"email": "jhofmann@mozilla.com", "id": 522029, "name": "jhofmann@mozilla.com", "real_name": "Johann Hofmann [:johannh]"}, {"email": "jkt@mozilla.com", "id": 563455, "name": "jkt@mozilla.com", "real_name": "Jonathan Kingston [:jkt]"}, {"email": "jvarga@mozilla.com", "id": 8340, "name": "jvarga@mozilla.com", "real_name": "Jan Varga [:janv]"}, {"email": "lcrouch@mozilla.com", "id": 403306, "name": "lcrouch@mozilla.com", "real_name": "Luke Crouch [:groovecoder] [on leave until July 16]"}, {"email": "lhenry@mozilla.com", "id": 451704, "name": "lhenry@mozilla.com", "real_name": "Liz Henry (:lizzard) (needinfo? me)"}, {"email": "mark@wolfbeast.com", "id": 364942, "name": "mark@wolfbeast.com", "real_name": "Mark Straver"}, {"email": "modi.konark@gmail.com", "id": 473831, "name": "modi.konark@gmail.com", "real_name": "Konark Modi"}, {"email": "rkothari@mozilla.com", "id": 538805, "name": "rkothari@mozilla.com", "real_name": "Ritu Kothari (:ritu)"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}, {"email": "simon.mainey@gmail.com", "id": 587136, "name": "simon.mainey@gmail.com", "real_name": "Simon Mainey"}, {"email": "sledru@mozilla.com", "id": 495955, "name": "sledru@mozilla.com", "real_name": "Sylvestre Ledru [:sylvestre]"}, {"email": "spectre@floodgap.com", "id": 101070, "name": "spectre@floodgap.com", "real_name": "Cameron Kaiser [:spectre]"}, {"email": "tanvi@mozilla.com", "id": 430652, "name": "tanvi@mozilla.com", "real_name": "Tanvi Vyas - ooo[:tanvi]"}, {"email": "tom@mozilla.com", "id": 578488, "name": "tom@mozilla.com", "real_name": "Tom Ritter [:tjr]"}, {"email": "wleung@mozilla.com", "id": 590996, "name": "wleung@mozilla.com", "real_name": "Wennie"}], "cf_has_str": "---", "alias": "CVE-2017-7843", "dupe_of": null, "flags": [{"status": "+", "name": "sec-bounty", "modification_date": "2018-02-05T18:31:43Z", "type_id": 803, "creation_date": "2018-02-01T20:09:15Z", "id": 1711301, "setter": "dveditz@mozilla.com"}, {"status": "-", "name": "qe-verify", "modification_date": "2017-11-29T07:56:32Z", "type_id": 864, "creation_date": "2017-11-29T07:56:32Z", "id": 1688218, "setter": "andrei.vaida@softvision.ro"}], "cf_tracking_firefox58": "+", "assigned_to": "bugmail@asutherland.org", "is_open": false, "cf_tracking_firefox57": "+", "resolution": "FIXED", "op_sys": "Unspecified", "cc": ["abillings@mozilla.com", "amarchesini@mozilla.com", "andrei.vaida@softvision.ro", "arthuredelstein@gmail.com", "bugmail@asutherland.org", "bzcc@fowlsmurf.net", "cfu@mozilla.com", "cr@mozilla.com", "dveditz@mozilla.com", "ehsan@mozilla.com", "ethantseng@ntu.edu.tw", "fbraun@mozilla.com", "gk@torproject.org", "jcristau@mozilla.com", "jhofmann@mozilla.com", "jkt@mozilla.com", "jvarga@mozilla.com", "lcrouch@mozilla.com", "lhenry@mozilla.com", "mark@wolfbeast.com", "modi.konark@gmail.com", "rkothari@mozilla.com", "ryanvm@gmail.com", "simon.mainey@gmail.com", "sledru@mozilla.com", "spectre@floodgap.com", "tanvi@mozilla.com", "tom@mozilla.com", "wleung@mozilla.com"], "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "modi.konark@gmail.com"}], "who": "modi.konark@gmail.com", "when": "2017-10-19T14:45:32Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "amarchesini@mozilla.com"}, {"removed": "Untriaged", "field_name": "component", "added": "Private Browsing"}], "who": "dveditz@mozilla.com", "when": "2017-10-19T17:11:43Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "csectype-disclosure, privacy, sec-high"}, {"removed": "", "field_name": "cc", "added": "ettseng@mozilla.com, tom@mozilla.com"}, {"removed": "", "field_name": "whiteboard", "added": "[fingerprinting]"}], "who": "dveditz@mozilla.com", "when": "2017-10-19T17:16:47Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "gk@torproject.org"}], "who": "modi.konark@gmail.com", "when": "2017-10-20T09:53:17Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dveditz@mozilla.com"}], "who": "dveditz@mozilla.com", "when": "2017-10-20T15:54:26Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cr@mozilla.com, ehsan@mozilla.com, fbraun@mozilla.com"}], "who": "dveditz@mozilla.com", "when": "2017-10-20T16:05:33Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jkt@mozilla.com"}], "who": "dveditz@mozilla.com", "when": "2017-10-20T16:07:09Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jhofmann@mozilla.com"}], "who": "cr@mozilla.com", "when": "2017-10-20T16:09:15Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "lcrouch@mozilla.com, tanvi@mozilla.com, wleung@mozilla.com"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "overholt@mozilla.com"}], "who": "dveditz@mozilla.com", "when": "2017-10-27T18:12:42Z"}, {"changes": [{"removed": "overholt@mozilla.com", "field_name": "assigned_to", "added": "lcrouch@mozilla.com"}], "who": "overholt@mozilla.com", "when": "2017-10-30T14:09:01Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "nyee@mozilla.com"}], "who": "dveditz@mozilla.com", "when": "2017-10-30T16:05:45Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox57", "added": "?"}, {"removed": "---", "field_name": "cf_tracking_firefox58", "added": "+"}, {"removed": "---", "field_name": "cf_status_firefox58", "added": "affected"}], "who": "lhenry@mozilla.com", "when": "2017-10-30T22:30:16Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jvarga@mozilla.com"}], "who": "amarchesini@mozilla.com", "when": "2017-11-06T17:30:25Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8925587, "added": "review?(jvarga@mozilla.com), feedback?"}], "who": "amarchesini@mozilla.com", "when": "2017-11-06T17:30:29Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bugmail@asutherland.org"}], "who": "jvarga@mozilla.com", "when": "2017-11-06T17:55:55Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jvarga@mozilla.com)", "attachment_id": 8925587, "added": "review?(bugmail@asutherland.org)"}], "who": "jvarga@mozilla.com", "when": "2017-11-06T17:56:02Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bugmail@asutherland.org), feedback?", "attachment_id": 8925587, "added": "review+"}], "who": "bugmail@asutherland.org", "when": "2017-11-06T18:41:15Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8925587, "added": "sec-approval?"}], "who": "amarchesini@mozilla.com", "when": "2017-11-06T23:41:07Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8925768, "added": "review?(jvarga@mozilla.com)"}], "who": "bugmail@asutherland.org", "when": "2017-11-07T02:28:28Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jvarga@mozilla.com)", "attachment_id": 8925768, "added": "review+"}], "who": "jvarga@mozilla.com", "when": "2017-11-07T17:24:41Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "abillings@mozilla.com"}, {"removed": "---", "field_name": "cf_tracking_firefox_esr52", "added": "?"}, {"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "affected"}, {"removed": "?", "field_name": "cf_status_firefox57", "added": "wontfix"}], "who": "abillings@mozilla.com", "when": "2017-11-08T02:45:10Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "sec-approval?", "attachment_id": 8925587, "added": "sec-approval+"}], "who": "abillings@mozilla.com", "when": "2017-11-08T02:45:25Z"}, {"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 58"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2017-11-08 14:32:57"}, {"removed": "---", "field_name": "cf_status_firefox56", "added": "wontfix"}, {"removed": "affected", "field_name": "cf_status_firefox58", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2017-11-08T14:32:57Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jvarga@mozilla.com)"}], "who": "bugmail@asutherland.org", "when": "2017-11-08T15:22:06Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "rkothari@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(rkothari@mozilla.com)"}], "who": "bugmail@asutherland.org", "when": "2017-11-08T15:35:58Z"}, {"changes": [{"removed": "needinfo?(jvarga@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jvarga@mozilla.com", "when": "2017-11-08T16:22:30Z"}, {"changes": [{"removed": "nyee@mozilla.com", "field_name": "cc", "added": ""}], "who": "nyee@mozilla.com", "when": "2017-11-08T17:35:58Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "arthuredelstein@gmail.com"}], "who": "ethantseng@ntu.edu.tw", "when": "2017-11-09T00:45:33Z"}, {"changes": [{"removed": "needinfo?(rkothari@mozilla.com)", "field_name": "flagtypes.name", "added": "needinfo?(abillings@mozilla.com), needinfo?(dveditz@mozilla.com), needinfo?(bugmail@asutherland.org)"}], "who": "rkothari@mozilla.com", "when": "2017-11-09T03:18:38Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "994190"}, {"removed": "lcrouch@mozilla.com", "field_name": "assigned_to", "added": "bugmail@asutherland.org"}, {"removed": "needinfo?(dveditz@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "dveditz@mozilla.com", "when": "2017-11-09T09:15:47Z"}, {"changes": [{"removed": "needinfo?(abillings@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "abillings@mozilla.com", "when": "2017-11-09T18:03:06Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cfu@mozilla.com"}], "who": "ethantseng@ntu.edu.tw", "when": "2017-11-10T06:06:18Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "sledru@mozilla.com"}], "who": "sledru@mozilla.com", "when": "2017-11-10T07:54:01Z"}, {"changes": [{"removed": "firefox-core-security", "field_name": "groups", "added": "core-security-release"}], "who": "dveditz@mozilla.com", "when": "2017-11-15T16:58:08Z"}, {"changes": [{"removed": "needinfo?(bugmail@asutherland.org)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8925587, "added": "approval-mozilla-release?, approval-mozilla-esr52?"}], "who": "bugmail@asutherland.org", "when": "2017-11-22T20:24:19Z"}, {"changes": [{"removed": "---", "field_name": "cf_tracking_firefox57", "added": "?"}, {"removed": "wontfix", "field_name": "cf_status_firefox57", "added": "affected"}], "who": "bugmail@asutherland.org", "when": "2017-11-22T20:24:58Z"}, {"changes": [{"removed": "?", "field_name": "cf_tracking_firefox57", "added": "+"}], "who": "rkothari@mozilla.com", "when": "2017-11-27T21:06:48Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "lhenry@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(lhenry@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "approval-mozilla-release?", "attachment_id": 8925587, "added": "approval-mozilla-release+"}], "who": "rkothari@mozilla.com", "when": "2017-11-27T21:08:08Z"}, {"changes": [{"removed": "needinfo?(lhenry@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "approval-mozilla-esr52?", "attachment_id": 8925587, "added": "approval-mozilla-esr52+"}], "who": "lhenry@mozilla.com", "when": "2017-11-27T22:21:18Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ryanvm@gmail.com"}, {"removed": "affected", "field_name": "cf_status_firefox57", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2017-11-28T01:00:03Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox_esr52", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2017-11-28T20:12:24Z"}, {"changes": [{"removed": "?", "field_name": "cf_tracking_firefox_esr52", "added": "57+"}], "who": "lhenry@mozilla.com", "when": "2017-11-28T20:23:52Z"}, {"changes": [{"removed": "", "field_name": "alias", "added": "CVE-2017-7843"}, {"removed": "57+", "field_name": "cf_tracking_firefox_esr52", "added": "?"}, {"removed": "fixed", "field_name": "cf_status_firefox_esr52", "added": "affected"}], "who": "abillings@mozilla.com", "when": "2017-11-28T20:55:04Z"}, {"changes": [{"removed": "[fingerprinting]", "field_name": "whiteboard", "added": "[fingerprinting][adv-main57+][adv-esr52.5.1]"}], "who": "abillings@mozilla.com", "when": "2017-11-28T20:55:28Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "andrei.vaida@softvision.ro"}, {"removed": "", "field_name": "flagtypes.name", "added": "qe-verify-"}], "who": "andrei.vaida@softvision.ro", "when": "2017-11-29T07:56:32Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "spectre@floodgap.com"}], "who": "spectre@floodgap.com", "when": "2017-11-30T04:25:34Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(bugmail@asutherland.org)"}], "who": "modi.konark@gmail.com", "when": "2017-12-01T19:04:39Z"}, {"changes": [{"removed": "needinfo?(bugmail@asutherland.org)", "field_name": "flagtypes.name", "added": ""}], "who": "bugmail@asutherland.org", "when": "2017-12-01T21:14:21Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mark@wolfbeast.com"}], "who": "dveditz@mozilla.com", "when": "2017-12-12T20:03:06Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jcristau@mozilla.com"}, {"removed": "?", "field_name": "cf_tracking_firefox_esr52", "added": "57+"}, {"removed": "affected", "field_name": "cf_status_firefox_esr52", "added": "fixed"}], "who": "jcristau@mozilla.com", "when": "2017-12-19T14:57:51Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "sec-bounty?"}], "who": "abillings@mozilla.com", "when": "2018-02-01T20:09:15Z"}, {"changes": [{"removed": "sec-bounty?", "field_name": "flagtypes.name", "added": "sec-bounty+"}], "who": "dveditz@mozilla.com", "when": "2018-02-05T18:31:43Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(abillings@mozilla.com)"}], "who": "jhofmann@mozilla.com", "when": "2018-04-19T13:03:14Z"}, {"changes": [{"removed": "core-security-release", "field_name": "groups", "added": ""}], "who": "dveditz@mozilla.com", "when": "2018-04-19T18:29:29Z"}, {"changes": [{"removed": "needinfo?(abillings@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "abillings@mozilla.com", "when": "2018-04-19T18:38:30Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "simon.mainey@gmail.com"}], "who": "simon.mainey@gmail.com", "when": "2018-04-20T06:17:07Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1455985"}], "who": "bugmail@asutherland.org", "when": "2018-04-22T19:40:54Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bzcc@fowlsmurf.net"}], "who": "bzcc@fowlsmurf.net", "when": "2018-04-23T05:30:20Z"}]}