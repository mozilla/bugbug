{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "madperson@gmx.at", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "wontfix", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "keywords": ["crash"], "cc_detail": [{"email": "bkelly@mozilla.com", "id": 465500, "name": "bkelly@mozilla.com", "real_name": "Ben Kelly [:bkelly]"}, {"email": "bob@bclary.com", "id": 23402, "name": "bob@bclary.com", "real_name": "Bob Clary [:bc:]"}, {"email": "bugs@pettay.fi", "id": 39966, "name": "bugs@pettay.fi", "real_name": "Olli Pettay [:smaug]"}, {"email": "jcristau@mozilla.com", "id": 580382, "name": "jcristau@mozilla.com", "real_name": "Julien Cristau [:jcristau]"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "nika@thelayzells.com", "id": 534482, "name": "nika@thelayzells.com", "real_name": ":Nika Layzell"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}], "cf_last_resolved": "2018-05-01T10:23:20Z", "attachments": [{"creator": "bugs@pettay.fi", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2018-04-30T17:09:02Z", "type_id": 4, "creation_date": "2018-04-25T12:16:56Z", "id": 1748775, "setter": "nika@thelayzells.com"}], "content_type": "text/plain", "id": 8970853}, {"creator": "bugs@pettay.fi", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8972074}, {"creator": "bugs@pettay.fi", "is_obsolete": 0, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8972087}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 11, "comments": [{"text": "This bug was filed from the Socorro interface and is\nreport bp-1201277c-183c-4810-8f7d-4b7ad0180419.\n=============================================================\n\nTop 10 frames of crashing thread:\n\n0 xul.dll nsGlobalWindowInner::CallOnChildren<void  dom/base/nsGlobalWindowInner.cpp:6306\n1 xul.dll nsGlobalWindowInner::Resume dom/base/nsGlobalWindowInner.cpp:6122\n2 xul.dll mozilla::dom::nsResumeTimeoutsEvent::Run dom/xhr/XMLHttpRequestMainThread.cpp:157\n3 xul.dll mozilla::SchedulerGroup::Runnable::Run xpcom/threads/SchedulerGroup.cpp:395\n4 xul.dll nsThread::ProcessNextEvent xpcom/threads/nsThread.cpp:1040\n5 xul.dll mozilla::ipc::MessagePump::Run ipc/glue/MessagePump.cpp:97\n6 xul.dll mozilla::ipc::MessagePumpForChildProcess::Run ipc/glue/MessagePump.cpp:301\n7 xul.dll MessageLoop::RunHandler ipc/chromium/src/base/message_loop.cc:319\n8 xul.dll MessageLoop::Run ipc/chromium/src/base/message_loop.cc:299\n9 xul.dll nsBaseAppShell::Run widget/nsBaseAppShell.cpp:157\n\n=============================================================\n\nthis cross-platform crash has been around for a while - it's primarily affecting users of italian builds, so perhaps it's something specific to websites that are frequently visited in that locale (many comments point towards newspaper sites). the url correlations from crash reports may provide more insight here...", "author": "madperson@gmx.at", "id": 13223217, "time": "2018-04-21T09:14:03Z"}, {"text": "Most crashes don't contain a URL. There are a lot of crashes on newspaper websites, such as www.larena.it or www.liberoquotidiano.it.", "author": "mcastelluccio@mozilla.com", "id": 13227976, "time": "2018-04-23T22:29:32Z"}, {"text": "Null pointer crash. We have similar issue in one other place.", "author": "bugs@pettay.fi", "id": 13232188, "time": "2018-04-25T11:15:10Z"}, {"text": "Created attachment 8970853\nchild_docshell_iteration.diff\n\nThis patch is based on code inspection.\n\nremote: View your change here:\nremote:   https://hg.mozilla.org/try/rev/3b3af74cb95e3fb5cbe584cd8ecd2c1905f6c641\nremote: \nremote: Follow the progress of your build on Treeherder:\nremote:   https://treeherder.mozilla.org/#/jobs?repo=try&revision=3b3af74cb95e3fb5cbe584cd8ecd2c1905f6c641\nremote: recorded changegroup in replication log in 0.057s", "author": "bugs@pettay.fi", "id": 13232274, "time": "2018-04-25T12:16:56Z"}, {"text": "Bughunter can reproduce with http://www.liberoquotidiano.it/news/sfoglio/13324310/ballando-con-le-stelle-milly-carlucci-selvaggia-lucarelli-voto-raoul-bova-reazione-attore.html on Linux.\n\nbp-56413306-5304-4c4e-ab0f-efd231180426", "author": "bob@bclary.com", "id": 13235057, "time": "2018-04-26T12:29:17Z"}, {"text": "Comment on attachment 8970853\nchild_docshell_iteration.diff\n\nReview of attachment 8970853:\n-----------------------------------------------------------------\n\n::: dom/base/nsGlobalWindowInner.cpp\n@@ +6327,5 @@\n>  \n>    int32_t childCount = 0;\n>    docShell->GetChildCount(&childCount);\n>  \n> +  AutoTArray<nsCOMPtr<nsIDocShellTreeItem>, 8> children;\n\nPlease add a comment explaining that we copy to avoid concurrent modification errors\n\n@@ +6473,5 @@\n>    if (docShell) {\n>      int32_t childCount = 0;\n>      docShell->GetChildCount(&childCount);\n>  \n> +    AutoTArray<nsCOMPtr<nsIDocShellTreeItem>, 8> children;\n\nSame here", "author": "nika@thelayzells.com", "id": 13243720, "time": "2018-04-30T17:09:02Z"}, {"text": "Created attachment 8972074\nchild_docshell_iteration_2.diff", "author": "bugs@pettay.fi", "id": 13243825, "time": "2018-04-30T17:53:20Z"}, {"text": "Created attachment 8972087\nchild_docshell_iteration_3.diff", "author": "bugs@pettay.fi", "id": 13243852, "time": "2018-04-30T18:02:09Z"}, {"text": "Pushed by opettay@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/c80d4798b4e1\nCrash in nsGlobalWindowInner::CallOnChildren<T>, r=nika", "author": "pulsebot@bots.tld", "id": 13243894, "time": "2018-04-30T18:13:05Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/c80d4798b4e1", "author": "apavel@mozilla.com", "id": 13245766, "time": "2018-05-01T10:23:20Z"}, {"text": "Safe (null) crash, low volume, marking wontfix for 60.", "author": "jcristau@mozilla.com", "id": 13254471, "time": "2018-05-04T12:46:39Z"}], "id": 1455819, "priority": "P1", "cc": ["bkelly@mozilla.com", "bob@bclary.com", "bugs@pettay.fi", "jcristau@mozilla.com", "mcastelluccio@mozilla.com", "nika@thelayzells.com", "ryanvm@gmail.com"], "cf_crash_signature": "[@ nsGlobalWindowInner::CallOnChildren<T>]\r\n[@ nsGlobalWindow::CallOnChildren<T>]\r\n[@ void nsGlobalWindow::CallOnChildren<T>]\r\n[@ nsGlobalWindowInner::CallState nsGlobalWindowInner::CallOnChildren<T>]", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2018-04-21T09:14:03Z", "cf_status_firefox_esr52": "wontfix", "component": "DOM", "assigned_to_detail": {"email": "bugs@pettay.fi", "id": 39966, "name": "bugs@pettay.fi", "real_name": "Olli Pettay [:smaug]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "fixed", "cf_status_firefox60": "wontfix", "target_milestone": "mozilla61", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "critical", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "madperson@gmx.at", "id": 209011, "name": "madperson@gmx.at", "real_name": "[:philipp]"}, "whiteboard": "", "mentors": [], "summary": "Crash in nsGlobalWindowInner::CallOnChildren<T>", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-07T02:34:16Z", "assigned_to": "bugs@pettay.fi", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "bkelly@mozilla.com"}], "who": "bkelly@mozilla.com", "when": "2018-04-21T10:56:12Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P1"}, {"removed": "", "field_name": "cc", "added": "bugs@pettay.fi"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "bugs@pettay.fi"}], "who": "bugs@pettay.fi", "when": "2018-04-25T11:15:10Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "nika@thelayzells.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8970853, "added": "review?(nika@thelayzells.com)"}], "who": "bugs@pettay.fi", "when": "2018-04-25T12:16:56Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bob@bclary.com"}], "who": "bob@bclary.com", "when": "2018-04-26T12:29:17Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nika@thelayzells.com)", "attachment_id": 8970853, "added": "review+"}], "who": "nika@thelayzells.com", "when": "2018-04-30T17:09:02Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8972074, "added": "1"}], "who": "bugs@pettay.fi", "when": "2018-04-30T18:02:09Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla61"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-01 10:23:20"}, {"removed": "affected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "apavel@mozilla.com", "when": "2018-05-01T10:23:20Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8970853, "added": "1"}], "who": "ryanvm@gmail.com", "when": "2018-05-02T01:36:25Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jcristau@mozilla.com"}, {"removed": "affected", "field_name": "cf_status_firefox60", "added": "wontfix"}], "who": "jcristau@mozilla.com", "when": "2018-05-04T12:46:39Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ryanvm@gmail.com"}, {"removed": "affected", "field_name": "cf_status_firefox_esr60", "added": "wontfix"}], "who": "ryanvm@gmail.com", "when": "2018-06-07T02:34:16Z"}], "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}