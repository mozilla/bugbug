{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "euthanasia_waltz@yahoo.co.jp", "mentors_detail": [], "depends_on": [1458860], "cf_status_firefox_esr60": "unaffected", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86_64", "cf_status_firefox59": "unaffected", "keywords": ["regression"], "cc_detail": [{"email": "aciure@mozilla.com", "id": 600674, "name": "aciure@mozilla.com", "real_name": "Andrei Ciure[:andrei_ciure_]"}, {"email": "alice0775@yahoo.co.jp", "id": 293623, "name": "alice0775@yahoo.co.jp", "real_name": "Alice0775 White"}, {"email": "dao+bmo@mozilla.com", "id": 219124, "name": "dao+bmo@mozilla.com", "real_name": "D\u00e3o Gottwald [::dao]"}, {"email": "dschubert@mozilla.com", "id": 421268, "name": "dschubert@mozilla.com", "real_name": "Dennis Schubert [:denschub]"}, {"email": "emilio@crisal.io", "id": 546716, "name": "emilio@crisal.io", "real_name": "Emilio Cobos \u00c1lvarez [:emilio]"}, {"email": "enndeakin@gmail.com", "id": 6102, "name": "enndeakin@gmail.com", "real_name": "Neil Deakin"}, {"email": "itiel_yn8@walla.com", "id": 353822, "name": "itiel_yn8@walla.com", "real_name": "Itiel"}, {"email": "jmaher@mozilla.com", "id": 324370, "name": "jmaher@mozilla.com", "real_name": "Joel Maher ( :jmaher ) (UTC-4)"}, {"email": "karlt@mozbugz.karlt.net", "id": 274246, "name": "karlt@mozbugz.karlt.net", "real_name": "Karl Tomlinson (back June 19 :karlt)"}, {"email": "peter@soulgalore.com", "id": 554385, "name": "peter@soulgalore.com", "real_name": "Peter Hedenskog"}, {"email": "peter@wikimedia.org", "id": 566479, "name": "peter@wikimedia.org", "real_name": "Peter Hedenskog"}, {"email": "stransky@redhat.com", "id": 263117, "name": "stransky@redhat.com", "real_name": "Martin Str\u00e1nsk\u00fd [:stransky]"}, {"email": "VYV03354@nifty.ne.jp", "id": 5842, "name": "VYV03354@nifty.ne.jp", "real_name": "Masatoshi Kimura [:emk]"}, {"email": "xidorn+moz@upsuper.org", "id": 373403, "name": "xidorn+moz@upsuper.org", "real_name": "Xidorn Quan [:xidorn] UTC+10"}], "cf_last_resolved": "2018-04-26T21:40:58Z", "attachments": [{"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "text/plain", "id": 8962748}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8962909}, {"creator": "emilio@crisal.io", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-04-25T23:19:41Z", "type_id": 4, "creation_date": "2018-04-25T10:57:17Z", "id": 1748746, "setter": "karlt@mozbugz.karlt.net"}], "content_type": "text/x-review-board-request", "id": 8962913}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 28, "comments": [{"text": "STR:\n1. Create a new profile\n2. Launch profile in new browser\n3. Unmaximize the new browser window\n\nER:\nOrdinally size.\n\nAR:\nToo small.\nOS        ScreenSize WindowSize\nLinuxMint 1280x1024  300x200\nLinuxMint 1024x768   300x200\nManjaro   1024x768   300x99\n(No problem on Windows10)\nWindows10 1280x1024  1160x916\n\nFormer(or 59.0.1) size on LinuxMint(1280x1024) is 1152x899.\n\nmozregression:\nhttps://hg.mozilla.org/integration/autoland/pushloghtml?fromchange=a75367f49378821ebe82c84e2dc714beb37bdfc2&tochange=6dbe66440bd2b872776e22d1a2cbd32755c81a2c", "author": "euthanasia_waltz@yahoo.co.jp", "id": 13158557, "time": "2018-03-27T13:07:14Z"}, {"text": "I can repro this, it needs a really small screen resolution.\n\nThanks for reporting this!", "author": "emilio@crisal.io", "id": 13158811, "time": "2018-03-27T14:52:24Z"}, {"text": "I think the bug 1439875 hid the existing bug 1446629, and bug 1446264 re-exposed it.", "author": "alice0775@yahoo.co.jp", "id": 13158891, "time": "2018-03-27T15:10:16Z"}, {"text": "Created attachment 8962748\nStack of the bogus resize.\n\nThat's the resize that changes the window size to small, from a normal size.\n\nUnsure where does that come from...", "author": "emilio@crisal.io", "id": 13159030, "time": "2018-03-27T15:54:33Z"}, {"text": "Created attachment 8962909\nPatch to reproduce the issue independently of screen resolution.", "author": "emilio@crisal.io", "id": 13161671, "time": "2018-03-27T22:08:50Z"}, {"text": "Created attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\ngtk_window_resize is asynchronous, it just leaves a resize_width / resize_height\nflag and carries on. The fatality here happens as follows:\n\n  (1) We start of with a 1x1 window.\n  (2) We size it to a reasonable size (let's call it S).\n  (3) We call SetSizeMode(Maximized) on that.\n\nWhen the user comes back from maximized mode, it expects S as a size (and\nrightfully so I'd say), however, it finds whatever the size constraints set via\nSetSizeConstraints end up being.\n\nThat happens because gtk_window_resize just queues two flags and schedules a\nresize[1], and that event does not happen before (3).\n\nThus, when the next resize happens, we just notice that the window is\nmaximized[2], so we don't use those bits, and eventually those resize flags get\ncompletely lost[3].\n\nThis didn't happen before bug 1446264 because we failed to maximize the window,\nthat is, to do step (3) entirely. That is indeed what bug 1446264 fixed.\n\nThe alternative here would be just calling gtk_window_move_resize right after\ncalling Resize(), I'd say.\n\n[1]: https://github.com/GNOME/gtk/blob/39851fbdbf08b3479192ceafaf788fa3bfbe8fd9/gtk/gtkwindow.c#L5373\n[2]: https://github.com/GNOME/gtk/blob/39851fbdbf08b3479192ceafaf788fa3bfbe8fd9/gtk/gtkwindow.c#L8346\n[3]: https://github.com/GNOME/gtk/blob/39851fbdbf08b3479192ceafaf788fa3bfbe8fd9/gtk/gtkwindow.c#L9038\n\nReview commit: https://reviewboard.mozilla.org/r/231714/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/231714/", "author": "emilio@crisal.io", "id": 13161696, "time": "2018-03-27T22:21:11Z"}, {"text": "Comment on attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\nHi Karl, Martin. Could you take a look at this patch and see if it makes sense?\n\nI spent a fair amount of time debugging it so the description in the commit message should be accurate, but I'm not sure if this is the preferred way to fix it, or I should just call gtk_window_move_resize(GTK_WINDOW(mShell)) after the gtk_window_* calls instead, or what not.", "author": "emilio@crisal.io", "id": 13161701, "time": "2018-03-27T22:23:22Z"}, {"text": "Now, about why did this work before bug 1439875, and that bug regressed this:\n\nBefore that patch, the order of calls is:\n\n  OnChromeLoaded()\n    Resize(..) -> enqueues a resize.\n    SetSizeMode(Maximized) -> enqueues an event that triggers the window state change..\n    Show(..) -> runs _before_ any of those events have run, making the window visible.\n\nShow does a check_resize, and hits https://github.com/GNOME/gtk/blob/39851fbdbf08b3479192ceafaf788fa3bfbe8fd9/gtk/gtkwindow.c#L7781, effectively calling gtk_window_move_resize, since now it's visible, which picks up the first Resize(..) call.\n\nBut after that patch, the order of calls is:\n\n  BeforeStartLayout()\n    Resize(..) -> enqueues a resize.\n    SetSizeMode(Maximized) -> enqueues an event that triggers the window state change.\n    // nothing...\n\nSo the check_resize that happens after the Resize call bails out, since it's not visible, so there's no gtk_window_move_resize. The SizeMode change event doesn't bail out, effectively dropping the resize event on the floor.", "author": "emilio@crisal.io", "id": 13161894, "time": "2018-03-28T00:01:20Z"}, {"text": "Comment on attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\nThank you for the accurate and helpful analysis.  There have been a number of\nbugs in this GTK code, and so it is difficult to predict exactly what effects\neven small changes may have.\n\ngdk_window_resize() behaves a little differently from gtk_window_resize().\nThe difference that I am most afraid of is that the gdk_ version does not add\nthe necessary extra when CSD is in use.\nhttps://github.com/GNOME/gtk/blob/39851fbdbf08b3479192ceafaf788fa3bfbe8fd9/gtk/gtkwindow.c#L8355\n\n(There is also a difference when called while the window is already maximized.\ngtk_window_resize() has no effect, but gdk_window_resize() may have an effect,\nperhaps depending on window manager.  I haven't checked the GTK_WINDOW_POPUP\nsituation.)\n\nFor the sake of CSD at least, I would recommend a different workaround.\n\nThe minimal change I can imagine would be to call\ngtk_container_check_resize(GTK_CONTAINER(mShell)) before\ngtk_window_maximize/fullscreen calls.\nThat would apply resize_width/height before maximized can be set.", "author": "karlt@mozbugz.karlt.net", "id": 13162257, "time": "2018-03-28T04:35:44Z"}, {"text": "Comment on attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\nKarl is the best reviewer here.", "author": "stransky@redhat.com", "id": 13162533, "time": "2018-03-28T07:59:04Z"}, {"text": "It may be also related to Bug 1433603.", "author": "stransky@redhat.com", "id": 13162534, "time": "2018-03-28T08:00:13Z"}, {"text": "(In reply to Karl Tomlinson (:karlt) from comment #8)\n> Thank you for the accurate and helpful analysis.  There have been a number of\n> bugs in this GTK code, and so it is difficult to predict exactly what effects\n> even small changes may have.\n> \n> gdk_window_resize() behaves a little differently from gtk_window_resize().\n> The difference that I am most afraid of is that the gdk_ version does not add\n> the necessary extra when CSD is in use.\n> https://github.com/GNOME/gtk/blob/39851fbdbf08b3479192ceafaf788fa3bfbe8fd9/\n> gtk/gtkwindow.c#L8355\n> \n> (There is also a difference when called while the window is already\n> maximized.\n> gtk_window_resize() has no effect, but gdk_window_resize() may have an\n> effect,\n> perhaps depending on window manager.  I haven't checked the GTK_WINDOW_POPUP\n> situation.)\n> \n> For the sake of CSD at least, I would recommend a different workaround.\n\nI see, that makes sense.\n\n> The minimal change I can imagine would be to call\n> gtk_container_check_resize(GTK_CONTAINER(mShell)) before\n> gtk_window_maximize/fullscreen calls.\n> That would apply resize_width/height before maximized can be set.\n\nUnfortunately that won't work, because by the time this happens, the window is not yet visible, and thus check_resize bails out without doing any work.\n\nI also thought of something like:\n\n    if (mIsShown) {\n        gtk_window_resize(GTK_WINDOW(mShell), size.width, size.height);\n    } else {\n        // Size will be picked up when shown.\n        gtk_window_set_default_size(GTK_WINDOW(mShell), size.width, size.height);\n    }\n\nBy the time Show is called, the window is already maximized, and thus we don't even check the default size anymore... So I'm kinda out of ideas.\n\nI'll try to dig a bit more, maybe workaround it by not calling maximize, etc. before Show(..), but if you know a good way to tell GTK+ \"Please update the size even though you're not a visible widget\" that'd be neat.", "author": "emilio@crisal.io", "id": 13162871, "time": "2018-03-28T10:48:21Z"}, {"text": "Oh, also, this may explain one of the other weird-ish glitches I'm seeing with GTK, which is the window not being correctly invalidated on first paint.\n\nEven before my patch, the size in gtk_window_map happens to be 1x1 until the resize is checked, and thus the invalidate call invalidates basically nothing.", "author": "emilio@crisal.io", "id": 13162876, "time": "2018-03-28T10:50:16Z"}, {"text": "(In reply to Emilio Cobos \u00c1lvarez [:emilio] from comment #11)\n> I'll try to dig a bit more, maybe workaround it by not calling maximize,\n> etc. before Show(..),\n\nYes, maximize could be delayed until after gtk_widget_show(), I assume\n\nThis approach deals with the loss of resize_width when maximizing before show,\nwhich I guess is enough to make the reported case work.\nIt doesn't address the async resize before maximize after show, but I guess\nthat is not so common.\n\n> but if you know a good way to tell GTK+ \"Please update\n> the size even though you're not a visible widget\" that'd be neat.\n\nI don't see a way to do that.\n\nAn alternative, which is fairly simple but crafty, might be to remove\nGDK_WINDOW_STATE_MAXIMIZED from aEvent->changed_mask in\nOnWindowStateEvent() if the window is not shown.  That would prevent\ngtk_window_state_event() from setting priv->maximized.  The show will trigger\na subsequent window-state-event because GDK_WINDOW_STATE_WITHDRAWN will\nchange.\n\nThis alternative would also address an async resize before maximize after\nshow.", "author": "karlt@mozbugz.karlt.net", "id": 13165652, "time": "2018-03-29T04:19:49Z"}, {"text": "FWIW, if you are making the window maximized after showing, you would likely cause the same regression as bug 1448199 which happens on Windows due to delayed maximizing.", "author": "xidorn+moz@upsuper.org", "id": 13165663, "time": "2018-03-29T04:26:51Z"}, {"text": "Any updates here? since this blocks bug 1447859 and in the past 7 days there are 39 failures on the following platforms: Linux debug, Linux x64 asan and linux64-ccov opt.\n\nRecent log failure: https://treeherder.mozilla.org/logviewer.html#?repo=mozilla-inbound&job_id=174442928&lineNumber=17586\n\nRelevant part of the log: \n[task 2018-04-19T00:48:04.962Z] 00:48:04     INFO - TEST-UNEXPECTED-FAIL | toolkit/content/tests/chrome/test_maximized_persist.xul | width should match after restore window - got 200, expected 300\n[task 2018-04-19T00:48:04.962Z] 00:48:04     INFO - SimpleTest.is@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:312:5\n[task 2018-04-19T00:48:04.963Z] 00:48:04     INFO - checkWindow@chrome://mochitests/content/chrome/toolkit/content/tests/chrome/test_maximized_persist.xul:38:7\n[task 2018-04-19T00:48:04.963Z] 00:48:04     INFO - runTest@chrome://mochitests/content/chrome/toolkit/content/tests/chrome/test_maximized_persist.xul:88:5\n[task 2018-04-19T00:48:04.965Z] 00:48:04     INFO - async*onload@chrome://mochitests/content/chrome/toolkit/content/tests/chrome/test_maximized_persist.xul:1:1\n[task 2018-04-19T00:48:04.965Z] 00:48:04     INFO - rval@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:146:17\n[task 2018-04-19T00:48:04.966Z] 00:48:04     INFO - EventHandlerNonNull*this.addLoadEvent@chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:171:13\n[task 2018-04-19T00:48:04.967Z] 00:48:04     INFO - @chrome://mochikit/content/tests/SimpleTest/SimpleTest.js:1444:5\n[task 2018-04-19T00:48:04.968Z] 00:48:04     INFO - Not taking screenshot here: see the one that was previously logged\n[task 2018-04-19T00:48:04.969Z] 00:48:04     INFO - TEST-UNEXPECTED-FAIL | toolkit/content/tests/chrome/test_maximized_persist.xul | height should match after restore window - got 200, expected 300", "author": "nerli@mozilla.com", "id": 13217555, "time": "2018-04-19T06:32:53Z"}, {"text": "I haven't had the time to look into this recently, but it's on my radar.", "author": "emilio@crisal.io", "id": 13217671, "time": "2018-04-19T07:46:41Z"}, {"text": "Comment on attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/231714/diff/1-2/", "author": "emilio@crisal.io", "id": 13218285, "time": "2018-04-19T12:42:21Z"}, {"text": "Comment on attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\nhttps://reviewboard.mozilla.org/r/231714/#review244790\n\n::: commit-message-0d428:1\n(Diff revision 2)\n> +Bug 1449166: Prevent maximization of unshown window. r?karlt\n\nThis is not actually preventing maximization, but it\ndoes prevent GtkWindow's maximized flag from being set.\n\nPerhaps the checkin comment could be something like\n\"trick GTK into using values from gtk_window_resize when showing maximized windows\n\nso as to provide a sensible size for the window when the user exits maximized\nstate.\"\n\n::: widget/gtk/nsWindow.cpp:3329\n(Diff revision 2)\n> +    // If we're not shown yet prevent maximization, since it will eat pending\n> +    // resizes. See bug 1449166.\n\nI'd like more details in the explanation comment inline here, as the\nmechanism is not easy to understand.\n\nSomething like:\n\n\"When a window is resized before it is shown, gtk_window_resize() delays\n resizes until the window is shown.  If gtk_window_state_event() sees a\n GDK_WINDOW_STATE_MAXIMIZED change [1] before the window is shown, then\n gtk_window_compute_configure_request_size() ignores the values from the\n resize [2].\n [1] https://gitlab.gnome.org/GNOME/gtk/blob/3.22.30/gtk/gtkwindow.c#L7967\n [2] https://gitlab.gnome.org/GNOME/gtk/blob/3.22.30/gtk/gtkwindow.c#L9377\n\n In order to provide a sensible size for the window when the user exits\n maximized state, we hide the GDK_WINDOW_STATE_MAXIMIZED change from\n gtk_window_state_event() so as to trick GTK into using the values from\n gtk_window_resize() in its configure request.\n\n We instead notify gtk_window_state_event() of the maximized state change once\n the window is shown.\"\n\n::: widget/gtk/nsWindow.cpp:3332\n(Diff revision 2)\n> +        aEvent->changed_mask =\n> +            static_cast<GdkWindowState>(aEvent->changed_mask & ~GDK_WINDOW_STATE_MAXIMIZED);\n\nPlease wrap so as to keep within 80 columns.\n\nI would wrap after '>' so that the statement requires only two lines, but wrapping after '='\nand '&' is fine too.\n\n::: widget/gtk/nsWindow.cpp:3334\n(Diff revision 2)\n> +    // If we're not shown yet prevent maximization, since it will eat pending\n> +    // resizes. See bug 1449166.\n> +    if (!mIsShown) {\n> +        aEvent->changed_mask =\n> +            static_cast<GdkWindowState>(aEvent->changed_mask & ~GDK_WINDOW_STATE_MAXIMIZED);\n> +    }\n\nWe need to tell gtk_window_state_event() about the maximized state eventually so that it can appropriately draw and handle input on the window buttons it adds when in client-side-decorated (CSD) mode.\n\nCSD is only used on some systems.  You probably did not notice any problems because the window manager added these buttons on your system.\n\nI expect this should work:\n\n    } else if (aEvent->changed_mask & GDK_WINDOW_STATE_WITHDRAWN &&\n               aEvent->new_window_state & GDK_WINDOW_STATE_MAXIMIZED) {\n        aEvent->changed_mask = static_cast<GdkWindowState>\n            (aEvent->changed_mask & GDK_WINDOW_STATE_MAXIMIZED);\n    }", "author": "karlt@mozbugz.karlt.net", "id": 13228114, "time": "2018-04-23T23:53:41Z"}, {"text": "Comment on attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\nhttps://reviewboard.mozilla.org/r/231714/#review244790\n\n> We need to tell gtk_window_state_event() about the maximized state eventually so that it can appropriately draw and handle input on the window buttons it adds when in client-side-decorated (CSD) mode.\n> \n> CSD is only used on some systems.  You probably did not notice any problems because the window manager added these buttons on your system.\n> \n> I expect this should work:\n> \n>     } else if (aEvent->changed_mask & GDK_WINDOW_STATE_WITHDRAWN &&\n>                aEvent->new_window_state & GDK_WINDOW_STATE_MAXIMIZED) {\n>         aEvent->changed_mask = static_cast<GdkWindowState>\n>             (aEvent->changed_mask & GDK_WINDOW_STATE_MAXIMIZED);\n>     }\n\naEvent->changed_mask | GDK_WINDOW_STATE_MAXIMIZED", "author": "karlt@mozbugz.karlt.net", "id": 13228120, "time": "2018-04-23T23:56:41Z"}, {"text": "Comment on attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/231714/diff/2-3/", "author": "emilio@crisal.io", "id": 13232168, "time": "2018-04-25T10:57:17Z"}, {"text": "Comment on attachment 8962913\nBug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows.\n\nhttps://reviewboard.mozilla.org/r/231714/#review245548\n\n::: widget/gtk/nsWindow.cpp:3330\n(Diff revision 3)\n>          }\n>          return;\n>      }\n>      // else the widget is a shell widget.\n>  \n> +    // The block below is a bit evil.\n\nAye, it is.", "author": "karlt@mozbugz.karlt.net", "id": 13234053, "time": "2018-04-25T23:19:41Z"}, {"text": "emilio: can you give us an eta for landing this patch?", "author": "aciure@mozilla.com", "id": 13235025, "time": "2018-04-26T12:10:39Z"}, {"text": "I triggered autoland, but it's closed... So whenever it reopens.", "author": "emilio@crisal.io", "id": 13235028, "time": "2018-04-26T12:11:53Z"}, {"text": "Pushed by ecoal95@gmail.com:\nhttps://hg.mozilla.org/integration/autoland/rev/c2f10e92f864\nTrick GTK into using values from gtk_window_resize when showing maximized windows. r=karlt", "author": "pulsebot@bots.tld", "id": 13235386, "time": "2018-04-26T14:22:38Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/c2f10e92f864", "author": "shindli@mozilla.com", "id": 13236827, "time": "2018-04-26T21:40:58Z"}, {"text": "*** Bug 1453554 has been marked as a duplicate of this bug. ***", "author": "xidorn+moz@upsuper.org", "id": 13237494, "time": "2018-04-27T06:32:25Z"}, {"text": "Filed https://gitlab.gnome.org/GNOME/gtk/issues/1044 on the underlying GTK issue / limitation.", "author": "emilio@crisal.io", "id": 13259098, "time": "2018-05-07T08:55:40Z"}], "id": 1449166, "priority": "P1", "cc": ["aciure@mozilla.com", "alice0775@yahoo.co.jp", "dao+bmo@mozilla.com", "dschubert@mozilla.com", "emilio@crisal.io", "enndeakin@gmail.com", "itiel_yn8@walla.com", "jmaher@mozilla.com", "karlt@mozbugz.karlt.net", "peter@soulgalore.com", "peter@wikimedia.org", "stransky@redhat.com", "VYV03354@nifty.ne.jp", "xidorn+moz@upsuper.org"], "cf_crash_signature": "", "version": "61 Branch", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1433603"], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1446264, 1447859, 1453554], "qa_contact": "", "creation_time": "2018-03-27T13:07:14Z", "cf_status_firefox_esr52": "unaffected", "component": "Widget: Gtk", "assigned_to_detail": {"email": "emilio@crisal.io", "id": 546716, "name": "emilio@crisal.io", "real_name": "Emilio Cobos \u00c1lvarez [:emilio]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "fixed", "cf_status_firefox60": "unaffected", "target_milestone": "mozilla61", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "euthanasia_waltz@yahoo.co.jp", "id": 533510, "name": "euthanasia_waltz@yahoo.co.jp", "real_name": "atlanto"}, "whiteboard": "[stockwell fixed:product]", "mentors": [], "summary": "Initial size of unmaximized window for new profile is too small", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-07T08:55:40Z", "assigned_to": "emilio@crisal.io", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1446264"}], "who": "euthanasia_waltz@yahoo.co.jp", "when": "2018-03-27T13:07:31Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "itiel_yn8@walla.com"}], "who": "itiel_yn8@walla.com", "when": "2018-03-27T13:14:42Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "VYV03354@nifty.ne.jp"}], "who": "VYV03354@nifty.ne.jp", "when": "2018-03-27T13:30:07Z"}, {"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "NEW"}, {"removed": "", "field_name": "cc", "added": "emilio@crisal.io"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "emilio@crisal.io"}, {"removed": "0", "field_name": "is_confirmed", "added": "1"}], "who": "emilio@crisal.io", "when": "2018-03-27T14:52:24Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "alice0775@yahoo.co.jp"}], "who": "alice0775@yahoo.co.jp", "when": "2018-03-27T15:10:16Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "karlt@mozbugz.karlt.net, stransky@redhat.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8962913, "added": "feedback?(karlt@mozbugz.karlt.net), feedback?(stransky@redhat.com)"}], "who": "emilio@crisal.io", "when": "2018-03-27T22:23:22Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "xidorn+moz@upsuper.org"}], "who": "xidorn+moz@upsuper.org", "when": "2018-03-27T23:51:00Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "feedback?(karlt@mozbugz.karlt.net)", "attachment_id": 8962913, "added": ""}], "who": "karlt@mozbugz.karlt.net", "when": "2018-03-28T04:35:44Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "feedback?(stransky@redhat.com)", "attachment_id": 8962913, "added": ""}], "who": "stransky@redhat.com", "when": "2018-03-28T07:59:04Z"}, {"changes": [{"removed": "", "field_name": "see_also", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1433603"}], "who": "stransky@redhat.com", "when": "2018-03-28T08:00:39Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(karlt@mozbugz.karlt.net)"}], "who": "emilio@crisal.io", "when": "2018-03-28T10:48:21Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1447859"}], "who": "xidorn+moz@upsuper.org", "when": "2018-03-28T14:21:08Z"}, {"changes": [{"removed": "needinfo?(karlt@mozbugz.karlt.net)", "field_name": "flagtypes.name", "added": ""}], "who": "karlt@mozbugz.karlt.net", "when": "2018-03-29T04:19:49Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dao+bmo@mozilla.com"}], "who": "dao+bmo@mozilla.com", "when": "2018-04-17T11:52:50Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "enndeakin@gmail.com"}, {"removed": "", "field_name": "whiteboard", "added": "[stockwell needswork]"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(enndeakin@gmail.com)"}], "who": "nerli@mozilla.com", "when": "2018-04-19T06:32:53Z"}, {"changes": [{"removed": "needinfo?(enndeakin@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "emilio@crisal.io", "when": "2018-04-19T07:46:41Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(emilio@crisal.io)"}], "who": "emilio@crisal.io", "when": "2018-04-19T07:46:50Z"}, {"changes": [{"removed": "XUL", "field_name": "component", "added": "Widget: Gtk"}], "who": "emilio@crisal.io", "when": "2018-04-19T07:52:17Z"}, {"changes": [{"field_name": "attachments.description", "removed": "Bug 1449166: Use gdk instead of gtk_window_* APIs for Resizing / Moving.", "attachment_id": 8962913, "added": "Bug 1449166: Prevent maximization of unshown window."}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8962913, "added": "review?(karlt@mozbugz.karlt.net)"}], "who": "emilio@crisal.io", "when": "2018-04-19T12:42:21Z"}, {"changes": [{"removed": "needinfo?(emilio@crisal.io)", "field_name": "flagtypes.name", "added": ""}], "who": "emilio@crisal.io", "when": "2018-04-19T12:50:11Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1453554"}], "who": "xidorn+moz@upsuper.org", "when": "2018-04-23T11:44:10Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "peter@soulgalore.com"}], "who": "peter@soulgalore.com", "when": "2018-04-23T21:21:44Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(karlt@mozbugz.karlt.net)", "attachment_id": 8962913, "added": ""}], "who": "karlt@mozbugz.karlt.net", "when": "2018-04-23T23:53:41Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "peter@wikimedia.org"}], "who": "peter@wikimedia.org", "when": "2018-04-25T04:19:45Z"}, {"changes": [{"field_name": "attachments.description", "removed": "Bug 1449166: Prevent maximization of unshown window.", "attachment_id": 8962913, "added": "Bug 1449166: Trick GTK into using values from gtk_window_resize when showing maximized windows."}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8962913, "added": "review?(karlt@mozbugz.karlt.net)"}], "who": "emilio@crisal.io", "when": "2018-04-25T10:57:17Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(karlt@mozbugz.karlt.net)", "attachment_id": 8962913, "added": "review+"}], "who": "karlt@mozbugz.karlt.net", "when": "2018-04-25T23:19:41Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "--", "field_name": "priority", "added": "P1"}], "who": "dao+bmo@mozilla.com", "when": "2018-04-26T10:10:15Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "aciure@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(emilio@crisal.io)"}], "who": "aciure@mozilla.com", "when": "2018-04-26T12:10:39Z"}, {"changes": [{"removed": "needinfo?(emilio@crisal.io)", "field_name": "flagtypes.name", "added": ""}], "who": "emilio@crisal.io", "when": "2018-04-26T12:11:53Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dschubert@mozilla.com"}], "who": "dschubert@mozilla.com", "when": "2018-04-26T16:18:40Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla61"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-04-26 21:40:58"}, {"removed": "affected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "shindli@mozilla.com", "when": "2018-04-26T21:40:58Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jmaher@mozilla.com"}, {"removed": "[stockwell needswork]", "field_name": "whiteboard", "added": "[stockwell fixed:product]"}], "who": "jmaher@mozilla.com", "when": "2018-04-27T06:05:14Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox59", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "unaffected"}], "who": "ryanvm@gmail.com", "when": "2018-04-28T15:58:59Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1458860"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-03T22:54:37Z"}], "resolution": "FIXED", "op_sys": "Linux", "cf_fx_points": "---", "cf_blocking_fennec": "---"}