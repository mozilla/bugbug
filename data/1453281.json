{"cf_tracking_thunderbird_esr52": "---", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "dao+bmo@mozilla.com", "mentors_detail": [], "depends_on": [1455496], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "keywords": [], "cc_detail": [{"email": "bdahl@mozilla.com", "id": 425126, "name": "bdahl@mozilla.com", "real_name": "Brendan Dahl [:bdahl]"}, {"email": "bgrinstead@mozilla.com", "id": 476442, "name": "bgrinstead@mozilla.com", "real_name": "Brian Grinstead [:bgrins]"}, {"email": "paolo.mozmail@amadzone.org", "id": 332229, "name": "paolo.mozmail@amadzone.org", "real_name": ":Paolo Amadini"}, {"email": "richard.marti@gmail.com", "id": 282357, "name": "richard.marti@gmail.com", "real_name": "Richard Marti (:Paenglab)"}], "cf_last_resolved": "2018-04-12T09:42:50Z", "attachments": [{"creator": "dao+bmo@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-04-11T14:49:48Z", "type_id": 4, "creation_date": "2018-04-11T11:46:47Z", "id": 1742336, "setter": "paolo.mozmail@amadzone.org"}, {"status": "+", "name": "review", "modification_date": "2018-04-11T17:05:08Z", "type_id": 4, "creation_date": "2018-04-11T14:49:56Z", "id": 1742468, "setter": "bgrinstead@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8966951}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 14, "comments": [{"text": "", "author": "dao+bmo@mozilla.com", "id": 13197349, "time": "2018-04-11T11:04:52Z"}, {"text": "Can you provide some more info on this? What was <menubar> replaced with? I see a few occurrences even in m-c.", "author": "philipp@bugzilla.kewis.ch", "id": 13197379, "time": "2018-04-11T11:16:40Z"}, {"text": "I'm not going to remove the element but the binding which doesn't do anything useful.", "author": "dao+bmo@mozilla.com", "id": 13197433, "time": "2018-04-11T11:45:13Z"}, {"text": "Created attachment 8966951\nBug 1453281 - Remove obsolete menubar binding and styling.\n\nReview commit: https://reviewboard.mozilla.org/r/235632/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/235632/", "author": "dao+bmo@mozilla.com", "id": 13197440, "time": "2018-04-11T11:46:47Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=8a19849274bf5ddc21ecceeaddb9f4657f4fde8f", "author": "dao+bmo@mozilla.com", "id": 13197441, "time": "2018-04-11T11:46:58Z"}, {"text": "Comment on attachment 8966951\nBug 1453281 - Remove obsolete menubar binding and styling.\n\nhttps://reviewboard.mozilla.org/r/235632/#review241438\n\nLooks good, but someone else should probably review the devtools bits. Asking Brian but feel free to redirect.\n\n::: browser/themes/windows/places/organizer.css\n(Diff revision 1)\n>    transform: scaleX(-1);\n>  }\n>  \n>  /* Menu */\n> -#placesMenu {\n> -  margin-inline-start: 6px;\n\nnit: we may want to keep this margin after the navigation buttons in the Library.\n\n::: toolkit/themes/windows/global/toolbar.css\n(Diff revision 1)\n>  }\n>  \n>  /* ::::: lightweight theme ::::: */\n>  \n> -menubar:-moz-lwtheme,\n> -toolbox:-moz-lwtheme,\n\n\"toolbox\" still has \"-moz-appearance: toolbox;\", so I'm not sure this can be removed. What does it do, is it just selecting a system background color?\n\nIf this is not needed anymore, maybe the support for this value of the \"appearance\" property could be removed together with the selectors, here or in a separate bug.", "author": "paolo.mozmail@amadzone.org", "id": 13198082, "time": "2018-04-11T14:49:48Z"}, {"text": "Comment on attachment 8966951\nBug 1453281 - Remove obsolete menubar binding and styling.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/235632/diff/1-2/", "author": "dao+bmo@mozilla.com", "id": 13198255, "time": "2018-04-11T15:30:39Z"}, {"text": "(In reply to :Paolo Amadini from comment #5)\n> ::: browser/themes/windows/places/organizer.css\n> (Diff revision 1)\n> >    transform: scaleX(-1);\n> >  }\n> >  \n> >  /* Menu */\n> > -#placesMenu {\n> > -  margin-inline-start: 6px;\n> \n> nit: we may want to keep this margin after the navigation buttons in the\n> Library.\n\nOops. Removed this by accident.\n\n> ::: toolkit/themes/windows/global/toolbar.css\n> (Diff revision 1)\n> >  }\n> >  \n> >  /* ::::: lightweight theme ::::: */\n> >  \n> > -menubar:-moz-lwtheme,\n> > -toolbox:-moz-lwtheme,\n> \n> \"toolbox\" still has \"-moz-appearance: toolbox;\", so I'm not sure this can be\n> removed. What does it do, is it just selecting a system background color?\n\nGood catch. https://hg.mozilla.org/mozilla-central/rev/df6d2c3ee671e81f1a8b4f6d13197eee52db9680 moved -moz-appearance: toolbox to global.css, but toolbar.css is now loaded via components.css so I'll move it back there.", "author": "dao+bmo@mozilla.com", "id": 13198261, "time": "2018-04-11T15:33:14Z"}, {"text": "Comment on attachment 8966951\nBug 1453281 - Remove obsolete menubar binding and styling.\n\nhttps://reviewboard.mozilla.org/r/235632/#review241506\n\n::: devtools/client/scratchpad/scratchpad.xul:144\n(Diff revision 2)\n>         command=\"key_gotoLine\"\n>         modifiers=\"accel\"/>\n>  \n>  </keyset>\n>  \n> +<toolbar type=\"menubar\">\n\nWhat's the guideline for when to wrap a menubar with a `<toolbar type=\"menubar\">?\n\nIn particular, why do we need to do this for scratchpad/webide/layoutdebugger, but not in places.xul https://searchfox.org/mozilla-central/source/browser/components/places/content/places.xul#189 or browser-menubar.inc?", "author": "bgrinstead@mozilla.com", "id": 13198537, "time": "2018-04-11T16:46:56Z"}, {"text": "(In reply to Brian Grinstead [:bgrins] from comment #8)\n> ::: devtools/client/scratchpad/scratchpad.xul:144\n> (Diff revision 2)\n> >         command=\"key_gotoLine\"\n> >         modifiers=\"accel\"/>\n> >  \n> >  </keyset>\n> >  \n> > +<toolbar type=\"menubar\">\n> \n> What's the guideline for when to wrap a menubar with a `<toolbar\n> type=\"menubar\">?\n\nBasically always, as of this bug.\n\n> In particular, why do we need to do this for\n> scratchpad/webide/layoutdebugger, but not in places.xul\n> https://searchfox.org/mozilla-central/source/browser/components/places/\n> content/places.xul#189 or browser-menubar.inc?\n\nBoth are already in a toolbar, except for macWindow.inc.xul where it doesn't matter because we don't render it. places.xul doesn't use type=\"menubar\" because it doesn't want the associated style.", "author": "dao+bmo@mozilla.com", "id": 13198580, "time": "2018-04-11T16:57:59Z"}, {"text": "(In reply to D\u00e3o Gottwald [::dao] from comment #9)\n> (In reply to Brian Grinstead [:bgrins] from comment #8)\n> > ::: devtools/client/scratchpad/scratchpad.xul:144\n> > (Diff revision 2)\n> > >         command=\"key_gotoLine\"\n> > >         modifiers=\"accel\"/>\n> > >  \n> > >  </keyset>\n> > >  \n> > > +<toolbar type=\"menubar\">\n> > \n> > What's the guideline for when to wrap a menubar with a `<toolbar\n> > type=\"menubar\">?\n> \n> Basically always, as of this bug.\n\nOK. I do wonder if we should get rid of menubar entirely (i.e. support having <menu> and related tags directly beneath <toolbar type=\"menubar\"> and also have platform integration for detecting menubars on osx look for <toolbar type=\"menubar\">). But I don't think it needs to block here - especially since we are still working to figure out how to support menus in HTML docs which may end up changing things.", "author": "bgrinstead@mozilla.com", "id": 13198603, "time": "2018-04-11T17:04:17Z"}, {"text": "Comment on attachment 8966951\nBug 1453281 - Remove obsolete menubar binding and styling.\n\nhttps://reviewboard.mozilla.org/r/235632/#review241520", "author": "bgrinstead@mozilla.com", "id": 13198605, "time": "2018-04-11T17:05:08Z"}, {"text": "Pushed by dgottwald@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/7a26b1da04e5\nRemove obsolete menubar binding and styling. r=bgrins,Paolo", "author": "pulsebot@bots.tld", "id": 13199692, "time": "2018-04-12T00:27:53Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/7a26b1da04e5", "author": "ebalazs@mozilla.com", "id": 13200349, "time": "2018-04-12T09:42:50Z"}], "id": 1453281, "priority": "--", "cc": ["bdahl@mozilla.com", "bgrinstead@mozilla.com", "paolo.mozmail@amadzone.org", "richard.marti@gmail.com"], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "status": "RESOLVED", "product": "Toolkit", "cf_fx_iteration": "---", "blocks": [1397874], "qa_contact": "", "creation_time": "2018-04-11T11:04:52Z", "cf_status_firefox_esr52": "---", "component": "XUL Widgets", "assigned_to_detail": {"email": "dao+bmo@mozilla.com", "id": 219124, "name": "dao+bmo@mozilla.com", "real_name": "D\u00e3o Gottwald [::dao]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "fixed", "cf_status_firefox60": "---", "target_milestone": "mozilla61", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "dao+bmo@mozilla.com", "id": 219124, "name": "dao+bmo@mozilla.com", "real_name": "D\u00e3o Gottwald [::dao]"}, "whiteboard": "", "mentors": [], "summary": "Remove obsolete menubar binding and styling", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-04-20T10:07:27Z", "assigned_to": "dao+bmo@mozilla.com", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "richard.marti@gmail.com"}], "who": "richard.marti@gmail.com", "when": "2018-04-11T11:11:11Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8966951, "added": "review?(paolo.mozmail@amadzone.org)"}, {"removed": "", "field_name": "cc", "added": "paolo.mozmail@amadzone.org"}], "who": "dao+bmo@mozilla.com", "when": "2018-04-11T11:46:47Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(paolo.mozmail@amadzone.org)", "attachment_id": 8966951, "added": "review+"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-04-11T14:49:48Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8966951, "added": "review?(bgrinstead@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "bgrinstead@mozilla.com"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-04-11T14:49:56Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bdahl@mozilla.com"}], "who": "bgrinstead@mozilla.com", "when": "2018-04-11T17:04:17Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bgrinstead@mozilla.com)", "attachment_id": 8966951, "added": "review+"}], "who": "bgrinstead@mozilla.com", "when": "2018-04-11T17:05:08Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla61"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-04-12 09:42:50"}, {"removed": "affected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "ebalazs@mozilla.com", "when": "2018-04-12T09:42:50Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1455496"}], "who": "dao+bmo@mozilla.com", "when": "2018-04-20T10:07:27Z"}], "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}