{"cf_tracking_thunderbird_esr52": "---", "cf_tracking_firefox60": "---", "attachments": [], "cf_tracking_firefox62": "---", "creator": "lidel@lidel.org", "mentors_detail": [], "depends_on": [14328], "cf_status_firefox_esr60": "---", "cf_user_story": "", "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1435798"}], "who": "lidel@lidel.org", "when": "2018-03-27T13:42:59Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P5"}, {"removed": "", "field_name": "cc", "added": "mixedpuppy@gmail.com"}, {"removed": "WebExtensions: Untriaged", "field_name": "component", "added": "WebExtensions: Request Handling"}, {"removed": "", "field_name": "whiteboard", "added": "[design-decision-needed]"}], "who": "mixedpuppy@gmail.com", "when": "2018-03-27T14:36:47Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mconca@mozilla.com"}, {"removed": "[design-decision-needed]", "field_name": "whiteboard", "added": "[design-decision-needed][dns]"}, {"removed": "normal", "field_name": "severity", "added": "enhancement"}], "who": "mconca@mozilla.com", "when": "2018-03-30T16:20:09Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cneiman@mozilla.com"}], "who": "cneiman@mozilla.com", "when": "2018-04-06T20:58:48Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "14328"}], "who": "mixedpuppy@gmail.com", "when": "2018-04-09T14:55:26Z"}, {"changes": [{"removed": "[design-decision-needed][dns]", "field_name": "whiteboard", "added": "[dns]"}], "who": "mixedpuppy@gmail.com", "when": "2018-04-09T14:56:39Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mkmelin+mozilla@iki.fi"}], "who": "mkmelin+mozilla@iki.fi", "when": "2018-04-09T19:15:48Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "marsjaninzmarsa@gmail.com"}], "who": "marsjaninzmarsa@gmail.com", "when": "2018-05-08T23:31:43Z"}], "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "cc_detail": [{"email": "cneiman@mozilla.com", "id": 582971, "name": "cneiman@mozilla.com", "real_name": "Caitlin Neiman [:caitmuenster]"}, {"email": "marsjaninzmarsa@gmail.com", "id": 470481, "name": "marsjaninzmarsa@gmail.com", "real_name": "Kuba Niewiarowski"}, {"email": "mconca@mozilla.com", "id": 599100, "name": "mconca@mozilla.com", "real_name": "Mike Conca [:mconca] (Denver, CO, USA UTC-6)"}, {"email": "mixedpuppy@gmail.com", "id": 372685, "name": "mixedpuppy@gmail.com", "real_name": "Shane Caraveo (:mixedpuppy)"}, {"email": "mkmelin+mozilla@iki.fi", "id": 101158, "name": "mkmelin+mozilla@iki.fi", "real_name": "Magnus Melin"}], "cf_last_resolved": null, "cf_tracking_firefox61": "---", "votes": 2, "classification": "Components", "is_confirmed": false, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 6, "comments": [{"text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0\nBuild ID: 20180315233128\n\nSteps to reproduce:\n\nMechanism for performing DNS lookups via the WebExtensions API has been added  recently[1] under dns.resolve[2].\nUnfortunately it allows only for a lookup of A/AAAA records, which severely limits use cases for this DNS API.\n\nTXT records are often used for publishing additional metadata in DNS\nIt may be PGP pubkeys, access-confirmation tokens, efficient shortening services and more. \nMy personal interest is to use DNS TXT record lookup as a bridge between centralized and decentralized technologies. \nAn example of this approach is TXT record with dnslink for IPFS[3]. \n\nRight now DNS TXT lookups need to be done over third-party HTTP APIs, which introduces significant overhead and introduces a vector for privacy leakage.\n\nI propose an extension of this API to support lookups for DNS records other than A/AAAA, or at least just TXT ones.\nIt would enable extensions to do TXT lookups in efficient manner.\n\nPS. I am aware there is 19 year old bug regarding SRV[4], but this is by no means a duplicate.\nThis bug is specific to (i) exposing lookup only via WebExtension API (ii) DNS TXT record, which proved to be more flexible than SRV\n\n[1]. https://bugzilla.mozilla.org/show_bug.cgi?id=1373640\n[2]. https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/dns\n[3]. https://github.com/ipfs/go-dnslink#background\n[4]. https://bugzilla.mozilla.org/show_bug.cgi?id=14328", "author": "lidel@lidel.org", "id": 13158594, "time": "2018-03-27T13:28:42Z"}, {"text": "Not opposed to adding additional record types to the dns api, but that is going to require updates to the dnsservice (e.g. bug 14328 that you pointed out).  I don't see this becoming a priority for us, but contributions could be welcome.", "author": "mixedpuppy@gmail.com", "id": 13158765, "time": "2018-03-27T14:36:47Z"}, {"text": "Hi Marcin, this has been added to the agenda for the WebExtensions APIs triage on April 10, 2018. Would you be able to join us? \n\nHere\u2019s a quick overview of what to expect at the triage: \n\n* We normally spend 5 minutes per bug\n* The more information in the bug, the better\n* The goal of the triage is to give a general thumbs up or thumbs down on a proposal; we won't be going deep into implementation details\n\nRelevant Links: \n\n* Wiki for the meeting: https://wiki.mozilla.org/WebExtensions/Triage#Next_Meeting\n* Meeting agenda: https://docs.google.com/document/d/1cFcqNOLwp77aosh5QUeNKgW8FQONAzOBlqjbcbxdIXw/edit#\n* Vision doc for WebExtensions: https://wiki.mozilla.org/WebExtensions/Vision", "author": "cneiman@mozilla.com", "id": 13187453, "time": "2018-04-06T20:58:48Z"}, {"text": "I realize I put decision-needed, but I think we need an internal decision on this, since it requires low level work to be done first.", "author": "mixedpuppy@gmail.com", "id": 13187461, "time": "2018-04-06T21:00:20Z"}, {"text": "I think what you are saying is that this isn't really a WebExtensions design decision; the DNS API will gladly support and expose it, but only if the underlying product implements it.  Bug 14328.\n\nAnd implementing that bug is where the design decision is needed. Which is a different team.  I'd recommend we remove the design-decision-needed flag on this bug, keep it as P5, and make it dependent on bug 14328.  Once that lands (if it does), we can expose it via the existing DNS API.", "author": "mconca@mozilla.com", "id": 13187671, "time": "2018-04-06T22:20:06Z"}, {"text": "(In reply to Mike Conca [:mconca] (Denver, CO, USA UTC-6) from comment #4)\n> I think what you are saying is that this isn't really a WebExtensions design\n> decision; the DNS API will gladly support and expose it, but only if the\n> underlying product implements it.  Bug 14328.\n\nyep.", "author": "mixedpuppy@gmail.com", "id": 13192086, "time": "2018-04-09T14:55:26Z"}], "id": 1449171, "priority": "P5", "cc": ["cneiman@mozilla.com", "marsjaninzmarsa@gmail.com", "mconca@mozilla.com", "mixedpuppy@gmail.com", "mkmelin+mozilla@iki.fi"], "cf_crash_signature": "", "version": "60 Branch", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "status": "UNCONFIRMED", "product": "Toolkit", "cf_fx_iteration": "---", "blocks": [1435798], "qa_contact": "", "creation_time": "2018-03-27T13:28:42Z", "cf_status_firefox_esr52": "---", "component": "WebExtensions: Request Handling", "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "enhancement", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "lidel@lidel.org", "id": 535729, "name": "lidel@lidel.org", "real_name": "Marcin Rataj"}, "whiteboard": "[dns]", "mentors": [], "summary": "Add DNS TXT resolution to dns.resolve WebExtensions API", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-08T23:31:43Z", "assigned_to": "nobody@mozilla.org", "is_open": true, "cf_blocking_webextensions": "---", "resolution": "", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}