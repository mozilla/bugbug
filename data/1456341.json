{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "aisnote@gmail.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_backlog": "---", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "cc_detail": [{"email": "docfaraday@gmail.com", "id": 478411, "name": "docfaraday@gmail.com", "real_name": "Byron Campen [:bwc]"}, {"email": "gingerbread_man@live.com", "id": 353206, "name": "gingerbread_man@live.com", "real_name": "Gingerbread Man"}], "cf_last_resolved": "2018-04-24T13:56:23Z", "attachments": [], "votes": 0, "classification": "Components", "is_confirmed": false, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 3, "comments": [{"text": "User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.117 Safari/537.36\n\nSteps to reproduce:\n\n1. start webrtc video \n2. got RTCPeerConnection.onnegotiationneeded while the signalState is checking and new\n\n\nActual results:\n\nthere are 2 times msg. one is for checking, one is for new.\nFF 58 only fired while new state.\n\n\nExpected results:\n\nonly iceConnectionState= new need to fire the onnegotiationneeded \n\nFF58 is ok. Chrome also like the same as FF58.\nplease help to check.\n\n\n\nFF 58 and Chrome:\nRTCPeerConnection.onnegotiationneeded: peerId 7 signalingState: stable iceConnectionState= new\n\nFF 59 will get 2 fired:\nRTCPeerConnection.onnegotiationneeded: peerId 7 signalingState: stable iceConnectionState= new\nRTCPeerConnection.onnegotiationneeded: peerId 7 signalingState: stable iceConnectionState= checking", "author": "aisnote@gmail.com", "id": 13228298, "time": "2018-04-24T01:22:22Z"}, {"text": "(In reply to Elliot from comment #0)\n> FF58 is ok.\n\n1. Could you please check if the issue is still present in the latest Nightly with a brand new profile?\nhttps://nightly.mozilla.org\nhttps://support.mozilla.org/kb/profile-manager-create-and-remove-firefox-profiles\n\n2. If yes, could you use mozregression-gui to track down the regression range?\nhttps://mozilla.github.io/mozregression/quickstart.html", "author": "gingerbread_man@live.com", "id": 13228851, "time": "2018-04-24T08:05:17Z"}, {"text": "We have never gated onnegotiationneeded on iceConnectionState, nor should we according to the spec. It is possible that the transceivers support in 59 altered the timing somewhat, because that work did include bringing onnegotiationneeded up to date with the latest specification.", "author": "docfaraday@gmail.com", "id": 13229528, "time": "2018-04-24T13:56:23Z"}], "id": 1456341, "priority": "--", "cc": ["docfaraday@gmail.com", "gingerbread_man@live.com"], "cf_crash_signature": "", "version": "59 Branch", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2018-04-24T01:22:22Z", "cf_status_firefox_esr52": "---", "component": "WebRTC: Signaling", "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "aisnote@gmail.com", "id": 501047, "name": "aisnote@gmail.com", "real_name": "Elliot"}, "whiteboard": "", "mentors": [], "summary": "RTCPeerConnection.onnegotiationneeded should not fired while the iceConnectionState is checking", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-04-26T10:27:21Z", "assigned_to": "nobody@mozilla.org", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "keywords", "added": "regression, regressionwindow-wanted"}, {"removed": "", "field_name": "cc", "added": "gingerbread_man@live.com"}, {"removed": "Untriaged", "field_name": "component", "added": "WebRTC: Signaling"}, {"removed": "Firefox", "field_name": "product", "added": "Core"}, {"removed": "---", "field_name": "cf_has_regression_range", "added": "no"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(aisnote@gmail.com)"}], "who": "gingerbread_man@live.com", "when": "2018-04-24T08:05:17Z"}, {"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "cc", "added": "docfaraday@gmail.com"}, {"removed": "", "field_name": "resolution", "added": "INVALID"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-04-24 13:56:23"}], "who": "docfaraday@gmail.com", "when": "2018-04-24T13:56:23Z"}, {"changes": [{"removed": "regression, regressionwindow-wanted", "field_name": "keywords", "added": ""}, {"removed": "no", "field_name": "cf_has_regression_range", "added": "---"}, {"removed": "needinfo?(aisnote@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "gingerbread_man@live.com", "when": "2018-04-26T10:27:21Z"}], "resolution": "INVALID", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}