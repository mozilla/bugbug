{"cf_tracking_thunderbird_esr52": "---", "status": "ASSIGNED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "nfroyd@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "cc_detail": [{"email": "dothayer@mozilla.com", "id": 582499, "name": "dothayer@mozilla.com", "real_name": "Doug Thayer [:dthayer] (PTO on June 4)"}, {"email": "grayshade@gmail.com", "id": 296264, "name": "grayshade@gmail.com", "real_name": "Laurentiu Nicola"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "nika@thelayzells.com", "id": 534482, "name": "nika@thelayzells.com", "real_name": ":Nika Layzell"}, {"email": "vseerror@lehigh.edu", "id": 29811, "name": "vseerror@lehigh.edu", "real_name": "Wayne Mery (:wsmwk)"}], "cf_last_resolved": null, "attachments": [{"creator": "dothayer@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-24T16:18:29Z", "type_id": 4, "creation_date": "2018-05-10T18:28:06Z", "id": 1755392, "setter": "nika@thelayzells.com"}], "content_type": "text/x-review-board-request", "id": 8972211}], "votes": 2, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 20, "comments": [{"text": "Looking at my thread list for active content processes (and the parent process!), I see:\n\n* ProcessHangMon[itor]\n* BHMgr Processor\n* BHMgr Monitor (which is actually consuming a substantial amount of CPU time :( )\n* Hang Monitor\n\nSurely we don't actually need *three* different hang monitoring threads, do we?  Doug, do you have cycles to look into what these threads are doing, and possibly unify some of the hang monitoring?  Or do you know somebody who does?", "author": "nfroyd@mozilla.com", "id": 13148758, "time": "2018-03-22T15:54:16Z"}, {"text": "Yeah I'll take a look. I don't have a wealth of familiarity with this stuff but I do have a bit of time.", "author": "dothayer@mozilla.com", "id": 13148890, "time": "2018-03-22T16:34:03Z"}, {"text": "I think the Hang Monitor and BHMgr Monitor could be merged without much difficulty. They run on different intervals and different logic, but I think we could easily join them nonetheless.\n\nThe BHMgr Processor thread looks to me like it _could_ be merged with the BHMgr Monitor thread, but it would sacrifice the accuracy of the BHMgr Monitor, since running the BHMgr Processor's work from inside the monitor could cause us to miss short hangs (Nika, am I understanding this correctly, or was there a different reason for processing the hangs in a separate thread from the monitor?)\n\nI don't really think it makes sense to merge the ProcessHangMon thread, since really it serves an entirely different purpose than the others.\n\nRegarding CPU time on BHMgr Monitor, I'm a little bit surprised - do you have any more details?", "author": "dothayer@mozilla.com", "id": 13150000, "time": "2018-03-22T22:18:24Z"}, {"text": "The fact that the BHMgrProcessor thread and the BHMgrMonitor are separate is intentional. The work that we do for processing hangs is fairly substantial (collecting & processing loaded dynamic module maps - can sometimes take *seconds*), and we want to avoid blocking the monitor thread on that.\n\nThe hang monitor thread should probably be cleaned up. I'm not sure if anyone's looking at chrome hangs right now, so it might make a lot of sense to just remove it alltogether.\n\nI'm also at least mildly surprised by the CPU time being spent on the BHMgr Monitor. I'm pretty sure we could rewrite it in a less CPU intensive manner, but I don't have the time to really look into that right now.", "author": "nika@thelayzells.com", "id": 13152306, "time": "2018-03-23T18:47:30Z"}, {"text": "Created attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nFairly straightforward, just a blanket removal. Haven't heard\nanything on dev-platform or fx-data-dev regarding this removal,\nso I think it's likely safe to remove on Nightly, and we can\nrevert if anyone makes a fuss.\n\nAs part of removing the HangMonitor, I renamed a few things and\nreorganized the namespaces to not depend on a HangMonitor\nnamespace. Hopefully this doesn't produce too much noise in the\ndiff, it just seemed appropriate to move everything around\nrather than keep dangling vestiges of the old system.\n\nReview commit: https://reviewboard.mozilla.org/r/240878/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240878/", "author": "dothayer@mozilla.com", "id": 13245310, "time": "2018-05-01T02:45:29Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240878/diff/1-2/", "author": "dothayer@mozilla.com", "id": 13269008, "time": "2018-05-10T18:28:06Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nhttps://reviewboard.mozilla.org/r/240878/#review249678\n\nMostly r- because of the extra file which seems out of place. Otherwise looks pretty good :-)\n\n::: dom/base/nsContentUtils.cpp:10763\n(Diff revision 2)\n>    // us whether or not the user is interacting.\n>    nsCOMPtr<nsIObserverService> obs = mozilla::services::GetObserverService();\n>    obs->AddObserver(this, kUserInteractionInactive, false);\n>    obs->AddObserver(this, kUserInteractionActive, false);\n>  \n> -  // We can't register ourselves as an annotator yet, as the HangMonitor hasn't\n> +  // We can't register ourselves as an annotator yet, as the BackgroundHangMonitor hasn't\n\nPlease re-wrap this comment to 80 columns.\n\n::: dom/ipc/ContentPrefs.cpp:1\n(Diff revision 2)\n> +/* -*- Mode: C++; tab-width: 8; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n\nI think this file shouldn't be here...\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.h:21\n(Diff revision 2)\n> +/**\n> + * This type represents an individual hang annotation.\n> + */\n> +class BackgroundHangAnnotation\n> +{\n> +public:\n> +  BackgroundHangAnnotation() {}\n> +  BackgroundHangAnnotation(const nsAString& aName, const nsAString& aValue)\n> +    : mName(aName), mValue(aValue)\n> +  {}\n> +\n> +  nsString mName;\n> +  nsString mValue;\n> +};\n\nIt would be awesome if we could switch this type over to using the type we use inside BHM: https://searchfox.org/mozilla-central/rev/a85db9e29eb3f022dbaf8b9a6390ecbacf51e7dd/toolkit/components/backgroundhangmonitor/HangTypes.ipdlh#76-81.\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.h:43\n(Diff revision 2)\n> +  void AddAnnotation(const nsAString& aName, const int32_t aData);\n> +  void AddAnnotation(const nsAString& aName, const double aData);\n> +  void AddAnnotation(const nsAString& aName, const nsAString& aData);\n> +  void AddAnnotation(const nsAString& aName, const nsACString& aData);\n> +  void AddAnnotation(const nsAString& aName, const bool aData);\n\nAt some point we might want to clean this up and just pass around a TArray?\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.h:72\n(Diff revision 2)\n> +  bool Unregister(BackgroundHangAnnotator& aAnnotator);\n> +\n> +  BackgroundHangAnnotations GatherAnnotations();\n> +\n> +private:\n> +  Mutex                mMutex;\n\nindentation?\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.cpp:94\n(Diff revision 2)\n> +{\n> +  BackgroundHangAnnotations annotations;\n> +  { // Scope for lock\n> +    MutexAutoLock lock(mMutex);\n> +    for (std::set<BackgroundHangAnnotator*>::iterator i = mAnnotators.begin(),\n> +                                        e = mAnnotators.end();\n\nindentation fixes\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.cpp:117\n(Diff revision 2)\n> +  WriteParam(aMsg, aParam.mValue);\n> +}\n> +\n> +bool\n> +ParamTraits<BackgroundHangAnnotation>::Read(const Message* aMsg,\n> +                              PickleIterator* aIter,\n\nindentation fixes?\n\n::: toolkit/components/telemetry/Telemetry.cpp:104\n(Diff revision 2)\n>  using Telemetry::Common::ToJSString;\n>  using Telemetry::Common::SetCurrentProduct;\n>  using mozilla::dom::Promise;\n>  using mozilla::dom::AutoJSAPI;\n> -using mozilla::Telemetry::HangReports;\n>  using mozilla::Telemetry::CombinedStacks;\n\nIs CombinedStacks still used? I don't think there will be any remaining observers?\n\n::: toolkit/components/telemetry/Telemetry.cpp:1990\n(Diff revision 2)\n> -                                  Move(aAnnotations));\n> -}\n>  \n>  void CaptureStack(const nsACString& aKey)\n>  {\n>  #ifdef MOZ_GECKO_PROFILER\n\nWhy is this ifdef here? It's nested inside another ifdef which is identical?\n\n::: toolkit/components/telemetry/docs/data/main-ping.rst:351\n(Diff revision 2)\n>  \n>  .. _chromeHangs:\n>  \n>  chromeHangs\n>  -----------\n> +As of Firefox 62, chromeHangs has been removed.\n\nPlease mention that the bhr ping should be used instead?", "author": "nika@thelayzells.com", "id": 13276494, "time": "2018-05-14T18:01:34Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240878/diff/2-3/", "author": "dothayer@mozilla.com", "id": 13298195, "time": "2018-05-22T23:17:03Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nhttps://reviewboard.mozilla.org/r/240878/#review252556\n\nr=me with the removal of the ParamTraits stuff :-)\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.h:29\n(Diff revision 3)\n> +  void AddAnnotation(const nsString& aName, const int32_t aData);\n> +  void AddAnnotation(const nsString& aName, const double aData);\n> +  void AddAnnotation(const nsString& aName, const nsString& aData);\n> +  void AddAnnotation(const nsString& aName, const nsCString& aData);\n> +  void AddAnnotation(const nsString& aName, const bool aData);\n\nAs far as I can tell there are exactly 7 places where we call these methods in gecko:\nnsContentUtils (UserInteracting)\nContentChild.cpp (PendingInput)\nPluginModuleParent (HangUIShown, HangUIContinued, HangUIDontShow, pluginName, and pluginVersion)\n\nPerhaps we can file a follow-up to just remove the AddAnnotation methods, and just expose a `nsTArray<HangAnnotation>` here instead?\n\nThat'll also allow us to completely avoid the ParamTraits stuff.\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.h:66\n(Diff revision 3)\n> +template<>\n> +class ParamTraits<mozilla::BackgroundHangAnnotations>\n> +  : public ParamTraits<nsTArray<mozilla::HangAnnotation>>\n> +{\n> +public:\n> +  typedef mozilla::BackgroundHangAnnotations paramType;\n> +};\n\nIf you use mozilla::ipc::IPDLParamTraits instead of IPC::ParamTraits you can avoid the need for the HangAnnotations ParamTraits impl.\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.h:67\n(Diff revision 3)\n> +} // namespace mozilla\n> +\n> +namespace IPC {\n> +\n> +template<>\n> +class ParamTraits<mozilla::BackgroundHangAnnotations>\n\nParamTraits is a struct not a class :-)\n\n::: toolkit/components/backgroundhangmonitor/HangAnnotations.h:74\n(Diff revision 3)\n> +template<>\n> +class ParamTraits<mozilla::HangAnnotation>\n> +{\n> +public:\n> +  typedef mozilla::HangAnnotation paramType;\n> +  static void Write(Message* aMsg, const paramType& aParam);\n> +  static bool Read(const Message* aMsg,\n> +                   PickleIterator* aIter,\n> +                   paramType* aResult);\n> +};\n\nmozilla::HangAnnotation already has IPDLParamTraits implemented for it. Let's use the IPDL-generated version instead.", "author": "nika@thelayzells.com", "id": 13354201, "time": "2018-05-24T16:18:29Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240878/diff/3-4/", "author": "dothayer@mozilla.com", "id": 13358475, "time": "2018-05-24T18:05:16Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240878/diff/4-5/", "author": "dothayer@mozilla.com", "id": 13364271, "time": "2018-05-25T16:20:31Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nhttps://reviewboard.mozilla.org/r/240878/#review249678\n\n> Is CombinedStacks still used? I don't think there will be any remaining observers?\n\nThere's still two usages in the file, mLateWriteStacks and a local empty variable used in conjunction with mLateWriteStacks. I'm not sure what you mean about observers, though, so let me know if I misunderstood what you meant.", "author": "dothayer@mozilla.com", "id": 13364303, "time": "2018-05-25T16:29:41Z"}, {"text": "Pushed by dothayer@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/da12c077747f\nRemove HangMonitor/ChromeHangs r=Nika", "author": "pulsebot@bots.tld", "id": 13364307, "time": "2018-05-25T16:31:36Z"}, {"text": "Backed out changeset da12c077747f (bug 1448040) for Android build bustage on build/src/obj-firefox/dist/include/mozilla/HangAnnotations.h. CLOSED TREE\n\nLog:\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=180277766&repo=autoland&lineNumber=19492\n\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/widget/android/jni/Unified_cpp_widget_android_jni0.cpp:2:\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  In file included from /builds/worker/workspace/build/src/widget/android/jni/Utils.cpp:11:\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  In file included from /builds/worker/workspace/build/src/widget/android/nsAppShell.h:11:\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/BackgroundHangMonitor.h:10:\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/CPUUsageWatcher.h:12:\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/HangAnnotations.h:12:10: fatal error: 'mozilla/HangTypes.h' file not found\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  #include \"mozilla/HangTypes.h\"\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -           ^~~~~~~~~~~~~~~~~~~~~\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  1 error generated.\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  /builds/worker/workspace/build/src/config/rules.mk:1031: recipe for target 'Unified_cpp_widget_android_jni0.o' failed\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  make[4]: *** [Unified_cpp_widget_android_jni0.o] Error 1\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget/android/jni'\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  /builds/worker/workspace/build/src/config/recurse.mk:73: recipe for target 'widget/android/jni/target' failed\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  make[3]: *** [widget/android/jni/target] Error 2\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  make[3]: *** Waiting for unfinished jobs....\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:23.896Z] 17:03:23     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:26.202Z] 17:03:26     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/dom/presentation'\n[task 2018-05-25T17:03:26.206Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/sccache2/sccache /builds/worker/workspace/build/src/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++ -std=gnu++14 --target=arm-linux-androideabi -o Unified_cpp_dom_presentation0.o -c -I/builds/worker/workspace/build/src/obj-firefox/dist/stl_wrappers -I/builds/worker/workspace/build/src/obj-firefox/dist/system_wrappers -include /builds/worker/workspace/build/src/config/gcc_hidden.h -DNDEBUG=1 -DTRIMMED=1 -DOS_POSIX=1 -DOS_LINUX=1 -DSTATIC_EXPORTABLE_JS_API -DMOZ_HAS_MOZGLUE -DMOZILLA_INTERNAL_API -DIMPL_LIBXUL -I/builds/worker/workspace/build/src/dom/presentation -I/builds/worker/workspace/build/src/obj-firefox/dom/presentation -I/builds/worker/workspace/build/src/dom/base -I/builds/worker/workspace/build/src/obj-firefox/ipc/ipdl/_ipdlheaders -I/builds/worker/workspace/build/src/ipc/chromium/src -I/builds/worker/workspace/build/src/ipc/glue -I/builds/worker/workspace/build/src/obj-firefox/dist/include -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nspr -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nss -fPIC -DMOZILLA_CLIENT -include /builds/worker/workspace/build/src/obj-firefox/mozilla-config.h -Qunused-arguments -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -gcc-toolchain /builds/worker/workspace/build/src/android-ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86_64 -D__ANDROID_API__=9 -Qunused-arguments -Wall -Wempty-body -Wignored-qualifiers -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wunreachable-code-return -Wwrite-strings -Wno-invalid-offsetof -Wclass-varargs -Wloop-analysis -Wc++1z-compat -Wcomma -Wimplicit-fallthrough -Werror=non-literal-null-conversion -Wstring-conversion -Wno-inline-new-delete -Wno-error=deprecated-declarations -Wno-error=array-bounds -Wformat -Wformat-security -Wno-gnu-zero-variadic-macro-arguments -Wno-unknown-warning-option -Wno-return-type-c-linkage -fno-sized-deallocation -fno-short-enums -fno-exceptions -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++/include -I/builds/worker/workspace/build/src/android-ndk/sources/android/support/include -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++abi/include -march=armv7-a -mthumb -mfpu=vfpv3-d16 -mfloat-abi=softfp -mno-unaligned-access -fno-exceptions -fno-strict-aliasing -fno-rtti -ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pipe -g -Oz -funwind-tables -Werror  -MD -MP -MF .deps/Unified_cpp_dom_presentation0.o.pp   /builds/worker/workspace/build/src/obj-firefox/dom/presentation/Unified_cpp_dom_presentation0.cpp\n[task 2018-05-25T17:03:26.206Z] 17:03:26     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/dom/presentation'\n[task 2018-05-25T17:03:26.414Z] 17:03:26     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/widget/android'\n[task 2018-05-25T17:03:26.414Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/sccache2/sccache /builds/worker/workspace/build/src/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++ -std=gnu++14 --target=arm-linux-androideabi -o Unified_cpp_widget_android0.o -c -I/builds/worker/workspace/build/src/obj-firefox/dist/stl_wrappers -I/builds/worker/workspace/build/src/obj-firefox/dist/system_wrappers -include /builds/worker/workspace/build/src/config/gcc_hidden.h -DNDEBUG=1 -DTRIMMED=1 -DOS_POSIX=1 -DOS_LINUX=1 -DMOZ_NATIVE_DEVICES -DSTATIC_EXPORTABLE_JS_API -DMOZ_HAS_MOZGLUE -DMOZILLA_INTERNAL_API -DIMPL_LIBXUL -I/builds/worker/workspace/build/src/widget/android -I/builds/worker/workspace/build/src/obj-firefox/widget/android -I/builds/worker/workspace/build/src/obj-firefox/ipc/ipdl/_ipdlheaders -I/builds/worker/workspace/build/src/ipc/chromium/src -I/builds/worker/workspace/build/src/ipc/glue -I/builds/worker/workspace/build/src/docshell/base -I/builds/worker/workspace/build/src/dom/base -I/builds/worker/workspace/build/src/dom/system/android -I/builds/worker/workspace/build/src/gfx/2d -I/builds/worker/workspace/build/src/gfx/vr -I/builds/worker/workspace/build/src/layout/painting -I/builds/worker/workspace/build/src/netwerk/base -I/builds/worker/workspace/build/src/netwerk/cache -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/xpcom/threads -I/builds/worker/workspace/build/src/obj-firefox/dist/include -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nspr -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nss -fPIC -DMOZILLA_CLIENT -include /builds/worker/workspace/build/src/obj-firefox/mozilla-config.h -Qunused-arguments -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -gcc-toolchain /builds/worker/workspace/build/src/android-ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86_64 -D__ANDROID_API__=9 -Qunused-arguments -Wall -Wempty-body -Wignored-qualifiers -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wunreachable-code-return -Wwrite-strings -Wno-invalid-offsetof -Wclass-varargs -Wloop-analysis -Wc++1z-compat -Wcomma -Wimplicit-fallthrough -Werror=non-literal-null-conversion -Wstring-conversion -Wno-inline-new-delete -Wno-error=deprecated-declarations -Wno-error=array-bounds -Wformat -Wformat-security -Wno-gnu-zero-variadic-macro-arguments -Wno-unknown-warning-option -Wno-return-type-c-linkage -fno-sized-deallocation -fno-short-enums -fno-exceptions -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++/include -I/builds/worker/workspace/build/src/android-ndk/sources/android/support/include -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++abi/include -march=armv7-a -mthumb -mfpu=vfpv3-d16 -mfloat-abi=softfp -mno-unaligned-access -fno-exceptions -fno-strict-aliasing -fno-rtti -ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pipe -g -Oz -funwind-tables -Werror -Wno-error=shadow  -MD -MP -MF .deps/Unified_cpp_widget_android0.o.pp   /builds/worker/workspace/build/src/obj-firefox/widget/android/Unified_cpp_widget_android0.cpp\n[task 2018-05-25T17:03:26.414Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/widget/android/Unified_cpp_widget_android0.cpp:20:\n[task 2018-05-25T17:03:26.415Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/widget/android/AndroidBridge.cpp:20:\n[task 2018-05-25T17:03:26.416Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/nsAppShell.h:39:26: error: no member named 'HangMonitor' in namespace 'mozilla'\n[task 2018-05-25T17:03:26.416Z] 17:03:26     INFO -          typedef mozilla::HangMonitor::ActivityType Type;\n[task 2018-05-25T17:03:26.416Z] 17:03:26     INFO -                  ~~~~~~~~~^\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/nsAppShell.h:69:20: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -              return Type::kGeneralActivity;\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -                     ^\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/nsAppShell.h:252:28: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -                      Event::Type::kUIActivity) ? LATENCY_UI : LATENCY_OTHER;\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -                             ^\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/widget/android/Unified_cpp_widget_android0.cpp:65:\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/widget/android/GeckoEditableSupport.cpp:7:\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/GeckoEditableSupport.h:154:47: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.417Z] 17:03:26     INFO -                      return nsAppShell::Event::Type::kUIActivity;\n[task 2018-05-25T17:03:26.418Z] 17:03:26     INFO -                                                ^\n[task 2018-05-25T17:03:26.418Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/GeckoEditableSupport.h:156:43: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.418Z] 17:03:26     INFO -                  return nsAppShell::Event::Type::kGeneralActivity;\n[task 2018-05-25T17:03:26.418Z] 17:03:26     INFO -                                            ^\n[task 2018-05-25T17:03:26.418Z] 17:03:26     INFO -  5 errors generated.\n[task 2018-05-25T17:03:26.419Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/config/rules.mk:1031: recipe for target 'Unified_cpp_widget_android0.o' failed\n[task 2018-05-25T17:03:26.419Z] 17:03:26     INFO -  make[4]: *** [Unified_cpp_widget_android0.o] Error 1\n[task 2018-05-25T17:03:26.420Z] 17:03:26     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget/android'\n[task 2018-05-25T17:03:26.421Z] 17:03:26     INFO -  make[4]: *** Waiting for unfinished jobs....\n[task 2018-05-25T17:03:26.656Z] 17:03:26     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/widget/android'\n[task 2018-05-25T17:03:26.659Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/sccache2/sccache /builds/worker/workspace/build/src/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++ -std=gnu++14 --target=arm-linux-androideabi -o Unified_cpp_widget_android1.o -c -I/builds/worker/workspace/build/src/obj-firefox/dist/stl_wrappers -I/builds/worker/workspace/build/src/obj-firefox/dist/system_wrappers -include /builds/worker/workspace/build/src/config/gcc_hidden.h -DNDEBUG=1 -DTRIMMED=1 -DOS_POSIX=1 -DOS_LINUX=1 -DMOZ_NATIVE_DEVICES -DSTATIC_EXPORTABLE_JS_API -DMOZ_HAS_MOZGLUE -DMOZILLA_INTERNAL_API -DIMPL_LIBXUL -I/builds/worker/workspace/build/src/widget/android -I/builds/worker/workspace/build/src/obj-firefox/widget/android -I/builds/worker/workspace/build/src/obj-firefox/ipc/ipdl/_ipdlheaders -I/builds/worker/workspace/build/src/ipc/chromium/src -I/builds/worker/workspace/build/src/ipc/glue -I/builds/worker/workspace/build/src/docshell/base -I/builds/worker/workspace/build/src/dom/base -I/builds/worker/workspace/build/src/dom/system/android -I/builds/worker/workspace/build/src/gfx/2d -I/builds/worker/workspace/build/src/gfx/vr -I/builds/worker/workspace/build/src/layout/painting -I/builds/worker/workspace/build/src/netwerk/base -I/builds/worker/workspace/build/src/netwerk/cache -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/xpcom/threads -I/builds/worker/workspace/build/src/obj-firefox/dist/include -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nspr -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nss -fPIC -DMOZILLA_CLIENT -include /builds/worker/workspace/build/src/obj-firefox/mozilla-config.h -Qunused-arguments -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -gcc-toolchain /builds/worker/workspace/build/src/android-ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86_64 -D__ANDROID_API__=9 -Qunused-arguments -Wall -Wempty-body -Wignored-qualifiers -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wunreachable-code-return -Wwrite-strings -Wno-invalid-offsetof -Wclass-varargs -Wloop-analysis -Wc++1z-compat -Wcomma -Wimplicit-fallthrough -Werror=non-literal-null-conversion -Wstring-conversion -Wno-inline-new-delete -Wno-error=deprecated-declarations -Wno-error=array-bounds -Wformat -Wformat-security -Wno-gnu-zero-variadic-macro-arguments -Wno-unknown-warning-option -Wno-return-type-c-linkage -fno-sized-deallocation -fno-short-enums -fno-exceptions -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++/include -I/builds/worker/workspace/build/src/android-ndk/sources/android/support/include -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++abi/include -march=armv7-a -mthumb -mfpu=vfpv3-d16 -mfloat-abi=softfp -mno-unaligned-access -fno-exceptions -fno-strict-aliasing -fno-rtti -ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pipe -g -Oz -funwind-tables -Werror -Wno-error=shadow  -MD -MP -MF .deps/Unified_cpp_widget_android1.o.pp   /builds/worker/workspace/build/src/obj-firefox/widget/android/Unified_cpp_widget_android1.cpp\n[task 2018-05-25T17:03:26.659Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/widget/android/Unified_cpp_widget_android1.cpp:11:\n[task 2018-05-25T17:03:26.661Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/widget/android/nsScreenManagerAndroid.cpp:14:\n[task 2018-05-25T17:03:26.662Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/nsAppShell.h:39:26: error: no member named 'HangMonitor' in namespace 'mozilla'\n[task 2018-05-25T17:03:26.662Z] 17:03:26     INFO -          typedef mozilla::HangMonitor::ActivityType Type;\n[task 2018-05-25T17:03:26.663Z] 17:03:26     INFO -                  ~~~~~~~~~^\n[task 2018-05-25T17:03:26.664Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/nsAppShell.h:69:20: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.664Z] 17:03:26     INFO -              return Type::kGeneralActivity;\n[task 2018-05-25T17:03:26.665Z] 17:03:26     INFO -                     ^\n[task 2018-05-25T17:03:26.668Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/nsAppShell.h:252:28: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.668Z] 17:03:26     INFO -                      Event::Type::kUIActivity) ? LATENCY_UI : LATENCY_OTHER;\n[task 2018-05-25T17:03:26.668Z] 17:03:26     INFO -                             ^\n[task 2018-05-25T17:03:26.669Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/widget/android/Unified_cpp_widget_android1.cpp:29:\n[task 2018-05-25T17:03:26.669Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/widget/android/nsWindow.cpp:78:\n[task 2018-05-25T17:03:26.669Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/GeckoEditableSupport.h:154:47: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.670Z] 17:03:26     INFO -                      return nsAppShell::Event::Type::kUIActivity;\n[task 2018-05-25T17:03:26.670Z] 17:03:26     INFO -                                                ^\n[task 2018-05-25T17:03:26.671Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/GeckoEditableSupport.h:156:43: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.671Z] 17:03:26     INFO -                  return nsAppShell::Event::Type::kGeneralActivity;\n[task 2018-05-25T17:03:26.671Z] 17:03:26     INFO -                                            ^\n[task 2018-05-25T17:03:26.672Z] 17:03:26     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/widget/android/Unified_cpp_widget_android1.cpp:29:\n[task 2018-05-25T17:03:26.672Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/widget/android/nsWindow.cpp:358:39: error: 'nsAppShell::Event::Type' (aka 'int') is not a class, namespace, or enumeration\n[task 2018-05-25T17:03:26.673Z] 17:03:26     INFO -              return nsAppShell::Event::Type::kUIActivity;\n[task 2018-05-25T17:03:26.673Z] 17:03:26     INFO -                                        ^\n[task 2018-05-25T17:03:26.673Z] 17:03:26     INFO -  6 errors generated.\n[task 2018-05-25T17:03:26.674Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/config/rules.mk:1031: recipe for target 'Unified_cpp_widget_android1.o' failed\n[task 2018-05-25T17:03:26.675Z] 17:03:26     INFO -  make[4]: *** [Unified_cpp_widget_android1.o] Error 1\n[task 2018-05-25T17:03:26.675Z] 17:03:26     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget/android'\n[task 2018-05-25T17:03:26.676Z] 17:03:26     INFO -  /builds/worker/workspace/build/src/config/recurse.mk:73: recipe for target 'widget/android/target' failed\n[task 2018-05-25T17:03:26.677Z] 17:03:26     INFO -  make[3]: *** [widget/android/target] Error 2\n[task 2018-05-25T17:03:27.178Z] 17:03:27     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:27.180Z] 17:03:27     INFO -  /builds/worker/workspace/build/src/sccache2/sccache /builds/worker/workspace/build/src/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++ -std=gnu++14 --target=arm-linux-androideabi -o nsBaseWidget.o -c -I/builds/worker/workspace/build/src/obj-firefox/dist/stl_wrappers -I/builds/worker/workspace/build/src/obj-firefox/dist/system_wrappers -include /builds/worker/workspace/build/src/config/gcc_hidden.h -DNDEBUG=1 -DTRIMMED=1 -DMOZ_CROSS_PROCESS_IME -DOS_POSIX=1 -DOS_LINUX=1 -DSTATIC_EXPORTABLE_JS_API -DMOZ_HAS_MOZGLUE -DMOZILLA_INTERNAL_API -DIMPL_LIBXUL -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/obj-firefox/widget -I/builds/worker/workspace/build/src/obj-firefox/ipc/ipdl/_ipdlheaders -I/builds/worker/workspace/build/src/ipc/chromium/src -I/builds/worker/workspace/build/src/ipc/glue -I/builds/worker/workspace/build/src/dom/base -I/builds/worker/workspace/build/src/dom/ipc -I/builds/worker/workspace/build/src/layout/base -I/builds/worker/workspace/build/src/layout/forms -I/builds/worker/workspace/build/src/layout/generic -I/builds/worker/workspace/build/src/layout/painting -I/builds/worker/workspace/build/src/layout/xul -I/builds/worker/workspace/build/src/view -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/widget/headless -I/builds/worker/workspace/build/src/widget/android -I/builds/worker/workspace/build/src/obj-firefox/dist/include -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nspr -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nss -fPIC -DMOZILLA_CLIENT -include /builds/worker/workspace/build/src/obj-firefox/mozilla-config.h -Qunused-arguments -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -gcc-toolchain /builds/worker/workspace/build/src/android-ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86_64 -D__ANDROID_API__=9 -Qunused-arguments -Wall -Wempty-body -Wignored-qualifiers -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wunreachable-code-return -Wwrite-strings -Wno-invalid-offsetof -Wclass-varargs -Wloop-analysis -Wc++1z-compat -Wcomma -Wimplicit-fallthrough -Werror=non-literal-null-conversion -Wstring-conversion -Wno-inline-new-delete -Wno-error=deprecated-declarations -Wno-error=array-bounds -Wformat -Wformat-security -Wno-gnu-zero-variadic-macro-arguments -Wno-unknown-warning-option -Wno-return-type-c-linkage -fno-sized-deallocation -fno-short-enums -fno-exceptions -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++/include -I/builds/worker/workspace/build/src/android-ndk/sources/android/support/include -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++abi/include -march=armv7-a -mthumb -mfpu=vfpv3-d16 -mfloat-abi=softfp -mno-unaligned-access -fno-exceptions -fno-strict-aliasing -fno-rtti -ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pipe -g -Oz -funwind-tables -Werror -I/builds/worker/workspace/build/src/obj-firefox/dist/include/cairo  -MD -MP -MF .deps/nsBaseWidget.o.pp   /builds/worker/workspace/build/src/widget/nsBaseWidget.cpp\n[task 2018-05-25T17:03:27.180Z] 17:03:27     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:29.929Z] 17:03:29     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:29.931Z] 17:03:29     INFO -  /builds/worker/workspace/build/src/sccache2/sccache /builds/worker/workspace/build/src/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++ -std=gnu++14 --target=arm-linux-androideabi -o Unified_cpp_widget2.o -c -I/builds/worker/workspace/build/src/obj-firefox/dist/stl_wrappers -I/builds/worker/workspace/build/src/obj-firefox/dist/system_wrappers -include /builds/worker/workspace/build/src/config/gcc_hidden.h -DNDEBUG=1 -DTRIMMED=1 -DMOZ_CROSS_PROCESS_IME -DOS_POSIX=1 -DOS_LINUX=1 -DSTATIC_EXPORTABLE_JS_API -DMOZ_HAS_MOZGLUE -DMOZILLA_INTERNAL_API -DIMPL_LIBXUL -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/obj-firefox/widget -I/builds/worker/workspace/build/src/obj-firefox/ipc/ipdl/_ipdlheaders -I/builds/worker/workspace/build/src/ipc/chromium/src -I/builds/worker/workspace/build/src/ipc/glue -I/builds/worker/workspace/build/src/dom/base -I/builds/worker/workspace/build/src/dom/ipc -I/builds/worker/workspace/build/src/layout/base -I/builds/worker/workspace/build/src/layout/forms -I/builds/worker/workspace/build/src/layout/generic -I/builds/worker/workspace/build/src/layout/painting -I/builds/worker/workspace/build/src/layout/xul -I/builds/worker/workspace/build/src/view -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/widget/headless -I/builds/worker/workspace/build/src/widget/android -I/builds/worker/workspace/build/src/obj-firefox/dist/include -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nspr -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nss -fPIC -DMOZILLA_CLIENT -include /builds/worker/workspace/build/src/obj-firefox/mozilla-config.h -Qunused-arguments -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -gcc-toolchain /builds/worker/workspace/build/src/android-ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86_64 -D__ANDROID_API__=9 -Qunused-arguments -Wall -Wempty-body -Wignored-qualifiers -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wunreachable-code-return -Wwrite-strings -Wno-invalid-offsetof -Wclass-varargs -Wloop-analysis -Wc++1z-compat -Wcomma -Wimplicit-fallthrough -Werror=non-literal-null-conversion -Wstring-conversion -Wno-inline-new-delete -Wno-error=deprecated-declarations -Wno-error=array-bounds -Wformat -Wformat-security -Wno-gnu-zero-variadic-macro-arguments -Wno-unknown-warning-option -Wno-return-type-c-linkage -fno-sized-deallocation -fno-short-enums -fno-exceptions -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++/include -I/builds/worker/workspace/build/src/android-ndk/sources/android/support/include -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++abi/include -march=armv7-a -mthumb -mfpu=vfpv3-d16 -mfloat-abi=softfp -mno-unaligned-access -fno-exceptions -fno-strict-aliasing -fno-rtti -ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pipe -g -Oz -funwind-tables -Werror -I/builds/worker/workspace/build/src/obj-firefox/dist/include/cairo  -MD -MP -MF .deps/Unified_cpp_widget2.o.pp   /builds/worker/workspace/build/src/obj-firefox/widget/Unified_cpp_widget2.cpp\n[task 2018-05-25T17:03:29.932Z] 17:03:29     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:31.814Z] 17:03:31     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:31.817Z] 17:03:31     INFO -  /builds/worker/workspace/build/src/sccache2/sccache /builds/worker/workspace/build/src/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++ -std=gnu++14 --target=arm-linux-androideabi -o Unified_cpp_widget1.o -c -I/builds/worker/workspace/build/src/obj-firefox/dist/stl_wrappers -I/builds/worker/workspace/build/src/obj-firefox/dist/system_wrappers -include /builds/worker/workspace/build/src/config/gcc_hidden.h -DNDEBUG=1 -DTRIMMED=1 -DMOZ_CROSS_PROCESS_IME -DOS_POSIX=1 -DOS_LINUX=1 -DSTATIC_EXPORTABLE_JS_API -DMOZ_HAS_MOZGLUE -DMOZILLA_INTERNAL_API -DIMPL_LIBXUL -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/obj-firefox/widget -I/builds/worker/workspace/build/src/obj-firefox/ipc/ipdl/_ipdlheaders -I/builds/worker/workspace/build/src/ipc/chromium/src -I/builds/worker/workspace/build/src/ipc/glue -I/builds/worker/workspace/build/src/dom/base -I/builds/worker/workspace/build/src/dom/ipc -I/builds/worker/workspace/build/src/layout/base -I/builds/worker/workspace/build/src/layout/forms -I/builds/worker/workspace/build/src/layout/generic -I/builds/worker/workspace/build/src/layout/painting -I/builds/worker/workspace/build/src/layout/xul -I/builds/worker/workspace/build/src/view -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/widget/headless -I/builds/worker/workspace/build/src/widget/android -I/builds/worker/workspace/build/src/obj-firefox/dist/include -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nspr -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nss -fPIC -DMOZILLA_CLIENT -include /builds/worker/workspace/build/src/obj-firefox/mozilla-config.h -Qunused-arguments -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -gcc-toolchain /builds/worker/workspace/build/src/android-ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86_64 -D__ANDROID_API__=9 -Qunused-arguments -Wall -Wempty-body -Wignored-qualifiers -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wunreachable-code-return -Wwrite-strings -Wno-invalid-offsetof -Wclass-varargs -Wloop-analysis -Wc++1z-compat -Wcomma -Wimplicit-fallthrough -Werror=non-literal-null-conversion -Wstring-conversion -Wno-inline-new-delete -Wno-error=deprecated-declarations -Wno-error=array-bounds -Wformat -Wformat-security -Wno-gnu-zero-variadic-macro-arguments -Wno-unknown-warning-option -Wno-return-type-c-linkage -fno-sized-deallocation -fno-short-enums -fno-exceptions -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++/include -I/builds/worker/workspace/build/src/android-ndk/sources/android/support/include -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++abi/include -march=armv7-a -mthumb -mfpu=vfpv3-d16 -mfloat-abi=softfp -mno-unaligned-access -fno-exceptions -fno-strict-aliasing -fno-rtti -ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pipe -g -Oz -funwind-tables -Werror -I/builds/worker/workspace/build/src/obj-firefox/dist/include/cairo  -MD -MP -MF .deps/Unified_cpp_widget1.o.pp   /builds/worker/workspace/build/src/obj-firefox/widget/Unified_cpp_widget1.cpp\n[task 2018-05-25T17:03:31.818Z] 17:03:31     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:34.521Z] 17:03:34     INFO -  make[4]: Entering directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n[task 2018-05-25T17:03:34.527Z] 17:03:34     INFO -  /builds/worker/workspace/build/src/sccache2/sccache /builds/worker/workspace/build/src/android-ndk/toolchains/llvm/prebuilt/linux-x86_64/bin/clang++ -std=gnu++14 --target=arm-linux-androideabi -o Unified_cpp_widget0.o -c -I/builds/worker/workspace/build/src/obj-firefox/dist/stl_wrappers -I/builds/worker/workspace/build/src/obj-firefox/dist/system_wrappers -include /builds/worker/workspace/build/src/config/gcc_hidden.h -DNDEBUG=1 -DTRIMMED=1 -DMOZ_CROSS_PROCESS_IME -DOS_POSIX=1 -DOS_LINUX=1 -DSTATIC_EXPORTABLE_JS_API -DMOZ_HAS_MOZGLUE -DMOZILLA_INTERNAL_API -DIMPL_LIBXUL -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/obj-firefox/widget -I/builds/worker/workspace/build/src/obj-firefox/ipc/ipdl/_ipdlheaders -I/builds/worker/workspace/build/src/ipc/chromium/src -I/builds/worker/workspace/build/src/ipc/glue -I/builds/worker/workspace/build/src/dom/base -I/builds/worker/workspace/build/src/dom/ipc -I/builds/worker/workspace/build/src/layout/base -I/builds/worker/workspace/build/src/layout/forms -I/builds/worker/workspace/build/src/layout/generic -I/builds/worker/workspace/build/src/layout/painting -I/builds/worker/workspace/build/src/layout/xul -I/builds/worker/workspace/build/src/view -I/builds/worker/workspace/build/src/widget -I/builds/worker/workspace/build/src/widget/headless -I/builds/worker/workspace/build/src/widget/android -I/builds/worker/workspace/build/src/obj-firefox/dist/include -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nspr -I/builds/worker/workspace/build/src/obj-firefox/dist/include/nss -fPIC -DMOZILLA_CLIENT -include /builds/worker/workspace/build/src/obj-firefox/mozilla-config.h -Qunused-arguments -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -isystem /builds/worker/workspace/build/src/android-ndk/platforms/android-9/arch-arm/usr/include -gcc-toolchain /builds/worker/workspace/build/src/android-ndk/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86_64 -D__ANDROID_API__=9 -Qunused-arguments -Wall -Wempty-body -Wignored-qualifiers -Woverloaded-virtual -Wpointer-arith -Wsign-compare -Wtype-limits -Wunreachable-code -Wunreachable-code-return -Wwrite-strings -Wno-invalid-offsetof -Wclass-varargs -Wloop-analysis -Wc++1z-compat -Wcomma -Wimplicit-fallthrough -Werror=non-literal-null-conversion -Wstring-conversion -Wno-inline-new-delete -Wno-error=deprecated-declarations -Wno-error=array-bounds -Wformat -Wformat-security -Wno-gnu-zero-variadic-macro-arguments -Wno-unknown-warning-option -Wno-return-type-c-linkage -fno-sized-deallocation -fno-short-enums -fno-exceptions -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++/include -I/builds/worker/workspace/build/src/android-ndk/sources/android/support/include -I/builds/worker/workspace/build/src/android-ndk/sources/cxx-stl/llvm-libc++abi/include -march=armv7-a -mthumb -mfpu=vfpv3-d16 -mfloat-abi=softfp -mno-unaligned-access -fno-exceptions -fno-strict-aliasing -fno-rtti -ffunction-sections -fdata-sections -fno-exceptions -fno-math-errno -pipe -g -Oz -funwind-tables -Werror -I/builds/worker/workspace/build/src/obj-firefox/dist/include/cairo  -MD -MP -MF .deps/Unified_cpp_widget0.o.pp   /builds/worker/workspace/build/src/obj-firefox/widget/Unified_cpp_widget0.cpp\n[task 2018-05-25T17:03:34.527Z] 17:03:34     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/widget'\n\nPush with failures:\nhttps://treeherder.mozilla.org/#/jobs?repo=autoland&revision=da12c077747fdd6e168795cbc60d0a6dad7ef644\n\nBackout:\nhttps://hg.mozilla.org/integration/autoland/rev/ff2ef4fe0c6c907e7692c1e92bd1601e2295c468", "author": "dluca@mozilla.com", "id": 13364488, "time": "2018-05-25T17:16:41Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240878/diff/5-6/", "author": "dothayer@mozilla.com", "id": 13393993, "time": "2018-06-07T15:41:17Z"}, {"text": "Comment on attachment 8972211\nBug 1448040 - Remove HangMonitor/ChromeHangs\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/240878/diff/6-7/", "author": "dothayer@mozilla.com", "id": 13394014, "time": "2018-06-07T15:50:26Z"}, {"text": "Pushed by dothayer@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/531593bacc4e\nRemove HangMonitor/ChromeHangs r=Nika", "author": "pulsebot@bots.tld", "id": 13394021, "time": "2018-06-07T15:52:52Z"}, {"text": "Backed out for Android build bustages on HangAnnotations.\n\nPush with failures: https://treeherder.mozilla.org/#/jobs?repo=autoland&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception&fromchange=531593bacc4e9cba1bafc57a132dd6880692a69a&tochange=dc52eaa21e1d57d5d8bacbf21031095a1502f5b1&selectedJob=182311121\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#?job_id=182311113&repo=autoland&lineNumber=19760\n\nBackout link: https://hg.mozilla.org/integration/autoland/rev/dc52eaa21e1d57d5d8bacbf21031095a1502f5b1", "author": "csabou@mozilla.com", "id": 13394115, "time": "2018-06-07T16:30:59Z"}, {"text": "Anyone more familiar with Android than I am: how did this try build succeed for Android 4.0 API16 while the autoland build failed?\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=061f93cd71a06d6d542dc1003172995c570a00dc&filter-searchStr=Android", "author": "dothayer@mozilla.com", "id": 13394141, "time": "2018-06-07T16:37:11Z"}, {"text": "Try builds are always clobbers, perhaps that has something to do with it.  I think that means you got bit by headers/source files cargo-culting includes, rather than explicitly including what was needed.", "author": "nfroyd@mozilla.com", "id": 13394192, "time": "2018-06-07T16:55:54Z"}], "id": 1448040, "priority": "--", "cc": ["dothayer@mozilla.com", "grayshade@gmail.com", "mcastelluccio@mozilla.com", "nika@thelayzells.com", "vseerror@lehigh.edu"], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1436250, 1464464], "qa_contact": "", "creation_time": "2018-03-22T15:54:16Z", "cf_status_firefox_esr52": "---", "component": "General", "assigned_to_detail": {"email": "dothayer@mozilla.com", "id": 582499, "name": "dothayer@mozilla.com", "real_name": "Doug Thayer [:dthayer] (PTO on June 4)"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "affected", "cf_status_firefox60": "---", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}, "whiteboard": "[fxperf:p1]", "mentors": [], "summary": "clean up hang monitor threads", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [{"requestee": "dothayer@mozilla.com", "status": "?", "name": "needinfo", "modification_date": "2018-05-25T17:16:41Z", "type_id": 800, "creation_date": "2018-05-25T17:16:41Z", "id": 1761810, "setter": "dluca@mozilla.com"}], "last_change_time": "2018-06-07T16:55:54Z", "assigned_to": "dothayer@mozilla.com", "is_open": true, "history": [{"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(dothayer@mozilla.com)"}], "who": "nfroyd@mozilla.com", "when": "2018-03-22T15:54:16Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-03-22T15:58:15Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "dothayer@mozilla.com"}, {"removed": "", "field_name": "whiteboard", "added": "[fxperf:p1]"}, {"removed": "needinfo?(dothayer@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "dothayer@mozilla.com", "when": "2018-03-22T16:34:03Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(nika@thelayzells.com)"}], "who": "dothayer@mozilla.com", "when": "2018-03-22T22:18:24Z"}, {"changes": [{"removed": "needinfo?(nika@thelayzells.com)", "field_name": "flagtypes.name", "added": ""}], "who": "nika@thelayzells.com", "when": "2018-03-23T18:47:30Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "grayshade@gmail.com"}], "who": "grayshade@gmail.com", "when": "2018-05-02T11:47:28Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972211, "added": "review?(nika@thelayzells.com)"}], "who": "dothayer@mozilla.com", "when": "2018-05-10T18:28:06Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nika@thelayzells.com)", "attachment_id": 8972211, "added": "review-"}], "who": "nika@thelayzells.com", "when": "2018-05-14T18:01:34Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review-", "attachment_id": 8972211, "added": "review?(nika@thelayzells.com)"}], "who": "dothayer@mozilla.com", "when": "2018-05-22T23:17:03Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nika@thelayzells.com)", "attachment_id": 8972211, "added": "review+"}], "who": "nika@thelayzells.com", "when": "2018-05-24T16:18:29Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1464464"}], "who": "dothayer@mozilla.com", "when": "2018-05-25T16:29:10Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(dothayer@mozilla.com)"}], "who": "dluca@mozilla.com", "when": "2018-05-25T17:16:41Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "vseerror@lehigh.edu"}], "who": "vseerror@lehigh.edu", "when": "2018-06-01T14:11:33Z"}], "resolution": "", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}