{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "jmaher@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "cc_detail": [{"email": "gbrown@mozilla.com", "id": 411471, "name": "gbrown@mozilla.com", "real_name": "Geoff Brown [:gbrown]"}, {"email": "jgilbert@mozilla.com", "id": 419431, "name": "jgilbert@mozilla.com", "real_name": "Jeff Gilbert [:jgilbert]"}, {"email": "rgurzau@mozilla.com", "id": 600635, "name": "rgurzau@mozilla.com", "real_name": "Raul Gurzau (:RaulGurzau)"}, {"email": "xidorn+moz@upsuper.org", "id": 373403, "name": "xidorn+moz@upsuper.org", "real_name": "Xidorn Quan [:xidorn] UTC+10"}], "cf_last_resolved": "2018-05-24T09:41:51Z", "attachments": [{"creator": "rgurzau@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-22T23:34:55Z", "type_id": 4, "creation_date": "2018-05-22T23:13:06Z", "id": 1760277, "setter": "jmaher@mozilla.com"}], "content_type": "text/plain", "id": 8979772}, {"creator": "rgurzau@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-23T00:14:27Z", "type_id": 4, "creation_date": "2018-05-23T00:07:21Z", "id": 1760308, "setter": "jgilbert@mozilla.com"}], "content_type": "text/plain", "id": 8979797}, {"creator": "rgurzau@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "-", "name": "review", "modification_date": "2018-05-23T00:41:14Z", "type_id": 4, "creation_date": "2018-05-23T00:31:47Z", "id": 1760321, "setter": "jgilbert@mozilla.com"}], "content_type": "text/plain", "id": 8979801}, {"creator": "rgurzau@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-23T01:13:36Z", "type_id": 4, "creation_date": "2018-05-23T01:06:09Z", "id": 1760326, "setter": "jgilbert@mozilla.com"}], "content_type": "text/plain", "id": 8979806}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 25, "comments": [{"text": "we run automation on osx 10.10, not 10.6 anymore, lets remove some old references.\n\nfor the webgl tests we need to edit the errata file:\nhttps://searchfox.org/mozilla-central/source/dom/canvas/test/webgl-conf/mochitest-errata.ini\n\nthen run generate-wrappers-and-manifest.py to generate the official .ini files that we use.", "author": "jmaher@mozilla.com", "id": 13281314, "time": "2018-05-16T13:25:39Z"}, {"text": "it looks like there are 10 tests skipped in the above file.", "author": "jmaher@mozilla.com", "id": 13281316, "time": "2018-05-16T13:26:01Z"}, {"text": "Removed the references from errata file but when running generate-wrappers-and-manifest.py i get the following error and i'm stuck here:\n\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf inbound(+1) $ python generate-wrappers-and-manifest.py\nTraceback (most recent call last):\n  File \"generate-wrappers-and-manifest.py\", line 534, in <module>\n    os.chdir(file_dir)\nTypeError: coercing to Unicode: need string or buffer, PosixPath found\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf inbound(+1) $", "author": "rgurzau@mozilla.com", "id": 13286308, "time": "2018-05-18T04:17:38Z"}, {"text": ":jgilbert, I see you modified this file in the past, I get the same failure that Raul is seeing.  is there some prerequisites or custom version of pathlib needed?", "author": "jmaher@mozilla.com", "id": 13286723, "time": "2018-05-18T10:15:03Z"}, {"text": "Probably caused by bug 1450839? Hopefully jgilbert can work this out.", "author": "gbrown@mozilla.com", "id": 13287233, "time": "2018-05-18T13:42:27Z"}, {"text": "Run the file as `./generate-...`. The error you get is likely due to incurring python2 instead of python3.", "author": "jgilbert@mozilla.com", "id": 13288373, "time": "2018-05-18T21:11:43Z"}, {"text": "Tried running as `./generate-...` but the same error occurred and i'm running python 2.7:\n\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf (?) $ ./generate-wrappers-and-manifest.py\nTraceback (most recent call last):\n  File \"./generate-wrappers-and-manifest.py\", line 534, in <module>\n    os.chdir(file_dir)\nTypeError: argument should be string, bytes or integer, not PosixPath\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf (?) $ python -V\nPython 2.7.12\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf (?) $", "author": "rgurzau@mozilla.com", "id": 13291326, "time": "2018-05-20T08:54:06Z"}, {"text": "(In reply to Raul Gurzau (:RaulGurzau) from comment #6)\n> Tried running as `./generate-...` but the same error occurred and i'm\n> running python 2.7:\n> \n> usernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf (?) $\n> ./generate-wrappers-and-manifest.py\n> Traceback (most recent call last):\n>   File \"./generate-wrappers-and-manifest.py\", line 534, in <module>\n>     os.chdir(file_dir)\n> TypeError: argument should be string, bytes or integer, not PosixPath\n> usernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf (?) $\n> python -V\n> Python 2.7.12\n> usernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf (?) $\n\nIt requires python3. Please run with python3.", "author": "jgilbert@mozilla.com", "id": 13295845, "time": "2018-05-22T07:52:36Z"}, {"text": "Same error again while running with python3, is there something wrong with my environment maybe?\n\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf inbound(0) $ sudo python3 ./generate-wrappers-and-manifest.py\nTraceback (most recent call last):\n  File \"./generate-wrappers-and-manifest.py\", line 534, in <module>\n    os.chdir(file_dir)\nTypeError: argument should be string, bytes or integer, not PosixPath\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf inbound(0) $ python3 -V\nPython 3.5.2\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf inbound(0) $ python3 ./generate-wrappers-and-manifest.py\nTraceback (most recent call last):\n  File \"./generate-wrappers-and-manifest.py\", line 534, in <module>\n    os.chdir(file_dir)\nTypeError: argument should be string, bytes or integer, not PosixPath\nusernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf inbound(0) $ python3 generate-wrappers-and-manifest.py\nTraceback (most recent call last):\n  File \"generate-wrappers-and-manifest.py\", line 534, in <module>\n    os.chdir(file_dir)\nTypeError: argument should be string, bytes or integer, not PosixPath", "author": "rgurzau@mozilla.com", "id": 13297845, "time": "2018-05-22T20:49:40Z"}, {"text": "It seems that script requires Python 3.6+ because os.chdir accepts path-like object since 3.6.", "author": "xidorn+moz@upsuper.org", "id": 13297959, "time": "2018-05-22T21:40:01Z"}, {"text": "(In reply to Raul Gurzau (:RaulGurzau) from comment #8)\n> Same error again while running with python3, is there something wrong with\n> my environment maybe?\n> \n> usernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf\n> inbound(0) $ sudo python3 ./generate-wrappers-and-manifest.py\n> Traceback (most recent call last):\n>   File \"./generate-wrappers-and-manifest.py\", line 534, in <module>\n>     os.chdir(file_dir)\n> TypeError: argument should be string, bytes or integer, not PosixPath\n> usernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf\n> inbound(0) $ python3 -V\n> Python 3.5.2\n> usernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf\n> inbound(0) $ python3 ./generate-wrappers-and-manifest.py\n> Traceback (most recent call last):\n>   File \"./generate-wrappers-and-manifest.py\", line 534, in <module>\n>     os.chdir(file_dir)\n> TypeError: argument should be string, bytes or integer, not PosixPath\n> usernou@raul-VirtualBox ~/mozilla-unified/dom/canvas/test/webgl-conf\n> inbound(0) $ python3 generate-wrappers-and-manifest.py\n> Traceback (most recent call last):\n>   File \"generate-wrappers-and-manifest.py\", line 534, in <module>\n>     os.chdir(file_dir)\n> TypeError: argument should be string, bytes or integer, not PosixPath\n\nYou shouldn't need sudo to run this. (it's dangerous to try, in case it tries to delete certain root paths by accident)\n\nYou should be able to call `./generate-wrappers-and-manifest.py` directly since its shebang line specifies python3. (Generally rely on the shebang line for python files, instead of launching with python2/3 yourself)", "author": "jgilbert@mozilla.com", "id": 13297998, "time": "2018-05-22T21:58:16Z"}, {"text": "Ah, ok, I guess it requires 3.6, so please update. I'm surprised there's much drift between python3 versions.", "author": "jgilbert@mozilla.com", "id": 13298004, "time": "2018-05-22T22:01:06Z"}, {"text": "Created attachment 8979772\nbug1461960.patch\n\nManaged to run generate-wrappers-and-manifest.py successfully with python 3.6", "author": "rgurzau@mozilla.com", "id": 13298184, "time": "2018-05-22T23:13:06Z"}, {"text": "Comment on attachment 8979772\nbug1461960.patch\n\nReview of attachment 8979772:\n-----------------------------------------------------------------\n\nthanks for working on this.", "author": "jmaher@mozilla.com", "id": 13298226, "time": "2018-05-22T23:34:55Z"}, {"text": "Comment on attachment 8979772\nbug1461960.patch\n\nReview of attachment 8979772:\n-----------------------------------------------------------------\n\n::: dom/canvas/test/webgl-conf/mochitest-errata.ini\n@@ +666,1 @@\n>  [generated/test_conformance__glsl__constructors__glsl-construct-mat3.html]\n\nJust remove lines if they no longer have any errata.", "author": "jgilbert@mozilla.com", "id": 13298229, "time": "2018-05-22T23:37:22Z"}, {"text": "thanks :jgilbert.  Raul, up for removing lines that have no related skip/fail conditions?", "author": "jmaher@mozilla.com", "id": 13298234, "time": "2018-05-22T23:40:24Z"}, {"text": "Created attachment 8979797\nbug1461960.patch\n\nRemoved lines without conditions.", "author": "rgurzau@mozilla.com", "id": 13298275, "time": "2018-05-23T00:07:21Z"}, {"text": "Comment on attachment 8979797\nbug1461960.patch\n\nReview of attachment 8979797:\n-----------------------------------------------------------------\n\nr=me", "author": "jgilbert@mozilla.com", "id": 13298286, "time": "2018-05-23T00:14:27Z"}, {"text": "Created attachment 8979801\nbug1461960.patch\n\nRemoved old references for OSX 10.6 and 10.8 too", "author": "rgurzau@mozilla.com", "id": 13298309, "time": "2018-05-23T00:31:47Z"}, {"text": "Comment on attachment 8979801\nbug1461960.patch\n\nReview of attachment 8979801:\n-----------------------------------------------------------------\n\n::: dom/canvas/test/webgl-conf/mochitest-errata.ini\n@@ -162,4 @@\n>  ########################################################################\n>  # Complicated\n>  \n> -[generated/test_conformance__context__context-attributes-alpha-depth-stencil-antialias.html]\n\nThis test still has a skip-if, so you can't remove the [*.html] line.\n\n@@ -187,4 @@\n>  # Assume crashes like ivec3\n>  skip-if = (os == 'linux') || (os == 'mac')\n>  \n> -[generated/test_conformance__glsl__constructors__glsl-construct-mat2.html]\n\nThis test still has a skip-if, so you can't remove the [*.html] line.", "author": "jgilbert@mozilla.com", "id": 13298318, "time": "2018-05-23T00:41:14Z"}, {"text": "Created attachment 8979806\nbug1461960.patch\n\nShould be right now.", "author": "rgurzau@mozilla.com", "id": 13298353, "time": "2018-05-23T01:06:09Z"}, {"text": "Comment on attachment 8979806\nbug1461960.patch\n\nReview of attachment 8979806:\n-----------------------------------------------------------------\n\nThanks!", "author": "jgilbert@mozilla.com", "id": 13298359, "time": "2018-05-23T01:13:36Z"}, {"text": "Pushed by apavel@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/ddf1909c4e58\nremoved old references for OSX 10.6 and 10.8 r=jmaher", "author": "pulsebot@bots.tld", "id": 13300928, "time": "2018-05-23T22:17:59Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/ddf1909c4e58", "author": "ebalazs@mozilla.com", "id": 13334576, "time": "2018-05-24T09:41:51Z"}, {"text": "1 failures in 632 pushes (0.002 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* autoland: 1\n\nPlatform breakdown:\n* linux64: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1461960&startday=2018-05-21&endday=2018-05-27&tree=trunk", "author": "orangefactor@bots.tld", "id": 13367736, "time": "2018-05-28T01:25:52Z"}], "id": 1461960, "priority": "P5", "cc": ["gbrown@mozilla.com", "jgilbert@mozilla.com", "rgurzau@mozilla.com", "xidorn+moz@upsuper.org"], "cf_crash_signature": "", "version": "54 Branch", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1461958], "qa_contact": "", "creation_time": "2018-05-16T13:25:39Z", "cf_status_firefox_esr52": "---", "component": "Canvas: WebGL", "assigned_to_detail": {"email": "rgurzau@mozilla.com", "id": 600635, "name": "rgurzau@mozilla.com", "real_name": "Raul Gurzau (:RaulGurzau)"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "fixed", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "mozilla62", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "trivial", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "jmaher@mozilla.com", "id": 324370, "name": "jmaher@mozilla.com", "real_name": "Joel Maher ( :jmaher ) (UTC-4)"}, "whiteboard": "[manifest_cleanup][gfx-noted]", "mentors": [], "summary": "remove old osx 10.6 references in manifest files", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-28T01:25:52Z", "assigned_to": "rgurzau@mozilla.com", "is_open": false, "history": [{"changes": [{"removed": "--", "field_name": "priority", "added": "P5"}, {"removed": "[manifest_cleanup]", "field_name": "whiteboard", "added": "[manifest_cleanup][gfx-noted]"}, {"removed": "normal", "field_name": "severity", "added": "trivial"}], "who": "tnikkel@gmail.com", "when": "2018-05-17T07:40:08Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "gbrown@mozilla.com, rgurzau@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(gbrown@mozilla.com)"}], "who": "rgurzau@mozilla.com", "when": "2018-05-18T04:17:38Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "rgurzau@mozilla.com"}], "who": "rgurzau@mozilla.com", "when": "2018-05-18T04:17:53Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jgilbert@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jgilbert@mozilla.com)"}], "who": "jmaher@mozilla.com", "when": "2018-05-18T10:15:03Z"}, {"changes": [{"removed": "needinfo?(gbrown@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "gbrown@mozilla.com", "when": "2018-05-18T13:42:27Z"}, {"changes": [{"removed": "needinfo?(jgilbert@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jgilbert@mozilla.com", "when": "2018-05-18T21:11:43Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jgilbert@mozilla.com)"}], "who": "rgurzau@mozilla.com", "when": "2018-05-20T08:54:06Z"}, {"changes": [{"removed": "needinfo?(jgilbert@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jgilbert@mozilla.com", "when": "2018-05-22T07:52:36Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jmaher@mozilla.com)"}], "who": "rgurzau@mozilla.com", "when": "2018-05-22T20:49:40Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "xidorn+moz@upsuper.org"}], "who": "xidorn+moz@upsuper.org", "when": "2018-05-22T21:40:01Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8979772, "added": "review?(jmaher@mozilla.com)"}], "who": "rgurzau@mozilla.com", "when": "2018-05-22T23:13:06Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jmaher@mozilla.com)", "attachment_id": 8979772, "added": "review+"}], "who": "jmaher@mozilla.com", "when": "2018-05-22T23:34:55Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "checkin-needed"}, {"removed": "needinfo?(jmaher@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jmaher@mozilla.com", "when": "2018-05-22T23:35:12Z"}, {"changes": [{"removed": "checkin-needed", "field_name": "keywords", "added": ""}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(rgurzau@mozilla.com)"}], "who": "jmaher@mozilla.com", "when": "2018-05-22T23:40:24Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8979772, "added": "1"}, {"removed": "needinfo?(rgurzau@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8979797, "added": "review?(jmaher@mozilla.com)"}], "who": "rgurzau@mozilla.com", "when": "2018-05-23T00:07:21Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jmaher@mozilla.com)", "attachment_id": 8979797, "added": "review+"}], "who": "jgilbert@mozilla.com", "when": "2018-05-23T00:14:27Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8979797, "added": "1"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jmaher@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8979801, "added": "review?(jmaher@mozilla.com)"}], "who": "rgurzau@mozilla.com", "when": "2018-05-23T00:31:47Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jmaher@mozilla.com)", "attachment_id": 8979801, "added": "review-"}], "who": "jgilbert@mozilla.com", "when": "2018-05-23T00:41:14Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8979801, "added": "1"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8979806, "added": "review?(jmaher@mozilla.com)"}], "who": "rgurzau@mozilla.com", "when": "2018-05-23T01:06:09Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jmaher@mozilla.com)", "attachment_id": 8979806, "added": "review+"}], "who": "jgilbert@mozilla.com", "when": "2018-05-23T01:13:36Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "checkin-needed"}, {"removed": "needinfo?(jmaher@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jmaher@mozilla.com", "when": "2018-05-23T08:39:55Z"}, {"changes": [{"removed": "checkin-needed", "field_name": "keywords", "added": ""}], "who": "pulsebot@bots.tld", "when": "2018-05-23T22:17:59Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-24 09:41:51"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "ebalazs@mozilla.com", "when": "2018-05-24T09:41:51Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}