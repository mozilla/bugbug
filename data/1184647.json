{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "bzbarsky@mit.edu", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-07-21T23:38:09Z", "type_id": 4, "creation_date": "2015-07-17T17:27:02Z", "id": 1212713, "setter": "josh@joshmatthews.net"}, {"status": "+", "name": "review", "modification_date": "2015-07-17T23:11:22Z", "type_id": 4, "creation_date": "2015-07-17T23:11:22Z", "id": 1213001, "setter": "bugs@pettay.fi"}], "content_type": "text/plain", "id": 8635413}], "classification": "Components", "creator": "scaturrob@gmail.com", "cc": ["bugs@pettay.fi", "epinal99-bugzilla2@yahoo.fr", "josh@joshmatthews.net", "scaturrob@gmail.com"], "depends_on": [], "creation_time": "2015-07-16T18:31:05Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": ["testcase"], "summary": "cloned image node omits naturalWidth and naturalHeight properties", "id": 1184647, "assigned_to_detail": {"email": "bzbarsky@mit.edu", "id": 20209, "name": "bzbarsky@mit.edu", "real_name": "Boris Zbarsky [:bz] (no decent commit message means r-)"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "bzbarsky@mit.edu", "comment_count": 8, "comments": [{"text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/43.0.2357.134 Safari/537.36\n\nSteps to reproduce:\n\nI created a fiddle that demonstrates the issue:\n\nhttp://jsfiddle.net/scaturrob/yqed6ts0/\n\n\nActual results:\n\nThe loaded image returns the correct dimensions for naturalWidth and naturalHeight. Cloning that image results in a 0 value for both naturalWidth and naturalHeight on the clone.\n\n\nExpected results:\n\nThe original node and clone should have identical naturalWidth and naturalHeight properties", "author": "scaturrob@gmail.com", "id": 10504245, "time": "2015-07-16T18:31:05Z"}, {"text": "Nice catch.\n\nThe problem is that cloning passes false for aNotify to SetAttr, so the image load doesn't get started on the clone.", "author": "bzbarsky@mit.edu", "id": 10508898, "time": "2015-07-17T17:05:27Z"}, {"text": "Created attachment 8635413\nCloning an image should ensure that the clone tries to load the src, if any\n\nOlli, sorry to pile onto your review load, but this needs some checking wrt the static document bits and the responsive image interaction, and I seem to recall you know about the latter.", "author": "bzbarsky@mit.edu", "id": 10508997, "time": "2015-07-17T17:27:02Z"}, {"text": "Comment on attachment 8635413\nCloning an image should ensure that the clone tries to load the src, if any\n\noh, hmm, I think we may want to pass true as aNotify in CopyInnerTo, but that needs some more investigation, so not in this bug.\n2 spaces for indentation.\n\nbut I'm not familiar with responsive image interaction. jdm has done some work there.", "author": "bugs@pettay.fi", "id": 10510438, "time": "2015-07-17T23:05:14Z"}, {"text": "Comment on attachment 8635413\nCloning an image should ensure that the clone tries to load the src, if any\n\nBut for static document case, yes, we don't want to load anything there, but just\nclone.", "author": "bugs@pettay.fi", "id": 10510456, "time": "2015-07-17T23:11:22Z"}, {"text": "Comment on attachment 8635413\nCloning an image should ensure that the clone tries to load the src, if any\n\nReview of attachment 8635413:\n-----------------------------------------------------------------\n\nMakes sense.", "author": "josh@joshmatthews.net", "id": 10521902, "time": "2015-07-21T23:38:09Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/e0a73c096a3d", "author": "pulsebot@bots.tld", "id": 10525235, "time": "2015-07-22T17:22:58Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/e0a73c096a3d", "author": "cbook@mozilla.com", "id": 10528837, "time": "2015-07-23T10:48:02Z"}], "cf_last_resolved": "2015-07-23T10:48:02Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "39 Branch", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-07-23T10:48:02Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "DOM: Core & HTML", "votes": 0, "groups": [], "cf_status_firefox60": "---", "cf_status_firefox42": "fixed", "target_milestone": "mozilla42", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "scaturrob@gmail.com", "id": 544199, "name": "scaturrob@gmail.com", "real_name": ""}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "bugs@pettay.fi", "id": 39966, "name": "bugs@pettay.fi", "real_name": "Olli Pettay [:smaug]"}, {"email": "epinal99-bugzilla2@yahoo.fr", "id": 337567, "name": "epinal99-bugzilla2@yahoo.fr", "real_name": "Loic"}, {"email": "josh@joshmatthews.net", "id": 241497, "name": "josh@joshmatthews.net", "real_name": "Josh Matthews [:jdm]"}, {"email": "scaturrob@gmail.com", "id": 544199, "name": "scaturrob@gmail.com", "real_name": ""}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "scaturrob@gmail.com"}], "who": "scaturrob@gmail.com", "when": "2015-07-16T18:31:18Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "testcase"}, {"removed": "", "field_name": "cc", "added": "epinal99-bugzilla2@yahoo.fr"}, {"removed": "Untriaged", "field_name": "component", "added": "DOM: Core & HTML"}, {"removed": "Firefox", "field_name": "product", "added": "Core"}], "who": "epinal99-bugzilla2@yahoo.fr", "when": "2015-07-17T15:15:51Z"}, {"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "NEW"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "bzbarsky@mit.edu"}, {"removed": "0", "field_name": "is_confirmed", "added": "1"}], "who": "bzbarsky@mit.edu", "when": "2015-07-17T17:05:27Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8635413, "added": "review?(bugs@pettay.fi)"}, {"removed": "", "field_name": "cc", "added": "bugs@pettay.fi"}], "who": "bzbarsky@mit.edu", "when": "2015-07-17T17:27:02Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "josh@joshmatthews.net"}, {"field_name": "flagtypes.name", "removed": "review?(bugs@pettay.fi)", "attachment_id": 8635413, "added": "review?(josh@joshmatthews.net)"}], "who": "bugs@pettay.fi", "when": "2015-07-17T23:05:14Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8635413, "added": "review+"}], "who": "bugs@pettay.fi", "when": "2015-07-17T23:11:22Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(josh@joshmatthews.net)", "attachment_id": 8635413, "added": "review+"}], "who": "josh@joshmatthews.net", "when": "2015-07-21T23:38:09Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla42"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-07-23 03:48:02"}, {"removed": "---", "field_name": "cf_status_firefox42", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2015-07-23T10:48:02Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}