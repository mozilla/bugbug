{"status": "VERIFIED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Client Software", "creator": "alice0775@yahoo.co.jp", "cc": ["daniel.bodea@softvision.ro", "francesco.lodolo@gmail.com", "gandalf@aviary.pl", "gmontagu@gmail.com", "jcristau@mozilla.com", "l10n@mozilla.com", "mcastelluccio@mozilla.com", "mshal@mozilla.com", "nfroyd@mozilla.com", "nukeador@mozilla.com", "pascalc@gmail.com", "Virtual@teknik.io"], "depends_on": [], "creation_time": "2018-05-16T04:24:51Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86", "keywords": ["intl", "regression"], "summary": "Preferences and NewTab page displayed in English in localized Nightly build", "cf_last_resolved": "2018-05-17T09:52:28Z", "attachments": [{"creator": "mshal@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-16T16:21:04Z", "type_id": 748, "creation_date": "2018-05-16T15:57:04Z", "id": 1757614, "setter": "l10n@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8976210}], "assigned_to_detail": {"email": "mshal@mozilla.com", "id": 456035, "name": "mshal@mozilla.com", "real_name": "Michael Shal [:mshal]"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 18, "comments": [{"text": "[Tracking Requested - why for this release]:\n\nReproducible : always\n\nSteps To Reproduce:\n1. Install  localization localized Nightly build (in my case ja build)\n2. Open Preferences\n   Alt > \u30c4\u30fc\u30eb > \u30aa\u30d7\u30b7\u30e7\u30f3  (i.e, open about:preferences )\nOR\n2. Open NewTab\n\nActual Results:\nAll labels are in English\n\nExpected Results:\nLocalized label should display", "author": "alice0775@yahoo.co.jp", "id": 13280543, "time": "2018-05-16T04:24:51Z"}, {"text": "Regression window:\nhttps://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=cf3ee14023483cbbb57129479537c713e22c1980&tochange=380cf87c1ee3966dd94499942b73085754dc4824", "author": "alice0775@yahoo.co.jp", "id": 13280544, "time": "2018-05-16T04:25:28Z"}, {"text": "Seems regressed by Bug 1459721\n\nNathan Froyd,\nIt seems that your bunch of patches caused the regression. Can you look in to this?", "author": "alice0775@yahoo.co.jp", "id": 13280577, "time": "2018-05-16T04:52:16Z"}, {"text": "I am having a really hard time imagining scenarios in which removing these bits from the build cause localization to fail.  Did you bisect this to those patches?", "author": "nfroyd@mozilla.com", "id": 13281022, "time": "2018-05-16T10:53:52Z"}, {"text": "(In reply to Nathan Froyd [:froydnj] from comment #3)\n> I am having a really hard time imagining scenarios in which removing these\n> bits from the build cause localization to fail.  Did you bisect this to\n> those patches?\n\nI just assumed the patches causes the problem. may be due to others.\n\nThere are no localized build between these build.\nAnd Mozregression seems do not support localized build(https://bugzilla.mozilla.org/show_bug.cgi?id=1401649 )", "author": "alice0775@yahoo.co.jp", "id": 13281030, "time": "2018-05-16T11:05:11Z"}, {"text": "Both Services.locale.getAvailableLocales() and Services.locale.getPackagedLocales() regressed to just show [\"en-US\"] instead of [AB_CD, \"en-US\"].", "author": "l10n@mozilla.com", "id": 13281089, "time": "2018-05-16T11:46:18Z"}, {"text": "... resource://gre/res/multilocale.txt regressed and only shows en-US instead of de,en-US", "author": "l10n@mozilla.com", "id": 13281125, "time": "2018-05-16T12:00:28Z"}, {"text": "Could this be your changes from bug 1454912 in file_generate.py? Looking at my .deps/multilocale.txt.pp, I see a deps for \"de\", which is an argument, so you might take those away from toolkit/locales/gen_multilocale.py?", "author": "l10n@mozilla.com", "id": 13281191, "time": "2018-05-16T12:25:21Z"}, {"text": "*** Bug 1461955 has been marked as a duplicate of this bug. ***", "author": "francesco.lodolo@gmail.com", "id": 13281309, "time": "2018-05-16T13:23:27Z"}, {"text": "I can reproduce in Windows 7 32-bit.  \t\n\nBuild: Mozilla/5.0 (Windows NT 6.1; rv:62.0) Gecko/20100101 Firefox/62.0\nNightly 62.0a1 20180515220059", "author": "gmontagu@gmail.com", "id": 13281550, "time": "2018-05-16T14:42:24Z"}, {"text": "(In reply to Axel Hecht [:Pike] from comment #7)\n> Could this be your changes from bug 1454912 in file_generate.py? Looking at\n> my .deps/multilocale.txt.pp, I see a deps for \"de\", which is an argument, so\n> you might take those away from toolkit/locales/gen_multilocale.py?\n\nYes, sorry. I didn't realize there were other file_generate actions in packager.mk. A new argument was added to file_generate to be the target for the dependency file, and so now the first locale is getting consumed for that argument. In this case I think we can just pass in $(MULTILOCALE_DIR)/multilocale.txt as the target to restore the original behavior.", "author": "mshal@mozilla.com", "id": 13281828, "time": "2018-05-16T15:55:27Z"}, {"text": "I haven't started investigating, but it's possible that Bug 1460716 is relevant.  That ticket changes how \"built_in_addons.json\" gets produced, and it's possible that New Tab (Activity Stream) is an addon.  I don't think there's anything addon-y or feature-y about Preferences, though.  And it should definitely *not* impact multilocale.txt, unless there's some unexpected interaction with ordering Make rules in l10n builds.", "author": "nalexander@mozilla.com", "id": 13281832, "time": "2018-05-16T15:56:51Z"}, {"text": "Created attachment 8976210\nBug 1461881 - Fix packager.mk file_generate actions;\n\nBug 1454912 added a new argument to the file_generate action to\ncorrespond to the make target in the generated dependencies file. These\nmultilocale.txt targets in packager.mk need to add a parameter for this\nargument, otherwise the first locale will be silently used as the target\nand won't be included in the resulting multilocale.txt file.\n\nReview commit: https://reviewboard.mozilla.org/r/244394/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/244394/", "author": "mshal@mozilla.com", "id": 13281834, "time": "2018-05-16T15:57:04Z"}, {"text": "Comment on attachment 8976210\nBug 1461881 - Fix packager.mk file_generate actions;\n\nhttps://reviewboard.mozilla.org/r/244394/#review250382\n\nThanks", "author": "l10n@mozilla.com", "id": 13281905, "time": "2018-05-16T16:21:04Z"}, {"text": "Pushed by mshal@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/b6306fd112d2\nFix packager.mk file_generate actions; r=Pike", "author": "pulsebot@bots.tld", "id": 13282099, "time": "2018-05-16T17:42:46Z"}, {"text": "*** Bug 1461880 has been marked as a duplicate of this bug. ***", "author": "alice0775@yahoo.co.jp", "id": 13283063, "time": "2018-05-16T22:40:07Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/b6306fd112d2", "author": "csabou@mozilla.com", "id": 13283960, "time": "2018-05-17T09:52:28Z"}, {"text": "Hello,\n\nI tried reproducing the issue on the build from the day it was reported (05/15/2018), by installing the nightly from link \"http://archive.mozilla.org/pub/firefox/nightly/2018/05/2018-05-15-10-00-38-mozilla-central-l10n/\". Using any of the installers there, the build from 06/04/2018 is being installed on my workstation.\n\nEven though the problem could not be reproduced due to the installer problem and given the fact that the steps to reproduce are easily understandable and hard to interpret wrongly, I will now validate this issue as it is not reproducing on Windows 10 and Nightly v62.0a1 (20180604220149).", "author": "daniel.bodea@softvision.ro", "id": 13388488, "time": "2018-06-05T16:21:30Z"}], "id": 1461881, "priority": "P1", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "blocking", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "unaffected", "blocks": [1454912], "qa_contact": "", "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1461880"], "cf_fx_iteration": "---", "component": "Installer", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "verified", "cf_status_firefox61": "unaffected", "cf_status_firefox60": "unaffected", "target_milestone": "Firefox 62", "is_cc_accessible": true, "cf_rank": null, "groups": [], "url": "", "creator_detail": {"email": "alice0775@yahoo.co.jp", "id": 293623, "name": "alice0775@yahoo.co.jp", "real_name": "Alice0775 White"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "daniel.bodea@softvision.ro", "id": 616104, "name": "daniel.bodea@softvision.ro", "real_name": "Bodea Daniel"}, {"email": "francesco.lodolo@gmail.com", "id": 130462, "name": "francesco.lodolo@gmail.com", "real_name": "Francesco Lodolo [:flod]"}, {"email": "gandalf@aviary.pl", "id": 41270, "name": "gandalf@aviary.pl", "real_name": "Zibi Braniecki [:gandalf][:zibi]"}, {"email": "gmontagu@gmail.com", "id": 334073, "name": "gmontagu@gmail.com", "real_name": "Gabriela [:gaby2300]"}, {"email": "jcristau@mozilla.com", "id": 580382, "name": "jcristau@mozilla.com", "real_name": "Julien Cristau [:jcristau]"}, {"email": "l10n@mozilla.com", "id": 215498, "name": "l10n@mozilla.com", "real_name": "Axel Hecht [:Pike]"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "mshal@mozilla.com", "id": 456035, "name": "mshal@mozilla.com", "real_name": "Michael Shal [:mshal]"}, {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}, {"email": "nukeador@mozilla.com", "id": 215534, "name": "nukeador@mozilla.com", "real_name": "Rub\u00e9n Mart\u00edn [:Nukeador]"}, {"email": "pascalc@gmail.com", "id": 24572, "name": "pascalc@gmail.com", "real_name": "Pascal Chevrel:pascalc"}, {"email": "Virtual@teknik.io", "id": 342842, "name": "Virtual@teknik.io", "real_name": "Virtual_ManPL [:Virtual] - (please needinfo? me - so I will see your comment/reply/question/etc.)"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-05T16:21:30Z", "cf_status_firefox_esr60": "unaffected", "assigned_to": "mshal@mozilla.com", "is_open": false, "resolution": "FIXED", "op_sys": "Windows 10", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "nfroyd@mozilla.com"}, {"removed": "", "field_name": "blocks", "added": "1459721"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(nfroyd@mozilla.com)"}], "who": "alice0775@yahoo.co.jp", "when": "2018-05-16T04:52:16Z"}, {"changes": [{"removed": "needinfo?(nfroyd@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "nfroyd@mozilla.com", "when": "2018-05-16T10:53:52Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "francesco.lodolo@gmail.com"}], "who": "francesco.lodolo@gmail.com", "when": "2018-05-16T11:44:32Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "gandalf@aviary.pl, l10n@mozilla.com"}], "who": "l10n@mozilla.com", "when": "2018-05-16T11:46:18Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jcristau@mozilla.com"}, {"removed": "?", "field_name": "cf_tracking_firefox62", "added": "blocking"}], "who": "jcristau@mozilla.com", "when": "2018-05-16T11:58:31Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "pascalc@gmail.com"}], "who": "pascalc@gmail.com", "when": "2018-05-16T11:58:55Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mshal@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(mshal@mozilla.com)"}], "who": "l10n@mozilla.com", "when": "2018-05-16T12:25:21Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-05-16T12:54:06Z"}, {"changes": [{"removed": "Preferences and NewTab page  fails to localization in localized Nightly build", "field_name": "summary", "added": "Preferences and NewTab page displayed in English in localized Nightly build"}], "who": "francesco.lodolo@gmail.com", "when": "2018-05-16T13:08:24Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "nukeador@mozilla.com"}], "who": "francesco.lodolo@gmail.com", "when": "2018-05-16T13:23:27Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "gmontagu@gmail.com"}], "who": "gmontagu@gmail.com", "when": "2018-05-16T14:24:27Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "mshal@mozilla.com"}, {"removed": "needinfo?(mshal@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "mshal@mozilla.com", "when": "2018-05-16T15:55:40Z"}, {"changes": [{"removed": "1459721", "field_name": "blocks", "added": "1454912"}], "who": "mshal@mozilla.com", "when": "2018-05-16T15:56:15Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8976210, "added": "review?(l10n@mozilla.com)"}], "who": "mshal@mozilla.com", "when": "2018-05-16T15:57:04Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(l10n@mozilla.com)", "attachment_id": 8976210, "added": "review+"}], "who": "l10n@mozilla.com", "when": "2018-05-16T16:21:04Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "Virtual@teknik.io"}], "who": "Virtual@teknik.io", "when": "2018-05-16T16:22:25Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P1"}, {"removed": "Preferences", "field_name": "component", "added": "Installer"}], "who": "gijskruitbosch+bugs@gmail.com", "when": "2018-05-16T21:02:52Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-17 09:52:28"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "csabou@mozilla.com", "when": "2018-05-17T09:52:28Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "qe-verify+"}], "who": "lhenry@mozilla.com", "when": "2018-05-18T16:01:20Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}, {"removed": "", "field_name": "cc", "added": "daniel.bodea@softvision.ro"}, {"removed": "qe-verify+", "field_name": "flagtypes.name", "added": ""}, {"removed": "fixed", "field_name": "cf_status_firefox62", "added": "verified"}], "who": "daniel.bodea@softvision.ro", "when": "2018-06-05T16:21:30Z"}]}