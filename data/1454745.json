{"status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Client Software", "creator": "aklotz@mozilla.com", "cc": ["dmajor@mozilla.com", "mcastelluccio@mozilla.com", "mhowell@mozilla.com"], "depends_on": [1457999], "creation_time": "2018-04-17T19:15:02Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "summary": "Skeletal bootstrap process", "cf_last_resolved": "2018-05-08T12:54:10Z", "attachments": [{"creator": "aklotz@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-04T18:27:25Z", "type_id": 748, "creation_date": "2018-04-30T21:06:45Z", "id": 1750890, "setter": "mhowell@mozilla.com"}], "content_type": "text/plain", "id": 8972147}], "assigned_to_detail": {"email": "aklotz@mozilla.com", "id": 454100, "name": "aklotz@mozilla.com", "real_name": "Aaron Klotz [:aklotz]"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 11, "comments": [{"text": "See also https://bugzilla.mozilla.org/show_bug.cgi?id=1435780#c1\n\nThis bug should just involve adding the command-line flag and basic infra for doing a bootstrap. We'll add the actual policies etc in follow-up bugs.", "author": "aklotz@mozilla.com", "id": 13213410, "time": "2018-04-17T19:15:02Z"}, {"text": "Created attachment 8972147\nSkeletal bootstrap process\n\nThis is the just the essentials that allow us to test bootstrapping by specifying --launcher on the command line. We'll add policies and blocklist setup in follow-up bugs.", "author": "aklotz@mozilla.com", "id": 13244722, "time": "2018-04-30T21:06:45Z"}, {"text": "Comment on attachment 8972147\nSkeletal bootstrap process\n\nMoving this to Matt as per PlatInt meeting today.", "author": "aklotz@mozilla.com", "id": 13252589, "time": "2018-05-03T16:41:57Z"}, {"text": "Comment on attachment 8972147\nSkeletal bootstrap process\n\nReview of attachment 8972147:\n-----------------------------------------------------------------\n\nYep, looks good. Just a couple small points.\n\nI thought about maybe adding some tests for this patch, but I feel like we're good without any, since we'll have plenty of testing of how the bootstrap process is working out when it's made the default behavior, and anyway I'm not sure how to verify \"passing a particular command-line flag has no observable effect\", which is what the test for this patch would boil down to.\n\n::: browser/app/LauncherProcessWin.cpp\n@@ +57,5 @@\n> +  if (!result) {\n> +    return;\n> +  }\n> +\n> +  ::MessageBoxW(nullptr, rawMsgBuf, L\"Firefox\", MB_OK | MB_ICONERROR);\n\nI don't love hard-coding \"Firefox\" here, but I don't have a good way to avoid it, so I'll have to live with it.\n\n@@ +69,5 @@\n> +bool\n> +RunAsLauncherProcess(int& argc, wchar_t** argv)\n> +{\n> +  return CheckArg(argc, argv, L\"launcher\",\n> +                  reinterpret_cast<const wchar_t**>(nullptr),\n\nI tried to build this patch in Clang, and it wouldn't compile this cast; apparently the language spec doesn't allow reinterpret_casts from nullptr. It seems to only want to take a static_cast.", "author": "mhowell@mozilla.com", "id": 13255412, "time": "2018-05-04T18:27:25Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=f099499b1d193d800bc4f19522d119f48e485365", "author": "aklotz@mozilla.com", "id": 13260075, "time": "2018-05-07T17:27:31Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=35af29dc46ae0cc92d41a228557da69b3fe27364", "author": "aklotz@mozilla.com", "id": 13260145, "time": "2018-05-07T17:53:00Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=848a95b3ffa8ff84304d934c9174358b521f7349", "author": "aklotz@mozilla.com", "id": 13260435, "time": "2018-05-07T19:28:28Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=386455145d86b9079e9a46544f26557637786250", "author": "aklotz@mozilla.com", "id": 13260585, "time": "2018-05-07T20:24:47Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=b6958dc379b0bbb19ee0b56bcbe32d927c9f253e", "author": "aklotz@mozilla.com", "id": 13260649, "time": "2018-05-07T20:43:42Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/eb5c30217df94a8f2f48b6cce953ff717cb3be89\nBug 1454745: Skeletal bootstrap process; r=mhowell", "author": "aklotz@mozilla.com", "id": 13260815, "time": "2018-05-07T21:27:59Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/eb5c30217df9", "author": "aiakab@mozilla.com", "id": 13262219, "time": "2018-05-08T12:54:10Z"}], "id": 1454745, "priority": "P2", "mentors_detail": [], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "---", "blocks": [1435780, 1458386], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "General", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "fixed", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "Firefox 62", "is_cc_accessible": true, "cf_rank": null, "groups": [], "url": "", "creator_detail": {"email": "aklotz@mozilla.com", "id": 454100, "name": "aklotz@mozilla.com", "real_name": "Aaron Klotz [:aklotz]"}, "whiteboard": "inj+", "mentors": [], "cc_detail": [{"email": "dmajor@mozilla.com", "id": 477892, "name": "dmajor@mozilla.com", "real_name": "David Major [:dmajor]"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "mhowell@mozilla.com", "id": 550257, "name": "mhowell@mozilla.com", "real_name": "Matt Howell [:mhowell]"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-08T12:54:10Z", "cf_status_firefox_esr60": "---", "assigned_to": "aklotz@mozilla.com", "is_open": false, "resolution": "FIXED", "op_sys": "Windows", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-04-17T19:50:23Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1457999"}], "who": "aklotz@mozilla.com", "when": "2018-04-30T19:04:30Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8972147, "added": "review?(jmathies@mozilla.com)"}], "who": "aklotz@mozilla.com", "when": "2018-04-30T21:06:45Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1458386"}], "who": "aklotz@mozilla.com", "when": "2018-05-01T22:44:37Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mhowell@mozilla.com"}, {"field_name": "flagtypes.name", "removed": "review?(jmathies@mozilla.com)", "attachment_id": 8972147, "added": "review?(mhowell@mozilla.com)"}], "who": "aklotz@mozilla.com", "when": "2018-05-03T16:41:57Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(mhowell@mozilla.com)", "attachment_id": 8972147, "added": "review+"}], "who": "mhowell@mozilla.com", "when": "2018-05-04T18:27:25Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dmajor@mozilla.com"}], "who": "dmajor@mozilla.com", "when": "2018-05-07T21:46:37Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-08 12:54:10"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "aiakab@mozilla.com", "when": "2018-05-08T12:54:10Z"}]}