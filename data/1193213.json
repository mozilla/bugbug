{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "nth10sd@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "text/plain", "id": 8646254}, {"creator": "bhackett1024@gmail.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-08-24T18:48:35Z", "type_id": 4, "creation_date": "2015-08-21T16:06:25Z", "id": 1236885, "setter": "jorendorff@mozilla.com"}], "content_type": "text/plain", "id": 8651093}], "classification": "Components", "creator": "nth10sd@gmail.com", "cc": ["bhackett1024@gmail.com", "choller@mozilla.com", "jdemooij@mozilla.com", "jorendorff@mozilla.com", "jruderman@gmail.com"], "depends_on": [], "creation_time": "2015-08-11T09:27:21Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86_64", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": ["assertion", "regression", "testcase"], "summary": "Assertion failure: this->is<T>(), at jsobj.h", "id": 1193213, "assigned_to_detail": {"email": "bhackett1024@gmail.com", "id": 346231, "name": "bhackett1024@gmail.com", "real_name": "Brian Hackett (:bhackett)"}, "severity": "critical", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "bhackett1024@gmail.com", "comment_count": 10, "comments": [{"text": "x = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\nx = [''];\np``;\n\nasserts js debug shell on m-c changeset 8cba870a352c with --fuzzing-safe --no-threads --ion-eager --unboxed-arrays at Assertion failure: this->is<T>(), at jsobj.h\n\nConfigure options:\n\nCC=\"clang -Qunused-arguments\" CXX=\"clang++ -Qunused-arguments\" AR=ar AUTOCONF=/usr/local/Cellar/autoconf213/2.13/bin/autoconf213 sh /Users/skywalker/trees/mozilla-central/js/src/configure --target=x86_64-apple-darwin12.5.0 --enable-debug --enable-nspr-build --enable-more-deterministic --with-ccache --enable-gczeal --enable-debug-symbols --disable-tests\n\npython -u ~/funfuzz/js/compileShell.py -b \"--enable-debug --enable-more-deterministic --enable-nspr-build\" -r 8cba870a352c\n\nautoBisect is running, but guessing that this is related to --unboxed-arrays so setting needinfo? from Brian.", "author": "nth10sd@gmail.com", "id": 10602639, "time": "2015-08-11T09:27:21Z"}, {"text": "Created attachment 8646254\nstack\n\n(lldb) bt 5\n* thread #1: tid = 0xc2257, 0x00000001001bfde7 js-dbg-64-dm-nsprBuild-darwin-8cba870a352c`js::frontend::BytecodeEmitter::emitCallSiteObject(js::frontend::ParseNode*) + 52 at jsobj.h:547, queue = 'com.apple.main-thread', stop reason = EXC_BAD_ACCESS (code=1, address=0x0)\n  * frame #0: 0x00000001001bfde7 js-dbg-64-dm-nsprBuild-darwin-8cba870a352c`js::frontend::BytecodeEmitter::emitCallSiteObject(js::frontend::ParseNode*) + 52 at jsobj.h:547\n    frame #1: 0x00000001001bfdb3 js-dbg-64-dm-nsprBuild-darwin-8cba870a352c`js::frontend::BytecodeEmitter::emitCallSiteObject(this=<unavailable>, pn=<unavailable>) + 467 at BytecodeEmitter.cpp:4731\n    frame #2: 0x00000001001aab81 js-dbg-64-dm-nsprBuild-darwin-8cba870a352c`js::frontend::BytecodeEmitter::emitTree(this=0x00007fff5fbfec78, pn=0x00000001028ae6d8) + 1633 at BytecodeEmitter.cpp:7900\n    frame #3: 0x00000001001c7484 js-dbg-64-dm-nsprBuild-darwin-8cba870a352c`js::frontend::BytecodeEmitter::emitCallOrNew(this=0x00007fff5fbfec78, pn=0x00000001028ae688) + 1236 at BytecodeEmitter.cpp:6737\n    frame #4: 0x00000001001aa7c5 js-dbg-64-dm-nsprBuild-darwin-8cba870a352c`js::frontend::BytecodeEmitter::emitTree(this=0x00007fff5fbfec78, pn=0x00000001028ae688) + 677 at BytecodeEmitter.cpp:7859\n(lldb)", "author": "nth10sd@gmail.com", "id": 10602647, "time": "2015-08-11T09:28:24Z"}, {"text": "Also happens with \"--fuzzing-safe --no-threads --no-ion --unboxed-arrays\".", "author": "nth10sd@gmail.com", "id": 10602654, "time": "2015-08-11T09:28:48Z"}, {"text": "autoBisect shows this is probably related to the following changeset:\n\nThe first bad revision is:\nchangeset:   https://hg.mozilla.org/mozilla-central/rev/3a994e364343\nuser:        Brian Hackett\ndate:        Sat Jun 13 07:54:06 2015 -0700\nsummary:     Bug 1172943 - Use unboxed arrays for JSON and script literal arrays, r=jandem.\n\nBrian, is bug 1172943 a likely regressor?", "author": "nth10sd@gmail.com", "id": 10602794, "time": "2015-08-11T10:28:10Z"}, {"text": "JSBugMon: Cannot process bug: Unable to automatically reproduce, please track manually.", "author": "choller@mozilla.com", "id": 10606952, "time": "2015-08-12T01:31:33Z"}, {"text": "$ ~/shell-cache/js-dbg-64-dm-nsprBuild-darwin-29b2df16e961/js-dbg-64-dm-nsprBuild-darwin-29b2df16e961 --fuzzing-safe --no-threads --ion-eager --unboxed-arrays 1193213.js\nAssertion failure: this->is<T>(), at /Users/skywalker/trees/mozilla-central/js/src/jsobj.h:547\nSegmentation fault: 11\n\nJust reproduced on m-c rev 29b2df16e961.\n\nNote that there are backticks in the testcase in comment 0.", "author": "nth10sd@gmail.com", "id": 10638948, "time": "2015-08-20T07:53:06Z"}, {"text": "Created attachment 8651093\npatch\n\nThese NativeObject casts are unnecessary.", "author": "bhackett1024@gmail.com", "id": 10644877, "time": "2015-08-21T16:06:25Z"}, {"text": "Comment on attachment 8651093\npatch\n\nReview of attachment 8651093:\n-----------------------------------------------------------------\n\nr=me.", "author": "jorendorff@mozilla.com", "id": 10651773, "time": "2015-08-24T18:48:35Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/8e716c7b5571", "author": "pulsebot@bots.tld", "id": 10655754, "time": "2015-08-25T15:03:40Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/8e716c7b5571", "author": "ryanvm@gmail.com", "id": 10657608, "time": "2015-08-25T21:01:04Z"}], "cf_last_resolved": "2015-08-25T21:01:04Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-08-25T21:01:04Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [349611, 1172943], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "JavaScript Engine", "votes": 0, "groups": [], "cf_status_firefox60": "---", "cf_status_firefox43": "fixed", "target_milestone": "mozilla43", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "nth10sd@gmail.com", "id": 132034, "name": "nth10sd@gmail.com", "real_name": "Gary Kwong [:gkw] [:nth10sd]"}, "whiteboard": "[jsbugmon:update]", "mentors": [], "cc_detail": [{"email": "bhackett1024@gmail.com", "id": 346231, "name": "bhackett1024@gmail.com", "real_name": "Brian Hackett (:bhackett)"}, {"email": "choller@mozilla.com", "id": 395101, "name": "choller@mozilla.com", "real_name": "Christian Holler (:decoder)"}, {"email": "jdemooij@mozilla.com", "id": 375297, "name": "jdemooij@mozilla.com", "real_name": "Jan de Mooij [:jandem] (PTO Mar 8)"}, {"email": "jorendorff@mozilla.com", "id": 281791, "name": "jorendorff@mozilla.com", "real_name": "Jason Orendorff [:jorendorff]"}, {"email": "jruderman@gmail.com", "id": 11608, "name": "jruderman@gmail.com", "real_name": "Jesse Ruderman"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(bhackett1024@gmail.com)"}], "who": "nth10sd@gmail.com", "when": "2015-08-11T09:27:21Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jdemooij@mozilla.com"}, {"removed": "", "field_name": "blocks", "added": "1172943"}], "who": "nth10sd@gmail.com", "when": "2015-08-11T10:28:10Z"}, {"changes": [{"removed": "[jsbugmon:update]", "field_name": "whiteboard", "added": "[jsbugmon:]"}], "who": "choller@mozilla.com", "when": "2015-08-12T01:31:31Z"}, {"changes": [{"removed": "[jsbugmon:]", "field_name": "whiteboard", "added": "[jsbugmon:update]"}], "who": "nth10sd@gmail.com", "when": "2015-08-20T07:51:05Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jorendorff@mozilla.com"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "bhackett1024@gmail.com"}, {"removed": "needinfo?(bhackett1024@gmail.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8651093, "added": "review?(jorendorff@mozilla.com)"}], "who": "bhackett1024@gmail.com", "when": "2015-08-21T16:06:25Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jorendorff@mozilla.com)", "attachment_id": 8651093, "added": "review+"}], "who": "jorendorff@mozilla.com", "when": "2015-08-24T18:48:35Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla43"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-08-25 14:01:04"}, {"removed": "affected", "field_name": "cf_status_firefox43", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2015-08-25T21:01:04Z"}], "resolution": "FIXED", "op_sys": "Mac OS X", "cf_fx_points": "---", "cf_blocking_fennec": "---"}