{"status": "VERIFIED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Client Software", "creator": "ryanvm@gmail.com", "cc": ["ckerschb@christophkerschbaumer.com", "jcristau@mozilla.com", "jkt@mozilla.com", "mcastelluccio@mozilla.com", "mdeboer@mozilla.com", "w.elwood08+bmo@gmail.com"], "depends_on": [], "creation_time": "2018-03-27T20:01:58Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["regression"], "summary": "Tabs sometimes restored as blank when trying to undo close tab with Ctrl+Shift+T", "cf_last_resolved": "2018-05-24T06:31:42Z", "attachments": [{"creator": "ryanvm@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "image/png", "id": 8976398}], "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "yes", "comment_count": 11, "comments": [{"text": "Sometimes when I try to undo closing a tab with Ctrl+Shift+T, the tab is restored blank. Reloading doesn't do anything, but highlighting the URL bar and hitting enter loads the page. I've been seeing this intermittently for awhile now, but haven't been able to narrow down any sort of solid STR for the problem. Just seems to happen randomly from time to time.", "author": "ryanvm@gmail.com", "id": 13161173, "time": "2018-03-27T20:01:58Z"}, {"text": "Will become P1 with STR!", "author": "mdeboer@mozilla.com", "id": 13278431, "time": "2018-05-15T12:20:28Z"}, {"text": "jcristau astutely pointed out on IRC that this seems to be tied to tabs opened via the \"Open All in Tabs\" option added to bug query results via the \"BugzillaJS: Open all in Tabs\" extension. Mike, does that help you reproduce?", "author": "ryanvm@gmail.com", "id": 13283212, "time": "2018-05-16T23:53:26Z"}, {"text": "In fact, with those STR, I was even able to bisect this with mozregression!\n\nINFO: Last good revision: 2a5765cbd308215f11ea6bc7b52e71228709d971\nINFO: First bad revision: 166fb0b613592e18893c0d825dd5332c6185b2ce\nINFO: Pushlog:\nhttps://hg.mozilla.org/integration/autoland/pushloghtml?fromchange=2a5765cbd308215f11ea6bc7b52e71228709d971&tochange=166fb0b613592e18893c0d825dd5332c6185b2ce", "author": "ryanvm@gmail.com", "id": 13283404, "time": "2018-05-17T01:55:39Z"}, {"text": "Created attachment 8976398\nthe serach results link in question\n\nLink to the extension:\nhttps://addons.mozilla.org/firefox/addon/bugzillajs-open-all-in-tabs/", "author": "ryanvm@gmail.com", "id": 13283407, "time": "2018-05-17T01:57:58Z"}, {"text": "...which is conveniently the same culprit as bug 1448309.", "author": "ryanvm@gmail.com", "id": 13283430, "time": "2018-05-17T02:37:46Z"}, {"text": "Ryan, you're badass! Thanks for helping out and finding the regression!", "author": "mdeboer@mozilla.com", "id": 13283995, "time": "2018-05-17T10:14:45Z"}, {"text": "Amazing I can STR this consistently:\n\n1. Install https://addons.mozilla.org/en-GB/firefox/addon/bugzillajs-open-all-in-tabs/\n2. Go to https://bugzilla.mozilla.org/buglist.cgi?quicksearch=strange+thing\n3. Click \"Open All in Tabs\"\n4. Click next tab along\n5. Ctrl+w\n6. Ctrl+Shift+T\n\nI get the following error:\n\"Given tab is not restoring. SessionStore.jsm:4839\"\n\nI think this is a duplicate of bug 1448309 based on that. I'm happy to leave open or whatever work.", "author": "jkt@mozilla.com", "id": 13284750, "time": "2018-05-17T15:42:47Z"}, {"text": "It appears the content script is creating the tabs with expanded principals which are not serialisable. I suspect we should pick the last principal in the list perhaps.", "author": "jkt@mozilla.com", "id": 13287748, "time": "2018-05-18T16:43:18Z"}, {"text": "\n\n*** This bug has been marked as a duplicate of bug 1452666 ***", "author": "jkt@mozilla.com", "id": 13325256, "time": "2018-05-24T06:31:42Z"}, {"text": "Verified working correctly on current nightly now.", "author": "ryanvm@gmail.com", "id": 13365235, "time": "2018-05-25T21:33:38Z"}], "id": 1449301, "priority": "P1", "mentors_detail": [], "cf_crash_signature": "", "version": "59 Branch", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "unaffected", "blocks": [1330633, 1345433, 1448309, 1452666], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Session Restore", "votes": 2, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "verified", "cf_status_firefox61": "affected", "cf_status_firefox60": "wontfix", "target_milestone": "---", "is_cc_accessible": true, "cf_rank": null, "groups": [], "url": "", "creator_detail": {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "ckerschb@christophkerschbaumer.com", "id": 363267, "name": "ckerschb@christophkerschbaumer.com", "real_name": "Christoph Kerschbaumer [:ckerschb]"}, {"email": "jcristau@mozilla.com", "id": 580382, "name": "jcristau@mozilla.com", "real_name": "Julien Cristau [:jcristau]"}, {"email": "jkt@mozilla.com", "id": 563455, "name": "jkt@mozilla.com", "real_name": "Jonathan Kingston [:jkt]"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "mdeboer@mozilla.com", "id": 463945, "name": "mdeboer@mozilla.com", "real_name": "Mike de Boer [:mikedeboer]"}, {"email": "w.elwood08+bmo@gmail.com", "id": 423032, "name": "w.elwood08+bmo@gmail.com", "real_name": "Will Elwood (:Will)"}], "cf_has_str": "---", "alias": null, "dupe_of": 1452666, "flags": [], "last_change_time": "2018-05-25T21:33:38Z", "cf_status_firefox_esr60": "affected", "assigned_to": "nobody@mozilla.org", "is_open": false, "resolution": "DUPLICATE", "op_sys": "Unspecified", "cf_fx_points": "---", "history": [{"changes": [{"removed": "--", "field_name": "priority", "added": "P3"}, {"removed": "", "field_name": "cc", "added": "mdeboer@mozilla.com"}], "who": "mdeboer@mozilla.com", "when": "2018-05-15T12:20:28Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(mdeboer@mozilla.com)"}], "who": "ryanvm@gmail.com", "when": "2018-05-16T23:53:26Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ckerschb@christophkerschbaumer.com"}, {"removed": "", "field_name": "blocks", "added": "1345433"}], "who": "ryanvm@gmail.com", "when": "2018-05-17T01:55:39Z"}, {"changes": [{"removed": "Trunk", "field_name": "version", "added": "59 Branch"}, {"removed": "---", "field_name": "cf_has_regression_range", "added": "yes"}, {"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "affected"}], "who": "ryanvm@gmail.com", "when": "2018-05-17T01:56:08Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jkt@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jkt@mozilla.com)"}], "who": "ryanvm@gmail.com", "when": "2018-05-17T02:38:13Z"}, {"changes": [{"removed": "P3", "field_name": "priority", "added": "P1"}, {"removed": "needinfo?(mdeboer@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "mdeboer@mozilla.com", "when": "2018-05-17T10:13:24Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1330633"}], "who": "mdeboer@mozilla.com", "when": "2018-05-17T10:13:36Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "w.elwood08+bmo@gmail.com"}], "who": "w.elwood08+bmo@gmail.com", "when": "2018-05-17T14:46:46Z"}, {"changes": [{"removed": "needinfo?(jkt@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jkt@mozilla.com", "when": "2018-05-17T15:42:47Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1448309"}], "who": "bzbarsky@mit.edu", "when": "2018-05-18T17:01:44Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1452666"}], "who": "bzbarsky@mit.edu", "when": "2018-05-18T17:02:13Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-05-18T17:20:33Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "DUPLICATE"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-24 06:31:42"}], "who": "jkt@mozilla.com", "when": "2018-05-24T06:31:42Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "verified"}], "who": "ryanvm@gmail.com", "when": "2018-05-25T21:33:38Z"}]}