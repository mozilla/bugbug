{"cf_tracking_thunderbird_esr52": "---", "status": "VERIFIED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "+", "creator": "csabou@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "unaffected", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["regression"], "cc_detail": [{"email": "amarchesini@mozilla.com", "id": 446257, "name": "amarchesini@mozilla.com", "real_name": "Andrea Marchesini [:baku]"}, {"email": "apavel@mozilla.com", "id": 600553, "name": "apavel@mozilla.com", "real_name": "Andreea Pavel [:apavel]"}, {"email": "aryx.bugmail@gmx-topmail.de", "id": 258347, "name": "aryx.bugmail@gmx-topmail.de", "real_name": "Sebastian Hengst [:aryx] (needinfo on intermittent or backout)"}, {"email": "honzab.moz@firemni.cz", "id": 269762, "name": "honzab.moz@firemni.cz", "real_name": "Honza Bambas (:mayhemer)"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "michal.novotny@gmail.com", "id": 268625, "name": "michal.novotny@gmail.com", "real_name": "Michal Novotny (:michal)"}, {"email": "pascalc@gmail.com", "id": 24572, "name": "pascalc@gmail.com", "real_name": "Pascal Chevrel:pascalc"}], "cf_last_resolved": "2018-06-06T09:43:29Z", "attachments": [{"creator": "amarchesini@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "-", "name": "review", "modification_date": "2018-06-04T14:12:27Z", "type_id": 4, "creation_date": "2018-06-01T12:34:49Z", "id": 1764638, "setter": "honzab.moz@firemni.cz"}], "content_type": "text/plain", "id": 8982503}, {"creator": "amarchesini@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2018-06-05T11:24:22Z", "type_id": 4, "creation_date": "2018-06-05T09:35:31Z", "id": 1765835, "setter": "honzab.moz@firemni.cz"}], "content_type": "text/plain", "id": 8983338}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 8, "comments": [{"text": "Central as beta simulaton: https://treeherder.mozilla.org/#/jobs?repo=try&revision=dd55f89162309943b1a42701144c12b20bde4679&filter-resultStatus=busted&filter-resultStatus=exception&filter-resultStatus=runnable&selectedJob=181317589\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#?job_id=181317589&repo=try&lineNumber=10027\n\n[task 2018-06-01T11:12:31.738Z] 11:12:31     INFO -  In file included from /builds/worker/workspace/build/src/obj-firefox/xpcom/io/Unified_cpp_xpcom_io0.cpp:20:\n[task 2018-06-01T11:12:31.738Z] 11:12:31     INFO -  /builds/worker/workspace/build/src/xpcom/io/InputStreamLengthHelper.cpp:160:7: error: Unused \"kungFuDeathGrip\" 'nsCOMPtr<nsIAsyncInputStream>' objects constructed from temporary values are prohibited\n[task 2018-06-01T11:12:31.738Z] 11:12:31     INFO -        nsCOMPtr<nsIAsyncInputStream> asyncStream = do_QueryInterface(aStream);\n[task 2018-06-01T11:12:31.738Z] 11:12:31     INFO -        ^\n[task 2018-06-01T11:12:31.739Z] 11:12:31     INFO -  /builds/worker/workspace/build/src/xpcom/io/InputStreamLengthHelper.cpp:160:51: note: Please switch all accesses to this value to go through 'asyncStream', or explicitly pass 'asyncStream' to `mozilla::Unused`\n[task 2018-06-01T11:12:31.741Z] 11:12:31     INFO -        nsCOMPtr<nsIAsyncInputStream> asyncStream = do_QueryInterface(aStream);\n[task 2018-06-01T11:12:31.741Z] 11:12:31     INFO -                                                    ^\n[task 2018-06-01T11:12:31.741Z] 11:12:31     INFO -  1 error generated.\n[task 2018-06-01T11:12:31.741Z] 11:12:31     INFO -  /builds/worker/workspace/build/src/config/rules.mk:1031: recipe for target 'Unified_cpp_xpcom_io0.o' failed\n[task 2018-06-01T11:12:31.742Z] 11:12:31     INFO -  make[4]: *** [Unified_cpp_xpcom_io0.o] Error 1\n[task 2018-06-01T11:12:31.743Z] 11:12:31     INFO -  make[4]: Leaving directory '/builds/worker/workspace/build/src/obj-firefox/xpcom/io'\n[task 2018-06-01T11:12:31.743Z] 11:12:31     INFO -  /builds/worker/workspace/build/src/config/recurse.mk:73: recipe for target 'xpcom/io/target' failed\n[task 2018-06-01T11:12:31.744Z] 11:12:31     INFO -  make[3]: *** [xpcom/io/target] Error 2\n[task 2018-06-01T11:12:31.744Z] 11:12:31     INFO -  make[3]: *** Waiting for unfinished jobs....\n\nThis is a regression from https://bugzilla.mozilla.org/show_bug.cgi?id=1464090", "author": "csabou@mozilla.com", "id": 13380072, "time": "2018-06-01T12:21:21Z"}, {"text": "This happens on Win, OSX and Linux x64 all opt. Both on Early as on Late beta.", "author": "csabou@mozilla.com", "id": 13380079, "time": "2018-06-01T12:25:09Z"}, {"text": "Created attachment 8982503\ncrash.patch", "author": "amarchesini@mozilla.com", "id": 13380094, "time": "2018-06-01T12:34:49Z"}, {"text": "Comment on attachment 8982503\ncrash.patch\n\nReview of attachment 8982503:\n-----------------------------------------------------------------\n\n::: xpcom/io/InputStreamLengthHelper.cpp\n@@ -157,5 @@\n>      if (!streamLength && !asyncStreamLength) {\n>        // We cannot calculate the length of an async stream. We must fix the\n>        // caller if this happens.\n>        nsCOMPtr<nsIAsyncInputStream> asyncStream = do_QueryInterface(aStream);\n> -      MOZ_DIAGNOSTIC_ASSERT(!asyncStream);\n\nand what about:\n\n#ifdef DEBUG\nnsCOMPtr<nsIAsyncInputStream> asyncStream = do_QueryInterface(aStream);\t\nMOZ_DIAGNOSTIC_ASSERT(!asyncStream);\n#endif\n\n?\n\nMOZ_CRASH crashes on the Release channel too!", "author": "honzab.moz@firemni.cz", "id": 13385205, "time": "2018-06-04T14:12:27Z"}, {"text": "Created attachment 8983338\ncrash.patch", "author": "amarchesini@mozilla.com", "id": 13387470, "time": "2018-06-05T09:35:31Z"}, {"text": "Pushed by amarchesini@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/633a10eff02a\nFix a debug-only variable use in InputStreamLengthHelper, r=mayhemer", "author": "pulsebot@bots.tld", "id": 13389911, "time": "2018-06-06T02:19:53Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/633a10eff02a", "author": "nbeleuzu@mozilla.com", "id": 13390446, "time": "2018-06-06T09:43:29Z"}, {"text": "No longer appears on recent beta simulations.", "author": "apavel@mozilla.com", "id": 13398546, "time": "2018-06-10T08:56:14Z"}], "id": 1466101, "priority": "P2", "cc": ["amarchesini@mozilla.com", "apavel@mozilla.com", "aryx.bugmail@gmx-topmail.de", "honzab.moz@firemni.cz", "mcastelluccio@mozilla.com", "michal.novotny@gmail.com", "pascalc@gmail.com"], "cf_crash_signature": "", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1464090], "qa_contact": "", "creation_time": "2018-06-01T12:21:21Z", "cf_status_firefox_esr52": "unaffected", "component": "Networking", "assigned_to_detail": {"email": "amarchesini@mozilla.com", "id": 446257, "name": "amarchesini@mozilla.com", "real_name": "Andrea Marchesini [:baku]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "verified", "cf_status_firefox61": "fixed", "cf_status_firefox60": "unaffected", "target_milestone": "mozilla62", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "csabou@mozilla.com", "id": 600699, "name": "csabou@mozilla.com", "real_name": "Cosmin Sabou [:CosminS]"}, "whiteboard": "[necko-triaged]", "mentors": [], "summary": "Bustages @InputStreamLengthHelper.cpp when Gecko 62 merges to Beta on 14-06-2018", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-10T08:59:09Z", "assigned_to": "amarchesini@mozilla.com", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "amarchesini@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(amarchesini@mozilla.com)"}], "who": "csabou@mozilla.com", "when": "2018-06-01T12:25:09Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "aryx.bugmail@gmx-topmail.de"}, {"removed": "", "field_name": "blocks", "added": "1464090"}, {"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "unaffected"}, {"removed": "---", "field_name": "cf_tracking_firefox62", "added": "?"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "affected"}], "who": "aryx.bugmail@gmx-topmail.de", "when": "2018-06-01T12:28:49Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "honzab.moz@firemni.cz"}, {"removed": "needinfo?(amarchesini@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8982503, "added": "review?(honzab.moz@firemni.cz)"}], "who": "amarchesini@mozilla.com", "when": "2018-06-01T12:34:49Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "pascalc@gmail.com"}, {"removed": "?", "field_name": "cf_tracking_firefox62", "added": "+"}], "who": "pascalc@gmail.com", "when": "2018-06-01T16:13:30Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(honzab.moz@firemni.cz)", "attachment_id": 8982503, "added": "review-"}], "who": "honzab.moz@firemni.cz", "when": "2018-06-04T14:12:27Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P2"}, {"removed": "", "field_name": "cc", "added": "michal.novotny@gmail.com"}, {"removed": "", "field_name": "whiteboard", "added": "[necko-triaged]"}], "who": "michal.novotny@gmail.com", "when": "2018-06-04T15:34:34Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8982503, "added": "1"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8983338, "added": "review?(honzab.moz@firemni.cz)"}], "who": "amarchesini@mozilla.com", "when": "2018-06-05T09:35:31Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(honzab.moz@firemni.cz)", "attachment_id": 8983338, "added": "review+"}], "who": "honzab.moz@firemni.cz", "when": "2018-06-05T11:24:22Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-06-06 09:43:29"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "nbeleuzu@mozilla.com", "when": "2018-06-06T09:43:29Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-06-07T15:13:37Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}, {"removed": "", "field_name": "cc", "added": "apavel@mozilla.com"}, {"removed": "fixed", "field_name": "cf_status_firefox62", "added": "verified"}], "who": "apavel@mozilla.com", "when": "2018-06-10T08:56:14Z"}, {"changes": [{"removed": "unaffected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "apavel@mozilla.com", "when": "2018-06-10T08:59:09Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}