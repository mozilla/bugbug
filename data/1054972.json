{"cf_tracking_thunderbird_esr52": "---", "status": "VERIFIED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "alexander.kjeldaas@gmail.com", "mentors_detail": [], "depends_on": [1062612, 1063379, 1063653], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "keywords": ["perf", "regression"], "cc_detail": [{"email": "aaron.train@gmail.com", "id": 299942, "name": "aaron.train@gmail.com", "real_name": "Aaron Train [:aaronmt]"}, {"email": "alexander.kjeldaas@gmail.com", "id": 485595, "name": "alexander.kjeldaas@gmail.com", "real_name": ""}, {"email": "alice0775@yahoo.co.jp", "id": 293623, "name": "alice0775@yahoo.co.jp", "real_name": "Alice0775 White"}, {"email": "andrei.vaida@softvision.ro", "id": 488993, "name": "andrei.vaida@softvision.ro", "real_name": "Andrei Vaida [:avaida] \u2013 please ni? me"}, {"email": "bkerensa@gmail.com", "id": 294742, "name": "bkerensa@gmail.com", "real_name": "Benjamin Kerensa [:bkerensa]"}, {"email": "emanuel.hoogeveen@protonmail.com", "id": 327452, "name": "emanuel.hoogeveen@protonmail.com", "real_name": "Emanuel Hoogeveen [:ehoogeveen]"}, {"email": "gpascutto@mozilla.com", "id": 151147, "name": "gpascutto@mozilla.com", "real_name": "Gian-Carlo Pascutto [:gcp]"}, {"email": "jdemooij@mozilla.com", "id": 375297, "name": "jdemooij@mozilla.com", "real_name": "Jan de Mooij [:jandem]"}, {"email": "lmandel@mozilla.com", "id": 424995, "name": "lmandel@mozilla.com", "real_name": "Lawrence Mandel [:lmandel] (use needinfo)"}, {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}, {"email": "nicolas.b.pierron@mozilla.com", "id": 422187, "name": "nicolas.b.pierron@mozilla.com", "real_name": "Nicolas B. Pierron [:nbp] {backlog: 36}"}, {"email": "sledru@mozilla.com", "id": 495955, "name": "sledru@mozilla.com", "real_name": "Sylvestre Ledru [:sylvestre]"}, {"email": "sunfish@mozilla.com", "id": 468136, "name": "sunfish@mozilla.com", "real_name": "Dan Gohman [:sunfish]"}, {"email": "till@tillschneidereit.net", "id": 292831, "name": "till@tillschneidereit.net", "real_name": "Till Schneidereit [:till]"}], "cf_last_resolved": "2014-09-03T20:55:35Z", "attachments": [{"creator": "sunfish@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "application/javascript", "id": 8476460}, {"creator": "sunfish@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2014-09-01T15:41:46Z", "type_id": 4, "creation_date": "2014-08-23T22:43:33Z", "id": 959220, "setter": "nicolas.b.pierron@mozilla.com"}, {"status": "+", "name": "approval-mozilla-aurora", "modification_date": "2014-09-15T17:25:29Z", "type_id": 720, "creation_date": "2014-09-15T16:11:24Z", "id": 977915, "setter": "sledru@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2014-09-15T17:25:29Z", "type_id": 721, "creation_date": "2014-09-15T16:11:24Z", "id": 977916, "setter": "sledru@mozilla.com"}], "content_type": "text/plain", "id": 8477921}, {"creator": "sunfish@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2014-09-01T15:41:51Z", "type_id": 4, "creation_date": "2014-08-23T22:45:12Z", "id": 959221, "setter": "nicolas.b.pierron@mozilla.com"}, {"status": "+", "name": "approval-mozilla-aurora", "modification_date": "2014-09-15T17:25:43Z", "type_id": 720, "creation_date": "2014-09-15T16:13:57Z", "id": 977924, "setter": "sledru@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2014-09-15T17:25:43Z", "type_id": 721, "creation_date": "2014-09-15T16:13:57Z", "id": 977925, "setter": "sledru@mozilla.com"}], "content_type": "text/plain", "id": 8477922}, {"creator": "sunfish@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2014-09-01T16:03:56Z", "type_id": 4, "creation_date": "2014-08-23T22:48:43Z", "id": 959222, "setter": "nicolas.b.pierron@mozilla.com"}, {"status": "+", "name": "approval-mozilla-aurora", "modification_date": "2014-09-15T17:25:53Z", "type_id": 720, "creation_date": "2014-09-15T16:21:08Z", "id": 977937, "setter": "sledru@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2014-09-15T17:25:53Z", "type_id": 721, "creation_date": "2014-09-15T16:21:08Z", "id": 977938, "setter": "sledru@mozilla.com"}], "content_type": "text/plain", "id": 8477923}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 40, "comments": [{"text": "User Agent: Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:31.0) Gecko/20100101 Firefox/31.0 (Beta/Release)\nBuild ID: 20140715214327\n\nSteps to reproduce:\n\nRun the jsperf tests on a mobile device using the FF and FF Beta versions.\n\n\nActual results:\n\nI see a performance degradation of around 70% for Crypto-JS and around 80-90% for SJCL.\n\n\nExpected results:\n\nThe performance should not degrade significantly.", "author": "alexander.kjeldaas@gmail.com", "id": 9194648, "time": "2014-08-18T11:30:38Z"}, {"text": "I forgot to point to the test:  http://jsperf.com/sha-512/3", "author": "alexander.kjeldaas@gmail.com", "id": 9194651, "time": "2014-08-18T11:31:43Z"}, {"text": "I don't see any regression for Crypto-JS on desktop nor mobile, but I do see a 90% performance regression on SJCL on all platforms, so this isn't mobile specific.", "author": "gpascutto@mozilla.com", "id": 9194686, "time": "2014-08-18T11:46:58Z"}, {"text": "My money is on bug 976446, so testing builds immediately before and after that landed will probably speed up regression hunting.", "author": "till@tillschneidereit.net", "id": 9194714, "time": "2014-08-18T12:01:57Z"}, {"text": "Regression window(m-i)\nGood:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/46d57b8f48ce\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:32.0) Gecko/20100101 Firefox/32.0 ID:20140505141944\nBad:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/695049af7654\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:32.0) Gecko/20100101 Firefox/32.0 ID:20140505145245\nPushlog:\nhttp://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=46d57b8f48ce&tochange=695049af7654\n\nRegressed by: \n695049af7654\tDan Gohman \u2014 Bug 999580 - IonMonkey: Generalize RangeAnalysis truncation to handle other kinds of paths to integer types. r=nbp", "author": "alice0775@yahoo.co.jp", "id": 9194914, "time": "2014-08-18T13:22:07Z"}, {"text": "The bug# should be Bug998580 instead of 999580", "author": "alice0775@yahoo.co.jp", "id": 9194927, "time": "2014-08-18T13:25:01Z"}, {"text": "OP here, I'm testing Crypto-JS again on Android and I get:\n\nFirefox Mobile (31?): 118 +- 4.30\n\nFirefox Mobile Beta (32?): 63.36 +- 38.78%\n\nFor me there is a significant regression also on the Crypto-JS benchmark.  Notice that the uncertainty is much larger on the 32 version, so the JIT might be a bit on and off.", "author": "alexander.kjeldaas@gmail.com", "id": 9195827, "time": "2014-08-18T16:31:33Z"}, {"text": "Changing my mind.  The Crypto-JS results have a long \"warmup period\" on android, especially when my phone is low on battery.  I get anywhere from 30, to 60 in the beginning and then it tops out at 118 on version 31 and 108 on version 32, so there is no major perf regression.  Maybe a small one though.", "author": "alexander.kjeldaas@gmail.com", "id": 9195883, "time": "2014-08-18T16:42:49Z"}, {"text": "You probably want to test performance with a fully charged battery and plugged into the power outlet, otherwise whatever power savings stuff Android and your CPU have will totally throw the results off - which is what that large error margin is trying to tell you.\n\nI tested this and there is no performance difference between 31 and 32 on Crypto-JS, desktop nor mobile.", "author": "gpascutto@mozilla.com", "id": 9195936, "time": "2014-08-18T16:53:37Z"}, {"text": "NI from sunfish based on comment 4.", "author": "jdemooij@mozilla.com", "id": 9196790, "time": "2014-08-18T19:17:23Z"}, {"text": "Created attachment 8476460\nAll the code needed to run the SJCL benchmark in a standalone script", "author": "sunfish@mozilla.com", "id": 9210525, "time": "2014-08-21T04:51:08Z"}, {"text": "I can reproduce the slowdown at the revision isolated in comment 4 with the standalone script in comment 10.", "author": "sunfish@mozilla.com", "id": 9210535, "time": "2014-08-21T04:57:10Z"}, {"text": "I see some effects which appear to be related to bailouts.\n\nIn the fast version, IONFLAGS=bailouts prints just this:\n\n[Bailouts] Took bailout! Snapshot offset: 919\n\nIn the slow version, it prints this:\n\n[Bailouts] Took bailout! Snapshot offset: 919\n[Bailouts] Took bailout! Snapshot offset: 1956\n[Bailouts] Baseline info failure all-sjcl.js:593, inlined into all-sjcl.js:593\n[Bailouts] Took bailout! Snapshot offset: 2033\n[Bailouts] Baseline info failure all-sjcl.js:593, inlined into all-sjcl.js:593\n\nAnnoyingly, running the slow version with --ion-parallel-compile=off produces the same output same the fast version.", "author": "sunfish@mozilla.com", "id": 9219610, "time": "2014-08-22T20:33:54Z"}, {"text": "With this diff to the attached testcase,\n\n--- all-sjcl.js.orig 2014-08-22 14:12:32.739372163 -0700\n+++ all-sjcl.js 2014-08-22 14:58:23.007290901 -0700\n@@ -682,7 +682,7 @@\n       t1h += chh + ((t1l >>> 0) < (chl >>> 0) ? 1 : 0);\n       t1l += krl;\n       t1h += krh + ((t1l >>> 0) < (krl >>> 0) ? 1 : 0);\n-      t1l += wrl;\n+      t1l = t1l + wrl|0;\n       t1h += wrh + ((t1l >>> 0) < (wrl >>> 0) ? 1 : 0);\n \n       // t2 = sigma0 + maj\n\nit goes fast.\n\nIt appears that the problem here is that we're speculating more of the types to be int32, which is generally a good thing for code like this, but we're still using bailout checks, and they're needlessly triggering. In the above diff, after the add, t1l temporarily has a value which is beyond the int32 range, but it is truncated at every use (sometimes indirectly), so it shouldn't need a bailout check.\n\nIt looks like there are two things in the way here. One is phi nodes. It's probably possible to propagate truncation through phi nodes, though I'll have to think about it. The other is resume points. replaceAllUsesWith is setting UseRemoved on the original instruction's operands, which makes range analysis be conservative about resume points. I think we can do something better there. I have a mock-up patch simulating both of these changes in my tree, and with this patch the unmodified benchmark goes fast, which is encouraging.", "author": "sunfish@mozilla.com", "id": 9220623, "time": "2014-08-23T01:21:47Z"}, {"text": "Created attachment 8477921\ntruncate-phis.patch\n\nHere are the patches.\n\nThis first patch implements the truncation analysis for phis. In the SJCL code base, some of the important adds are used by phis that are then truncated. This patch allows the truncation to flow through phis to allow the adds to be truncated.", "author": "sunfish@mozilla.com", "id": 9221786, "time": "2014-08-23T22:43:33Z"}, {"text": "Created attachment 8477922\ngvn-more-misc.patch\n\nThis patch has some minor cleanups split out from the following patch.", "author": "sunfish@mozilla.com", "id": 9221787, "time": "2014-08-23T22:45:12Z"}, {"text": "Created attachment 8477923\ngvn-dont-set-use-removed.patch\n\nThis is the patch reducing the usage of the UseRemoved flag.\n\nWith these three patches applied, the attached SJCL benchmark goes fast.\n\nWhile looking at this benchmark, I also noticed that there were still some floating-point operations in what otherwise should have been purely integer code in the hot loop even after this patch series. I filed bug 1057779 to track this.", "author": "sunfish@mozilla.com", "id": 9221793, "time": "2014-08-23T22:48:43Z"}, {"text": "Marking this as won't fix for 32 as it's too late to take a fix for a small perf regression (comment 7).", "author": "lmandel@mozilla.com", "id": 9230914, "time": "2014-08-26T16:44:11Z"}, {"text": "To clarify, comment 7 is about Crypto-JS. The main regression here is on SJCL (comment 2).", "author": "sunfish@mozilla.com", "id": 9232946, "time": "2014-08-26T21:52:48Z"}, {"text": "It's not a small regression (90%!) but we're already at the RC stage and the code hasn't even been in Nightly yet, so unfortunately this got reported a little too late to still be fixable for 32.", "author": "gpascutto@mozilla.com", "id": 9235129, "time": "2014-08-27T09:20:48Z"}, {"text": "IIUC this regressed because of a correctness fix (bug 998580), and the improvements needed to get the desired performance legitimately (the patches here) are fairly involved. I doubt this would land on beta even if we were early in the cycle.", "author": "emanuel.hoogeveen@protonmail.com", "id": 9236065, "time": "2014-08-27T13:29:48Z"}, {"text": "Comment on attachment 8477921\ntruncate-phis.patch\n\nReview of attachment 8477921:\n-----------------------------------------------------------------\n\nNice :)\n\n::: js/src/jit/RangeAnalysis.cpp\n@@ +2579,5 @@\n> +            if (kind == MDefinition::TruncateAfterBailouts)\n> +                op = MToInt32::New(alloc, truncated->getOperand(i));\n> +            else\n> +                op = MTruncateToInt32::New(alloc, truncated->getOperand(i));\n> +            if (truncated->isPhi()) {\n\nstyle-nit: add a new line above.", "author": "nicolas.b.pierron@mozilla.com", "id": 9255003, "time": "2014-09-01T15:41:46Z"}, {"text": "Comment on attachment 8477922\ngvn-more-misc.patch\n\nReview of attachment 8477922:\n-----------------------------------------------------------------\n\n::: js/src/jit/ValueNumbering.cpp\n@@ +501,5 @@\n> +                mozilla::DebugOnly<bool> r = deleteDef(def);\n> +                MOZ_ASSERT(r, \"deleteDef shouldn't have tried to add anything to the worklist, \"\n> +                              \"so it shouldn't have failed\");\n> +                MOZ_ASSERT(deadDefs_.empty(),\n> +                           \"deleteDef shouldn't have added anything to the worklist\");\n\nI think the following comment makes it easier to understand why these assertions hold:\n\n  deleteDef should not add anything to the deadDefs, as the redundant operation should have the same input operands.", "author": "nicolas.b.pierron@mozilla.com", "id": 9255004, "time": "2014-09-01T15:41:51Z"}, {"text": "Comment on attachment 8477923\ngvn-dont-set-use-removed.patch\n\nReview of attachment 8477923:\n-----------------------------------------------------------------\n\n::: js/src/jit/MIR.cpp\n@@ +467,5 @@\n>  void\n>  MDefinition::replaceAllUsesWith(MDefinition *dom)\n>  {\n> +    for (size_t i = 0, e = numOperands(); i < e; i++)\n> +        getOperand(i)->setUseRemovedUnchecked();\n\nThe flag setUseRemovedUnchecked is used to prevent optimizing code which might have been captured under a certain form, but due to the removal of one of the use cases, this form is no longer needed and could be optimized.\n\nOne of the example of such optimization is Range Analysis, where the removal of a path which does not expect a truncation can be removed, and a truncation can bubble up to an MDefinition which is captured by a ResumePoint.\n\nThe only case where we can do this kind of optimization is if the removed definition had no additional constraints compared to the remaining use cases.\n\n::: js/src/jit/MIR.h\n@@ +667,5 @@\n>      }\n>      void replaceAllUsesWith(MDefinition *dom);\n>  \n> +    // Like replaceAllUsesWith, but doesn't set UseRemoved on |this|'s operands.\n> +    void justReplaceAllUsesWith(MDefinition *dom);\n\n\"just\" reflects the lack of additional constraints added by |this|.  Maybe a better name could be something which express the fact that |this| is redundant or accept anything as operands.", "author": "nicolas.b.pierron@mozilla.com", "id": 9255042, "time": "2014-09-01T16:03:56Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/61f05ae95aa4\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/afac7b1435bc\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/0cf223c85b3b\n\nI left the name justReplaceAllUsesWith for now. It's actually not just about |this| being redundant or accepting anything as operands. In GVN's case, GVN is setting UseRemoved manually when it needs to, so it doesn't need or want replaceAllUsesWith to do it. I'm open to renaming it though, if we can think of a better name.\n\nIn the long term, I'd like to get replaceAllUsesWith out of the UseRemoved business altogether, since it doesn't have enough information to really get it right. For now, justReplaceAllUsesWith marks those places which are already ok with this.", "author": "sunfish@mozilla.com", "id": 9260464, "time": "2014-09-02T20:11:56Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/61f05ae95aa4\nhttps://hg.mozilla.org/mozilla-central/rev/afac7b1435bc\nhttps://hg.mozilla.org/mozilla-central/rev/0cf223c85b3b", "author": "ryanvm@gmail.com", "id": 9266857, "time": "2014-09-03T20:55:35Z"}, {"text": "*** Bug 1061428 has been marked as a duplicate of this bug. ***", "author": "alice0775@yahoo.co.jp", "id": 9268465, "time": "2014-09-04T05:28:55Z"}, {"text": "I'm fairly sure the flags change was wrong here.", "author": "gpascutto@mozilla.com", "id": 9268625, "time": "2014-09-04T06:48:48Z"}, {"text": "Dan, 33 (beta) and 34 (aurora) are affected, if you don't think it is too risky, could you fill an uplift request? Thanks", "author": "sledru@mozilla.com", "id": 9268632, "time": "2014-09-04T06:53:24Z"}, {"text": "Gian-Carlo, yes, I made a mistake, sorry :)", "author": "sledru@mozilla.com", "id": 9268633, "time": "2014-09-04T06:54:16Z"}, {"text": "There was a bug in one of my patches here which is bug 1062612. The fix is simple, and I just checked it into mozilla-inbound. Once that's landed on mozilla-central, I'll nominate the patches for uplift.", "author": "sunfish@mozilla.com", "id": 9271316, "time": "2014-09-04T18:05:45Z"}, {"text": "Also waiting for resolution on bug 1063653 before proceeding.", "author": "sunfish@mozilla.com", "id": 9294934, "time": "2014-09-10T18:47:31Z"}, {"text": "Dan, seems ok now. Could you fill the uplift request this (Monday) morning to make sure the fix arrive in beta4?\nthanks", "author": "sledru@mozilla.com", "id": 9309970, "time": "2014-09-15T08:49:54Z"}, {"text": "Comment on attachment 8477921\ntruncate-phis.patch\n\nApproval Request Comment\n[Feature/regressing bug #]:\n\nbug 998580\n\n[User impact if declined]:\n\n90% slowdown on SJCL SHA-512\n\n[Describe test coverage new/current, TBPL]:\n\nTBPL on mozilla-central\n\n[Risks and why]: \n\nThe patch itself is fairly straightforward, but though it did cause bug 1062612, which while trivial to fix, was surprising for having passed through testing.\n\n[String/UUID change made/needed]:\n\nNone.", "author": "sunfish@mozilla.com", "id": 9311660, "time": "2014-09-15T16:11:24Z"}, {"text": "Comment on attachment 8477922\ngvn-more-misc.patch\n\nApproval Request Comment\n[Feature/regressing bug #]:\n\nbug 998580\n\n[User impact if declined]:\n\n90% slowdown on SJCL SHA-512\n\n[Describe test coverage new/current, TBPL]:\n\nTBPL on mozilla-central\n\n[Risks and why]: \n\nThis patch is just a cleanup in preparation for the next patch. It is low-risk.\n\n[String/UUID change made/needed]:\n\nNone.", "author": "sunfish@mozilla.com", "id": 9311680, "time": "2014-09-15T16:13:57Z"}, {"text": "Comment on attachment 8477923\ngvn-dont-set-use-removed.patch\n\nApproval Request Comment\n[Feature/regressing bug #]:\n\nbug 998580\n\n[User impact if declined]:\n\n90% slowdown on SJCL SHA-512\n\n[Describe test coverage new/current, TBPL]:\n\nTBPL on mozilla-central\n\n[Risks and why]: \n\nThis patch interacts with some complex code, and did participate in bug 1063653. That said, the patch itself is fairly straightforward.\n\n[String/UUID change made/needed]:\n\nNone.", "author": "sunfish@mozilla.com", "id": 9311738, "time": "2014-09-15T16:21:08Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-aurora/rev/d7245149a156\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/2387457e8c0b\nhttps://hg.mozilla.org/releases/mozilla-aurora/rev/22ac2e65664b\n\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/94dc71a06159\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/c0d46e44a6cb\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/316374007734", "author": "ryanvm@gmail.com", "id": 9312697, "time": "2014-09-15T19:17:19Z"}, {"text": "Testing performed on Windows 7 64-bit (Intel Core 2 Duo 2.93Ghz) by running the benchmark [1] on:\n * Nightly 35.0a1 (2014-09-25) - sjcl: 847, \u00b14.97%, 62% slower\n * Aurora 34.0a2 (2014-09-25) - sjcl: 903, \u00b15.96%, 59% slower\n * Beta 33.0b7 - sjcl: 742, \u00b14.96%, 66% slower\n\nI believe that the lower values are caused by my hardware/platform, as the benchmark displayed a higher ops/sec for an Ubuntu x86 machine with AMD FX(tm)-8320 Eight-Core Processor: e.g. Nightly 35 - 1,062,  \u00b16.26%, 57% slower.\n\nMarking this fix as verified. Dan, please let me know if you think otherwise regarding this data.\n\n\n[1] http://jsperf.com/sha-512/3", "author": "andrei.vaida@softvision.ro", "id": 9365673, "time": "2014-09-26T11:25:46Z"}, {"text": "I am not sure we can consider that a going from 90 => 60 % slower can qualify this bug as closed.", "author": "sledru@mozilla.com", "id": 9366065, "time": "2014-09-26T13:34:50Z"}, {"text": "(In reply to Sylvestre Ledru [:sylvestre] from comment #38)\n> I am not sure we can consider that a going from 90 => 60 % slower can\n> qualify this bug as closed.\n\nI get numbers that warrant closing as fixed (all numbers with current Nightly versions):\n\nOn my 1st-gen 2.7Ghz 15\" rMBP, I get an sjcl score of 2006 (with TweetNaCl.js at 4301).\n\nOn my Galaxy S4 I get an sjcl score of 161 (with TweetNaCl.js at 201).\n\nThese scores are (very roughly) on par with Chrome's on the same machines.\n\nI think the reason for the numbers is that they're done on a different machine. Ideally, a comparison would be made on the same machine between current builds and old builds without the fixes.", "author": "till@tillschneidereit.net", "id": 9366204, "time": "2014-09-26T14:03:11Z"}], "id": 1054972, "priority": "--", "cc": ["aaron.train@gmail.com", "alexander.kjeldaas@gmail.com", "alice0775@yahoo.co.jp", "andrei.vaida@softvision.ro", "bkerensa@gmail.com", "emanuel.hoogeveen@protonmail.com", "gpascutto@mozilla.com", "jdemooij@mozilla.com", "lmandel@mozilla.com", "nfroyd@mozilla.com", "nicolas.b.pierron@mozilla.com", "sledru@mozilla.com", "sunfish@mozilla.com", "till@tillschneidereit.net"], "cf_crash_signature": "", "version": "32 Branch", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [998580], "qa_contact": "", "creation_time": "2014-08-18T11:30:38Z", "cf_status_firefox_esr52": "---", "component": "JavaScript Engine", "assigned_to_detail": {"email": "sunfish@mozilla.com", "id": 468136, "name": "sunfish@mozilla.com", "real_name": "Dan Gohman [:sunfish]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "mozilla35", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "alexander.kjeldaas@gmail.com", "id": 485595, "name": "alexander.kjeldaas@gmail.com", "real_name": ""}, "whiteboard": "", "mentors": [], "summary": "90% performance regression on The Stanford Javascript Crypto Library/SHA-512", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [{"status": "+", "name": "qe-verify", "modification_date": "2014-09-16T08:27:06Z", "type_id": 864, "creation_date": "2014-09-16T08:27:06Z", "id": 978709, "setter": "andrei.vaida@softvision.ro"}], "last_change_time": "2014-09-26T14:03:11Z", "assigned_to": "sunfish@mozilla.com", "is_open": false, "history": [{"changes": [{"removed": "x86_64", "field_name": "platform", "added": "ARM"}, {"removed": "Linux", "field_name": "op_sys", "added": "Android"}], "who": "alexander.kjeldaas@gmail.com", "when": "2014-08-18T11:33:00Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "gpascutto@mozilla.com"}, {"removed": "General", "field_name": "component", "added": "JavaScript Engine"}, {"removed": "ARM", "field_name": "platform", "added": "All"}, {"removed": "Firefox 32", "field_name": "version", "added": "32 Branch"}, {"removed": "Firefox for Android", "field_name": "product", "added": "Core"}, {"removed": "Crypto-JS and SJCL performance regressions on SHA-512 implementations", "field_name": "summary", "added": "90% performance regression on The Stanford Javascript Crypto Library/SHA-512"}, {"removed": "Android", "field_name": "op_sys", "added": "All"}], "who": "gpascutto@mozilla.com", "when": "2014-08-18T11:46:58Z"}, {"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "NEW"}, {"removed": "0", "field_name": "is_confirmed", "added": "1"}], "who": "gpascutto@mozilla.com", "when": "2014-08-18T11:47:30Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression, regressionwindow-wanted"}], "who": "gpascutto@mozilla.com", "when": "2014-08-18T11:47:44Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "till@tillschneidereit.net"}], "who": "till@tillschneidereit.net", "when": "2014-08-18T12:01:57Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "nfroyd@mozilla.com"}], "who": "nfroyd@mozilla.com", "when": "2014-08-18T12:49:30Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jdemooij@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jdemooij@mozilla.com)"}], "who": "jdemooij@mozilla.com", "when": "2014-08-18T13:14:25Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "alice0775@yahoo.co.jp"}, {"removed": "", "field_name": "blocks", "added": "999580"}], "who": "alice0775@yahoo.co.jp", "when": "2014-08-18T13:22:07Z"}, {"changes": [{"removed": "999580", "field_name": "blocks", "added": "998580"}], "who": "alice0775@yahoo.co.jp", "when": "2014-08-18T13:25:01Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "nicolas.b.pierron@mozilla.com, sunfish@mozilla.com"}], "who": "gpascutto@mozilla.com", "when": "2014-08-18T13:27:09Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox31", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox32", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox33", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox34", "added": "affected"}], "who": "gpascutto@mozilla.com", "when": "2014-08-18T13:27:45Z"}, {"changes": [{"removed": "regressionwindow-wanted", "field_name": "keywords", "added": ""}], "who": "gpascutto@mozilla.com", "when": "2014-08-18T13:28:01Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "perf"}, {"removed": "", "field_name": "cc", "added": "aaron.train@gmail.com"}], "who": "aaron.train@gmail.com", "when": "2014-08-18T15:03:08Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "alexander.kjeldaas@gmail.com"}], "who": "alexander.kjeldaas@gmail.com", "when": "2014-08-18T16:21:52Z"}, {"changes": [{"removed": "needinfo?(jdemooij@mozilla.com)", "field_name": "flagtypes.name", "added": "needinfo?(sunfish@mozilla.com)"}], "who": "jdemooij@mozilla.com", "when": "2014-08-18T19:17:23Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "sunfish@mozilla.com"}, {"removed": "needinfo?(sunfish@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "sunfish@mozilla.com", "when": "2014-08-21T04:57:10Z"}, {"changes": [{"removed": "---", "field_name": "cf_tracking_firefox32", "added": "?"}, {"removed": "---", "field_name": "cf_tracking_firefox33", "added": "?"}, {"removed": "---", "field_name": "cf_tracking_firefox34", "added": "?"}], "who": "bzbarsky@mit.edu", "when": "2014-08-23T02:48:57Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bkerensa@gmail.com"}, {"removed": "?", "field_name": "cf_tracking_firefox32", "added": "+"}, {"removed": "?", "field_name": "cf_tracking_firefox33", "added": "+"}, {"removed": "?", "field_name": "cf_tracking_firefox34", "added": "+"}], "who": "bkerensa@gmail.com", "when": "2014-08-23T09:02:04Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8477921, "added": "review?(nicolas.b.pierron@mozilla.com)"}], "who": "sunfish@mozilla.com", "when": "2014-08-23T22:43:33Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8477922, "added": "review?(nicolas.b.pierron@mozilla.com)"}], "who": "sunfish@mozilla.com", "when": "2014-08-23T22:45:12Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8477923, "added": "review?(nicolas.b.pierron@mozilla.com)"}], "who": "sunfish@mozilla.com", "when": "2014-08-23T22:48:43Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "lmandel@mozilla.com"}, {"removed": "affected", "field_name": "cf_status_firefox32", "added": "wontfix"}], "who": "lmandel@mozilla.com", "when": "2014-08-26T16:44:11Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "emanuel.hoogeveen@gmail.com"}], "who": "emanuel.hoogeveen@protonmail.com", "when": "2014-08-27T13:29:48Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nicolas.b.pierron@mozilla.com)", "attachment_id": 8477921, "added": "review+"}], "who": "nicolas.b.pierron@mozilla.com", "when": "2014-09-01T15:41:46Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nicolas.b.pierron@mozilla.com)", "attachment_id": 8477922, "added": "review+"}], "who": "nicolas.b.pierron@mozilla.com", "when": "2014-09-01T15:41:51Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nicolas.b.pierron@mozilla.com)", "attachment_id": 8477923, "added": "review+"}], "who": "nicolas.b.pierron@mozilla.com", "when": "2014-09-01T16:03:56Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla35"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2014-09-03 13:55:35"}], "who": "ryanvm@gmail.com", "when": "2014-09-03T20:55:35Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1062612"}], "who": "nth10sd@gmail.com", "when": "2014-09-03T23:27:30Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "sledru@mozilla.com"}, {"removed": "affected", "field_name": "cf_status_firefox34", "added": "fixed"}], "who": "sledru@mozilla.com", "when": "2014-09-04T06:46:55Z"}, {"changes": [{"removed": "fixed", "field_name": "cf_status_firefox34", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox35", "added": "fixed"}], "who": "gpascutto@mozilla.com", "when": "2014-09-04T06:48:48Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(sunfish@mozilla.com)"}], "who": "sledru@mozilla.com", "when": "2014-09-04T06:53:24Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1063064"}], "who": "alice0775@yahoo.co.jp", "when": "2014-09-04T21:39:46Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1063379"}], "who": "alice0775@yahoo.co.jp", "when": "2014-09-05T07:02:54Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1063653"}], "who": "nth10sd@gmail.com", "when": "2014-09-05T18:01:30Z"}, {"changes": [{"removed": "1063064", "field_name": "depends_on", "added": ""}], "who": "Virtual@teknik.io", "when": "2014-09-12T20:55:01Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8477921, "added": "approval-mozilla-aurora?, approval-mozilla-beta?"}], "who": "sunfish@mozilla.com", "when": "2014-09-15T16:11:24Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8477922, "added": "approval-mozilla-aurora?, approval-mozilla-beta?"}], "who": "sunfish@mozilla.com", "when": "2014-09-15T16:13:57Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8477923, "added": "approval-mozilla-aurora?, approval-mozilla-beta?"}, {"removed": "needinfo?(sunfish@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "sunfish@mozilla.com", "when": "2014-09-15T16:21:08Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?, approval-mozilla-beta?", "attachment_id": 8477921, "added": "approval-mozilla-aurora+, approval-mozilla-beta+"}], "who": "sledru@mozilla.com", "when": "2014-09-15T17:25:29Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?, approval-mozilla-beta?", "attachment_id": 8477922, "added": "approval-mozilla-aurora+, approval-mozilla-beta+"}], "who": "sledru@mozilla.com", "when": "2014-09-15T17:25:43Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?, approval-mozilla-beta?", "attachment_id": 8477923, "added": "approval-mozilla-aurora+, approval-mozilla-beta+"}], "who": "sledru@mozilla.com", "when": "2014-09-15T17:25:53Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox33", "added": "fixed"}, {"removed": "affected", "field_name": "cf_status_firefox34", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2014-09-15T19:17:19Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "andrei.vaida@softvision.ro"}, {"removed": "", "field_name": "flagtypes.name", "added": "qe-verify+"}], "who": "andrei.vaida@softvision.ro", "when": "2014-09-16T08:27:06Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}, {"removed": "fixed", "field_name": "cf_status_firefox33", "added": "verified"}, {"removed": "fixed", "field_name": "cf_status_firefox34", "added": "verified"}, {"removed": "fixed", "field_name": "cf_status_firefox35", "added": "verified"}], "who": "andrei.vaida@softvision.ro", "when": "2014-09-26T11:25:46Z"}], "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}