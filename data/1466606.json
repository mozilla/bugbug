{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "mats@mozilla.com", "mentors_detail": [], "depends_on": [1467105, 1467013], "cf_status_firefox_esr60": "fixed", "cf_user_story": "", "cf_backlog": "---", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["crash", "regression"], "cc_detail": [{"email": "achronop@gmail.com", "id": 441856, "name": "achronop@gmail.com", "real_name": "Alex Chronopoulos [:achronop]"}, {"email": "bvandyk@mozilla.com", "id": 560379, "name": "bvandyk@mozilla.com", "real_name": "Bryce Van Dyk (:bryce)"}, {"email": "cdenizet@mozilla.com", "id": 560431, "name": "cdenizet@mozilla.com", "real_name": "Calixte Denizet (:calixte)"}, {"email": "cpeterson@mozilla.com", "id": 430528, "name": "cpeterson@mozilla.com", "real_name": "Chris Peterson [:cpeterson]"}, {"email": "jyavenard@mozilla.com", "id": 512198, "name": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "nbeleuzu@mozilla.com", "id": 600627, "name": "nbeleuzu@mozilla.com", "real_name": "Narcis Beleuzu [:NarcisB]"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}], "cf_last_resolved": "2018-06-09T12:11:11Z", "attachments": [{"creator": "jyavenard@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-06-07T12:25:25Z", "type_id": 4, "creation_date": "2018-06-05T11:54:12Z", "id": 1765891, "setter": "bvandyk@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2018-06-12T18:33:10Z", "type_id": 721, "creation_date": "2018-06-11T21:10:42Z", "id": 1768253, "setter": "ryanvm@gmail.com"}, {"status": "+", "name": "approval-mozilla-esr60", "modification_date": "2018-06-12T18:33:10Z", "type_id": 929, "creation_date": "2018-06-11T21:10:42Z", "id": 1768254, "setter": "ryanvm@gmail.com"}], "content_type": "text/x-review-board-request", "id": 8983368}, {"creator": "jyavenard@mozilla.com", "is_obsolete": 1, "is_patch": 0, "flags": [], "content_type": "text/x-review-board-request", "id": 8983920}, {"creator": "jyavenard@mozilla.com", "is_obsolete": 1, "is_patch": 0, "flags": [], "content_type": "text/x-review-board-request", "id": 8983921}, {"creator": "jyavenard@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-06-07T12:27:23Z", "type_id": 4, "creation_date": "2018-06-06T22:48:47Z", "id": 1766833, "setter": "bvandyk@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8983971}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 38, "comments": [{"text": "This bug was filed from the Socorro interface and is\nreport bp-709aaefc-f24f-499b-9765-cbcfd0180603.\n=============================================================\n\nMOZ_CRASH Reason:  MOZ_RELEASE_ASSERT(mIsSome)\n\n\nTop 10 frames of crashing thread:\n\n0 xul.dll mozilla::Maybe<JSExnType>::ref mfbt/Maybe.h:565\n1 xul.dll mozilla::TrackBuffersManager::GetNextRandomAccessPoint dom/media/mediasource/TrackBuffersManager.cpp:2646\n2 xul.dll mozilla::MediaSourceTrackDemuxer::DoGetSamples dom/media/mediasource/MediaSourceDemuxer.cpp:526\n3 xul.dll mozilla::detail::ProxyRunnable<mozilla::MozPromise<RefPtr<mozilla::MediaTrackDemuxer::SamplesHolder>, mozilla::MediaResult, 1>, RefPtr<mozilla::MozPromise<RefPtr<mozilla::MediaTrackDemuxer::SamplesHolder>, mozilla::MediaResult, 1> >  xpcom/threads/MozPromise.h:1392\n4 xul.dll mozilla::TaskQueue::Runner::Run xpcom/threads/TaskQueue.cpp:243\n5 xul.dll nsThreadPool::Run xpcom/threads/nsThreadPool.cpp:229\n6 xul.dll nsThread::ProcessNextEvent xpcom/threads/nsThread.cpp:1088\n7 xul.dll NS_ProcessNextEvent xpcom/threads/nsThreadUtils.cpp:519\n8 xul.dll mozilla::ipc::MessagePumpForNonMainThreads::Run ipc/glue/MessagePump.cpp:334\n9 xul.dll MessageLoop::RunHandler ipc/chromium/src/base/message_loop.cc:319\n\n=============================================================", "author": "mats@mozilla.com", "id": 13385720, "time": "2018-06-04T16:53:09Z"}, {"text": "likely happening following bug 1410186.\n\nweird crash...", "author": "jyavenard@mozilla.com", "id": 13385857, "time": "2018-06-04T17:40:52Z"}, {"text": "While this diagnostic assert crash only affects Firefox Nightly 62, the underlying bug (unwrapping an empty Maybe mNextGetSampleIndex) probably affects earlier versions. The code was added in Firefox 41 by MediaSourceDemuxer bug 1174981.", "author": "cpeterson@mozilla.com", "id": 13386247, "time": "2018-06-04T20:03:38Z"}, {"text": "Created attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nTemporary diagnostic code to help determine what the problem might be.\n\nReview commit: https://reviewboard.mozilla.org/r/249278/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/249278/", "author": "jyavenard@mozilla.com", "id": 13387716, "time": "2018-06-05T11:54:12Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nhttps://reviewboard.mozilla.org/r/249278/#review255436", "author": "bvandyk@mozilla.com", "id": 13387752, "time": "2018-06-05T12:17:15Z"}, {"text": "Pushed by jyavenard@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/4c1f90791492\nAdd diagnostic code. r=bryce", "author": "pulsebot@bots.tld", "id": 13389794, "time": "2018-06-06T00:45:17Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/4c1f90791492", "author": "nbeleuzu@mozilla.com", "id": 13390424, "time": "2018-06-06T09:39:58Z"}, {"text": "I believe the following is happening (from clues in bug 1467013).\n\nMediaSourceTrackDemuxer::Seek is called, this seek to where we want to seek, demux the next frame to get the seek time. That sample is stored in MediaSourceTrackDemuxer::mNextSample and seek completes.\n\nNow new data is added to the source buffer, data that overrides existing content\nhere: https://searchfox.org/mozilla-central/source/dom/media/mediasource/TrackBuffersManager.cpp#1931\n\nor sourcebuffer.remove() was called:\nhttps://searchfox.org/mozilla-central/source/dom/media/mediasource/TrackBuffersManager.cpp#2049\n\nwhen we attempt to get the next frame, and the last keyframe was prior the seek, then\nhttps://searchfox.org/mozilla-central/source/dom/media/mediasource/MediaSourceDemuxer.cpp#507\n\nwe then attempt to calculate where the next keyframe is, but mNextGetSampleIndex has been reset in between. causing the assert.\n\nWhen we call GetNextRandomAccessPoint, we must recalculate the next sample index if it's not set, just like we do with TrackBuffersManager::SkipToNextKeyframe", "author": "jyavenard@mozilla.com", "id": 13390450, "time": "2018-06-06T09:43:44Z"}, {"text": "Bug 1467105 proves the above is what's happening.", "author": "jyavenard@mozilla.com", "id": 13390844, "time": "2018-06-06T12:58:45Z"}, {"text": "I wonder if this is the real reason behind bug 1247189", "author": "jyavenard@mozilla.com", "id": 13390932, "time": "2018-06-06T13:36:20Z"}, {"text": "There are 4 crashes with signature \"mozilla::TrackBuffersManager::AssertHasNextSampleIndex\".\nThe moz_crash_reason is \"MOZ_RELEASE_ASSERT(trackData.mNextGetSampleIndex.isSome()) (next sample index must be set)\".", "author": "cdenizet@mozilla.com", "id": 13391159, "time": "2018-06-06T14:40:42Z"}, {"text": "*** Bug 1467130 has been marked as a duplicate of this bug. ***", "author": "jyavenard@mozilla.com", "id": 13391234, "time": "2018-06-06T15:00:36Z"}, {"text": "Created attachment 8983920\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nThe assumption that when calling GetNextRandomAccessPoint the next GetSample index would always be known was incorrect. It assumed that the call to GetNextRandomAccessPoint would always be preceded by a call to GetSample.\nThis is not always how the MediaSourceDemuxer called it.\n\nReview commit: https://reviewboard.mozilla.org/r/249768/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/249768/", "author": "jyavenard@mozilla.com", "id": 13391978, "time": "2018-06-06T19:52:46Z"}, {"text": "Created attachment 8983921\nBug 1466606 - P2. Re-use code to determine NextGetSample index.\n\nPrevious commit added SetNextGetSampleIndexIfNeeded, let's re-use it for GetSample.\nWe continue to have an exception code as it caters for the most common code path, which is we retrieve one sample after the other.\n\nReview commit: https://reviewboard.mozilla.org/r/249770/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/249770/", "author": "jyavenard@mozilla.com", "id": 13391979, "time": "2018-06-06T19:52:46Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/249278/diff/1-2/", "author": "jyavenard@mozilla.com", "id": 13391980, "time": "2018-06-06T19:52:46Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/249278/diff/2-3/", "author": "jyavenard@mozilla.com", "id": 13392283, "time": "2018-06-06T21:52:00Z"}, {"text": "Comment on attachment 8983920\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/249768/diff/1-2/", "author": "jyavenard@mozilla.com", "id": 13392284, "time": "2018-06-06T21:52:00Z"}, {"text": "Comment on attachment 8983921\nBug 1466606 - P2. Re-use code to determine NextGetSample index.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/249770/diff/1-2/", "author": "jyavenard@mozilla.com", "id": 13392285, "time": "2018-06-06T21:52:00Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/249278/diff/3-4/", "author": "jyavenard@mozilla.com", "id": 13392387, "time": "2018-06-06T22:45:23Z"}, {"text": "Pushed by jyavenard@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/033f5f2b2582\nRevert \"Add diagnostic code.\". r=bryce", "author": "pulsebot@bots.tld", "id": 13392388, "time": "2018-06-06T22:47:01Z"}, {"text": "Created attachment 8983971\nBug 1466606 - P2. Re-use code to determine NextGetSample index.\n\nPrevious commit added SetNextGetSampleIndexIfNeeded, let's re-use it for GetSample.\nWe continue to have an exception code as it caters for the most common code path, which is we retrieve one sample after the other.\n\nReview commit: https://reviewboard.mozilla.org/r/249824/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/249824/", "author": "jyavenard@mozilla.com", "id": 13392391, "time": "2018-06-06T22:48:47Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/249278/diff/4-5/", "author": "jyavenard@mozilla.com", "id": 13392392, "time": "2018-06-06T22:48:47Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nMozreview is getting confused thinking it's always the same 1st patch...", "author": "jyavenard@mozilla.com", "id": 13392393, "time": "2018-06-06T22:49:56Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/033f5f2b2582", "author": "ccoroiu@mozilla.com", "id": 13393171, "time": "2018-06-07T09:53:03Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nhttps://reviewboard.mozilla.org/r/249278/#review256172\n\n::: dom/media/mediasource/TrackBuffersManager.h:167\n(Diff revision 5)\n>                                const media::TimeUnit& aFuzz) const;\n> +\n> +  // Will set the next GetSample index if needed. This information is determined\n> +  // through the value of mNextSampleTimecode. Return false if the index\n> +  // couldn't be determined or if there's nothing more that could be demuxed.\n> +  // This occurs of either the track buffer doesn't contain the required\n\nof -> if?", "author": "bvandyk@mozilla.com", "id": 13393402, "time": "2018-06-07T12:25:25Z"}, {"text": "Comment on attachment 8983971\nBug 1466606 - P2. Re-use code to determine NextGetSample index.\n\nhttps://reviewboard.mozilla.org/r/249824/#review256176\n\n::: dom/media/mediasource/TrackBuffersManager.cpp:2529\n(Diff revision 1)\n>      aResult = MediaResult(NS_ERROR_OUT_OF_MEMORY, __func__);\n>      return nullptr;\n>    }\n>  \n>    // Find the previous keyframe to calculate the evictable amount.\n> -  int32_t i = pos;\n> +  int32_t i = trackData.mNextGetSampleIndex.ref();\n\nCan we use a uint32_t here?", "author": "bvandyk@mozilla.com", "id": 13393409, "time": "2018-06-07T12:27:23Z"}, {"text": "Comment on attachment 8983971\nBug 1466606 - P2. Re-use code to determine NextGetSample index.\n\nhttps://reviewboard.mozilla.org/r/249824/#review256176\n\n> Can we use a uint32_t here?\n\nwe could... I think the loop earlier relied on never going past the first element of the array. But we can strongly assert that the first frame in the array must be a keyframe.", "author": "jyavenard@mozilla.com", "id": 13393480, "time": "2018-06-07T12:53:15Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/249278/diff/5-6/", "author": "jyavenard@mozilla.com", "id": 13396602, "time": "2018-06-08T16:34:28Z"}, {"text": "Comment on attachment 8983971\nBug 1466606 - P2. Re-use code to determine NextGetSample index.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/249824/diff/1-2/", "author": "jyavenard@mozilla.com", "id": 13396603, "time": "2018-06-08T16:34:28Z"}, {"text": "Pushed by jyavenard@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/1bdee3c3ca7c\nP1. Calculate the current GetSample index when needed. r=bryce\nhttps://hg.mozilla.org/integration/autoland/rev/af8ba448f7d3\nP2. Re-use code to determine NextGetSample index. r=bryce", "author": "pulsebot@bots.tld", "id": 13397026, "time": "2018-06-08T19:21:31Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/1bdee3c3ca7c\nhttps://hg.mozilla.org/mozilla-central/rev/af8ba448f7d3", "author": "btara@mozilla.com", "id": 13397882, "time": "2018-06-09T12:11:11Z"}, {"text": "Is this something that can ride the trains or should it be nominated for backport?", "author": "ryanvm@gmail.com", "id": 13397928, "time": "2018-06-09T13:30:11Z"}, {"text": "I will ask to uplift the first patch..\n\nThe 2nd is an optimization using a routine added in the first, but I'll prefer to let that one ride the train", "author": "jyavenard@mozilla.com", "id": 13398158, "time": "2018-06-09T19:11:50Z"}, {"text": "2 failures in 669 pushes (0.003 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-inbound: 1\n* mozilla-central: 1\n\nPlatform breakdown:\n* windows10-64: 2\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1466606&startday=2018-06-04&endday=2018-06-10&tree=trunk", "author": "orangefactor@bots.tld", "id": 13399653, "time": "2018-06-11T01:25:54Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\n.\n\nApproval Request Comment\n[Feature/Bug causing the regression]: 1174981\n[User impact if declined]:crashes,memory corruption. It's very likely this bug is the core reasons for what would appear as unrelated crashes. Those are linked to this bug. \n[Is this code covered by automated tests?]: yes and no. Yes, in that the code is exercised by mochitest, however it was racy. \n[Has the fix been verified in Nightly?]: no more crashes since fix went in\n[Needs manual test from QE? If yes, steps to reproduce]: hard to manually reproduce it consistently. \n[List of other uplifts needed for the feature/fix]: request is only for p1, p2 is to ride the train. \n[Is the change risky?]: no. \n[Why is the change risky/not risky?]:We use the same code as used elsewhere to calculate the position in our index. \n[String changes made/needed]:none", "author": "jyavenard@mozilla.com", "id": 13401120, "time": "2018-06-11T21:10:42Z"}, {"text": "Comment on attachment 8983368\nBug 1466606 - P1. Calculate the current GetSample index when needed.\n\nFixes a memory corruption issue causing various crashes. Approved for 61.0b14 and ESR 60.1.", "author": "ryanvm@gmail.com", "id": 13402537, "time": "2018-06-12T18:33:10Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-beta/rev/159957bbef8f", "author": "ryanvm@gmail.com", "id": 13402580, "time": "2018-06-12T19:00:25Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-esr60/rev/3f8c13e5e03e", "author": "ryanvm@gmail.com", "id": 13402600, "time": "2018-06-12T19:06:49Z"}], "id": 1466606, "priority": "P2", "cc": ["achronop@gmail.com", "bvandyk@mozilla.com", "cdenizet@mozilla.com", "cpeterson@mozilla.com", "jyavenard@mozilla.com", "mcastelluccio@mozilla.com", "nbeleuzu@mozilla.com", "ryanvm@gmail.com"], "cf_crash_signature": "[@ mozilla::Maybe<T>::ref]\r\n[@ mozilla::TrackBuffersManager::AssertHasNextSampleIndex]\r\n[@ mozilla::MediaSourceTrackDemuxer::DoGetSamples]\r\n[@ mozilla::TrackBuffersManager::AssertHasNextSampleIndex const]", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1410186", "https://bugzilla.mozilla.org/show_bug.cgi?id=1247189", "https://bugzilla.mozilla.org/show_bug.cgi?id=1467303", "https://bugzilla.mozilla.org/show_bug.cgi?id=1467316"], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [778617, 1174981], "qa_contact": "", "creation_time": "2018-06-04T16:53:09Z", "cf_status_firefox_esr52": "wontfix", "component": "Audio/Video: Playback", "assigned_to_detail": {"email": "jyavenard@mozilla.com", "id": 512198, "name": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "fixed", "cf_status_firefox61": "fixed", "cf_status_firefox60": "wontfix", "target_milestone": "mozilla62", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "critical", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "mats@mozilla.com", "id": 5168, "name": "mats@mozilla.com", "real_name": "Mats Palmgren (:mats)"}, "whiteboard": "", "mentors": [], "summary": "Crash in mozilla::Maybe<T>::ref (from TrackBuffersManager::GetNextRandomAccessPoint)", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-13T16:23:10Z", "assigned_to": "jyavenard@mozilla.com", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "jyavenard@mozilla.com"}, {"removed": "", "field_name": "see_also", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1410186"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "jyavenard@mozilla.com"}], "who": "jyavenard@mozilla.com", "when": "2018-06-04T17:40:12Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cpeterson@mozilla.com"}, {"removed": "", "field_name": "blocks", "added": "1174981"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "?"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "?"}], "who": "cpeterson@mozilla.com", "when": "2018-06-04T20:03:38Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "leave-open"}], "who": "jyavenard@mozilla.com", "when": "2018-06-05T11:54:05Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8983368, "added": "review?(bvandyk@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "bvandyk@mozilla.com"}], "who": "jyavenard@mozilla.com", "when": "2018-06-05T11:54:12Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bvandyk@mozilla.com)", "attachment_id": 8983368, "added": "review+"}], "who": "bvandyk@mozilla.com", "when": "2018-06-05T12:17:15Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1467013"}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T07:43:51Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "achronop@gmail.com"}, {"removed": "Audio/Video", "field_name": "component", "added": "Audio/Video: Playback"}], "who": "achronop@gmail.com", "when": "2018-06-06T09:13:29Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1467105"}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T12:58:45Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P2"}, {"removed": "", "field_name": "blocks", "added": "778617"}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T13:35:21Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "?"}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T13:35:36Z"}, {"changes": [{"removed": "", "field_name": "see_also", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1247189"}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T13:36:20Z"}, {"changes": [{"removed": "[@ mozilla::Maybe<T>::ref]", "field_name": "cf_crash_signature", "added": "[@ mozilla::Maybe<T>::ref]\r\n[@ mozilla::TrackBuffersManager::AssertHasNextSampleIndex]"}, {"removed": "", "field_name": "cc", "added": "cdenizet@mozilla.com"}], "who": "cdenizet@mozilla.com", "when": "2018-06-06T14:40:42Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "nbeleuzu@mozilla.com"}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T15:00:36Z"}, {"changes": [{"removed": "[@ mozilla::Maybe<T>::ref]\r\n[@ mozilla::TrackBuffersManager::AssertHasNextSampleIndex]", "field_name": "cf_crash_signature", "added": "[@ mozilla::Maybe<T>::ref]\r\n[@ mozilla::TrackBuffersManager::AssertHasNextSampleIndex]\r\n[@ mozilla::MediaSourceTrackDemuxer::DoGetSamples]"}], "who": "cdenizet@mozilla.com", "when": "2018-06-06T18:36:52Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8983920, "added": "review?(bvandyk@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8983921, "added": "review?(bvandyk@mozilla.com)"}, {"field_name": "attachments.description", "removed": "Bug 1466606 - Add diagnostic code.", "attachment_id": 8983368, "added": "Bug 1466606 - Revert \"Add diagnostic code.\"."}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T19:52:46Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8983920, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(bvandyk@mozilla.com)", "attachment_id": 8983920, "added": ""}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T22:45:25Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8983921, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(bvandyk@mozilla.com)", "attachment_id": 8983921, "added": ""}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T22:45:27Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8983971, "added": "review?(bvandyk@mozilla.com)"}, {"field_name": "attachments.description", "removed": "Bug 1466606 - Revert \"Add diagnostic code.\".", "attachment_id": 8983368, "added": "Bug 1466606 - P1. Calculate the current GetSample index when needed."}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T22:48:47Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review+", "attachment_id": 8983368, "added": "review?(bvandyk@mozilla.com)"}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T22:49:56Z"}, {"changes": [{"removed": "", "field_name": "see_also", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1467303"}], "who": "jyavenard@mozilla.com", "when": "2018-06-06T22:51:01Z"}, {"changes": [{"removed": "[@ mozilla::Maybe<T>::ref]\r\n[@ mozilla::TrackBuffersManager::AssertHasNextSampleIndex]\r\n[@ mozilla::MediaSourceTrackDemuxer::DoGetSamples]", "field_name": "cf_crash_signature", "added": "[@ mozilla::Maybe<T>::ref]\r\n[@ mozilla::TrackBuffersManager::AssertHasNextSampleIndex]\r\n[@ mozilla::MediaSourceTrackDemuxer::DoGetSamples]\r\n[@ mozilla::TrackBuffersManager::AssertHasNextSampleIndex const]"}], "who": "cdenizet@mozilla.com", "when": "2018-06-07T07:25:30Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bvandyk@mozilla.com)", "attachment_id": 8983368, "added": "review+"}], "who": "bvandyk@mozilla.com", "when": "2018-06-07T12:25:25Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bvandyk@mozilla.com)", "attachment_id": 8983971, "added": "review+"}], "who": "bvandyk@mozilla.com", "when": "2018-06-07T12:27:23Z"}, {"changes": [{"removed": "", "field_name": "see_also", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1467316"}], "who": "jyavenard@mozilla.com", "when": "2018-06-08T14:50:50Z"}, {"changes": [{"removed": "leave-open", "field_name": "keywords", "added": ""}], "who": "jyavenard@mozilla.com", "when": "2018-06-08T16:34:14Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-06-09 12:11:11"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "btara@mozilla.com", "when": "2018-06-09T12:11:11Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ryanvm@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jyavenard@mozilla.com)"}], "who": "ryanvm@gmail.com", "when": "2018-06-09T13:30:11Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "wontfix"}, {"removed": "?", "field_name": "cf_status_firefox_esr60", "added": "affected"}, {"removed": "?", "field_name": "cf_status_firefox60", "added": "wontfix"}, {"removed": "?", "field_name": "cf_status_firefox61", "added": "affected"}], "who": "ryanvm@gmail.com", "when": "2018-06-09T23:47:17Z"}, {"changes": [{"removed": "needinfo?(jyavenard@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8983368, "added": "approval-mozilla-beta?, approval-mozilla-esr60?"}], "who": "jyavenard@mozilla.com", "when": "2018-06-11T21:10:42Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-beta?, approval-mozilla-esr60?", "attachment_id": 8983368, "added": "approval-mozilla-beta+, approval-mozilla-esr60+"}], "who": "ryanvm@gmail.com", "when": "2018-06-12T18:33:10Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2018-06-12T19:00:25Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox_esr60", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2018-06-12T19:06:49Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-06-13T16:23:10Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}