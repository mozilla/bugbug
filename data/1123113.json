{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "ehsan@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "-", "name": "review", "modification_date": "2015-01-19T04:18:12Z", "type_id": 4, "creation_date": "2015-01-18T19:36:01Z", "id": 1077018, "setter": "bzbarsky@mit.edu"}], "content_type": "text/plain", "id": 8550948}, {"creator": "ehsan@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-01-21T04:59:03Z", "type_id": 4, "creation_date": "2015-01-19T14:22:44Z", "id": 1077539, "setter": "bzbarsky@mit.edu"}], "content_type": "text/plain", "id": 8551280}], "classification": "Components", "creator": "ehsan@mozilla.com", "cc": ["bugs@pettay.fi", "bzbarsky@mit.edu", "ehsan@mozilla.com"], "depends_on": [], "creation_time": "2015-01-18T19:35:50Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "Mark ParentObject as stack class, and its mObject member as nsCOMPtr; r=smaug", "id": 1123113, "assigned_to_detail": {"email": "ehsan@mozilla.com", "id": 251051, "name": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "ehsan@mozilla.com", "comment_count": 9, "comments": [{"text": "", "author": "ehsan@mozilla.com", "id": 9810187, "time": "2015-01-18T19:35:50Z"}, {"text": "Created attachment 8550948\nMark ParentObject as stack class, and its mObject member as nsCOMPtr", "author": "ehsan@mozilla.com", "id": 9810188, "time": "2015-01-18T19:36:01Z"}, {"text": "Comment on attachment 8550948\nMark ParentObject as stack class, and its mObject member as nsCOMPtr\n\nI'm pretty sure we don't want nsCOMPtr here, but bz would know better in how hot code paths this is used.", "author": "bugs@pettay.fi", "id": 9810310, "time": "2015-01-18T21:15:42Z"}, {"text": "FWIW keeping this a stack class, it would probably be fine to keep the raw pointer and annotate it as MOZ_NON_OWNING_REF or some such.", "author": "ehsan@mozilla.com", "id": 9810476, "time": "2015-01-18T23:50:05Z"}, {"text": "Comment on attachment 8550948\nMark ParentObject as stack class, and its mObject member as nsCOMPtr\n\nYeah, this should not have an nsCOMPtr.\n\nThis class shouldn't even exist in any way other than a temporary.  Can we annotate _that_ somehow?", "author": "bzbarsky@mit.edu", "id": 9810874, "time": "2015-01-19T04:18:12Z"}, {"text": "Unfortunately we don't have an analysis to enforce a class is used only as a temporary.  stack class is best we can do so far.", "author": "ehsan@mozilla.com", "id": 9812448, "time": "2015-01-19T14:21:42Z"}, {"text": "Created attachment 8551280\nMark ParentObject as stack class, and its mObject member as non-owning", "author": "ehsan@mozilla.com", "id": 9812454, "time": "2015-01-19T14:22:44Z"}, {"text": "Comment on attachment 8551280\nMark ParentObject as stack class, and its mObject member as non-owning\n\nr=me", "author": "bzbarsky@mit.edu", "id": 9821449, "time": "2015-01-21T04:59:03Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/4f9b89c25eee", "author": "kwierso@gmail.com", "id": 9826201, "time": "2015-01-22T00:18:13Z"}], "cf_last_resolved": "2015-01-22T00:18:13Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-01-22T00:18:13Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [1114683], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "DOM", "votes": 0, "groups": [], "cf_status_firefox60": "---", "target_milestone": "mozilla38", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "ehsan@mozilla.com", "id": 251051, "name": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "bugs@pettay.fi", "id": 39966, "name": "bugs@pettay.fi", "real_name": "Olli Pettay [:smaug]"}, {"email": "bzbarsky@mit.edu", "id": 20209, "name": "bzbarsky@mit.edu", "real_name": "Boris Zbarsky [:bz] (no decent commit message means r-)"}, {"email": "ehsan@mozilla.com", "id": 251051, "name": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "bugs@pettay.fi"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8550948, "added": "review?(bugs@pettay.fi)"}], "who": "ehsan@mozilla.com", "when": "2015-01-18T19:36:01Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ehsan@mozilla.com"}, {"removed": "", "field_name": "blocks", "added": "1114683"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "ehsan@mozilla.com"}], "who": "ehsan@mozilla.com", "when": "2015-01-18T19:36:10Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bzbarsky@mit.edu"}, {"field_name": "flagtypes.name", "removed": "review?(bugs@pettay.fi)", "attachment_id": 8550948, "added": "review?(bzbarsky@mit.edu)"}], "who": "bugs@pettay.fi", "when": "2015-01-18T21:15:42Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bzbarsky@mit.edu)", "attachment_id": 8550948, "added": "review-"}], "who": "bzbarsky@mit.edu", "when": "2015-01-19T04:18:12Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8551280, "added": "review?(bzbarsky@mit.edu)"}], "who": "ehsan@mozilla.com", "when": "2015-01-19T14:22:44Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bzbarsky@mit.edu)", "attachment_id": 8551280, "added": "review+"}], "who": "bzbarsky@mit.edu", "when": "2015-01-21T04:59:03Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla38"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-01-21 16:18:13"}], "who": "kwierso@gmail.com", "when": "2015-01-22T00:18:13Z"}], "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}