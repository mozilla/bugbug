{"cf_tracking_thunderbird_esr52": "---", "status": "NEW", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "bvandyk@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_backlog": "---", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox58": "wontfix", "cf_status_firefox59": "wontfix", "keywords": [], "summary": "[Widevine] CDM crashes in ESR 52.6", "cf_last_resolved": null, "attachments": [], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 17, "comments": [{"text": "Steps to repro:\n\n- Visit a page that makes use of the widevine CDM, such as https://shaka-player-demo.appspot.com/demo/#asset=//storage.googleapis.com/shaka-demo-assets/sintel-widevine/dash.mpd;lang=en-US;build=uncompiled\n- A drop down reports the widevine CDM has crashed, media does not playback.\n\nRepros for me on other sites that utilize the CDM such as Netflix.\n\nTested on Windows 10, 64bit.", "author": "bvandyk@mozilla.com", "id": 13109401, "time": "2018-03-06T21:32:43Z"}, {"text": "Seeing weird behaviour with incorrect tracking flags being set. Un-setting for now.", "author": "bvandyk@mozilla.com", "id": 13109410, "time": "2018-03-06T21:35:11Z"}, {"text": "Reproduces under Linux also.", "author": "bvandyk@mozilla.com", "id": 13109460, "time": "2018-03-06T21:51:42Z"}, {"text": "It is too late to get a fix into ESR 52.7.0, but if someone comes up with a patch it could potentially make it into a dot release, or into 52.8.0/ESR 60.", "author": "lhenry@mozilla.com", "id": 13112298, "time": "2018-03-07T21:34:23Z"}, {"text": "Hi Andrei, is it possible to check whether this is a 100% repro? Did we test this (Netflix video playback using ESR) during ESR52.6 sign offs? I just want to confirm whether this is a known regression or a new one. Thanks!", "author": "rkothari@mozilla.com", "id": 13113130, "time": "2018-03-08T03:15:55Z"}, {"text": "Hi Jean-Yves, Anthony, in case this is a new regression (and not a carryover), we are worried about shipping ESR52.7 with this regression. Tuesday is go live. Is there a low-risk fix that is worth uplifting to ESR?", "author": "rkothari@mozilla.com", "id": 13113245, "time": "2018-03-08T05:09:30Z"}, {"text": "I can reproduce this crash on macOS using ESR 52.5 and 52.6 (Widevine CDM version 1.4.8.903) with the Shaka Player test from comment 0, but I was not able to reproduce with Netflix. Amazon is not affected because it doesn't support Widevine in ESR 52 (but it will support it in ESR 60 per [1]).\n\nI was not able to reproduce the crash with Firefox Nightly 60 (Widevine CDM version 1.4.8.1008) with the Shaka Player test, Netflix, or Amazon.\n\n[1] https://www.amazon.com/gp/help/customer/display.html?nodeId=201422810", "author": "cpeterson@mozilla.com", "id": 13113290, "time": "2018-03-08T06:11:55Z"}, {"text": "I was not able to reproduce this crash on three different machines (macOS 10.13.3, Windows 10 64bit and Ubuntu 16.04 64bit) with three different operating systems. I also tested using the following builds: 52.6.0esr - 58.0.2 (which listed the highest number of crashes in Socorro) and Latest Nightly 60.0a1 which has the tracking status as affected as well. Also note that the Widevine version I had is 1.4.8.903.\n\nOnly on Ubuntu I encountered an error on both Shaka demo page from comment 0 and Netflix.\n - Shaka: Shaka Error MEDIA.VIDEO_ERROR (3,,0x806e0004: Error: GMPErr:7)\n - Netflix: F7355-1204\n\nAfter I installed ubuntu restricted extras ('sudo apt-get install ubuntu-restricted-extras'), netflix worked without issues but on shaka I received the same error.\n\nLet me know if I can help here with more information.", "author": "bogdan.maris@softvision.ro", "id": 13113947, "time": "2018-03-08T14:06:50Z"}, {"text": ":cpearce knows more about this than I do. Leaving it to him for recommendations", "author": "jyavenard@mozilla.com", "id": 13114068, "time": "2018-03-08T14:58:52Z"}, {"text": "Thanks Andrei, CPeterson for the additional testing and details. Based on the fact that this is a content process crash and that we were unable to test on Netflix, Amazon, we might be good for ESR52.7 go live, as scheduled for next week.", "author": "rkothari@mozilla.com", "id": 13114241, "time": "2018-03-08T16:07:58Z"}, {"text": "(In reply to Bogdan Maris, QA [:bogdan_maris] from comment #7)\n> \n> Let me know if I can help here with more information.\n\nReally appreciate the prompt testing. Thanks so much!", "author": "rkothari@mozilla.com", "id": 13114257, "time": "2018-03-08T16:13:58Z"}, {"text": "ESR 32bit and 64bit is working here for me on Win10 x64 on Shaka Player Demo and Netflix. We're probably OK to just monitor the crash rate on this one.", "author": "cpearce@mozilla.com", "id": 13115258, "time": "2018-03-08T21:31:01Z"}, {"text": "Rechecking this and I'm not seeing it fail today, though not sure what's changed. Am able to get playback with both Shaka and Netflix under Windows 10. Had a 100% failure rate over ~10 attempts when I ran into this earlier. Widevine version is 1.4.8.903 for me.", "author": "bvandyk@mozilla.com", "id": 13115292, "time": "2018-03-08T21:39:20Z"}, {"text": "The crash signature appears to be around for quite some time already. So it doesn't look like a new regression to me.\n\nThe crash signature also appears to be highly correlated to a very low uptime (< 1min) of Firefox.", "author": "drno@ohlmeier.org", "id": 13121322, "time": "2018-03-12T06:58:46Z"}, {"text": "FWIW, the GMPChild::ProcessingError path happens whenever an IPC message handler fails. Typically this is the \"load GMP\" message handler, but it may not necessarily be, and the reason for the failure can vary. So this signature catches a lot of things, and by itself a crash report for this signature doesn't tell us very much information.", "author": "cpearce@mozilla.com", "id": 13123072, "time": "2018-03-12T20:01:29Z"}, {"text": "Volume doesn't look high enough to warrant tracking.", "author": "ryanvm@gmail.com", "id": 13148901, "time": "2018-03-22T16:37:10Z"}, {"text": "*** Bug 1454015 has been marked as a duplicate of this bug. ***", "author": "adrian.florinescu@softvision.ro", "id": 13215149, "time": "2018-04-18T12:19:11Z"}], "id": 1443637, "priority": "P2", "cc": ["ajones@mozilla.com", "andrei.vaida@softvision.ro", "bogdan.maris@softvision.ro", "cpearce@mozilla.com", "cpeterson@mozilla.com", "drno@ohlmeier.org", "jcristau@mozilla.com", "jyavenard@mozilla.com", "rkothari@mozilla.com", "ryanvm@gmail.com", "trent@lindows.org"], "cf_crash_signature": "[@ mozilla::gmp::GMPChild::ProcessingError]", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "-", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2018-03-06T21:32:43Z", "cf_status_firefox_esr52": "affected", "component": "Audio/Video: Playback", "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "affected", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "bvandyk@mozilla.com", "id": 560379, "name": "bvandyk@mozilla.com", "real_name": "Bryce Van Dyk (:bryce)"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "ajones@mozilla.com", "id": 443088, "name": "ajones@mozilla.com", "real_name": "Anthony Jones (:kentuckyfriedtakahe, :k17e)"}, {"email": "andrei.vaida@softvision.ro", "id": 488993, "name": "andrei.vaida@softvision.ro", "real_name": "Andrei Vaida [:avaida] \u2013 please ni? me"}, {"email": "bogdan.maris@softvision.ro", "id": 458188, "name": "bogdan.maris@softvision.ro", "real_name": "Bogdan Maris [:bogdan_maris], Release Desktop QA"}, {"email": "cpearce@mozilla.com", "id": 287422, "name": "cpearce@mozilla.com", "real_name": "Chris Pearce (:cpearce)"}, {"email": "cpeterson@mozilla.com", "id": 430528, "name": "cpeterson@mozilla.com", "real_name": "Chris Peterson [:cpeterson]"}, {"email": "drno@ohlmeier.org", "id": 489581, "name": "drno@ohlmeier.org", "real_name": "Nils Ohlmeier [:drno]"}, {"email": "jcristau@mozilla.com", "id": 580382, "name": "jcristau@mozilla.com", "real_name": "Julien Cristau [:jcristau]"}, {"email": "jyavenard@mozilla.com", "id": 512198, "name": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]"}, {"email": "rkothari@mozilla.com", "id": 538805, "name": "rkothari@mozilla.com", "real_name": "Ritu Kothari (:ritu)"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}, {"email": "trent@lindows.org", "id": 615900, "name": "trent@lindows.org", "real_name": ""}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-04-18T12:19:11Z", "assigned_to": "nobody@mozilla.org", "is_open": true, "history": [{"changes": [{"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox58", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox59", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "unaffected"}], "who": "bvandyk@mozilla.com", "when": "2018-03-06T21:34:03Z"}, {"changes": [{"removed": "", "field_name": "cf_crash_signature", "added": "[@ mozilla::gmp::GMPChild::ProcessingError]"}], "who": "bvandyk@mozilla.com", "when": "2018-03-06T21:36:35Z"}, {"changes": [{"removed": "Unspecified", "field_name": "op_sys", "added": "All"}], "who": "bvandyk@mozilla.com", "when": "2018-03-06T21:51:42Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_firefox58", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_firefox59", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "affected"}], "who": "ryanvm@gmail.com", "when": "2018-03-07T02:29:59Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ryanvm@gmail.com"}, {"removed": "---", "field_name": "cf_tracking_firefox_esr52", "added": "?"}, {"removed": "wontfix", "field_name": "cf_status_firefox_esr52", "added": "affected"}], "who": "ryanvm@gmail.com", "when": "2018-03-07T21:38:31Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "andrei.vaida@softvision.ro, rkothari@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(andrei.vaida@softvision.ro)"}], "who": "rkothari@mozilla.com", "when": "2018-03-08T03:15:55Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ajones@mozilla.com, jyavenard@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(ajones@mozilla.com), needinfo?(jyavenard@mozilla.com)"}], "who": "rkothari@mozilla.com", "when": "2018-03-08T05:09:30Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cpeterson@mozilla.com"}], "who": "cpeterson@mozilla.com", "when": "2018-03-08T06:11:55Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bogdan.maris@softvision.ro"}, {"removed": "needinfo?(andrei.vaida@softvision.ro)", "field_name": "flagtypes.name", "added": ""}], "who": "bogdan.maris@softvision.ro", "when": "2018-03-08T14:06:50Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cpearce@mozilla.com"}, {"removed": "needinfo?(jyavenard@mozilla.com)", "field_name": "flagtypes.name", "added": "needinfo?(cpearce@mozilla.com)"}], "who": "jyavenard@mozilla.com", "when": "2018-03-08T14:58:52Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jcristau@mozilla.com"}], "who": "jcristau@mozilla.com", "when": "2018-03-08T16:10:00Z"}, {"changes": [{"removed": "needinfo?(cpearce@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "cpearce@mozilla.com", "when": "2018-03-08T21:31:01Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "drno@ohlmeier.org"}, {"removed": "needinfo?(ajones@mozilla.com)", "field_name": "flagtypes.name", "added": "needinfo?(drno@ohlmeier.org)"}], "who": "ajones@mozilla.com", "when": "2018-03-11T21:03:10Z"}, {"changes": [{"removed": "needinfo?(drno@ohlmeier.org)", "field_name": "flagtypes.name", "added": ""}], "who": "drno@ohlmeier.org", "when": "2018-03-12T06:58:46Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P2"}], "who": "giles@thaumas.net", "when": "2018-03-13T01:04:23Z"}, {"changes": [{"removed": "?", "field_name": "cf_tracking_firefox_esr52", "added": "-"}], "who": "ryanvm@gmail.com", "when": "2018-03-22T16:37:10Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "trent@lindows.org"}], "who": "adrian.florinescu@softvision.ro", "when": "2018-04-18T12:19:11Z"}], "resolution": "", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}