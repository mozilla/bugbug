{"status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Client Software", "creator": "clement.lefevre@mail.com", "cc": ["dao+bmo@mozilla.com", "jaws@mozilla.com", "ryanvm@gmail.com"], "depends_on": [], "creation_time": "2018-05-30T15:02:04Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["nightly-community"], "summary": "Title bar and drag space text in customize mode with dark theme can't be read on hovering", "cf_last_resolved": "2018-06-04T18:58:56Z", "attachments": [{"creator": "clement.lefevre@mail.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "video/webm", "id": 8981930}, {"creator": "dao+bmo@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-06-01T16:58:43Z", "type_id": 748, "creation_date": "2018-06-01T16:48:34Z", "id": 1764758, "setter": "jaws@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8982581}], "assigned_to_detail": {"email": "dao+bmo@mozilla.com", "id": 219124, "name": "dao+bmo@mozilla.com", "real_name": "D\u00e3o Gottwald [::dao]"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 15, "comments": [{"text": "Created attachment 8981930\nScreencast from 30-05-2018 16:59:42.webm\n\nSee the joined video, when user is hovering title bar or drag space text in the customize mode, the text is using same color as background, and therefore become impossible to read.", "author": "clement.lefevre@mail.com", "id": 13374698, "time": "2018-05-30T15:02:04Z"}, {"text": "What platform/OS are you using? Can you share more of your build information? I'm unable to reproduce this on 62.0a1 (2018-05-30) (64-bit) Windows 10 with the Dark theme enabled.", "author": "jaws@mozilla.com", "id": 13375423, "time": "2018-05-30T18:59:47Z"}, {"text": "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #1)\n> What platform/OS are you using? Can you share more of your build\n> information? I'm unable to reproduce this on 62.0a1 (2018-05-30) (64-bit)\n> Windows 10 with the Dark theme enabled.\n\nVideo was recorded on Archlinux with latest Gnome/GTK and using the latest nightly.", "author": "clement.lefevre@mail.com", "id": 13375525, "time": "2018-05-30T19:40:36Z"}, {"text": "Thanks, can you run mozregression[1] to see if this is a recent regression? If we can narrow down when this started happening it will be much easier to fix. \n\n[1] http://mozilla.github.io/mozregression/", "author": "jaws@mozilla.com", "id": 13377577, "time": "2018-05-31T14:19:05Z"}, {"text": "(In reply to Jared Wein [:jaws] (please needinfo? me) from comment #3)\n> Thanks, can you run mozregression[1] to see if this is a recent regression?\n> If we can narrow down when this started happening it will be much easier to\n> fix. \n> \n> [1] http://mozilla.github.io/mozregression/\n\nArrived on https://hg.mozilla.org/integration/autoland/pushloghtml?fromchange=9f8b177edf71215098643f5a705fe8730734c346&tochange=63224d6e543cc3399f419dd4ac500873db02b021 which probably is the commit that introduced those options: I was able to reproduce it on every build with the options existing.", "author": "clement.lefevre@mail.com", "id": 13377648, "time": "2018-05-31T14:41:12Z"}, {"text": "Thanks, I won't mark this as a regression since this was basically broken on your setup since the feature was introduced. I don't think this change actually caused the problem, it may have just made the problem visible.", "author": "jaws@mozilla.com", "id": 13377674, "time": "2018-05-31T14:49:29Z"}, {"text": "It looks like something changed on the Gtk side with regards to how checkboxes are rendered. They used to get a solid background on hover (which always felt weird) and so we also set a text color for the hover state.", "author": "dao+bmo@mozilla.com", "id": 13380744, "time": "2018-06-01T16:39:33Z"}, {"text": "Created attachment 8982581\nBug 1465497 - Stop setting a color on hovered checkboxes and radio buttons.\n\nGtk checkboxes and radio buttons used to render a solid background on hover and so we also set a text color for that state. Apparently we're not getting that background anymore.\n\nReview commit: https://reviewboard.mozilla.org/r/248562/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/248562/", "author": "dao+bmo@mozilla.com", "id": 13380762, "time": "2018-06-01T16:48:34Z"}, {"text": "Comment on attachment 8982581\nBug 1465497 - Stop setting a color on hovered checkboxes and radio buttons.\n\nhttps://reviewboard.mozilla.org/r/248562/#review254780", "author": "jaws@mozilla.com", "id": 13380786, "time": "2018-06-01T16:58:43Z"}, {"text": "Pushed by dgottwald@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/330f40fac3e8\nStop setting a color on hovered checkboxes and radio buttons. r=jaws", "author": "pulsebot@bots.tld", "id": 13380818, "time": "2018-06-01T17:08:10Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/330f40fac3e8", "author": "dluca@mozilla.com", "id": 13386094, "time": "2018-06-04T18:58:56Z"}, {"text": "Hi Cl\u00e9ment, this fix should be available in the latest Nightly builds. Can you confirm that this is working better for you now? Thanks!", "author": "ryanvm@gmail.com", "id": 13386761, "time": "2018-06-04T23:40:30Z"}, {"text": "Yes it's fixed for me.\n\nHowever, there's two things to take care about too:\n\n- I'm using latest Gnome/GTK, and :dao seemed to say this could have been caused by changes on their side. For that reason, I think it would be nice to check it on older Gnome/GTKs. I don't have some at hand, so it would require other people to check this out.\n\n- When clicking the checkboxes, it now presents a text-decoration all around the text, is that normal?", "author": "clement.lefevre@mail.com", "id": 13387293, "time": "2018-06-05T07:57:17Z"}, {"text": "(In reply to Cl\u00e9ment Lef\u00e8vre from comment #12)\n> Yes it's fixed for me.\n> \n> However, there's two things to take care about too:\n> \n> - I'm using latest Gnome/GTK, and :dao seemed to say this could have been\n> caused by changes on their side. For that reason, I think it would be nice\n> to check it on older Gnome/GTKs. I don't have some at hand, so it would\n> require other people to check this out.\n\nI think we can just let this ride 63 train to catch such cases.\n\n> - When clicking the checkboxes, it now presents a text-decoration all around\n> the text, is that normal?\n\nThe focus ring? Yes, that's normal.", "author": "dao+bmo@mozilla.com", "id": 13387478, "time": "2018-06-05T09:41:09Z"}, {"text": "(In reply to D\u00e3o Gottwald [::dao] from comment #13)\n> (In reply to Cl\u00e9ment Lef\u00e8vre from comment #12)\n> > Yes it's fixed for me.\n> > \n> > However, there's two things to take care about too:\n> > \n> > - I'm using latest Gnome/GTK, and :dao seemed to say this could have been\n> > caused by changes on their side. For that reason, I think it would be nice\n> > to check it on older Gnome/GTKs. I don't have some at hand, so it would\n> > require other people to check this out.\n> \n> I think we can just let this ride 63 train to catch such cases.\n\nOops, I meant 62. I.e. no uplift, just let this bake in Nightly and then Beta.", "author": "dao+bmo@mozilla.com", "id": 13387479, "time": "2018-06-05T09:41:51Z"}], "id": 1465497, "priority": "P3", "mentors_detail": [], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "---", "blocks": [1415481], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Toolbars and Customization", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "fixed", "cf_status_firefox61": "wontfix", "cf_status_firefox60": "wontfix", "target_milestone": "Firefox 62", "is_cc_accessible": true, "cf_rank": null, "groups": [], "url": "", "creator_detail": {"email": "clement.lefevre@mail.com", "id": 445496, "name": "clement.lefevre@mail.com", "real_name": "Cl\u00e9ment Lef\u00e8vre"}, "whiteboard": "[mozfr-community]", "mentors": [], "cc_detail": [{"email": "dao+bmo@mozilla.com", "id": 219124, "name": "dao+bmo@mozilla.com", "real_name": "D\u00e3o Gottwald [::dao]"}, {"email": "jaws@mozilla.com", "id": 409754, "name": "jaws@mozilla.com", "real_name": "Jared Wein [:jaws] (please needinfo? me)"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-05T09:41:51Z", "cf_status_firefox_esr60": "wontfix", "assigned_to": "dao+bmo@mozilla.com", "is_open": false, "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "keywords", "added": "nightly-community"}, {"removed": "", "field_name": "whiteboard", "added": "[mozfr-community]"}], "who": "clement.lefevre@mail.com", "when": "2018-05-30T15:02:29Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dao+bmo@mozilla.com"}, {"removed": "Theme", "field_name": "component", "added": "Toolbars and Customization"}], "who": "dao+bmo@mozilla.com", "when": "2018-05-30T15:28:48Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jaws@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(clement.lefevre@mail.com)"}], "who": "jaws@mozilla.com", "when": "2018-05-30T18:59:47Z"}, {"changes": [{"removed": "needinfo?(clement.lefevre@mail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "clement.lefevre@mail.com", "when": "2018-05-30T19:40:36Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(clement.lefevre@mail.com)"}], "who": "jaws@mozilla.com", "when": "2018-05-31T14:19:05Z"}, {"changes": [{"removed": "needinfo?(clement.lefevre@mail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "clement.lefevre@mail.com", "when": "2018-05-31T14:41:12Z"}, {"changes": [{"removed": "---", "field_name": "cf_status_firefox62", "added": "affected"}, {"removed": "--", "field_name": "priority", "added": "P3"}, {"removed": "", "field_name": "blocks", "added": "1415481"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "wontfix"}], "who": "jaws@mozilla.com", "when": "2018-05-31T14:49:29Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "dao+bmo@mozilla.com"}, {"removed": "wontfix", "field_name": "cf_status_firefox61", "added": "fix-optional"}], "who": "dao+bmo@mozilla.com", "when": "2018-06-01T16:38:00Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8982581, "added": "review?(jaws@mozilla.com)"}], "who": "dao+bmo@mozilla.com", "when": "2018-06-01T16:48:34Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jaws@mozilla.com)", "attachment_id": 8982581, "added": "review+"}], "who": "jaws@mozilla.com", "when": "2018-06-01T16:58:43Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-06-04 18:58:56"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "dluca@mozilla.com", "when": "2018-06-04T18:58:56Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ryanvm@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(clement.lefevre@mail.com)"}], "who": "ryanvm@gmail.com", "when": "2018-06-04T23:40:30Z"}, {"changes": [{"removed": "needinfo?(clement.lefevre@mail.com)", "field_name": "flagtypes.name", "added": "needinfo?(ryanvm@gmail.com), needinfo?(dao+bmo@mozilla.com)"}], "who": "clement.lefevre@mail.com", "when": "2018-06-05T07:57:17Z"}, {"changes": [{"removed": "needinfo?(ryanvm@gmail.com), needinfo?(dao+bmo@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"removed": "fix-optional", "field_name": "cf_status_firefox61", "added": "wontfix"}], "who": "dao+bmo@mozilla.com", "when": "2018-06-05T09:41:09Z"}]}