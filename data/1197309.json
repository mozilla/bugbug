{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "gioyik@gmail.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "feedback", "modification_date": "2015-08-22T12:16:28Z", "type_id": 607, "creation_date": "2015-08-22T12:16:28Z", "id": 1237299, "setter": "nfroyd@mozilla.com"}], "content_type": "text/plain", "id": 8651352}, {"creator": "gioyik@gmail.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "feedback", "modification_date": "2015-08-24T14:33:49Z", "type_id": 607, "creation_date": "2015-08-24T14:33:49Z", "id": 1237869, "setter": "nfroyd@mozilla.com"}], "content_type": "text/plain", "id": 8651440}, {"creator": "vyas45@gmail.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "feedback", "modification_date": "2015-10-15T15:34:01Z", "type_id": 607, "creation_date": "2015-10-15T15:34:01Z", "id": 1272929, "setter": "nfroyd@mozilla.com"}], "content_type": "text/plain", "id": 8674159}, {"creator": "vyas45@gmail.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-10-15T17:58:35Z", "type_id": 4, "creation_date": "2015-10-15T16:55:27Z", "id": 1272988, "setter": "nfroyd@mozilla.com"}], "content_type": "text/plain", "id": 8674333}], "classification": "Components", "creator": "nfroyd@mozilla.com", "cc": ["gioyik@gmail.com", "nfroyd@mozilla.com", "vyas45@gmail.com"], "depends_on": [], "creation_time": "2015-08-21T18:46:41Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "remove PR_snprintf calls in intl/", "id": 1197309, "assigned_to_detail": {"email": "vyas45@gmail.com", "id": 552272, "name": "vyas45@gmail.com", "real_name": "Aniket Vyas"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "vyas45@gmail.com", "comment_count": 17, "comments": [{"text": "Steps:\n\n1. Find all calls to PR_snprintf in intl/.\n2. Add #include \"mozilla/Snprintf.h\" to the file(s).\n3. Replace PR_snprintf(X, sizeof(X), ...) calls with snprintf_literal(X, ...).\n4. Replace other PR_snprintf calls with snprintf.\n5. Remove any #include \"prprf.h\" lines.", "author": "nfroyd@mozilla.com", "id": 10645641, "time": "2015-08-21T18:46:41Z"}, {"text": "Hi Nathan,\n\nI created a patch for this, could you review it and tell me if is OK? I am assigning this to myself to keep it on my dashboard and not loose it with all the bugzilla email I receive.\n\nI was not sure about BufferLength if is equal to sizeof or as in other files where they use a *size variable as sizeof. So I didn't remove it. Let me know if is necessary to remove BufferLength too.\n\nThanks", "author": "gioyik@gmail.com", "id": 10646990, "time": "2015-08-22T07:20:11Z"}, {"text": "Created attachment 8651352\n1197309.patch", "author": "gioyik@gmail.com", "id": 10646993, "time": "2015-08-22T07:23:37Z"}, {"text": "Comment on attachment 8651352\n1197309.patch\n\nReview of attachment 8651352:\n-----------------------------------------------------------------\n\nThanks for the patch!  We're fortunate here in that the format strings don't need any fixing up.  Just a few things to fix up.\n\n::: intl/locale/unix/nsPosixLocale.cpp\n@@ +5,5 @@\n>  \n>  #include \"nscore.h\"\n>  #include \"nsString.h\"\n>  #include \"nsPosixLocale.h\"\n> +#include \"mozilla/snprintf.h\"\n\nThis should be \"mozilla/Snprintf.h\"\n\n::: intl/unicharutil/nsSaveAsCharset.cpp\n@@ +5,5 @@\n>   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n>  \n>  \n>  #include \"prmem.h\"\n> +#include \"mozilla/snprintf.h\"\n\nThis should be \"mozilla/Snprintf.h\".", "author": "nfroyd@mozilla.com", "id": 10647171, "time": "2015-08-22T12:16:28Z"}, {"text": "Thanks for the comments Nathan.\n\nI just see this in:\n\n::: intl/locale/nsLocaleService.cpp\n>  \n> #include \"nsILocaleService.h\"\n> #include \"nsLocale.h\"\n> #include \"nsCRT.h\"\n>-#include \"prprf.h\"\n\nI need to put back this include due nsLocaleService uses PR_sscanf.", "author": "gioyik@gmail.com", "id": 10647235, "time": "2015-08-22T14:47:59Z"}, {"text": "Created attachment 8651440\n1197309.patch", "author": "gioyik@gmail.com", "id": 10647567, "time": "2015-08-23T02:18:34Z"}, {"text": "Nathan, I submitted a new patch for this. Let me know if this is a god one.", "author": "gioyik@gmail.com", "id": 10647568, "time": "2015-08-23T02:19:06Z"}, {"text": "Comment on attachment 8651440\n1197309.patch\n\nReview of attachment 8651440:\n-----------------------------------------------------------------\n\nThanks for fixing things up.  One minor thing...\n\n::: intl/unicharutil/nsSaveAsCharset.cpp\n@@ +303,5 @@\n>      }\n>      break;\n>    case attr_FallbackEscapeU:\n>      if (inUCS4 & 0xff0000)\n> +      rv = (snprintf_literal(outString, bufferLength, \"\\\\u%.6x\", inUCS4) > 0) ? NS_OK : NS_ERROR_FAILURE;\n\nAll snprintf_literal calls in this function should be |snprintf|, since |outString| is not a character array.  Sorry for not catching this the first time through.", "author": "nfroyd@mozilla.com", "id": 10650406, "time": "2015-08-24T14:33:49Z"}, {"text": "Created attachment 8674159\n1197309.patch\n\nHey Nathan, \n\n    Here is another review for the PR_snprintf replacements. Please let me know if it requires any changes. The changes build fine on my MAC OSX developement environment.", "author": "vyas45@gmail.com", "id": 10840863, "time": "2015-10-15T09:46:17Z"}, {"text": "Comment on attachment 8674159\n1197309.patch\n\nReview of attachment 8674159:\n-----------------------------------------------------------------\n\nLooks straightforward enough,\n\n::: intl/unicharutil/nsSaveAsCharset.cpp\n@@ -5,5 @@\n>   * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n>  \n>  \n>  #include \"prmem.h\"\n> -#include \"prprf.h\"\n\nYou need to replace this with #include \"mozilla/Snprintf.h\".", "author": "nfroyd@mozilla.com", "id": 10841881, "time": "2015-10-15T15:34:01Z"}, {"text": "Created attachment 8674333\n1197309.patch\n\nThanks for the review Nathan.Have updated the patch. \n\nWhat should be the next steps ?", "author": "vyas45@gmail.com", "id": 10842210, "time": "2015-10-15T16:55:27Z"}, {"text": "Comment on attachment 8674333\n1197309.patch\n\nReview of attachment 8674333:\n-----------------------------------------------------------------\n\nThanks!  I've pushed it to try here:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=8fa7d0fe2c11\n\nOnce those results come back green, I'll check it in.\n\nPlease remember to enter a commit message for your patch next time. :)", "author": "nfroyd@mozilla.com", "id": 10842503, "time": "2015-10-15T17:58:35Z"}, {"text": "Thanks a lot Nathan ! Couple of questions : \n\n1) What is the appropriate way to enter a commit message ? \n\n2) Regarding the treeherder link that you provided, I assume these are the test suites being run. Is there any documentation on as to how I can run them on my own once the patch is approved. Also, the steps involved after that stage. \n\nThanks,\nAniket", "author": "vyas45@gmail.com", "id": 10842871, "time": "2015-10-15T19:21:28Z"}, {"text": "Alright, figured out the commit message puzzle. Still needed info on the second point regarding \"treeherder\" :)", "author": "vyas45@gmail.com", "id": 10843367, "time": "2015-10-15T21:29:10Z"}, {"text": "(In reply to Aniket Vyas from comment #12)\n> 2) Regarding the treeherder link that you provided, I assume these are the\n> test suites being run. Is there any documentation on as to how I can run\n> them on my own once the patch is approved.\n\nOf course!\n\nhttps://wiki.mozilla.org/ReleaseEngineering/TryServer\n\n> Also, the steps involved after that stage. \n\nhttps://developer.mozilla.org/en-US/docs/Mozilla/Developer_guide/How_to_Submit_a_Patch#Getting_the_patch_checked_into_the_tree\n\nPlease note that adding the checkin-needed keyword requires that you post your successful try push (with sufficient tests run) in the bug.  Assuming that try run looks sufficiently green, I'll take care of pushing the patch in this bug.", "author": "nfroyd@mozilla.com", "id": 10845600, "time": "2015-10-16T14:22:36Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/361424714ab2", "author": "pulsebot@bots.tld", "id": 10845968, "time": "2015-10-16T15:59:41Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/361424714ab2", "author": "philringnalda@gmail.com", "id": 10848349, "time": "2015-10-17T17:23:32Z"}], "cf_last_resolved": "2015-10-17T17:23:32Z", "priority": "--", "mentors_detail": [{"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-10-17T17:23:32Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [1197205], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Internationalization", "votes": 0, "groups": [], "cf_status_firefox60": "---", "target_milestone": "mozilla44", "cf_status_firefox44": "fixed", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}, "whiteboard": "[good first bug][lang=c++]", "mentors": ["nfroyd@mozilla.com"], "cc_detail": [{"email": "gioyik@gmail.com", "id": 444558, "name": "gioyik@gmail.com", "real_name": "Giovanny Gongora [:gioyik]"}, {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}, {"email": "vyas45@gmail.com", "id": 552272, "name": "vyas45@gmail.com", "real_name": "Aniket Vyas"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "gioyik@gmail.com"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "gioyik@gmail.com"}], "who": "gioyik@gmail.com", "when": "2015-08-22T07:20:11Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "nfroyd@mozilla.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8651352, "added": "review?(nfroyd@mozilla.com)"}], "who": "gioyik@gmail.com", "when": "2015-08-22T07:23:37Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nfroyd@mozilla.com)", "attachment_id": 8651352, "added": "feedback+"}], "who": "nfroyd@mozilla.com", "when": "2015-08-22T12:16:28Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8651352, "added": "1"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8651440, "added": "review?(nfroyd@mozilla.com)"}], "who": "gioyik@gmail.com", "when": "2015-08-23T02:18:34Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nfroyd@mozilla.com)", "attachment_id": 8651440, "added": "feedback+"}], "who": "nfroyd@mozilla.com", "when": "2015-08-24T14:33:49Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8674159, "added": "review?(nfroyd@mozilla.com)"}], "who": "vyas45@gmail.com", "when": "2015-10-15T09:46:17Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nfroyd@mozilla.com)", "attachment_id": 8674159, "added": "feedback+"}], "who": "nfroyd@mozilla.com", "when": "2015-10-15T15:34:01Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8651440, "added": "1"}, {"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8674159, "added": "1"}, {"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "gioyik@gmail.com", "field_name": "assigned_to", "added": "vyas45@gmail.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8674333, "added": "review?(nfroyd@mozilla.com)"}], "who": "vyas45@gmail.com", "when": "2015-10-15T16:55:27Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "vyas45@gmail.com"}], "who": "vyas45@gmail.com", "when": "2015-10-15T16:56:22Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nfroyd@mozilla.com)", "attachment_id": 8674333, "added": "review+"}], "who": "nfroyd@mozilla.com", "when": "2015-10-15T17:58:35Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(nfroyd@mozilla.com)"}], "who": "vyas45@gmail.com", "when": "2015-10-15T19:21:28Z"}, {"changes": [{"removed": "needinfo?(nfroyd@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "nfroyd@mozilla.com", "when": "2015-10-16T14:22:36Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla44"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-10-17 10:23:32"}, {"removed": "---", "field_name": "cf_status_firefox44", "added": "fixed"}], "who": "philringnalda@gmail.com", "when": "2015-10-17T17:23:32Z"}], "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}