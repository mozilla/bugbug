{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "mrbkap@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-06-10T22:53:19Z", "type_id": 4, "creation_date": "2015-06-10T00:18:25Z", "id": 1185696, "setter": "bill.mccloskey@gmail.com"}], "content_type": "text/plain", "id": 8617675}], "classification": "Components", "creator": "twalker@mozilla.com", "cc": ["bill.mccloskey@gmail.com", "brad@lassey.us", "jmathies@mozilla.com", "kairo@kairo.at", "tczaude@gmail.com", "vseerror@lehigh.edu"], "depends_on": [], "creation_time": "2015-04-07T14:12:42Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": ["crash"], "cf_tracking_e10s": "m7+", "summary": "Child abort on send signature @ mozilla::dom::PStorageChild::SendPreload(nsCString const &,unsigned int const &,nsTArray<nsString> *,nsTArray<nsString> *,nsresult *)", "id": 1151840, "assigned_to_detail": {"email": "mrbkap@mozilla.com", "id": 69426, "name": "mrbkap@mozilla.com", "real_name": "Blake Kaplan (:mrbkap)"}, "severity": "critical", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "mrbkap@mozilla.com", "comment_count": 7, "comments": [{"text": "Broken out per bug 1092216 comment 9\n\nBug 1092216 Child abort on send signature breakdown:\n----------------------------------------------------\n124\t57.7%\tmozilla::dom::PStorageChild::SendPreload(nsCString const &,unsigned int const &,nsTArray<nsString> *,nsTArray<nsString> *,nsresult *)", "author": "twalker@mozilla.com", "id": 10125761, "time": "2015-04-07T14:12:42Z"}, {"text": "*** Bug 1110098 has been marked as a duplicate of this bug. ***", "author": "jmathies@mozilla.com", "id": 10136364, "time": "2015-04-09T14:30:59Z"}, {"text": "*** Bug 1148384 has been marked as a duplicate of this bug. ***", "author": "jmathies@mozilla.com", "id": 10136372, "time": "2015-04-09T14:32:24Z"}, {"text": "(In reply to Jim Mathies [:jimm] from comment #2)\n> *** Bug 1148384 has been marked as a duplicate of this bug. ***\n\nGood testcases / str in this bug.", "author": "jmathies@mozilla.com", "id": 10136374, "time": "2015-04-09T14:32:54Z"}, {"text": "Created attachment 8617675\npatch v1\n\nI tried to write a test for this, but it's more difficult than I realized because we actually kick off an (asynchronous) preload as soon as we create the inner window for a new document. There's probably some way to write the test so the parent (CPOW) still wins the race, but I couldn't find it.\n\nI did verify that if I remove the pre-preloading code, that this patch fixes the crash that was reported here.", "author": "mrbkap@mozilla.com", "id": 10363725, "time": "2015-06-10T00:18:25Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/d947d66c49dc", "author": "pulsebot@bots.tld", "id": 10378550, "time": "2015-06-12T01:55:06Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/d947d66c49dc", "author": "ryanvm@gmail.com", "id": 10381540, "time": "2015-06-12T19:03:59Z"}], "cf_last_resolved": "2015-06-12T19:03:59Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "[@ mozalloc_abort(char const* const) | NS_DebugBreak | mozilla::ipc::MessageChannel::DebugAbort(char const*, int, char const*, char const*, bool) | mozilla::ipc::MessageChannel::Send(IPC::Message*, IPC::Message*) | mozilla::dom::PStorageChild::SendPreload... ]\r\n[@ mozalloc_abort | NS_DebugBreak | mozilla::ipc::MessageChannel::DebugAbort | mozilla::ipc::MessageChannel::Send | mozilla::dom::PStorageChild::SendPreload ]", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-06-12T19:03:59Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [1092216], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "DOM: Content Processes", "votes": 0, "groups": [], "cf_status_firefox60": "---", "cf_status_firefox41": "fixed", "target_milestone": "mozilla41", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "twalker@mozilla.com", "id": 18566, "name": "twalker@mozilla.com", "real_name": "Tracy Walker [:tracy]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "bill.mccloskey@gmail.com", "id": 389993, "name": "bill.mccloskey@gmail.com", "real_name": "Bill McCloskey [inactive unless it's an emergency] (:billm)"}, {"email": "brad@lassey.us", "id": 181004, "name": "brad@lassey.us", "real_name": "Brad Lassey [:blassey] (use needinfo?)"}, {"email": "jmathies@mozilla.com", "id": 279663, "name": "jmathies@mozilla.com", "real_name": "Jim Mathies [:jimm]"}, {"email": "kairo@kairo.at", "id": 5189, "name": "kairo@kairo.at", "real_name": "Robert Kaiser"}, {"email": "tczaude@gmail.com", "id": 534226, "name": "tczaude@gmail.com", "real_name": ""}, {"email": "vseerror@lehigh.edu", "id": 29811, "name": "vseerror@lehigh.edu", "real_name": "Wayne Mery (:wsmwk)"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1092216"}], "who": "twalker@mozilla.com", "when": "2015-04-07T14:12:54Z"}, {"changes": [{"removed": "IPC", "field_name": "component", "added": "DOM: Content Processes"}], "who": "twalker@mozilla.com", "when": "2015-04-07T19:06:32Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "blassey.bugs@lassey.us"}, {"removed": "?", "field_name": "cf_tracking_e10s", "added": "m7+"}], "who": "brad@lassey.us", "when": "2015-04-07T20:25:10Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "awesomedonkey@outlook.com"}], "who": "awesomedonkey@outlook.com", "when": "2015-04-08T15:38:42Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jmathies@mozilla.com"}], "who": "jmathies@mozilla.com", "when": "2015-04-09T14:30:59Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "tczaude@gmail.com"}], "who": "jmathies@mozilla.com", "when": "2015-04-09T14:32:24Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "vseerror@lehigh.edu"}, {"removed": "normal", "field_name": "severity", "added": "critical"}], "who": "vseerror@lehigh.edu", "when": "2015-04-13T16:22:56Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "mrbkap@mozilla.com"}], "who": "brad@lassey.us", "when": "2015-05-07T16:49:42Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "wmccloskey@mozilla.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8617675, "added": "review?(wmccloskey@mozilla.com)"}], "who": "mrbkap@mozilla.com", "when": "2015-06-10T00:18:25Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(wmccloskey@mozilla.com)", "attachment_id": 8617675, "added": "review+"}], "who": "bill.mccloskey@gmail.com", "when": "2015-06-10T22:53:19Z"}, {"changes": [{"removed": "", "field_name": "cf_crash_signature", "added": "[@ mozalloc_abort(char const* const) | NS_DebugBreak | mozilla::ipc::MessageChannel::DebugAbort(char const*, int, char const*, char const*, bool) | mozilla::ipc::MessageChannel::Send(IPC::Message*, IPC::Message*) | mozilla::dom::PStorageChild::SendPreload... ]\r\n[@ mozalloc_abort | NS_DebugBreak | mozilla::ipc::MessageChannel::DebugAbort | mozilla::ipc::MessageChannel::Send | mozilla::dom::PStorageChild::SendPreload ]"}, {"removed": "", "field_name": "cc", "added": "kairo@kairo.at"}], "who": "kairo@kairo.at", "when": "2015-06-11T18:51:26Z"}, {"changes": [{"removed": "awesomedonkey@outlook.com", "field_name": "cc", "added": ""}], "who": "awesomedonkey@outlook.com", "when": "2015-06-12T01:56:13Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla41"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-06-12 12:03:59"}, {"removed": "---", "field_name": "cf_status_firefox41", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2015-06-12T19:03:59Z"}], "resolution": "FIXED", "op_sys": "Windows", "cf_fx_points": "---", "cf_blocking_fennec": "---"}