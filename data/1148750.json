{"cf_tracking_thunderbird_esr52": "---", "cf_status_firefox39": "---", "cf_tracking_firefox60": "---", "attachments": [{"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-03-31T18:09:00Z", "type_id": 4, "creation_date": "2015-03-31T15:39:29Z", "id": 1135847, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8586142}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-03-31T20:12:10Z", "type_id": 4, "creation_date": "2015-03-31T15:39:17Z", "id": 1135846, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8586143}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8586146}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-03-31T20:19:32Z", "type_id": 4, "creation_date": "2015-03-31T15:35:30Z", "id": 1135838, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8586152}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T19:08:20Z", "type_id": 4, "creation_date": "2015-04-10T15:52:37Z", "id": 1143905, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590900}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T19:16:03Z", "type_id": 4, "creation_date": "2015-04-10T15:52:59Z", "id": 1143907, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590901}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T19:22:56Z", "type_id": 4, "creation_date": "2015-04-10T15:53:24Z", "id": 1143908, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590902}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T19:32:14Z", "type_id": 4, "creation_date": "2015-04-10T15:53:37Z", "id": 1143909, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590903}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T19:35:57Z", "type_id": 4, "creation_date": "2015-04-10T15:53:59Z", "id": 1143910, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590904}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T19:46:37Z", "type_id": 4, "creation_date": "2015-04-10T15:54:17Z", "id": 1143911, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590905}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:10:59Z", "type_id": 4, "creation_date": "2015-04-10T15:54:37Z", "id": 1143912, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590906}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:11:55Z", "type_id": 4, "creation_date": "2015-04-10T15:54:52Z", "id": 1143913, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590907}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:12:25Z", "type_id": 4, "creation_date": "2015-04-10T15:55:11Z", "id": 1143915, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590909}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:14:26Z", "type_id": 4, "creation_date": "2015-04-10T15:55:29Z", "id": 1143916, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590911}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:18:50Z", "type_id": 4, "creation_date": "2015-04-10T15:55:44Z", "id": 1143917, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590912}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:20:21Z", "type_id": 4, "creation_date": "2015-04-10T15:56:03Z", "id": 1143918, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590913}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:21:56Z", "type_id": 4, "creation_date": "2015-04-10T16:01:27Z", "id": 1143922, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590915}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:23:12Z", "type_id": 4, "creation_date": "2015-04-10T16:01:55Z", "id": 1143923, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590916}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-04-16T20:24:02Z", "type_id": 4, "creation_date": "2015-04-10T16:03:49Z", "id": 1143925, "setter": "efaustbmo@gmail.com"}], "content_type": "text/plain", "id": 8590918}, {"creator": "jorendorff@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8591047}], "classification": "Components", "creator": "jorendorff@mozilla.com", "cc": ["andrebargull@googlemail.com", "efaustbmo@gmail.com", "jorendorff@mozilla.com", "kwierso@gmail.com"], "depends_on": [1152106], "creation_time": "2015-03-28T12:37:53Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86_64", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "Bring NativeDefineProperty up to ES6 [[DefineOwnProperty]] standard behavior, with one exception for resolve hooks", "id": 1148750, "assigned_to_detail": {"email": "jorendorff@mozilla.com", "id": 281791, "name": "jorendorff@mozilla.com", "real_name": "Jason Orendorff [:jorendorff]"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "jorendorff@mozilla.com", "comment_count": 74, "comments": [{"text": "We're in the final stretch here, and ready to do the pleasant work of rewriting NativeDefineProperty with step numbers from the standard.\n\nOne wrinkle will still remain when we are done here. NativeDefineProperty contains some nonstandard code to avoid unchecked recursion when a resolve hook defines a property. We need to find a standard-compliant way to deal with this. Maybe that's more of a hurdle than a wrinkle. But \"wrinkle\" implies that it's a twist; \"hurdle\" doesn't. It's really both. A hurkle. Anyway, all that's for another bug.", "author": "jorendorff@mozilla.com", "id": 10091471, "time": "2015-03-28T12:37:53Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=211050c46163", "author": "jorendorff@mozilla.com", "id": 10091508, "time": "2015-03-28T13:16:12Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=18dd013e29e4", "author": "jorendorff@mozilla.com", "id": 10091824, "time": "2015-03-28T16:37:40Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=cf9fe3070b86", "author": "jorendorff@mozilla.com", "id": 10092688, "time": "2015-03-29T04:16:58Z"}, {"text": "Created attachment 8586142\npart 1 - Factor out the lookup common to three branches at the top of NativeDefineProperty\n\nThe existing setup saves a branch. We can't keep it. All that code is about to be completely rewritten. In the standard algorithms, this check is not immediately followed by a branch on this particular condition (desc.hasValue()). Furthermore, to deal with resolve hooks properly, we will later change the condition of this if-statement to something like `if (resolving)`, which will not be something we can common up with any other branch in this function.", "author": "jorendorff@mozilla.com", "id": 10100843, "time": "2015-03-31T15:11:04Z"}, {"text": "Created attachment 8586143\npart 2 - Check extensibility in NativeDefineProperty", "author": "jorendorff@mozilla.com", "id": 10100856, "time": "2015-03-31T15:12:23Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=949bd17e9830", "author": "jorendorff@mozilla.com", "id": 10100879, "time": "2015-03-31T15:16:19Z"}, {"text": "Created attachment 8586146\npart 3 - Rewrite the rest of NativeDefineProperty. At this point it stops being practical to continue in small chunks", "author": "jorendorff@mozilla.com", "id": 10100882, "time": "2015-03-31T15:16:58Z"}, {"text": "Created attachment 8586152\npart 3 - Rewrite the rest of NativeDefineProperty. At this point it stops being practical to continue in small chunks", "author": "jorendorff@mozilla.com", "id": 10100980, "time": "2015-03-31T15:35:30Z"}, {"text": "Comment on attachment 8586142\npart 1 - Factor out the lookup common to three branches at the top of NativeDefineProperty\n\nReview of attachment 8586142:\n-----------------------------------------------------------------\n\nYeah, but this is cleaner. I agree that the other strategy is not future-stable.", "author": "efaustbmo@gmail.com", "id": 10101843, "time": "2015-03-31T18:09:00Z"}, {"text": "Comment on attachment 8586143\npart 2 - Check extensibility in NativeDefineProperty\n\nReview of attachment 8586143:\n-----------------------------------------------------------------\n\nr=me with the caveat that I think we have an impl of ValidateAndApply... in the scripted proxy code. We should look into what, if any, code can be merged with that implementation.", "author": "efaustbmo@gmail.com", "id": 10102603, "time": "2015-03-31T20:12:10Z"}, {"text": "Comment on attachment 8586152\npart 3 - Rewrite the rest of NativeDefineProperty. At this point it stops being practical to continue in small chunks\n\nReview of attachment 8586152:\n-----------------------------------------------------------------\n\nThis looks good. Again, we should try to common up as much as possible with the other impl. ISTR it only does the apply, not the validate, so we should probably keep this one.\n\n::: js/src/jsapi.h\n@@ +2736,5 @@\n> +    }\n> +    void setSetterObject(JSObject* obj) {\n> +        desc()->setter = reinterpret_cast<JSSetterOp>(obj);\n> +        desc()->attrs &= ~(JSPROP_IGNORE_VALUE | JSPROP_IGNORE_READONLY);\n> +        desc()->attrs |= JSPROP_SETTER | JSPROP_SHARED;\n\nyes. Much less footgun this way :)\n\n::: js/src/jsobjinlines.h\n@@ -840,5 @@\n>      return true;\n>  }\n>  \n> -static inline unsigned\n> -ApplyAttributes(unsigned attrs, bool enumerable, bool writable, bool configurable)\n\nMy god am I glad to see this go.\n\n::: js/src/tests/ecma_6/Class/classPrototype.js\n@@ -30,5 @@\n> -} catch (e if e instanceof TypeError) {\n> -    throw new Error(\"Congrats on making initprop respect non-writable \" +\n> -                    \"non-configurable properties. Uncomment the test below \" +\n> -                    \"for bonus points.\");\n> -/*\n\nYay! A sleeper test awoken :) Bonus points.", "author": "efaustbmo@gmail.com", "id": 10102649, "time": "2015-03-31T20:19:32Z"}, {"text": "(In reply to Eric Faust [:efaust] from comment #10)\n> r=me with the caveat that I think we have an impl of ValidateAndApply... in\n> the scripted proxy code. We should look into what, if any, code can be\n> merged with that implementation.\n\nAgreed. Filed follow-up bug 1150140.", "author": "jorendorff@mozilla.com", "id": 10107277, "time": "2015-04-01T18:15:26Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=ed0ef681de2b", "author": "jorendorff@mozilla.com", "id": 10107553, "time": "2015-04-01T19:07:18Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=2dd43a9ab978", "author": "jorendorff@mozilla.com", "id": 10108117, "time": "2015-04-01T21:01:37Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/7f6a4e3976f0\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/75e867c1c39e\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/3fc49391f7fe", "author": "jorendorff@mozilla.com", "id": 10108651, "time": "2015-04-01T22:44:13Z"}, {"text": "Backed out (along with every other patch from that massive push) in https://hg.mozilla.org/integration/mozilla-inbound/rev/386c8b5b73c0 for talos other timeouts:\nhttps://treeherder.mozilla.org/#/jobs?repo=mozilla-inbound&revision=3fc49391f7fe&filter-searchStr=talos oth", "author": "kwierso@gmail.com", "id": 10109338, "time": "2015-04-02T02:28:01Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=fe3464f188f9", "author": "jorendorff@mozilla.com", "id": 10112204, "time": "2015-04-02T17:19:48Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=c2f913a2957e", "author": "jorendorff@mozilla.com", "id": 10112239, "time": "2015-04-02T17:25:15Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=ada04d3047b6", "author": "jorendorff@mozilla.com", "id": 10113600, "time": "2015-04-02T21:41:38Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=a38c0b005585", "author": "jorendorff@mozilla.com", "id": 10115755, "time": "2015-04-03T14:09:37Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=bbdbc7dd3f69", "author": "jorendorff@mozilla.com", "id": 10116291, "time": "2015-04-03T16:15:12Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=5b48128c898c", "author": "jorendorff@mozilla.com", "id": 10116300, "time": "2015-04-03T16:18:45Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=b14410d0a5ea", "author": "jorendorff@mozilla.com", "id": 10116316, "time": "2015-04-03T16:22:48Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=901ce43a5d81", "author": "jorendorff@mozilla.com", "id": 10116600, "time": "2015-04-03T17:29:08Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=4ed078c16e21", "author": "jorendorff@mozilla.com", "id": 10116759, "time": "2015-04-03T18:03:21Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=9389946b6d89", "author": "jorendorff@mozilla.com", "id": 10116771, "time": "2015-04-03T18:05:46Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=8de752204cca", "author": "jorendorff@mozilla.com", "id": 10116822, "time": "2015-04-03T18:12:01Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=c60eae2bab7b", "author": "jorendorff@mozilla.com", "id": 10117172, "time": "2015-04-03T19:29:57Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=6df254abeabf", "author": "jorendorff@mozilla.com", "id": 10117668, "time": "2015-04-03T21:41:25Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=4df4385fa168", "author": "jorendorff@mozilla.com", "id": 10117960, "time": "2015-04-03T23:14:28Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=634c8f8682e9", "author": "jorendorff@mozilla.com", "id": 10126733, "time": "2015-04-07T17:18:27Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=fc0d9b4e99cf", "author": "jorendorff@mozilla.com", "id": 10127513, "time": "2015-04-07T19:47:10Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=625260480740", "author": "jorendorff@mozilla.com", "id": 10127697, "time": "2015-04-07T20:09:10Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=535c37a2e7fb", "author": "jorendorff@mozilla.com", "id": 10128317, "time": "2015-04-07T22:10:46Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=54d86a897144", "author": "jorendorff@mozilla.com", "id": 10128326, "time": "2015-04-07T22:11:40Z"}, {"text": "Looking good, finally. Bug 1152106 is part of this; I also revised some of the changes in this bug; I'll post the new code for review tonight or tomorrow.", "author": "jorendorff@mozilla.com", "id": 10128819, "time": "2015-04-07T23:57:14Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=10a9f16a2de3", "author": "jorendorff@mozilla.com", "id": 10132944, "time": "2015-04-08T19:58:53Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=4328f8de18e0", "author": "jorendorff@mozilla.com", "id": 10132978, "time": "2015-04-08T20:05:57Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=796a35bab1b7", "author": "jorendorff@mozilla.com", "id": 10139075, "time": "2015-04-09T23:05:32Z"}, {"text": "I told Eric that it would be possible after all to divide Part 3 into many smaller patches, and he decided that in that case, it would be worth re-reviewing it. So let's assume that bug 1152106 will be resolved in some sensible way, and get started on that.\n\nThe patches I'm about to upload add up to almost exactly what's in the original \"Part 3\". I'll also upload another diff showing what's different once you apply the whole stack. Not much. Eric's seen it already.\n\nEric, please look in particular for opportunities to add new tests where behavior changes. Object.defineProperty() is of course already very nearly correct. But it'd be nice to know what user-visible behavior we're fixing here (both in Object.defineProperty and elsewhere) and add test coverage for that.", "author": "jorendorff@mozilla.com", "id": 10141845, "time": "2015-04-10T15:51:44Z"}, {"text": "Created attachment 8590900\npart 3 - Implement ValidateAndApplyPropertyDescriptor step 2\n\nThe new comment \"Filling in desc:\" is aspirational for now, but it gradually becomes true in the subsequent patches in this bug.", "author": "jorendorff@mozilla.com", "id": 10141848, "time": "2015-04-10T15:52:37Z"}, {"text": "Created attachment 8590901\npart 4 - Strip out redundant if-conditions in parts of NativeDefineProperty where shape can't be null", "author": "jorendorff@mozilla.com", "id": 10141850, "time": "2015-04-10T15:52:59Z"}, {"text": "Created attachment 8590902\npart 5 - CompletePropertyDescriptor upgrade", "author": "jorendorff@mozilla.com", "id": 10141854, "time": "2015-04-10T15:53:24Z"}, {"text": "Created attachment 8590903\npart 6 - Implement ValidateAndApplyPropertyDescriptor up to step 5", "author": "jorendorff@mozilla.com", "id": 10141855, "time": "2015-04-10T15:53:37Z"}, {"text": "Created attachment 8590904\npart 7 - Fill in configurable and enumerable\n\nThis changes MutableHandle<PropertyDescriptor>::setEnumerable() to take a boolean argument, and makes it unconditionally clear JSPROP_IGNORE_ENUMERATE, as a convenience. A similar setConfigurable() method is also added.", "author": "jorendorff@mozilla.com", "id": 10141856, "time": "2015-04-10T15:53:59Z"}, {"text": "Created attachment 8590905\npart 8 - Implement ValidateAndApplyPropertyDescriptor step 6\n\nThis also makes some changes to MutableHandle<PropertyDescriptor>, for convenience:\n\n*   Make desc.setGetterObject() and desc.setSetterObject() quietly change *this from a generic or data descriptor into an accessor descriptor, if need be.\n\n*   Make setWritable() clear the JSPROP_IGNORE_READONLY bit if present. (Breaking the symmetry a bit, it won't change *this from an accessor descriptor to a data descriptor. Instead, it asserts you're not doing that.)", "author": "jorendorff@mozilla.com", "id": 10141859, "time": "2015-04-10T15:54:17Z"}, {"text": "Created attachment 8590906\npart 9 - Implement ValidateAndApplyPropertyDescriptor step 7\n\nThe new code takes over some cases that used to be handled by each of the three cases that follow it. Therefore there are changes in all three cases, particularly the desc.isAccessorDescriptor() case, which no longer needs the sparsify code.", "author": "jorendorff@mozilla.com", "id": 10141860, "time": "2015-04-10T15:54:37Z"}, {"text": "Created attachment 8590907\npart 10 - js::NativeDefineProperty: Swap the order of the cases in the remaining old code", "author": "jorendorff@mozilla.com", "id": 10141862, "time": "2015-04-10T15:54:52Z"}, {"text": "Created attachment 8590909\npart 11 - Remove some code for TypedArray cases rendered unreachable by part 1 of this bug", "author": "jorendorff@mozilla.com", "id": 10141865, "time": "2015-04-10T15:55:11Z"}, {"text": "Created attachment 8590911\npart 12 - Reject redefinition of non-writable non-configurable data property as writable. This fixes bug 1073808", "author": "jorendorff@mozilla.com", "id": 10141868, "time": "2015-04-10T15:55:29Z"}, {"text": "Created attachment 8590912\npart 13 - Simplify code to fill in desc.writable, if not present, from the existing shape", "author": "jorendorff@mozilla.com", "id": 10141869, "time": "2015-04-10T15:55:44Z"}, {"text": "Created attachment 8590913\npart 14 - Reject redefining a non-writable non-configurable data property to have a different value", "author": "jorendorff@mozilla.com", "id": 10141871, "time": "2015-04-10T15:56:03Z"}, {"text": "Created attachment 8590915\npart 15 - Stop retaining getter and setter ops when redefining a data property\n\nStandardDefineProperty already does this. In short, redefining a magical data property like array.length or an arguments element should make it nonmagical.\n\nIn fact, it is an engine invariant that Shapes have either both JSPROP_GETTER and JSPROP_SETTER or neither: they never have e.g. a setter object and a getter op. As of recently the GC depends on this. So this change is necessary for memory safety.", "author": "jorendorff@mozilla.com", "id": 10141896, "time": "2015-04-10T16:01:27Z"}, {"text": "Created attachment 8590916\npart 16 - Implement ValidateAndApplyPropertyDescriptor step 9 (redefining an existing accessor property). Remove CheckAccessorRedefinition", "author": "jorendorff@mozilla.com", "id": 10141898, "time": "2015-04-10T16:01:55Z"}, {"text": "Created attachment 8590918\npart 17 - Remove ApplyOrDefaultAttributes\n\nAt this point, each path through the code completely fills in desc, so the final call to ApplyOrDefaultAttributes is redundant. Note that AddOrChangeProperty begins with `desc.assertComplete()`, so we'll find out soon enough if this is not the case.", "author": "jorendorff@mozilla.com", "id": 10141911, "time": "2015-04-10T16:03:49Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=dfbe4ad8905e", "author": "jorendorff@mozilla.com", "id": 10142582, "time": "2015-04-10T18:20:40Z"}, {"text": "Created attachment 8591047\nDifferences between the original part 3 and the new stack", "author": "jorendorff@mozilla.com", "id": 10143152, "time": "2015-04-10T20:15:19Z"}, {"text": "Comment on attachment 8590900\npart 3 - Implement ValidateAndApplyPropertyDescriptor step 2\n\nReview of attachment 8590900:\n-----------------------------------------------------------------\n\nYep", "author": "efaustbmo@gmail.com", "id": 10164863, "time": "2015-04-16T19:08:20Z"}, {"text": "Comment on attachment 8590901\npart 4 - Strip out redundant if-conditions in parts of NativeDefineProperty where shape can't be null\n\nReview of attachment 8590901:\n-----------------------------------------------------------------\n\n::: js/src/vm/NativeObject.cpp\n@@ +1341,5 @@\n>              return false;\n>          return result.succeed();\n>      }\n>  \n>      // If defining a getter or setter, we must check for its counterpart and\n\nThis is dumb, but can we stick a MOZ_ASSERT(shape) above this comment, even though it's patently obviously true, just to guard against future refactoring stupidness? Maybe this isn't necessary, but I've seen this idea elsewhere in the codebase, and it certainly doesn't hurt.", "author": "efaustbmo@gmail.com", "id": 10164898, "time": "2015-04-16T19:16:03Z"}, {"text": "Comment on attachment 8590902\npart 5 - CompletePropertyDescriptor upgrade\n\nReview of attachment 8590902:\n-----------------------------------------------------------------\n\nI assume assertValid asserts that desc.object is non-null?", "author": "efaustbmo@gmail.com", "id": 10164923, "time": "2015-04-16T19:22:56Z"}, {"text": "Comment on attachment 8590903\npart 6 - Implement ValidateAndApplyPropertyDescriptor up to step 5\n\nReview of attachment 8590903:\n-----------------------------------------------------------------\n\nGood, assuming we are still using JSPROP_REDEFINE_NONCONFIGURABLE in that one spot.\n\n::: js/src/tests/ecma_6/Class/classPrototype.js\n@@ -29,5 @@\n> -          }\\`);\n> -} catch (e if e instanceof TypeError) {\n> -    throw new Error(\"Congrats on making initprop respect non-writable \" +\n> -                    \"non-configurable properties. Uncomment the test below \" +\n> -                    \"for bonus points.\");\n\njorendorff++ :)\n\n::: js/src/vm/NativeObject.cpp\n@@ +1352,5 @@\n> +    // access to accessors found on such an object. Bug 1105518 contemplates\n> +    // removing this hack.\n> +    bool skipRedefineChecks = (desc.attributes() & JSPROP_REDEFINE_NONCONFIGURABLE) &&\n> +                              obj->is<GlobalObject>() &&\n> +                              !obj->getClass()->isDOMClass();\n\nWhere did we land on the XPCGlobalYadaYada thing? Did we go back to REDEFINE_NONCONFIGURABLE?", "author": "efaustbmo@gmail.com", "id": 10164975, "time": "2015-04-16T19:32:14Z"}, {"text": "Comment on attachment 8590904\npart 7 - Fill in configurable and enumerable\n\nReview of attachment 8590904:\n-----------------------------------------------------------------\n\n::: js/src/jsapi.h\n@@ +2702,5 @@\n>      }\n>  \n> +    void setConfigurable(bool configurable) {\n> +        setAttributes((desc()->attrs & ~(JSPROP_IGNORE_PERMANENT | JSPROP_PERMANENT)) |\n> +                      (configurable ? 0 : JSPROP_PERMANENT));\n\nYeah, this never got updated when IGNORE was added. This is a nice touch.\n\n::: js/src/vm/NativeObject.cpp\n@@ +1189,5 @@\n>      return Throw(cx->asJSContext(), shape->propid(), JSMSG_CANT_REDEFINE_PROP);\n>  }\n>  \n>  static bool\n> +AddOrChangeProperty(ExclusiveContext* cx, HandleNativeObject obj, HandleId id,\n\nIt's cool that the type system lets us specify this now.", "author": "efaustbmo@gmail.com", "id": 10165006, "time": "2015-04-16T19:35:57Z"}, {"text": "Comment on attachment 8590905\npart 8 - Implement ValidateAndApplyPropertyDescriptor step 6\n\nReview of attachment 8590905:\n-----------------------------------------------------------------\n\n::: js/src/vm/NativeObject.cpp\n@@ +1268,5 @@\n> +                    typename MaybeRooted<Shape*, allowGC>::HandleType shape,\n> +                    typename MaybeRooted<Value, allowGC>::MutableHandleType vp);\n> +\n> +static bool\n> +GetExistingPropertyValue(ExclusiveContext* cx, HandleNativeObject obj, HandleId id,\n\nThis is a really nice abstraction. I've been generally pleasantly surprised with how well we've been able to hide the various random object types flowing through here behind sensible helpers in the core algorithm.", "author": "efaustbmo@gmail.com", "id": 10165053, "time": "2015-04-16T19:46:37Z"}, {"text": "Comment on attachment 8590907\npart 10 - js::NativeDefineProperty: Swap the order of the cases in the remaining old code\n\nReview of attachment 8590907:\n-----------------------------------------------------------------\n\nAPPROVED.", "author": "efaustbmo@gmail.com", "id": 10165151, "time": "2015-04-16T20:11:55Z"}, {"text": "Comment on attachment 8590912\npart 13 - Simplify code to fill in desc.writable, if not present, from the existing shape\n\nReview of attachment 8590912:\n-----------------------------------------------------------------\n\n::: js/src/vm/NativeObject.cpp\n@@ +1460,5 @@\n>                  shape = obj->lookup(cx, id);\n>              }\n>  \n> +            // We are at most changing some attributes. Take everything from\n> +            // the shape that we aren't changing.\n\nAh, we don't need to deal with this, because we flow into AddOrChangeProperty below, right?", "author": "efaustbmo@gmail.com", "id": 10165199, "time": "2015-04-16T20:18:50Z"}, {"text": "Comment on attachment 8590913\npart 14 - Reject redefining a non-writable non-configurable data property to have a different value\n\nReview of attachment 8590913:\n-----------------------------------------------------------------\n\nNice.", "author": "efaustbmo@gmail.com", "id": 10165205, "time": "2015-04-16T20:20:21Z"}, {"text": "Comment on attachment 8590915\npart 15 - Stop retaining getter and setter ops when redefining a data property\n\nReview of attachment 8590915:\n-----------------------------------------------------------------\n\nAgreed.", "author": "efaustbmo@gmail.com", "id": 10165211, "time": "2015-04-16T20:21:56Z"}, {"text": "Comment on attachment 8590918\npart 17 - Remove ApplyOrDefaultAttributes\n\nReview of attachment 8590918:\n-----------------------------------------------------------------\n\nGood. Glad to see this mistake go.", "author": "efaustbmo@gmail.com", "id": 10165219, "time": "2015-04-16T20:24:02Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=063ad1ed19bc", "author": "jorendorff@mozilla.com", "id": 10181123, "time": "2015-04-21T16:29:45Z"}, {"text": "Comment 60 (reviewing part 5, attachment 8590902):\n> I assume assertValid asserts that desc.object is non-null?\n\nNo, because DefineProperty should completely ignore desc.object(), and\ncallers should pass null. I'll file a bug about this. Already have the\npatch.\n\nThe rule here is that we should avoid redundant arguments, as that is\nbegging for inconsistencies. If desc.object() is used, how is it\ndifferent from the obj argument?\n\n(Alternatively, I could have changed DefineProperty to use desc.object()\nas the target object *instead of* the obj parameter, which could simply\nbe dropped. But I think keeping the obj parameter is more sensible.\nProxies in particular treat `obj` as separate from `desc`.)\n\nComment 61 (reviewing part 6, attachment 8590903):\n> Where did we land on the XPCGlobalYadaYada thing? Did we go back to\n> REDEFINE_NONCONFIGURABLE?\n\nbholley was able to handhold me through actually fixing it.\nNo new `JSPROP_REDEFINE_NONCONFIGURABLE` uses. Yay.\n\nComment 65 (reviewing part 13, attachment 8590912):\n> Ah, we don't need to deal with this, because we flow into\n> AddOrChangeProperty below, right?\n\nNot exactly - it's because the patch adds code (above this comment) to\ndeal with the writable bit, and part 7 takes care of enumerable and\nconfigurable. Those are the only bits we have on data properties, so no\nmore bitmath is necessary.", "author": "jorendorff@mozilla.com", "id": 10181272, "time": "2015-04-21T16:55:03Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/17aa3439663e\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/7de0ce3f9957\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/409102cfa8d0\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/933fd6203904\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/6c70dc0045dd\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/8991a055ad45\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/393a6ac6cdcb\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/00959f6f41b7\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/f6edead66897\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/6d51d528b8c8\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/9ff086682239\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/cefbe81af44a\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/fe7d4e55db55\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/b417da735191\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/caaa22357ca6\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/54ef8728576d\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/0ae48e9588ee", "author": "jorendorff@mozilla.com", "id": 10183586, "time": "2015-04-22T01:15:08Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/17aa3439663e\nhttps://hg.mozilla.org/mozilla-central/rev/7de0ce3f9957\nhttps://hg.mozilla.org/mozilla-central/rev/409102cfa8d0\nhttps://hg.mozilla.org/mozilla-central/rev/933fd6203904\nhttps://hg.mozilla.org/mozilla-central/rev/6c70dc0045dd\nhttps://hg.mozilla.org/mozilla-central/rev/8991a055ad45\nhttps://hg.mozilla.org/mozilla-central/rev/393a6ac6cdcb\nhttps://hg.mozilla.org/mozilla-central/rev/00959f6f41b7\nhttps://hg.mozilla.org/mozilla-central/rev/f6edead66897\nhttps://hg.mozilla.org/mozilla-central/rev/6d51d528b8c8\nhttps://hg.mozilla.org/mozilla-central/rev/9ff086682239\nhttps://hg.mozilla.org/mozilla-central/rev/cefbe81af44a\nhttps://hg.mozilla.org/mozilla-central/rev/fe7d4e55db55\nhttps://hg.mozilla.org/mozilla-central/rev/b417da735191\nhttps://hg.mozilla.org/mozilla-central/rev/caaa22357ca6\nhttps://hg.mozilla.org/mozilla-central/rev/54ef8728576d\nhttps://hg.mozilla.org/mozilla-central/rev/0ae48e9588ee", "author": "kwierso@gmail.com", "id": 10188309, "time": "2015-04-23T00:27:06Z"}, {"text": "*** Bug 1073808 has been marked as a duplicate of this bug. ***", "author": "jorendorff@mozilla.com", "id": 10190895, "time": "2015-04-23T15:04:31Z"}], "cf_last_resolved": "2015-04-23T00:27:06Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2015-04-23T15:04:31Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [1073808, 1125624], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "JavaScript Engine", "votes": 0, "groups": [], "cf_status_firefox60": "---", "target_milestone": "mozilla40", "is_cc_accessible": true, "status": "RESOLVED", "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "jorendorff@mozilla.com", "id": 281791, "name": "jorendorff@mozilla.com", "real_name": "Jason Orendorff [:jorendorff]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "andrebargull@googlemail.com", "id": 339940, "name": "andrebargull@googlemail.com", "real_name": "Andr\u00e9 Bargull [:anba]"}, {"email": "efaustbmo@gmail.com", "id": 442736, "name": "efaustbmo@gmail.com", "real_name": "Eric Faust [:efaust]"}, {"email": "jorendorff@mozilla.com", "id": 281791, "name": "jorendorff@mozilla.com", "real_name": "Jason Orendorff [:jorendorff]"}, {"email": "kwierso@gmail.com", "id": 308534, "name": "kwierso@gmail.com", "real_name": "Wes Kocher (:KWierso)"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1125624"}], "who": "jorendorff@mozilla.com", "when": "2015-03-28T12:38:43Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1073808"}], "who": "jorendorff@mozilla.com", "when": "2015-03-28T21:58:09Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8586142, "added": "review?(efaustbmo@gmail.com)"}, {"removed": "", "field_name": "cc", "added": "efaustbmo@gmail.com"}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:11:04Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "jorendorff@mozilla.com"}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:11:08Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8586143, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:12:23Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8586142, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8586142, "added": ""}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:12:26Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8586146, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:16:58Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8586143, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8586143, "added": ""}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:17:01Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8586152, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:35:30Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8586146, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8586146, "added": ""}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:35:34Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "1", "attachment_id": 8586142, "added": "0"}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:38:50Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "1", "attachment_id": 8586143, "added": "0"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8586143, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:39:17Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8586142, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-03-31T15:39:29Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8586142, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-03-31T18:09:00Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8586143, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-03-31T20:12:10Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8586152, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-03-31T20:19:32Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jorendorff@mozilla.com, wkocher@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jorendorff@mozilla.com)"}], "who": "kwierso@gmail.com", "when": "2015-04-02T02:28:01Z"}, {"changes": [{"removed": "needinfo?(jorendorff@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jorendorff@mozilla.com", "when": "2015-04-02T14:41:22Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1152106"}], "who": "jorendorff@mozilla.com", "when": "2015-04-07T23:57:31Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590900, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:52:37Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8586152, "added": "1"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:52:44Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590901, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:52:59Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590902, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:53:24Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590903, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:53:37Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590904, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:53:59Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590905, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:54:17Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590906, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:54:37Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590907, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:54:52Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590909, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:55:11Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590911, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:55:29Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590912, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:55:44Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590913, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T15:56:03Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590915, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T16:01:27Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590916, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T16:01:55Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8590918, "added": "review?(efaustbmo@gmail.com)"}], "who": "jorendorff@mozilla.com", "when": "2015-04-10T16:03:49Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590900, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T19:08:20Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590901, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T19:16:03Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590902, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T19:22:56Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590903, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T19:32:14Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590904, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T19:35:57Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590905, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T19:46:37Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590906, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:10:59Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590907, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:11:55Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590909, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:12:25Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590911, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:14:26Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590912, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:18:50Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590913, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:20:21Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590915, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:21:56Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590916, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:23:12Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(efaustbmo@gmail.com)", "attachment_id": 8590918, "added": "review+"}], "who": "efaustbmo@gmail.com", "when": "2015-04-16T20:24:02Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla40"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-04-22 17:27:06"}, {"removed": "---", "field_name": "cf_status_firefox40", "added": "fixed"}], "who": "kwierso@gmail.com", "when": "2015-04-23T00:27:06Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "andrebargull@googlemail.com"}], "who": "jorendorff@mozilla.com", "when": "2015-04-23T15:04:31Z"}], "resolution": "FIXED", "op_sys": "Linux", "cf_fx_points": "---", "cf_blocking_fennec": "---"}