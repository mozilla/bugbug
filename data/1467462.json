{"cf_tracking_thunderbird_esr52": "---", "status": "VERIFIED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Components", "creator": "csabou@mozilla.com", "cc": ["core-build-config-reviews@mozilla.bugs", "mcastelluccio@mozilla.com", "mh+mozilla@glandium.org", "nfroyd@mozilla.com", "ryanvm@gmail.com"], "depends_on": [1467041], "creation_time": "2018-06-07T14:07:01Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["regression"], "summary": "Bustages @test_toolkit_moz_configure.py when Gecko 62 merges to Beta on 14-06-2018", "cf_last_resolved": "2018-06-08T21:56:30Z", "attachments": [{"creator": "mh+mozilla@glandium.org", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-06-08T13:14:46Z", "type_id": 4, "creation_date": "2018-06-07T22:22:07Z", "id": 1767362, "setter": "nfroyd@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2018-06-09T15:46:26Z", "type_id": 721, "creation_date": "2018-06-08T13:54:53Z", "id": 1767569, "setter": "ryanvm@gmail.com"}, {"status": "+", "name": "approval-mozilla-esr60", "modification_date": "2018-06-09T15:46:26Z", "type_id": 929, "creation_date": "2018-06-08T13:54:53Z", "id": 1767570, "setter": "ryanvm@gmail.com"}], "content_type": "text/x-review-board-request", "id": 8984303}], "assigned_to_detail": {"email": "mh+mozilla@glandium.org", "id": 47192, "name": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]"}, "severity": "blocker", "is_confirmed": true, "is_creator_accessible": true, "comments": [{"text": "Central as beta simulation: https://treeherder.mozilla.org/#/jobs?repo=try&revision=9aa14f567712f1e73626f9ec53ec4b17779b257d&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception&filter-resultStatus=retry&filter-resultStatus=running&filter-resultStatus=pending&filter-resultStatus=runnable&selectedJob=182266731\n\nFailure log: https://treeherder.mozilla.org/logviewer.html#?job_id=182266731&repo=try&lineNumber=73360\n\n[task 2018-06-07T13:01:39.256Z] 13:01:39  WARNING - ../python/mozbuild/mozbuild/test/configure/test_toolkit_moz_configure.py::TestToolkitMozConfigure::test_developer_options TEST-UNEXPECTED-FAIL\n[task 2018-06-07T13:01:39.256Z] 13:01:39     INFO - =================================== FAILURES ===================================\n[task 2018-06-07T13:01:39.256Z] 13:01:39     INFO - ________________ TestToolkitMozConfigure.test_developer_options ________________\n[task 2018-06-07T13:01:39.256Z] 13:01:39     INFO - self = <test_toolkit_moz_configure.TestToolkitMozConfigure testMethod=test_developer_options>\n[task 2018-06-07T13:01:39.256Z] 13:01:39     INFO -     def test_developer_options(self):\n[task 2018-06-07T13:01:39.271Z] 13:01:39     INFO -         def get_value(args=[], environ={}):\n[task 2018-06-07T13:01:39.271Z] 13:01:39     INFO -             sandbox = self.get_sandbox({}, {}, args, environ)\n[task 2018-06-07T13:01:39.272Z] 13:01:39     INFO -             return sandbox._value_for(sandbox['developer_options'])\n[task 2018-06-07T13:01:39.279Z] 13:01:39     INFO - >       self.assertEqual(get_value(), True)\n[task 2018-06-07T13:01:39.279Z] 13:01:39     INFO - E       AssertionError: None != True\n[task 2018-06-07T13:01:39.279Z] 13:01:39     INFO - ../python/mozbuild/mozbuild/test/configure/test_toolkit_moz_configure.py:21: AssertionError\n[task 2018-06-07T13:01:39.279Z] 13:01:39     INFO - =========================== 1 failed in 0.74 seconds ===========================\n[task 2018-06-07T13:01:39.279Z] 13:01:39     INFO - Setting retcode to 1 from /builds/worker/workspace/build/src/python/mozbuild/mozbuild/test/configure/test_toolkit_moz_configure.py\n[task 2018-06-07T13:01:39.286Z] 13:01:39     INFO - /builds/worker/workspace/build/src/python/mozbuild/mozbuild/test/frontend/test_namespaces.py\n[task 2018-06-07T13:01:39.286Z] 13:01:39     INFO - ============================= test session starts ==============================\n[task 2018-06-07T13:01:39.286Z] 13:01:39     INFO - platform linux2 -- Python 2.7.9, pytest-3.2.5, py-1.5.3, pluggy-0.4.0 -- /builds/worker/workspace/build/src/obj-firefox/_virtualenvs/init/bin/python\n[task 2018-06-07T13:01:39.286Z] 13:01:39     INFO - rootdir: /builds/worker/workspace/build/src/python/mozbuild, inifile:\n\nThis looks to be a regression from bug 1467041 https://hg.mozilla.org/mozilla-central/rev/9f71934b9849", "author": "csabou@mozilla.com", "id": 13393675, "time": "2018-06-07T14:07:01Z"}, {"text": "Created attachment 8984303\nBug 1467462 - Adjust test_developer_options after bug 1467041.\n\nBug 1467041 changed the default for --enable-release such that it is\naffected by the milestone. Test both possible cases for milestones.\n\nReview commit: https://reviewboard.mozilla.org/r/250112/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/250112/", "author": "mh+mozilla@glandium.org", "id": 13395093, "time": "2018-06-07T22:22:07Z"}, {"text": "Comment on attachment 8984303\nBug 1467462 - Adjust test_developer_options after bug 1467041.\n\nhttps://reviewboard.mozilla.org/r/250112/#review256548", "author": "nfroyd@mozilla.com", "id": 13396133, "time": "2018-06-08T13:14:46Z"}, {"text": "Pushed by mh@glandium.org:\nhttps://hg.mozilla.org/integration/autoland/rev/22731d5b275a\nAdjust test_developer_options after bug 1467041. r=froydnj", "author": "pulsebot@bots.tld", "id": 13396141, "time": "2018-06-08T13:16:52Z"}, {"text": "Comment on attachment 8984303\nBug 1467462 - Adjust test_developer_options after bug 1467041.\n\nApproval Request Comment\n[Feature/Bug causing the regression]: This fixes the tests for --enable-release after bug 1467041\n[Is this code covered by automated tests?]: This code *is* an automated test\n[Has the fix been verified in Nightly?]: On autoland\n[Needs manual test from QE? If yes, steps to reproduce]: N/A\n[List of other uplifts needed for the feature/fix]: This accompanies uplifting bug 1467041\n[Is the change risky?]: No\n[Why is the change risky/not risky?]: The change actually introduces tests for both nightly *and* non-nightly, proving that bug 1467041 actually works as intended on all branches, while fixing the test when running on non-nightly.\n[String changes made/needed]: N/A", "author": "mh+mozilla@glandium.org", "id": 13396231, "time": "2018-06-08T13:54:53Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/22731d5b275a", "author": "cbrindusan@mozilla.com", "id": 13397331, "time": "2018-06-08T21:56:30Z"}, {"text": "I've confirmed with the SV sheriffs that this is fixed in the most recent simulations.", "author": "ryanvm@gmail.com", "id": 13397988, "time": "2018-06-09T14:57:42Z"}, {"text": "Comment on attachment 8984303\nBug 1467462 - Adjust test_developer_options after bug 1467041.\n\nBug fix needed for bug 1467041. Approved for 61.0b13 and ESR 60.1.", "author": "ryanvm@gmail.com", "id": 13398052, "time": "2018-06-09T15:46:26Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-beta/rev/05400e59a489", "author": "ryanvm@gmail.com", "id": 13398064, "time": "2018-06-09T15:57:10Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-esr60/rev/7d96e64a4574", "author": "ryanvm@gmail.com", "id": 13398075, "time": "2018-06-09T16:01:53Z"}], "id": 1467462, "priority": "--", "mentors_detail": [], "comment_count": 10, "cf_status_thunderbird_esr52": "unaffected", "cf_qa_whiteboard": "", "version": "Version 3", "cf_tracking_firefox62": "+", "cf_platform_rel": "---", "product": "Firefox Build System", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "see_also": [], "cf_status_firefox_esr52": "unaffected", "component": "General", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "verified", "cf_status_firefox61": "fixed", "cf_status_firefox60": "unaffected", "target_milestone": "mozilla62", "is_cc_accessible": true, "cf_tracking_thunderbird_esr60": "---", "groups": [], "cf_tracking_firefox_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "unaffected", "creator_detail": {"email": "csabou@mozilla.com", "id": 600699, "name": "csabou@mozilla.com", "real_name": "Cosmin Sabou [:CosminS]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "core-build-config-reviews@mozilla.bugs", "id": 603852, "name": "core-build-config-reviews@mozilla.bugs", "real_name": "Reviewers for Core::Build Config Bugs (:build-peer)"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "mh+mozilla@glandium.org", "id": 47192, "name": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]"}, {"email": "nfroyd@mozilla.com", "id": 417288, "name": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}], "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-09T16:01:53Z", "cf_status_firefox_esr60": "fixed", "assigned_to": "mh+mozilla@glandium.org", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "mh+mozilla@glandium.org"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(mh+mozilla@glandium.org)"}], "who": "csabou@mozilla.com", "when": "2018-06-07T14:07:01Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8984303, "added": "review?(core-build-config-reviews@mozilla.bugs)"}, {"removed": "", "field_name": "cc", "added": "core-build-config-reviews@mozilla.bugs"}], "who": "mh+mozilla@glandium.org", "when": "2018-06-07T22:22:07Z"}, {"changes": [{"removed": "needinfo?(mh+mozilla@glandium.org)", "field_name": "flagtypes.name", "added": ""}], "who": "mh+mozilla@glandium.org", "when": "2018-06-08T00:11:29Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "mh+mozilla@glandium.org"}], "who": "mh+mozilla@glandium.org", "when": "2018-06-08T00:11:36Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-06-08T12:45:22Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(core-build-config-reviews@mozilla.bugs)", "attachment_id": 8984303, "added": "review?(nfroyd@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "nfroyd@mozilla.com"}], "who": "nfroyd@mozilla.com", "when": "2018-06-08T13:14:29Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(nfroyd@mozilla.com)", "attachment_id": 8984303, "added": "review+"}], "who": "nfroyd@mozilla.com", "when": "2018-06-08T13:14:46Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8984303, "added": "approval-mozilla-beta?, approval-mozilla-esr60?"}], "who": "mh+mozilla@glandium.org", "when": "2018-06-08T13:54:53Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-06-08 21:56:30"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "cbrindusan@mozilla.com", "when": "2018-06-08T21:56:30Z"}, {"changes": [{"removed": "unaffected", "field_name": "cf_status_firefox_esr60", "added": "affected"}, {"removed": "unaffected", "field_name": "cf_status_firefox61", "added": "affected"}, {"removed": "?", "field_name": "cf_tracking_firefox62", "added": "+"}, {"removed": "fixed", "field_name": "cf_status_firefox62", "added": "verified"}, {"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}, {"removed": "", "field_name": "cc", "added": "ryanvm@gmail.com"}], "who": "ryanvm@gmail.com", "when": "2018-06-09T14:57:42Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-beta?, approval-mozilla-esr60?", "attachment_id": 8984303, "added": "approval-mozilla-beta+, approval-mozilla-esr60+"}], "who": "ryanvm@gmail.com", "when": "2018-06-09T15:46:26Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2018-06-09T15:57:10Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox_esr60", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2018-06-09T16:01:53Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}