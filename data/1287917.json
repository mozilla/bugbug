{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "dvander@alliedmods.net", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8772552}, {"creator": "dvander@alliedmods.net", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-07-20T03:06:19Z", "type_id": 4, "creation_date": "2016-07-19T22:49:25Z", "id": 1426207, "setter": "bugmail@mozilla.staktrace.com"}], "content_type": "text/plain", "id": 8772619}], "classification": "Components", "creator": "dvander@alliedmods.net", "cc": ["bugmail@mozilla.staktrace.com"], "depends_on": [], "creation_time": "2016-07-19T20:28:28Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "Ensure ScrollMetadata::sNullMetadata is initialized in the GPU process", "id": 1287917, "cf_status_firefox50": "fixed", "assigned_to_detail": {"email": "dvander@alliedmods.net", "id": 309316, "name": "dvander@alliedmods.net", "real_name": "David Anderson [:dvander] - inactive, e-mail if emergency"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "dvander@alliedmods.net", "comment_count": 7, "comments": [{"text": "", "author": "dvander@alliedmods.net", "id": 11559660, "time": "2016-07-19T20:28:28Z"}, {"text": "Created attachment 8772552\npatch\n\nGPU process doesn't create gfxPlatform since it entrains so many other things, so we need to factor out ScrollMetadata initialization somehow.", "author": "dvander@alliedmods.net", "id": 11559697, "time": "2016-07-19T20:38:45Z"}, {"text": "In bug 1219296 where this was added there was a bunch of discussion about where to put it. One of the things we concluded was that it's used even in APZ-disabled scenarios and so probably doesn't belong in the APZ code. Also it's used in gtests, so we couldn't put it in CompositorBridgeParent. Can we instead just put those two lines into a static function in gfxPlatform? It would be exactly the same set up as you have in this patch, but gfxPlatform::InitNullMetadata instead of APZCTreeManager::Init(). You won't need to call gfxPlatform::Init() in the GPU process.", "author": "bugmail@mozilla.staktrace.com", "id": 11559737, "time": "2016-07-19T20:49:11Z"}, {"text": "Created attachment 8772619\npatch v2\n\nMakes sense", "author": "dvander@alliedmods.net", "id": 11560099, "time": "2016-07-19T22:49:25Z"}, {"text": "Comment on attachment 8772619\npatch v2\n\nReview of attachment 8772619:\n-----------------------------------------------------------------\n\nThanks", "author": "bugmail@mozilla.staktrace.com", "id": 11560513, "time": "2016-07-20T03:06:19Z"}, {"text": "Pushed by danderson@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/9b7f6c64fe03\nEnsure GPU process initializes ScrollMetadata::sNullMetrics. (bug 1287917, r=kats)", "author": "pulsebot@bots.tld", "id": 11560603, "time": "2016-07-20T04:12:27Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/9b7f6c64fe03", "author": "cbook@mozilla.com", "id": 11561334, "time": "2016-07-20T09:45:29Z"}], "cf_last_resolved": "2016-07-20T09:45:29Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2016-07-20T09:45:29Z", "cf_platform_rel": "---", "product": "Core", "cf_status_firefox_esr52": "---", "blocks": [1264543], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Graphics: Layers", "votes": 0, "groups": [], "cf_status_firefox60": "---", "target_milestone": "mozilla50", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "dvander@alliedmods.net", "id": 309316, "name": "dvander@alliedmods.net", "real_name": "David Anderson [:dvander] - inactive, e-mail if emergency"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "bugmail@mozilla.staktrace.com", "id": 426788, "name": "bugmail@mozilla.staktrace.com", "real_name": "Kartikaya Gupta (email:kats@mozilla.com)"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "bugmail@mozilla.staktrace.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8772552, "added": "review?(bugmail@mozilla.staktrace.com)"}], "who": "dvander@alliedmods.net", "when": "2016-07-19T20:38:45Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8772552, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(bugmail@mozilla.staktrace.com)", "attachment_id": 8772552, "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8772619, "added": "review?(bugmail@mozilla.staktrace.com)"}], "who": "dvander@alliedmods.net", "when": "2016-07-19T22:49:25Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bugmail@mozilla.staktrace.com)", "attachment_id": 8772619, "added": "review+"}], "who": "bugmail@mozilla.staktrace.com", "when": "2016-07-20T03:06:19Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla50"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-07-20 09:45:29"}, {"removed": "---", "field_name": "cf_status_firefox50", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2016-07-20T09:45:29Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}