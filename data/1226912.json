{"status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "ma.steiman@gmail.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-01-08T11:21:08Z", "type_id": 748, "creation_date": "2015-12-05T00:12:06Z", "id": 1305142, "setter": "zer0@mozilla.com"}], "content_type": "text/plain", "id": 8696121}, {"creator": "ma.steiman@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "image/png", "id": 8696122}], "classification": "Client Software", "creator": "arni2033@yandex.ru", "cc": ["arni2033@yandex.ru", "jwalker@mozilla.com", "ma.steiman@gmail.com", "n4sabbir@gmail.com", "zer0@mozilla.com"], "depends_on": [], "creation_time": "2015-11-21T21:40:56Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "Measuring tool doesn't remove 'mouseleave' event listeners", "id": 1226912, "assigned_to_detail": {"email": "ma.steiman@gmail.com", "id": 539518, "name": "ma.steiman@gmail.com", "real_name": "Tyler Steiman"}, "severity": "trivial", "is_confirmed": true, "is_creator_accessible": true, "cf_status_firefox45": "affected", "cf_has_regression_range": "---", "assigned_to": "ma.steiman@gmail.com", "comment_count": 14, "comments": [{"text": "My Info:   Win7_64, Nightly 45, 32bit, ID 20151119030404\n\nSTR:\n1. Open devtools, click \"Measure a portion of the page\" button several times\n2. Open Browser Toolbox, inspect current <browser> (content area)\n\nResult:       \n  'mouseleave' event handlers aren't removed\n> screenshot:   https://dl.dropboxusercontent.com/s/3rqbdz4xw9wr8f8/screenshot%20-%20Measuring%20tool%20doesn%27t%20remove%20%27mouseleave%27%20event%20listeners.png?dl=0\n\nExpectations: \n  function \"destroy()\" should remove 'mouseleave' event handler as well\n> http://mxr.mozilla.org/mozilla-central/source/devtools/server/actors/highlighters/measuring-tool.js#213", "author": "arni2033@yandex.ru", "id": 10953969, "time": "2015-11-21T21:40:56Z"}, {"text": "I would love to work on this, is this only effecting non-e10s windows? I'm having trouble replicating the problem in e10s.", "author": "ma.steiman@gmail.com", "id": 10990541, "time": "2015-12-04T23:10:15Z"}, {"text": "Created attachment 8696121\nbug1226912_measuringtool_mouseleave.diff\n\nThis patch seems to fix the problem, after building `mouseleave` is no longer present.", "author": "ma.steiman@gmail.com", "id": 10990650, "time": "2015-12-05T00:12:06Z"}, {"text": "Created attachment 8696122\nscreen.png\n\nScreenshot after building with patch.", "author": "ma.steiman@gmail.com", "id": 10990653, "time": "2015-12-05T00:13:37Z"}, {"text": "Comment on attachment 8696121\nbug1226912_measuringtool_mouseleave.diff\n\nReview of attachment 8696121:\n-----------------------------------------------------------------\n\nThnks, This looks good to me, but Matteo should review this to be sure.", "author": "jwalker@mozilla.com", "id": 10991006, "time": "2015-12-05T09:12:39Z"}, {"text": "(In reply to Tyler Steiman from comment #1)\n> is this only effecting non-e10s windows? I'm having trouble replicating the problem in e10s.\nThat's a good note. In e10s-mode:\n1) Browser Toolbox doesn't list those event listeners (all of them).\n   That's probably because those are event listeners registered in remote process.\n2) When I move mouse from content area, the measuring tooltip doesn't disappear. So \"mouseleave\"\n   listener either doesn't fire OR operates bad. IMO this should be checked properly in separate bug\n\nJust for the record: I'm not a guy who knows much about devtools code; I just read it sometimes", "author": "arni2033@yandex.ru", "id": 10991358, "time": "2015-12-05T17:16:53Z"}, {"text": "I'm assuming this would be reviewed after the holiday season?", "author": "ma.steiman@gmail.com", "id": 11004707, "time": "2015-12-14T18:43:07Z"}, {"text": "(In reply to Tyler Steiman from comment #6)\n> I'm assuming this would be reviewed after the holiday season?\n\nI really hope not - Matteo should be on to it shortly.", "author": "jwalker@mozilla.com", "id": 11005089, "time": "2015-12-14T20:30:34Z"}, {"text": "Any news on this?", "author": "ma.steiman@gmail.com", "id": 11056091, "time": "2016-01-07T20:57:48Z"}, {"text": "Comment on attachment 8696121\nbug1226912_measuringtool_mouseleave.diff\n\nReview of attachment 8696121:\n-----------------------------------------------------------------\n\nSorry for the very late response; Looks good to me. I designed the code for the new highlighters to avoid such things in the future.", "author": "zer0@mozilla.com", "id": 11058066, "time": "2016-01-08T11:21:08Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/98d1a38f79a1", "author": "pulsebot@bots.tld", "id": 11063172, "time": "2016-01-11T07:49:44Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/98d1a38f79a1", "author": "cbook@mozilla.com", "id": 11067757, "time": "2016-01-12T11:00:10Z"}, {"text": "[bugday-20160323]\n\nStatus: RESOLVED,FIXED -> VERIFIED\n\nComments:\nTest Successful.\n\nComponent: \nName\t\t\tFirefox\nVersion\t\t\t46.0b9\nBuild ID\t\t20160322075646\nUpdate Channel\t        beta\nUser Agent \t\tMozilla/5.0 (Windows NT 6.1; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0\nOS\t\t\tWindows 7 SP1 x86_64\n\nExpected Results: \ndestroy() has removed the mouseleave event handler from series of event listeners.\n\nActual Results: \nAs expected", "author": "ram.nath241089@gmail.com", "id": 11313615, "time": "2016-04-10T17:08:10Z"}, {"text": "I've managed to reproduce this bug on Nightly 45.0a1 (2015-11-21) (Build ID: 20151121030232) on Linux, 64 Bit.\n\nThis Bug is now verified as fixed on Latest Firefox Nightly 50.0a1 (2016-06-29)\n\nBuild ID: 20160629030209\nUser Agent: Mozilla/5.0 (X11; Linux x86_64; rv:50.0) Gecko/20100101 Firefox/50.0\nOS: Ubuntu 14.04 ; inux 3.19.0-61-generic", "author": "n4sabbir@gmail.com", "id": 11512200, "time": "2016-06-29T20:08:59Z"}], "cf_last_resolved": "2016-01-12T11:00:10Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "[bugday-20160629]", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2016-06-29T20:08:59Z", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "---", "blocks": [], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Developer Tools: Graphic Commandline and Toolbar", "votes": 0, "groups": [], "cf_status_firefox60": "---", "target_milestone": "Firefox 46", "is_cc_accessible": true, "cf_status_firefox46": "fixed", "url": "", "creator_detail": {"email": "arni2033@yandex.ru", "id": 540189, "name": "arni2033@yandex.ru", "real_name": "arni2033"}, "whiteboard": "[good first bug][lang=js]", "mentors": [], "cc_detail": [{"email": "arni2033@yandex.ru", "id": 540189, "name": "arni2033@yandex.ru", "real_name": "arni2033"}, {"email": "jwalker@mozilla.com", "id": 337891, "name": "jwalker@mozilla.com", "real_name": "Joe Walker [:jwalker] (needinfo me or ping on irc)"}, {"email": "ma.steiman@gmail.com", "id": 539518, "name": "ma.steiman@gmail.com", "real_name": "Tyler Steiman"}, {"email": "n4sabbir@gmail.com", "id": 529620, "name": "n4sabbir@gmail.com", "real_name": "Nazir Ahmed Sabbir [:NaSb]"}, {"email": "zer0@mozilla.com", "id": 417129, "name": "zer0@mozilla.com", "real_name": "Matteo Ferretti [:zer0] [:matteo]"}], "cf_has_str": "yes", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "arni2033@yandex.ru, ma.steiman@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(arni2033@yandex.ru)"}], "who": "ma.steiman@gmail.com", "when": "2015-12-04T23:10:15Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "", "field_name": "cc", "added": "jwalker@mozilla.com"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "ma.steiman@gmail.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8696121, "added": "review?(jwalker@mozilla.com)"}], "who": "ma.steiman@gmail.com", "when": "2015-12-05T00:12:06Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "zer0@mozilla.com"}, {"field_name": "flagtypes.name", "removed": "review?(jwalker@mozilla.com)", "attachment_id": 8696121, "added": "review?(zer0@mozilla.com)"}], "who": "jwalker@mozilla.com", "when": "2015-12-05T09:12:39Z"}, {"changes": [{"removed": "needinfo?(arni2033@yandex.ru)", "field_name": "flagtypes.name", "added": ""}], "who": "arni2033@yandex.ru", "when": "2015-12-05T17:16:53Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jwalker@mozilla.com)"}], "who": "ma.steiman@gmail.com", "when": "2015-12-14T18:43:07Z"}, {"changes": [{"removed": "needinfo?(jwalker@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jwalker@mozilla.com", "when": "2015-12-14T20:30:34Z"}, {"changes": [{"removed": "---", "field_name": "cf_has_str", "added": "yes"}], "who": "arni2033@yandex.ru", "when": "2016-01-04T09:55:14Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(jwalker@mozilla.com)"}], "who": "ma.steiman@gmail.com", "when": "2016-01-07T20:57:48Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(zer0@mozilla.com)", "attachment_id": 8696121, "added": "review+"}], "who": "zer0@mozilla.com", "when": "2016-01-08T11:21:08Z"}, {"changes": [{"removed": "needinfo?(jwalker@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "jwalker@mozilla.com", "when": "2016-01-08T11:38:41Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "checkin-needed"}], "who": "ma.steiman@gmail.com", "when": "2016-01-11T01:09:09Z"}, {"changes": [{"removed": "checkin-needed", "field_name": "keywords", "added": ""}], "who": "pulsebot@bots.tld", "when": "2016-01-11T07:49:44Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 46"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-01-12 03:00:10"}, {"removed": "---", "field_name": "cf_status_firefox46", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2016-01-12T11:00:10Z"}, {"changes": [{"removed": "", "field_name": "cf_qa_whiteboard", "added": "[bugday-20160629]"}, {"removed": "", "field_name": "cc", "added": "na.sb1151@gmail.com"}], "who": "n4sabbir@gmail.com", "when": "2016-06-29T20:08:59Z"}]}