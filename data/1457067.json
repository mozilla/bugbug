{"cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Components", "creator": "rares.doghi@softvision.ro", "cc": ["bbirtles@mozilla.com", "dakatsuka@mozilla.com", "jdescottes@mozilla.com", "pbrosset@mozilla.com", "ryanvm@gmail.com", "timea.zsoldos@softvision.ro"], "depends_on": [], "creation_time": "2018-04-26T07:31:52Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "cf_status_firefox59": "---", "keywords": [], "summary": "[Tab Bar Navigation] The \"Settings F1\" button will not close the Settings Panel after its opened", "cf_last_resolved": "2018-05-11T09:38:55Z", "attachments": [{"creator": "dakatsuka@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-10T10:56:55Z", "type_id": 748, "creation_date": "2018-05-10T08:54:48Z", "id": 1755122, "setter": "jdescottes@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2018-05-16T14:44:53Z", "type_id": 721, "creation_date": "2018-05-16T08:34:24Z", "id": 1757372, "setter": "ryanvm@gmail.com"}], "content_type": "text/x-review-board-request", "id": 8974638}, {"creator": "dakatsuka@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-10T10:52:13Z", "type_id": 748, "creation_date": "2018-05-10T08:54:48Z", "id": 1755123, "setter": "jdescottes@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8974639}], "assigned_to_detail": {"email": "dakatsuka@mozilla.com", "id": 439222, "name": "dakatsuka@mozilla.com", "real_name": "Daisuke Akatsuka (:daisuke)"}, "severity": "enhancement", "is_confirmed": true, "is_creator_accessible": true, "comments": [{"text": "[Affected versions]: \nNightly 61.0a1\n\n[Affected platforms]:\nPlatforms: Windows 10 x 64, Windows 7 x 32, Mac OS X 10.13 and Ubuntu 16.04 x64.\n\n[Steps to reproduce]:\n\n1. Open Firefox \n2. Open the Inspector by pressing F12 \n3. Click on the Meatball Menu.\n4. Click the \"Settings F1\" button from the Meatball Menu.\n5. After the Settings panel opens Click the \"Settings F1\" button from the Meatball Menu.\n\n[Expected result]:\nClicking the Settings F1 button a second time should close the Settings panel.\n\n[Actual result]:\nClicking the Settings F1 button a second time will not close the Settings Panel and the user has to click F1 directly in order to close it.", "author": "rares.doghi@softvision.ro", "id": 13234602, "time": "2018-04-26T07:31:52Z"}, {"text": "Good point. The settings panel used to be a tab panel jus like the inspector.\nIt used to have a button in the toolbar, and once you selected it, the button would become \"selected\", in the same way that the inspector tab becomes selected when you click on it.\nSo, it made sense that it wouldn't close if you clicked the button again.\n\nNow, with bug 1444299, the settings panel is just an option in the meatball menu. So it might make sense to implement the expected results in comment 0.", "author": "pbrosset@mozilla.com", "id": 13254520, "time": "2018-05-04T13:09:28Z"}, {"text": "Created attachment 8974638\nBug 1457067 - Part 1: Implement so as to toggle the options panel if click 'Settings' on the meatball menu.\n\nReview commit: https://reviewboard.mozilla.org/r/243024/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/243024/", "author": "dakatsuka@mozilla.com", "id": 13267658, "time": "2018-05-10T08:54:48Z"}, {"text": "Created attachment 8974639\nBug 1457067 - Part 2: Add test whether options panel toggled by key event and Settings on the meatball menu.\n\nReview commit: https://reviewboard.mozilla.org/r/243026/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/243026/", "author": "dakatsuka@mozilla.com", "id": 13267659, "time": "2018-05-10T08:54:48Z"}, {"text": "try: https://treeherder.mozilla.org/#/jobs?repo=try&revision=19e393ab132c690974c3cda8757eafc8458d2001", "author": "dakatsuka@mozilla.com", "id": 13267660, "time": "2018-05-10T08:55:14Z"}, {"text": "Comment on attachment 8974639\nBug 1457067 - Part 2: Add test whether options panel toggled by key event and Settings on the meatball menu.\n\nhttps://reviewboard.mozilla.org/r/243026/#review248844\n\nVery nice test, thanks!", "author": "jdescottes@mozilla.com", "id": 13267826, "time": "2018-05-10T10:52:13Z"}, {"text": "Comment on attachment 8974639\nBug 1457067 - Part 2: Add test whether options panel toggled by key event and Settings on the meatball menu.\n\nhttps://reviewboard.mozilla.org/r/243026/#review248844\n\nVery nice test, thanks!", "author": "jdescottes@mozilla.com", "id": 13267827, "time": "2018-05-10T10:52:14Z"}, {"text": "Comment on attachment 8974638\nBug 1457067 - Part 1: Implement so as to toggle the options panel if click 'Settings' on the meatball menu.\n\nhttps://reviewboard.mozilla.org/r/243024/#review248840\n\nLooks good, thanks Daisuke. Only one small suggestion.\n\n::: devtools/client/framework/toolbox.js:845\n(Diff revision 1)\n> -        this.selectTool(this.lastUsedToolId, \"toggle_settings_off\");\n> -      } else {\n> -        this.selectTool(\"options\", \"toggle_settings_on\");\n> -      }\n> -    };\n>      this.shortcuts.on(L10N.getStr(\"toolbox.help.key\"), selectOptions);\n\nnit: we could directly use this.toggleOptions here, the intermediary variable doesn't bring much.", "author": "jdescottes@mozilla.com", "id": 13267835, "time": "2018-05-10T10:56:55Z"}, {"text": "Comment on attachment 8974638\nBug 1457067 - Part 1: Implement so as to toggle the options panel if click 'Settings' on the meatball menu.\n\nhttps://reviewboard.mozilla.org/r/243024/#review248840\n\n> nit: we could directly use this.toggleOptions here, the intermediary variable doesn't bring much.\n\nIndeed! Thanks, Julian!", "author": "dakatsuka@mozilla.com", "id": 13269574, "time": "2018-05-10T22:36:20Z"}, {"text": "Comment on attachment 8974638\nBug 1457067 - Part 1: Implement so as to toggle the options panel if click 'Settings' on the meatball menu.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/243024/diff/1-2/", "author": "dakatsuka@mozilla.com", "id": 13269579, "time": "2018-05-10T22:37:59Z"}, {"text": "Comment on attachment 8974639\nBug 1457067 - Part 2: Add test whether options panel toggled by key event and Settings on the meatball menu.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/243026/diff/1-2/", "author": "dakatsuka@mozilla.com", "id": 13269580, "time": "2018-05-10T22:37:59Z"}, {"text": "The try of updated patch was green.\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=f607f97aa451b8983c09fd967e5a0e24ef398418\nLet me make the patches to land!", "author": "dakatsuka@mozilla.com", "id": 13269591, "time": "2018-05-10T22:40:49Z"}, {"text": "Pushed by dakatsuka@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/fddb6d7c89b9\nPart 1: Implement so as to toggle the options panel if click 'Settings' on the meatball menu. r=jdescottes\nhttps://hg.mozilla.org/integration/autoland/rev/c43f79a262bf\nPart 2: Add test whether options panel toggled by key event and Settings on the meatball menu. r=jdescottes", "author": "pulsebot@bots.tld", "id": 13269600, "time": "2018-05-10T22:45:23Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/fddb6d7c89b9\nhttps://hg.mozilla.org/mozilla-central/rev/c43f79a262bf", "author": "ebalazs@mozilla.com", "id": 13270288, "time": "2018-05-11T09:38:55Z"}, {"text": "Is this worth backport consideration or can it ride the 62 train?", "author": "ryanvm@gmail.com", "id": 13270945, "time": "2018-05-11T15:07:37Z"}, {"text": "Comment on attachment 8974638\nBug 1457067 - Part 1: Implement so as to toggle the options panel if click 'Settings' on the meatball menu.\n\nApproval Request Comment\n[Feature/Bug causing the regression]: Bug 1444301\n[User impact if declined]: Can't toggle settings with menu\n[Is this code covered by automated tests?]: Yes\n[Has the fix been verified in Nightly?]: Yes\n[Needs manual test from QE? If yes, steps to reproduce]: No\n[List of other uplifts needed for the feature/fix]: Part 2 contains automated test\n[Is the change risky?]: Low risk\n[Why is the change risky/not risky?]: Baked on Nightly, has automated test, small front end patch\n[String changes made/needed]: None", "author": "dakatsuka@mozilla.com", "id": 13280828, "time": "2018-05-16T08:34:24Z"}, {"text": "Comment on attachment 8974638\nBug 1457067 - Part 1: Implement so as to toggle the options panel if click 'Settings' on the meatball menu.\n\nThanks for adding a new test for this regression. Approved for 61.0b6.", "author": "ryanvm@gmail.com", "id": 13281559, "time": "2018-05-16T14:44:53Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-beta/rev/b3f260301d0e\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/d7cc3e2fa65b", "author": "ryanvm@gmail.com", "id": 13281600, "time": "2018-05-16T14:56:18Z"}, {"text": "I have reproduced this issue using Firefox  61.0a1 (2018.04.26) on Ubuntu 14.04 x64.\nI can confirm this issue is fixed, I verified using Firefox 61.0b9 and 62.0a1 on Win 8.1 x64, Mac OS X 10.13 and Ubuntu 14.04 x64.", "author": "timea.zsoldos@softvision.ro", "id": 13374304, "time": "2018-05-30T13:23:40Z"}], "id": 1457067, "priority": "P3", "mentors_detail": [], "comment_count": 19, "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "status": "VERIFIED", "product": "DevTools", "cf_fx_iteration": "---", "blocks": [1444299], "qa_contact": "", "see_also": [], "cf_status_firefox_esr52": "---", "component": "General", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "verified", "cf_status_firefox61": "verified", "cf_status_firefox60": "---", "target_milestone": "Firefox 62", "is_cc_accessible": true, "groups": [], "url": "", "creator_detail": {"email": "rares.doghi@softvision.ro", "id": 615351, "name": "rares.doghi@softvision.ro", "real_name": "Rares Doghi"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "bbirtles@mozilla.com", "id": 165012, "name": "bbirtles@mozilla.com", "real_name": "Brian Birtles (:birtles)"}, {"email": "dakatsuka@mozilla.com", "id": 439222, "name": "dakatsuka@mozilla.com", "real_name": "Daisuke Akatsuka (:daisuke)"}, {"email": "jdescottes@mozilla.com", "id": 559949, "name": "jdescottes@mozilla.com", "real_name": "Julian Descottes [:jdescottes][:julian]"}, {"email": "pbrosset@mozilla.com", "id": 478661, "name": "pbrosset@mozilla.com", "real_name": "Patrick Brosset <:pbro>"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}, {"email": "timea.zsoldos@softvision.ro", "id": 586868, "name": "timea.zsoldos@softvision.ro", "real_name": "Timea Zsoldos [:zstimi/tzsoldos], Desktop Release QA"}], "alias": null, "dupe_of": null, "flags": [{"status": "+", "name": "in-testsuite", "modification_date": "2018-05-11T15:07:37Z", "type_id": 37, "creation_date": "2018-05-11T15:07:37Z", "id": 1755762, "setter": "ryanvm@gmail.com"}], "last_change_time": "2018-06-13T17:21:13Z", "cf_status_firefox_esr60": "---", "assigned_to": "dakatsuka@mozilla.com", "is_open": false, "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1444299"}], "who": "rares.doghi@softvision.ro", "when": "2018-04-26T07:32:24Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P3"}, {"removed": "", "field_name": "cc", "added": "pbrosset@mozilla.com"}, {"removed": "normal", "field_name": "severity", "added": "enhancement"}], "who": "pbrosset@mozilla.com", "when": "2018-05-04T13:09:28Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "", "field_name": "cc", "added": "bbirtles@mozilla.com"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "dakatsuka@mozilla.com"}], "who": "bbirtles@mozilla.com", "when": "2018-05-07T06:28:22Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8974638, "added": "review?(jdescottes@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8974639, "added": "review?(jdescottes@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "jdescottes@mozilla.com"}], "who": "dakatsuka@mozilla.com", "when": "2018-05-10T08:54:48Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jdescottes@mozilla.com)", "attachment_id": 8974639, "added": "review+"}], "who": "jdescottes@mozilla.com", "when": "2018-05-10T10:52:13Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(jdescottes@mozilla.com)", "attachment_id": 8974638, "added": "review+"}], "who": "jdescottes@mozilla.com", "when": "2018-05-10T10:56:55Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-11 09:38:55"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "ebalazs@mozilla.com", "when": "2018-05-11T09:38:55Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dakatsuka@mozilla.com, ryanvm@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(dakatsuka@mozilla.com), in-testsuite+"}], "who": "ryanvm@gmail.com", "when": "2018-05-11T15:07:37Z"}, {"changes": [{"removed": "needinfo?(dakatsuka@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8974638, "added": "approval-mozilla-beta?"}], "who": "dakatsuka@mozilla.com", "when": "2018-05-16T08:34:24Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-beta?", "attachment_id": 8974638, "added": "approval-mozilla-beta+"}], "who": "ryanvm@gmail.com", "when": "2018-05-16T14:44:53Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2018-05-16T14:56:18Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "timea.zsoldos@softvision.ro"}, {"removed": "fixed", "field_name": "cf_status_firefox61", "added": "verified"}, {"removed": "fixed", "field_name": "cf_status_firefox62", "added": "verified"}], "who": "timea.zsoldos@softvision.ro", "when": "2018-05-30T13:23:40Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}], "who": "timea.zsoldos@softvision.ro", "when": "2018-05-30T13:24:11Z"}, {"changes": [{"removed": "Firefox", "field_name": "product", "added": "DevTools"}], "who": "automation@bmo.tld", "when": "2018-06-13T17:21:13Z"}]}