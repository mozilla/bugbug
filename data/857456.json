{"cf_tracking_thunderbird_esr52": "---", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "blair@theunfocused.net", "mentors_detail": [], "depends_on": [1449052, 357276, 1410214], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "keywords": [], "cc_detail": [{"email": "bugzilla-mozilla@dorando.at", "id": 110580, "name": "bugzilla-mozilla@dorando.at", "real_name": "Dorando"}, {"email": "dietrich@mozilla.com", "id": 213632, "name": "dietrich@mozilla.com", "real_name": "Dietrich Ayala (:dietrich)"}, {"email": "erahm@mozilla.com", "id": 496127, "name": "erahm@mozilla.com", "real_name": "Eric Rahm [:erahm] (please no mozreview requests)"}, {"email": "gavin.sharp@gmail.com", "id": 103593, "name": "gavin.sharp@gmail.com", "real_name": ":Gavin Sharp [email: gavin@gavinsharp.com]"}, {"email": "john@nextraweb.com", "id": 218307, "name": "john@nextraweb.com", "real_name": "John Drinkwater (:beta)"}, {"email": "kmaglione+bmo@mozilla.com", "id": 106098, "name": "kmaglione+bmo@mozilla.com", "real_name": "Kris Maglione [:kmag]"}, {"email": "mak77@bonardo.net", "id": 240353, "name": "mak77@bonardo.net", "real_name": "Marco Bonardo [::mak]"}, {"email": "ntim.bugs@gmail.com", "id": 445472, "name": "ntim.bugs@gmail.com", "real_name": "Tim Nguyen :ntim"}, {"email": "oriol-bugzilla@hotmail.com", "id": 541576, "name": "oriol-bugzilla@hotmail.com", "real_name": "Oriol Brufau [:Oriol]"}, {"email": "timbugzilla@gmail.com", "id": 437905, "name": "timbugzilla@gmail.com", "real_name": ""}], "cf_last_resolved": "2018-01-11T16:29:02Z", "attachments": [], "votes": 2, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 10, "comments": [{"text": "Currently, the Add-ons Manager uses nsIRDFService to read install.rdf - we'd like to kill that with fire. However, we can't just drop support for install.rdf. Instead, I'd like to move to using the RDF reader JSM that bug 857454 will implement.", "author": "blair@theunfocused.net", "id": 7270422, "time": "2013-04-03T06:10:48Z"}, {"text": ":mak, it seems like we can close this now that we only support web extensions. Is that correct?", "author": "erahm@mozilla.com", "id": 12730190, "time": "2017-10-04T22:27:39Z"}, {"text": "We still support legacy extensions (which use install.rdf) for things like system addons and extensions used in automation.  Switching these over to json so we can ditch rdf would be a fine thing but there are a lot of pieces to update.", "author": "aswan@mozilla.com", "id": 12730234, "time": "2017-10-04T22:50:35Z"}, {"text": "(In reply to Andrew Swan [:aswan] from comment #2)\n> We still support legacy extensions (which use install.rdf) for things like\n> system addons and extensions used in automation.  Switching these over to\n> json so we can ditch rdf would be a fine thing but there are a lot of pieces\n> to update.\n\nDo we have a list somewhere? How long do we plan on supporting them?", "author": "erahm@mozilla.com", "id": 12730268, "time": "2017-10-04T23:02:40Z"}, {"text": "(In reply to Eric Rahm [:erahm] (please no mozreview requests) from comment #3)\n> (In reply to Andrew Swan [:aswan] from comment #2)\n> > We still support legacy extensions (which use install.rdf) for things like\n> > system addons and extensions used in automation.  Switching these over to\n> > json so we can ditch rdf would be a fine thing but there are a lot of pieces\n> > to update.\n> \n> Do we have a list somewhere? How long do we plan on supporting them?\n\nI don't mean this to be cheeky but I would start with something like:\nhttp://searchfox.org/mozilla-central/search?q=&case=false&regexp=false&path=install.rdf\n\nOff the top of my head, test pilot and devtools are the other big users of legacy extensions.\n\nThis has sort of been in the background for a while but folks working on addons have had a lot of other things in front of us.  Now that 57 is mostly done we can come back to things like this.  Just out of curiosity, is there something other than a general desire to get rid of old cruft that brought this to the foreground right now?", "author": "aswan@mozilla.com", "id": 12730445, "time": "2017-10-05T00:04:54Z"}, {"text": "(In reply to Andrew Swan [:aswan] from comment #4)\n> (In reply to Eric Rahm [:erahm] (please no mozreview requests) from comment\n> #3)\n> > (In reply to Andrew Swan [:aswan] from comment #2)\n> > > We still support legacy extensions (which use install.rdf) for things like\n> > > system addons and extensions used in automation.  Switching these over to\n> > > json so we can ditch rdf would be a fine thing but there are a lot of pieces\n> > > to update.\n> > \n> > Do we have a list somewhere? How long do we plan on supporting them?\n> \n> I don't mean this to be cheeky but I would start with something like:\n> http://searchfox.org/mozilla-central/\n> search?q=&case=false&regexp=false&path=install.rdf\n\nThat's reasonable! Looks like we have quite a few (even ignoring tests).\n\n> This has sort of been in the background for a while but folks working on\n> addons have had a lot of other things in front of us.  Now that 57 is mostly\n> done we can come back to things like this.  Just out of curiosity, is there\n> something other than a general desire to get rid of old cruft that brought\n> this to the foreground right now?\n\nI'm trying to revive the removal of RDF (which I get is probably low priority). It seems like adding a shim for parsing add-on install manifests might be the easiest route or I guess adding json support and some sort of automated conversion.", "author": "erahm@mozilla.com", "id": 12730512, "time": "2017-10-05T00:36:15Z"}, {"text": "(In reply to Eric Rahm [:erahm] (please no mozreview requests) from comment #5)\n> I'm trying to revive the removal of RDF (which I get is probably low\n> priority). It seems like adding a shim for parsing add-on install manifests\n> might be the easiest route or I guess adding json support and some sort of\n> automated conversion.\n\nI'd vote for just getting rid of it completely.  The very crude outline is of course:\n1. Offer a json alternative\n2. Convert existing users over\n3. Rip out the rdf support\n\nI don't think #1 will be too tough, let me see if I can crank something out to get the ball rolling.", "author": "aswan@mozilla.com", "id": 12730693, "time": "2017-10-05T02:16:05Z"}, {"text": "As per bug 357276", "author": "ntim.bugs@gmail.com", "id": 12961629, "time": "2018-01-11T16:29:02Z"}, {"text": "While we won't get a reader, install.rdf is far from being gone:\nhttps://searchfox.org/mozilla-central/search?q=install.rdf&path=\n\nIt's true now we don't support legacy add-ons by default, but still the situation doesn't allow to remove rdf code.", "author": "mak77@bonardo.net", "id": 12963639, "time": "2018-01-12T09:02:09Z"}, {"text": "Update: we have removed a bunch of addon types that used install.rdf.  The two remaining are dictionaries and bootstrapped extensions.  Rather than changing from install.rdf to a JSON format as suggested in comment 6, we will remove support for both of these extension types (in favor of WebExtension-based alternatives).  The dependencies on this bug cover that effort.", "author": "aswan@mozilla.com", "id": 13231318, "time": "2018-04-24T23:17:25Z"}], "id": 857456, "priority": "--", "cc": ["bugzilla-mozilla@dorando.at", "dietrich@mozilla.com", "erahm@mozilla.com", "gavin.sharp@gmail.com", "john@nextraweb.com", "kmaglione+bmo@mozilla.com", "mak77@bonardo.net", "ntim.bugs@gmail.com", "oriol-bugzilla@hotmail.com", "timbugzilla@gmail.com"], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "status": "REOPENED", "product": "Toolkit", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2013-04-03T06:10:48Z", "cf_status_firefox_esr52": "---", "component": "Add-ons Manager", "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "blair@theunfocused.net", "id": 292667, "name": "blair@theunfocused.net", "real_name": "Blair McBride [:Unfocused] (UNAVAILABLE)"}, "whiteboard": "", "mentors": [], "summary": "stop supporting install.rdf", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-04-29T04:05:09Z", "assigned_to": "nobody@mozilla.org", "is_open": true, "history": [{"changes": [{"removed": "857454", "field_name": "depends_on", "added": "357276"}], "who": "blair@theunfocused.net", "when": "2013-04-03T06:18:11Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "833098"}], "who": "blair@theunfocused.net", "when": "2013-04-03T06:19:29Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "gavin.sharp@gmail.com"}], "who": "gavin.sharp@gmail.com", "when": "2013-04-03T07:40:55Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "john@nextraweb.com"}], "who": "john@nextraweb.com", "when": "2013-04-03T22:21:43Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "timbugzilla@gmail.com"}], "who": "timbugzilla@gmail.com", "when": "2014-09-10T00:45:59Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mak77@bonardo.net"}, {"removed": "Use RDF reader module for reading install.rdf manifests", "field_name": "summary", "added": "Use RDF reader module for reading install.rdf manifests, or convert them to JSON"}], "who": "mak77@bonardo.net", "when": "2017-03-15T08:38:52Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "erahm@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(mak77@bonardo.net)"}], "who": "erahm@mozilla.com", "when": "2017-10-04T22:27:39Z"}, {"changes": [{"removed": "needinfo?(mak77@bonardo.net)", "field_name": "flagtypes.name", "added": ""}], "who": "aswan@mozilla.com", "when": "2017-10-04T22:50:35Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ntim.bugs@gmail.com"}], "who": "ntim.bugs@gmail.com", "when": "2018-01-11T16:28:31Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "ntim.bugs@gmail.com", "field_name": "cc", "added": ""}, {"removed": "", "field_name": "resolution", "added": "WONTFIX"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-01-11 16:29:02"}], "who": "ntim.bugs@gmail.com", "when": "2018-01-11T16:29:02Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ntim.bugs@gmail.com"}, {"removed": "833098", "field_name": "blocks", "added": ""}], "who": "ntim.bugs@gmail.com", "when": "2018-01-11T16:29:20Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "REOPENED"}, {"removed": "WONTFIX", "field_name": "resolution", "added": ""}, {"removed": "Use RDF reader module for reading install.rdf manifests, or convert them to JSON", "field_name": "summary", "added": "stop supporting install.rdf"}], "who": "mak77@bonardo.net", "when": "2018-01-12T09:02:09Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "833098"}], "who": "mak77@bonardo.net", "when": "2018-01-12T09:02:46Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bugzilla-mozilla@dorando.at"}], "who": "bugzilla-mozilla@dorando.at", "when": "2018-01-12T16:38:24Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1449052"}], "who": "aswan@mozilla.com", "when": "2018-03-27T00:01:58Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "oriol-bugzilla@hotmail.com"}], "who": "oriol-bugzilla@hotmail.com", "when": "2018-03-27T00:09:14Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dietrich@mozilla.com"}], "who": "dietrich@mozilla.com", "when": "2018-04-02T17:42:20Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "kmaglione+bmo@mozilla.com"}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-04-03T17:16:24Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1452330"}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-04-07T02:56:17Z"}, {"changes": [{"removed": "1452330", "field_name": "depends_on", "added": "1410214"}], "who": "aswan@mozilla.com", "when": "2018-04-24T23:17:25Z"}, {"changes": [{"removed": "833098", "field_name": "blocks", "added": ""}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-04-29T04:05:09Z"}], "resolution": "", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}