{"cf_tracking_thunderbird_esr52": "---", "status": "NEW", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "nailyk_launchpad@nailyk.fr", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["nightly-community"], "cc_detail": [{"email": "alice0775@yahoo.co.jp", "id": 293623, "name": "alice0775@yahoo.co.jp", "real_name": "Alice0775 White"}, {"email": "aosmond@mozilla.com", "id": 505306, "name": "aosmond@mozilla.com", "real_name": "Andrew Osmond [:aosmond]"}, {"email": "clement.lefevre@mail.com", "id": 445496, "name": "clement.lefevre@mail.com", "real_name": "Cl\u00e9ment Lef\u00e8vre"}, {"email": "daniel.bodea@softvision.ro", "id": 616104, "name": "daniel.bodea@softvision.ro", "real_name": "Bodea Daniel"}, {"email": "luckyrat@musites.com", "id": 383839, "name": "luckyrat@musites.com", "real_name": "Chris Tomlinson"}, {"email": "mconley@mozilla.com", "id": 403756, "name": "mconley@mozilla.com", "real_name": "Mike Conley (:mconley) (:\u2699\ufe0f) (Catching up on needinfos / reviews)"}, {"email": "nailyk_launchpad@nailyk.fr", "id": 589247, "name": "nailyk_launchpad@nailyk.fr", "real_name": "nailyk"}], "cf_last_resolved": null, "attachments": [{"creator": "nailyk_launchpad@nailyk.fr", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "text/x-log", "id": 8969241}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 13, "comments": [{"text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0\nBuild ID: 20180326230345\n\nSteps to reproduce:\n\nMy Firefox nightly have some tabs opened (around 20) and some are 'infinite scroll pages' (like matrix (riot.im/app), mastodon, ttrss). \nAfter some time, messages are still incoming (like into matrix) but there is no way to send something. (some time = between 3 min and 20 min, it seems to depend of the amount of data received in each pages)\n\nRefresh the page ends in an infinite loading loop. \nClosing nightly take a \"long time\", but after reopening it, everything is fine again, until then issue come back. \nAfter the restart a crash report is mentioned, and can be sent. \n\nI tried using mozregress (with a dump of my current nightly profile). It pointed https://hg.mozilla.org/integration/mozilla-inbound/rev/b47ea5c26a80 (I have the whole mozregression output dumped if needed), but it is probable I messed up some tests. \n\nLast crash report: https://crash-stats.mozilla.com/report/index/75f1ea2e-abee-4100-8d3b-50b950180412#tab-extensions", "author": "nailyk_launchpad@nailyk.fr", "id": 13201240, "time": "2018-04-12T15:55:57Z"}, {"text": "Okay, after spending some time manually scrolling on https://mastodon.social/about timeline to kind of reproduce the issue, I was able to be in a state where some links/tabs where loading indefinitely, failing to load. This was only on some tabs though, not every of them. As I had a pending update I then asked for a restart of the browser which was longer than usual. This can also be linked with some memory usage though.\n\nConsidering issue looks the same, I'll change status to NEW. Feel free to change it again to UNCONFIRMED if you think symptoms are not enough or to NI the reporter.", "author": "clement.lefevre@mail.com", "id": 13204026, "time": "2018-04-13T15:04:16Z"}, {"text": "While the 'infinte loading' loop happens, into htop the firefox_nightly childID 1 was at 100% cpu load. \nKilling it with SIGTERM (-15) bring back the load of pages, but all addons are not working anymore (keepass, noscript, shaarli, ubock). \nDoes a strace of the frozen PID can be helpful ?", "author": "nailyk_launchpad@nailyk.fr", "id": 13205778, "time": "2018-04-14T11:57:34Z"}, {"text": "(In reply to nailyk from comment #2)\n> Does a strace of the frozen PID can be helpful ?\n\nCouldn't hurt - if you could gather that, yeah, please post it.", "author": "mconley@mozilla.com", "id": 13215499, "time": "2018-04-18T14:25:06Z"}, {"text": "Am not able to attach the strace (using -f) because it is 11MB. \nThe dichotomy in first post is not accurate. I just encountered the issue on 2018-03-18 one. However, with this version, after a bit of time, the page finally reload. \n\nThe strace is full of EAGAIN. This is looping: \n3968  sendmsg(3, {msg_name=NULL, msg_namelen=0, msg_iov=[{iov_base=\"\\10\\1\\0\\0\\5\\0\\0\\0\\1\\0\\26\\0\\1\\0\\0\\0\\0\\0\\0\\0\\377\\377\\377\\377\\377\\377\\377\\377\\0\\0\\0\\0\\0\\0\\0\\0\\27\\0\\0\\0M\\0e\\0s\\0s\\0a\\0g\\0e\\0C\\0h\\0a\\0n\\0n\\0\", iov_len=64}, {iov_base=\"e\\0l\\0:\\0R\\0e\\0s\\0p\\0o\\0n\\0s\\0e\\0\\277\\277vJ\\322\\315\\0\\0\\0\\0\\213\\5\\325\\201\\1\\0\\0\\0\\347\\205>\\0\\220\\0\\0\\0\\0\\0\\0\\0\\277\\277\\277\\277\\2\\0\\0\\0\\0\\0\\361\\377\\0\\0\\0\\0\\10\\0\\377\\377\\6\\0\\0\\200\\4\\0\\377\\377result\\0\\0\\0\\0\\0\\0\\3\\0\\377\\377\\v\\0\\0\\200\\4\\0\\377\\377messageName\\0\\0\\0\\0\\0e\\4\\1\\0\\3\\0\\377\\377\\t\\0\\0\\200\\4\\0\\377\\377recipient\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\10\\0\\377\\377\\0\\0\\0\\0\\23\\0\\377\\377\\5\\0\\0\\200\\4\\0\\377\\377value\\0\\0\\0\\0\\0\\0\\0\\1\\0\\377\\377\\0\\0\\0\\0\\23\\0\\377\\377\\334\\211D2\\0\\0\\0\\0\\245\\370\\340%\\0\\0\\0\\0S\\333\\370\\31\\0\\0\\0\\0M\\250\\230\\272|E\\316\\303\", iov_len=232}], msg_iovlen=2, msg_controllen=0, msg_flags=0}, MSG_DONTWAIT <unfinished ...>\n3964  <... poll resumed> )              = 0 (Timeout)\n3968  <... sendmsg resumed> )           = 296\n3964  futex(0x7fc363503fa4, FUTEX_CMP_REQUEUE_PRIVATE, 1, 2147483647, 0x7fc363503f70, 939324 <unfinished ...>\n3968  epoll_wait(10,  <unfinished ...>\n3981  <... futex resumed> )             = 0\n3964  <... futex resumed> )             = 1\n3981  futex(0x7fc363503f70, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>\n3964  futex(0x7fc363503f70, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>\n3981  <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)\n3964  <... futex resumed> )             = 0\n3981  futex(0x7fc363503f70, FUTEX_WAKE_PRIVATE, 1) = 0\n3981  futex(0x7fc363503fa4, FUTEX_WAIT_BITSET_PRIVATE, 939325, {tv_sec=6319, tv_nsec=245405940}, 0xffffffff <unfinished ...>\n3978  futex(0x7fc376700ca0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>\n3964  futex(0x7fc376700ca0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>\n3978  <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)\n3964  <... futex resumed> )             = 0\n3978  futex(0x7fc376700ca0, FUTEX_WAKE_PRIVATE, 1) = 0\n3978  futex(0x7fc376700ca0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>\n3964  futex(0x7fc376700ca0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>\n3978  <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)\n3964  <... futex resumed> )             = 0\n3978  futex(0x7fc376700ca0, FUTEX_WAKE_PRIVATE, 1) = 0\n3964  write(14, \"\\0\", 1 <unfinished ...>\n3978  futex(0x7fc363405614, FUTEX_WAIT_PRIVATE, 8720, NULL <unfinished ...>\n3964  <... write resumed> )             = 1\n3968  <... epoll_wait resumed> [{EPOLLIN, {u32=13, u64=13}}], 32, -1) = 1\n3968  read(13, \"\\0\", 1)                 = 1\n3964  recvmsg(15,  <unfinished ...>\n3968  sendmsg(3, {msg_name=NULL, msg_namelen=0, msg_iov=[{iov_base=\"\\10\\1\\0\\0\\7\\0\\0\\0\\1\\0\\26\\0\\1\\0\\0\\0\\0\\0\\0\\0\\377\\377\\377\\377\\377\\377\\377\\377\\0\\0\\0\\0\\0\\0\\0\\0\\27\\0\\0\\0M\\0e\\0s\\0s\\0a\\0g\\0e\\0C\\0h\\0a\\0n\\0n\\0\", iov_len=64}, {iov_base=\"e\\0l\\0:\\0R\\0e\\0s\\0p\\0o\\0n\\0s\\0e\\0\\277\\277vJ\\322\\315\\0\\0\\0\\0\\213\\5\\325\\201\\1\\0\\0\\0\\347\\205>\\0\\220\\0\\0\\0\\0\\0\\0\\0\\277\\277\\277\\277\\2\\0\\0\\0\\0\\0\\361\\377\\0\\0\\0\\0\\10\\0\\377\\377\\6\\0\\0\\200\\4\\0\\377\\377result\\0\\0\\0\\0\\0\\0\\3\\0\\377\\377\\v\\0\\0\\200\\4\\0\\377\\377messageName\\0\\0\\0\\0\\0`\\4\\1\\0\\3\\0\\377\\377\\t\\0\\0\\200\\4\\0\\377\\377recipient\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\10\\0\\377\\377\\0\\0\\0\\0\\23\\0\\377\\377\\5\\0\\0\\200\\4\\0\\377\\377value\\0\\0\\0\\0\\0\\0\\0\\1\\0\\377\\377\\0\\0\\0\\0\\23\\0\\377\\377\\334\\211D2\\0\\0\\0\\0\\245\\370\\340%\\0\\0\\0\\0S\\333\\370\\31\\0\\0\\0\\0M\\250\\230\\272|E\\316\\303\", iov_len=232}], msg_iovlen=2, msg_controllen=0, msg_flags=0}, MSG_DONTWAIT <unfinished ...>\n3964  <... recvmsg resumed> {msg_namelen=0}, 0) = -1 EAGAIN (Resource temporarily unavailable)\n\nPID 3964 was 'childID 1'. \nWill try to dump a strace before the freeze. \n(connectivity was ok, lot of free ram.)", "author": "nailyk_launchpad@nailyk.fr", "id": 13216476, "time": "2018-04-18T19:41:00Z"}, {"text": "Created attachment 8969241\nstrace_FF.log\n\nNightly was frozen, attached pid 'childID 1' with strace, attempt to reload some webpages (one in private, one in normal), the closed Nightly.", "author": "nailyk_launchpad@nailyk.fr", "id": 13218179, "time": "2018-04-19T12:01:17Z"}, {"text": "Hello Andrew,\n\nAccording to the reporter's description, the regression performed points to a bug-fix you pushed. Can you have a productive opinion about this bug?\n\nThanks!\n\nP.S. I could not reproduce this issue on Ubuntu 16.04 with Mozilla 52.0.1. Only slow loading could be reproduced when refreshing many tabs at once. Sites with infinite scrolling like 9gag, instagram or facebook only took longer time ti fully load the page.", "author": "daniel.bodea@softvision.ro", "id": 13259131, "time": "2018-05-07T09:19:00Z"}, {"text": "My bad, am still doing some tests. \nOn the original Nightly profile, I have 3 addons-installed: Ublock origin, No script/umatrix, kee (Kee fox by Chris Tomlinson (dunno how to highlight him) Noscript/umatrix, depend on work vs home computer ). \nWith this configuration, Nightly is unusable. Need to be restarted every 3 or 5 minutes. \nDisabling kee result in Nightly working again. Some restart could be needed too, but like 1, 2 max in a work day. \nHowever, with a brand new profile, with only Kee installed, there are no issue at all....", "author": "nailyk_launchpad@nailyk.fr", "id": 13259207, "time": "2018-05-07T10:14:40Z"}, {"text": "Hi Daniel, \n\nindeed the issue started around enf of March, beginning of April, on nightly only. My ESR version is working fine with all the plugins. \nSorry for double post.", "author": "nailyk_launchpad@nailyk.fr", "id": 13259212, "time": "2018-05-07T10:20:46Z"}, {"text": "I have attempted to reproduce the issue with the nightly build from April 1st 2018 (2018-04-01-22-00-58-mozilla-central) on the same Ubuntu 16.04 LTS x64 but no issues regarding the responsiveness of the pages could be seen.", "author": "daniel.bodea@softvision.ro", "id": 13259474, "time": "2018-05-07T13:19:35Z"}, {"text": "Based on you response in comment 7:\n\n> However, with a brand new profile, with only Kee installed, there are no\n> issue at all....\n\nThis means that the issue is most probably related to the corresponding profile. \n\nI am setting the component as Panning and zooming, because it's related to scrolling.", "author": "daniel.bodea@softvision.ro", "id": 13259525, "time": "2018-05-07T13:44:44Z"}, {"text": "Just switched to a brand new profile, on latest nightly (62.0a1 (2018-05-07) (64 bits))\nHave: \n- setting up my history/cookies/privacy settings, \n- installed noscript, ublock origin and kee, \n- reopened all y tabs (around 15). \n\nIssue is back. At least it provides steps to reproduce despite they are a bit heavy... \nWill attempt to disable addons one by one. Can take some times before a new report. \n\nThanks all for your time.", "author": "nailyk_launchpad@nailyk.fr", "id": 13262004, "time": "2018-05-08T10:51:52Z"}, {"text": "Made a lot of tests with nightly 62.0a1 (2018-05-07) (64 bits). \n\nOn normal usages (like my ESR) I have 3 addons: \n. noscript/umatrix\n. ublock\n. kee (for keepass)\n\nTried some cross tests: \n  1. Disable ublock, enable  kee, enable  noscript -> nightly is unusable. Need to be killed every 2 minutes. \n  2. Enable  ublock, enable  kee, disable noscript -> nightly is unusable. Need to be killed every 2 minutes. \n  3. Enable  ublock, enable  kee, enable  umatrix  -> nightly is usable. Sometimes it hang for a few minutes, but become responsive again. \n  4. Disable ublock, enable  kee, disable umatrix  -> nightly is usable. Sometimes it hang for a few minutes, but become responsive again. \n  5. Enable  ublock, disable kee, enable  noscript -> Everything seems to be fine. Nightly is damn fast. \n  6. Enable  ublock, disable kee, enable  umatrix  -> Everything seems to be fine. Nightly is fast. \n\nI used a new profile before those tests but didn't renew it between. \n\nHope this helps. What others test can be done please? \n\nP.S.: On tests 3 & 4, the hang mostly happens after loading some big pages, like matrix rooms with long history.", "author": "nailyk_launchpad@nailyk.fr", "id": 13293749, "time": "2018-05-21T10:35:18Z"}], "id": 1453706, "priority": "--", "cc": ["alice0775@yahoo.co.jp", "aosmond@mozilla.com", "clement.lefevre@mail.com", "daniel.bodea@softvision.ro", "luckyrat@musites.com", "mconley@mozilla.com", "nailyk_launchpad@nailyk.fr"], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2018-04-12T15:55:57Z", "cf_status_firefox_esr52": "---", "component": "Panning and Zooming", "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "nailyk_launchpad@nailyk.fr", "id": 589247, "name": "nailyk_launchpad@nailyk.fr", "real_name": "nailyk"}, "whiteboard": "[mozfr-community]", "mentors": [], "summary": "unresponsive on 'infinite scroll' websites", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [{"requestee": "aosmond@mozilla.com", "status": "?", "name": "needinfo", "modification_date": "2018-05-07T09:19:00Z", "type_id": 800, "creation_date": "2018-05-07T09:19:00Z", "id": 1753356, "setter": "daniel.bodea@softvision.ro"}, {"requestee": "luckyrat@musites.com", "status": "?", "name": "needinfo", "modification_date": "2018-05-07T10:14:40Z", "type_id": 800, "creation_date": "2018-05-07T10:14:40Z", "id": 1753373, "setter": "nailyk_launchpad@nailyk.fr"}], "last_change_time": "2018-05-21T10:35:18Z", "assigned_to": "nobody@mozilla.org", "is_open": true, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "nailyk_launchpad@nailyk.fr"}], "who": "nailyk_launchpad@nailyk.fr", "when": "2018-04-12T15:56:14Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "alice0775@yahoo.co.jp"}], "who": "alice0775@yahoo.co.jp", "when": "2018-04-12T20:29:01Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "nightly-community"}, {"removed": "UNCONFIRMED", "field_name": "status", "added": "NEW"}, {"removed": "", "field_name": "cc", "added": "clement.lefevre@mail.com"}, {"removed": "0", "field_name": "is_confirmed", "added": "1"}, {"removed": "", "field_name": "whiteboard", "added": "[mozfr-community]"}], "who": "clement.lefevre@mail.com", "when": "2018-04-13T15:04:16Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mconley@mozilla.com"}], "who": "mconley@mozilla.com", "when": "2018-04-18T14:25:06Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "daniel.bodea@softvision.ro"}], "who": "daniel.bodea@softvision.ro", "when": "2018-04-20T12:04:24Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "aosmond@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(aosmond@mozilla.com)"}], "who": "daniel.bodea@softvision.ro", "when": "2018-05-07T09:19:00Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "luckyrat@musites.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(luckyrat@musites.com)"}], "who": "nailyk_launchpad@nailyk.fr", "when": "2018-05-07T10:14:40Z"}, {"changes": [{"removed": "Untriaged", "field_name": "component", "added": "Panning and Zooming"}, {"removed": "Firefox", "field_name": "product", "added": "Core"}], "who": "daniel.bodea@softvision.ro", "when": "2018-05-07T13:44:44Z"}], "resolution": "", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}