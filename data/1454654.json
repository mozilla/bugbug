{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "thee.chicago.wolf@gmail.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "cc_detail": [{"email": "jorendorff@mozilla.com", "id": 281791, "name": "jorendorff@mozilla.com", "real_name": "Jason Orendorff [:jorendorff]"}, {"email": "nicolas.b.pierron@mozilla.com", "id": 422187, "name": "nicolas.b.pierron@mozilla.com", "real_name": "Nicolas B. Pierron [:nbp] {backlog: 36}"}, {"email": "ovidiu.boca@softvision.ro", "id": 551038, "name": "ovidiu.boca@softvision.ro", "real_name": "ovidiu boca[:Ovidiu]"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}], "cf_last_resolved": "2018-04-25T16:37:38Z", "attachments": [], "votes": 0, "classification": "Components", "is_confirmed": false, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 9, "comments": [{"text": "User Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:56.0) Gecko/20100101 Firefox/56.0 SeaMonkey/2.53\nBuild ID: 20180402185612\n\nSteps to reproduce:\n\nI was running 59.0.2 x64 and did some speed/performance testing using speed-battle.com. On my old clunker (Latitude E6510), I was hitting scores around 1200-1300. I updated to 60.0b11 and scores went down to the 850-1000 range. I tried 60.0b10, same score range. Tried 60.0b9 and score went back up to 1200-1300 range. Scores are still low even with 60.0b12  b13.\n\nI was not successful in using Mozgression in trying to find the problem specific to FF60 as it wouldn't let me choose to see what changed between 60.0b9 and 60.0b10. I've used Mozgression successfully before but not this time.\n\nIf anyone could throw me a bone on finding the right config parameters based on the below info I would like to help find the regression range.\n\nLast Good: 20180402175344\nBuilt from: d2564a0c25e5084dbd064cf546d98a9f72eed1f3\n\nFirst Bad: 20180404171943\nBuilt from: 8bf7d4cef4c3fd2048a56aae828cad0fbafc6ff3\n\n\nActual results:\n\nSince the scores went down, I rolled back to 60.0b9 and scores went back up to the way they were when 59.0.2 was installed.\n\n\nExpected results:\n\nScores should have stayed the same or gone up.", "author": "thee.chicago.wolf@gmail.com", "id": 13212460, "time": "2018-04-17T14:04:34Z"}, {"text": "Hi Arthur,\n\nThanks for running mozregression and finding a regression range.\nCan you please add more details about your steps, sites, actions that you are taking in order to reproduce this?", "author": "ovidiu.boca@softvision.ro", "id": 13221216, "time": "2018-04-20T12:39:50Z"}, {"text": "(In reply to ovidiu boca[:Ovidiu] from comment #1)\n> Hi Arthur,\n> \n> Thanks for running mozregression and finding a regression range.\n> Can you please add more details about your steps, sites, actions that you\n> are taking in order to reproduce this?\n\nSTR:\n\n1. Install FF 60.0b9 and run some benchmarks from speed-battle.com. Repeat Test a few times (10? 20?) to get an average or rough idea of the score range.\n\n2. Install FF 60.0b10 and run some benchmarks from speed-battle.com. Repeat Test a few times (10? 20?) to get an average or rough idea of the score range.\n\nYou should see lower score range using FF 60.0b10 as opposed to 60.0b9.", "author": "thee.chicago.wolf@gmail.com", "id": 13221225, "time": "2018-04-20T12:47:09Z"}, {"text": "I do not see any JS changes being uplifted between 60b9 and 60b10.\n\nhttps://hg.mozilla.org/releases/mozilla-beta/pushloghtml?startdate=2018-04-02+17%3A53&enddate=2018-04-04+17%3A20", "author": "nicolas.b.pierron@mozilla.com", "id": 13226734, "time": "2018-04-23T15:19:41Z"}, {"text": "(In reply to Nicolas B. Pierron [:nbp] {backlog: ~38} from comment #3)\n> I do not see any JS changes being uplifted between 60b9 and 60b10.\n> \n> https://hg.mozilla.org/releases/mozilla-beta/pushloghtml?startdate=2018-04-\n> 02+17%3A53&enddate=2018-04-04+17%3A20\n\nLikely cause might not be related to a JavaScript change. The Engine of the site happens to use that according to someone on mozilla.support.firefox. Are you able to repro the perf drop?", "author": "thee.chicago.wolf@gmail.com", "id": 13226753, "time": "2018-04-23T15:22:50Z"}, {"text": "Hi Nicolas,\nI thought moving this to JS it will be a good starting point for this issue, please feel free to move it to a more appropriate component if that's the case. Thanks", "author": "ovidiu.boca@softvision.ro", "id": 13228789, "time": "2018-04-24T07:23:46Z"}, {"text": "If the pushlog range in comment 3 is correct, |mozregression --repo beta --good d2564a0c25e5 --bad 8bf7d4cef4c3| should allow you to bisect within it.", "author": "ryanvm@gmail.com", "id": 13228792, "time": "2018-04-24T07:26:29Z"}, {"text": "We also tested this on Windows 7 x64 with FF 60 beta 10 and FF 60 beta 9 and here are the results:\n\n We repeat the tests on each version 15 times. \n\nBeta 09          \n\n1.1108.4\n2.1214.17\n3.1137.97\n4.1101.32\n5.1090.96\n6.1113.15\n7.1130.39\n8.1089.15\n9.1101.32\n10.1102.07\n11.1102.07\n12.1135.26\n13.1115.88\n14.1111.07\n15.1106.07        \n\nThe overall result: 1117.28333\n\nBeta 10\n\n1.1178.29\n2.1116.77\n3.1135.26\n4.1063.02\n5.1106.07\n6.1097.52\n7.1149.42\n8.1124.18\n9.1118.15\n11.1109.01\n12.1131.12\n13.1126.12\n14.1179.02\n15.1129.18\n\nThe overall result: 1125.93786", "author": "ovidiu.boca@softvision.ro", "id": 13228804, "time": "2018-04-24T07:37:09Z"}, {"text": "Ok, so I think I figured it out and it *seems* to have been profile related. I tested with \"--good d2564a0c25e5 --bad 8bf7d4cef4c3\" on a brand new profile and the scores remained consistent from b9 to b10. So I tried with my old profile(s), b9 had better scores than b10.\n\nSo I did dome further digging. I noticed in my \\Users\\<user name>\\appdata\\Local\\Mozilla\\Firefox\\Profiles and saw there were a few profiles existing there so saved them and then blew them all out. I also looked at \\Users\\<user name>\\appdata\\Roaming\\Mozilla\\Firefox\\Profiles and there was only one there. I saved it then I blew it out.\n\nRe-ran the tests and the scores were consistent from b9 to b10. I put back all the other profiles I deleted and the scores from b9 to b10 were different.\n\nWhen I removed all but the same-named profiles from \\Users\\<user name>\\appdata\\Local\\Mozilla\\Firefox\\Profiles and \\Users\\<user name>\\appdata\\Roaming\\Mozilla\\Firefox\\Profiles, scores were consistent.\n\nSo I will surmise that something weird is going on when a bunch of vestigial profiles are hanging around in \\Users\\<user name>\\appdata\\Local\\Mozilla\\Firefox\\Profiles. Seems that 1) starting with a new profile or 2) making sure no other profiles other than what is in \\Users\\<user name>\\appdata\\Roaming\\Mozilla\\Firefox\\Profiles matches what is in \\Users\\<user name>\\appdata\\Local\\Mozilla\\Firefox\\Profiles is the fix for this odd issue. At least in my case.", "author": "thee.chicago.wolf@gmail.com", "id": 13232948, "time": "2018-04-25T16:18:31Z"}], "id": 1454654, "priority": "P5", "cc": ["jorendorff@mozilla.com", "nicolas.b.pierron@mozilla.com", "ovidiu.boca@softvision.ro", "ryanvm@gmail.com"], "cf_crash_signature": "", "version": "60 Branch", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2018-04-17T14:04:34Z", "cf_status_firefox_esr52": "---", "component": "JavaScript Engine", "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "thee.chicago.wolf@gmail.com", "id": 393183, "name": "thee.chicago.wolf@gmail.com", "real_name": "Arthur K."}, "whiteboard": "", "mentors": [], "summary": "speed-battle.com shows a 15-20% perf drop (JavaScript) between ff60.0b9 and 60.0b10", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-04-25T16:37:38Z", "assigned_to": "nobody@mozilla.org", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "ovidiu.boca@softvision.ro"}, {"removed": "Untriaged", "field_name": "component", "added": "JavaScript Engine"}, {"removed": "Firefox", "field_name": "product", "added": "Core"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(thee.chicago.wolf@gmail.com)"}], "who": "ovidiu.boca@softvision.ro", "when": "2018-04-20T12:39:50Z"}, {"changes": [{"removed": "needinfo?(thee.chicago.wolf@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "thee.chicago.wolf@gmail.com", "when": "2018-04-20T12:47:09Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "nicolas.b.pierron@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(ovidiu.boca@softvision.ro)"}], "who": "nicolas.b.pierron@mozilla.com", "when": "2018-04-23T15:19:41Z"}, {"changes": [{"removed": "needinfo?(ovidiu.boca@softvision.ro)", "field_name": "flagtypes.name", "added": ""}], "who": "ovidiu.boca@softvision.ro", "when": "2018-04-24T07:23:46Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ryanvm@gmail.com"}], "who": "ryanvm@gmail.com", "when": "2018-04-24T07:26:29Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P5"}, {"removed": "", "field_name": "cc", "added": "jorendorff@mozilla.com"}], "who": "jorendorff@mozilla.com", "when": "2018-04-25T15:04:14Z"}, {"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "WORKSFORME"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-04-25 16:37:38"}], "who": "thee.chicago.wolf@gmail.com", "when": "2018-04-25T16:37:38Z"}], "resolution": "WORKSFORME", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}