{"status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "lclark@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8702284}, {"creator": "lclark@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8702993}, {"creator": "lclark@mozilla.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-01-04T15:10:23Z", "type_id": 748, "creation_date": "2016-01-04T15:05:29Z", "id": 1316032, "setter": "ejpbruel@mozilla.com"}], "content_type": "text/plain", "id": 8703612}, {"creator": "lclark@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-01-07T10:24:48Z", "type_id": 748, "creation_date": "2016-01-04T16:34:33Z", "id": 1316128, "setter": "ejpbruel@mozilla.com"}], "content_type": "text/plain", "id": 8703680}], "classification": "Client Software", "creator": "lclark@mozilla.com", "cc": ["ejpbruel@gmail.com", "ejpbruel@mozilla.com", "lclark@mozilla.com"], "depends_on": [1235370, 1235371], "creation_time": "2015-12-28T14:18:11Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "Change FrameActor to protocol.js", "cf_last_resolved": "2016-01-10T23:44:23Z", "assigned_to_detail": {"email": "lclark@mozilla.com", "id": 544230, "name": "lclark@mozilla.com", "real_name": "Lin Clark [:linclark]"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "lclark@mozilla.com", "comment_count": 17, "comments": [{"text": "Splitting this out from Bug #1037992", "author": "lclark@mozilla.com", "id": 11032990, "time": "2015-12-28T14:18:11Z"}, {"text": "Created attachment 8702284\nFrameActor.patch", "author": "lclark@mozilla.com", "id": 11032996, "time": "2015-12-28T14:23:14Z"}, {"text": "This was r+ in the last issue and it has no dependencies, so I think we can land it if it passes tests.\n\nTry push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=620e9bebf091", "author": "lclark@mozilla.com", "id": 11033018, "time": "2015-12-28T14:39:33Z"}, {"text": "Turns out this does have a dependency on two other patches. It uses ProtocolError, so it depends on bug 1235370 and bug 1235371.", "author": "lclark@mozilla.com", "id": 11033226, "time": "2015-12-28T16:43:13Z"}, {"text": "Created attachment 8702993\nBug1235375.patch\n\nThis patch fixes a couple of comments and adds a bug number for a TODO.\n\nI'm a little concerned about this patch, though. It is converting onPop to pop. I'm not sure where/whether this code is currently being used. Removing it completely does not break any tests. This means one of two things:\n\nEither:\n1. There are no callers for this function. If this is the case, I suggest we remove it and leave any discussion of implementing it to the issue queue.\n2. There are callers and I could be breaking something here. We wouldn't know it because we don't have test coverage.\n\nI've created an issue to figure out if we want to implement this or not (Bug 235887).", "author": "lclark@mozilla.com", "id": 11037858, "time": "2015-12-30T20:45:01Z"}, {"text": "Correction, the bug about the pop TODO is Bug 1235887.", "author": "lclark@mozilla.com", "id": 11037861, "time": "2015-12-30T20:46:27Z"}, {"text": "I have a patch in to remove the pop method (Bug 1235901). It has already been r+-ed, so once it is committed, I'll update this patch to remove the pop parts.", "author": "lclark@mozilla.com", "id": 11041889, "time": "2016-01-04T01:05:52Z"}, {"text": "Created attachment 8703612\nBug1235375.patch\n\nThis patch simply switches FrameActor to be a subclass of ActorClass. This will make it easy to add protocol.js methods in the future if any are needed.\n\nShould we break these actors out into their own files? I noticed that a lot of other actors that use ActorClass are in their own file.", "author": "lclark@mozilla.com", "id": 11043015, "time": "2016-01-04T15:05:29Z"}, {"text": "Comment on attachment 8703612\nBug1235375.patch\n\nReview of attachment 8703612:\n-----------------------------------------------------------------\n\nPatch looks good to me.\n\nTo answer your question: I definitely think we should move these actors to their own separate files. In fact, this has been on my to do list for some time, but it was never high priority enough for me to actually get to it. If you feel like doing it, I'd be much obliged if you did :-) (You can do so in a followup patch instead of this one, if you want).\n\n::: devtools/server/actors/script.js\n@@ +3114,5 @@\n>    \"threadGrip\": PauseScopedObjectActor.prototype.onThreadGrip,\n>  });\n>  \n>  /**\n> + * An actor for a specified stack frame.\n\nI like this convention of separating out the comment describing the actor from the one describing its constructor. Let's stick to this when you convert the other actors.", "author": "ejpbruel@mozilla.com", "id": 11043035, "time": "2016-01-04T15:10:23Z"}, {"text": "Created attachment 8703680\nBug1235375.patch\n\nHad a conversation in IRC with ochameau, ejpbruel and jlongster. The META issue was updated to include breaking the actors into separate files.\n\nBased on this, I broke FrameActor out into its own file.\n\nTry push: https://treeherder.mozilla.org/#/jobs?repo=try&revision=4a410ccfbdb1", "author": "lclark@mozilla.com", "id": 11043413, "time": "2016-01-04T16:34:33Z"}, {"text": "Comment on attachment 8703680\nBug1235375.patch\n\nReview of attachment 8703680:\n-----------------------------------------------------------------\n\nFor the sake of consistency, if we are going to move each actor to its own file, I think each file should have the same name as the actor it contains. In my experience, this makes it easier to find things if you're not already familiar with the code. With that in mind, I propose we name the file 'frame-actor.js'.\n\nr+ with the above comment addressed.", "author": "ejpbruel@mozilla.com", "id": 11053830, "time": "2016-01-07T10:24:48Z"}, {"text": "I originally thought the same, but when I looked at the other files (like chrome.js, object.js, etc), they all have the word actor in the function name but not in the file name.\n\nI'm thinking that we should keep it consistent with these other files, which means keeping it as frame.js. Eddy, do you agree?", "author": "lclark@mozilla.com", "id": 11054559, "time": "2016-01-07T14:39:03Z"}, {"text": "(In reply to Lin Clark from comment #11)\n> I originally thought the same, but when I looked at the other files (like\n> chrome.js, object.js, etc), they all have the word actor in the function\n> name but not in the file name.\n> \n> I'm thinking that we should keep it consistent with these other files, which\n> means keeping it as frame.js. Eddy, do you agree?\n\nWell, I think the current way we do it is wrong, so the argument that we shouldn't change it because this is the current way we do it is not a particularly strong one for me.\n\nThat said, this really is not important enough to have a discussion over, so I'll leave the final decision up to you.", "author": "ejpbruel@mozilla.com", "id": 11058300, "time": "2016-01-08T13:51:31Z"}, {"text": "I'm going to leave it as it is in the patch, then. \n\nIf we decide to have actor files include the word \"actor\", we can do it in a different issue as a mass rename to make sure that it's consistent.", "author": "lclark@mozilla.com", "id": 11058486, "time": "2016-01-08T14:40:57Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/70691265926c", "author": "pulsebot@bots.tld", "id": 11061547, "time": "2016-01-09T22:37:50Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/70691265926c", "author": "philringnalda@gmail.com", "id": 11062371, "time": "2016-01-10T23:44:23Z"}, {"text": "[bugday-20160323]\n\nStatus: RESOLVED,FIXED -> UNVERIFIED\n\nComments:\nSTR: Not clear.\nDeveloper specific testing\n\nComponent: \nName\t\t\tFirefox\nVersion\t\t\t46.0b9\nBuild ID\t\t20160322075646\nUpdate Channel\tbeta\nUser Agent\t\tMozilla/5.0 (Windows NT 6.1; WOW64; rv:46.0) Gecko/20100101 Firefox/46.0\nOS\t\t\t\tWindows 7 SP1 x86_64\n\nExpected Results: \nDeveloper specific testing\n\nActual Results: \nAs expected", "author": "ram.nath241089@gmail.com", "id": 11314313, "time": "2016-04-11T01:15:50Z"}], "id": 1235375, "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2016-04-11T01:15:50Z", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "---", "blocks": [1037992], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Developer Tools: Debugger", "votes": 0, "groups": [], "cf_status_firefox60": "---", "target_milestone": "Firefox 46", "is_cc_accessible": true, "cf_status_firefox46": "fixed", "url": "", "creator_detail": {"email": "lclark@mozilla.com", "id": 544230, "name": "lclark@mozilla.com", "real_name": "Lin Clark [:linclark]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "ejpbruel@gmail.com", "id": 412959, "name": "ejpbruel@gmail.com", "real_name": ""}, {"email": "ejpbruel@mozilla.com", "id": 417505, "name": "ejpbruel@mozilla.com", "real_name": "Eddy Bruel [:ejpbruel]"}, {"email": "lclark@mozilla.com", "id": 544230, "name": "lclark@mozilla.com", "real_name": "Lin Clark [:linclark]"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1037992"}], "who": "lclark@mozilla.com", "when": "2015-12-28T14:20:22Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "lclark@mozilla.com"}], "who": "lclark@mozilla.com", "when": "2015-12-28T14:39:43Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1235371, 1235370"}], "who": "lclark@mozilla.com", "when": "2015-12-28T16:43:13Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8702284, "added": "1"}], "who": "lclark@mozilla.com", "when": "2015-12-30T20:45:01Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}], "who": "lclark@mozilla.com", "when": "2016-01-04T01:05:52Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8702993, "added": "1"}, {"removed": "", "field_name": "cc", "added": "ejpbruel@mozilla.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8703612, "added": "review?(ejpbruel@mozilla.com)"}], "who": "lclark@mozilla.com", "when": "2016-01-04T15:05:29Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "lclark@mozilla.com"}], "who": "lclark@mozilla.com", "when": "2016-01-04T15:05:44Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(ejpbruel@mozilla.com)", "attachment_id": 8703612, "added": "review+"}], "who": "ejpbruel@mozilla.com", "when": "2016-01-04T15:10:23Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8703612, "added": "1"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8703680, "added": "review?(ejpbruel@mozilla.com)"}], "who": "lclark@mozilla.com", "when": "2016-01-04T16:34:33Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(ejpbruel@mozilla.com)", "attachment_id": 8703680, "added": "review+"}], "who": "ejpbruel@mozilla.com", "when": "2016-01-07T10:24:48Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ejpbruel@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(ejpbruel@gmail.com)"}], "who": "lclark@mozilla.com", "when": "2016-01-07T14:39:03Z"}, {"changes": [{"removed": "needinfo?(ejpbruel@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "ejpbruel@mozilla.com", "when": "2016-01-08T13:51:31Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "checkin-needed"}], "who": "lclark@mozilla.com", "when": "2016-01-08T14:40:57Z"}, {"changes": [{"removed": "checkin-needed", "field_name": "keywords", "added": ""}], "who": "pulsebot@bots.tld", "when": "2016-01-09T22:37:50Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 46"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-01-10 15:44:23"}, {"removed": "affected", "field_name": "cf_status_firefox46", "added": "fixed"}], "who": "philringnalda@gmail.com", "when": "2016-01-10T23:44:23Z"}]}