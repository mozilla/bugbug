{"status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Client Software", "creator": "felipc@gmail.com", "cc": ["mconley@mozilla.com"], "depends_on": [1457988, 1462400], "creation_time": "2018-05-14T05:15:38Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "summary": "Only load ContextMenu.jsm when a contextmenu event occurs", "cf_last_resolved": "2018-05-26T04:12:34Z", "attachments": [{"creator": "felipc@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-14T15:58:58Z", "type_id": 748, "creation_date": "2018-05-14T05:17:07Z", "id": 1756230, "setter": "mconley@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8975391}], "assigned_to_detail": {"email": "felipc@gmail.com", "id": 208747, "name": "felipc@gmail.com", "real_name": ":Felipe Gomes (needinfo me!)"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 7, "comments": [{"text": "An instance of the ContextMenu object is created for every tab (in content.js) only to add its event listener for the \"contextmenu\" event.\n\nWe can add this observer in content.js and only load the .jsm when that happens.\n\nThis patch uses the helper being added in bug 1457988", "author": "felipc@gmail.com", "id": 13274608, "time": "2018-05-14T05:15:38Z"}, {"text": "Created attachment 8975391\nBug 1461248 - Only load ContextMenu.jsm when a contextmenu event occurs.\n\nReview commit: https://reviewboard.mozilla.org/r/243698/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/243698/", "author": "felipc@gmail.com", "id": 13274610, "time": "2018-05-14T05:17:07Z"}, {"text": "Comment on attachment 8975391\nBug 1461248 - Only load ContextMenu.jsm when a contextmenu event occurs.\n\nhttps://reviewboard.mozilla.org/r/243698/#review249640\n\ndefineLazyProxy looks awesome! Thanks, felipe!", "author": "mconley@mozilla.com", "id": 13276091, "time": "2018-05-14T15:58:58Z"}, {"text": "Comment on attachment 8975391\nBug 1461248 - Only load ContextMenu.jsm when a contextmenu event occurs.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/243698/diff/1-2/", "author": "felipc@gmail.com", "id": 13285445, "time": "2018-05-17T19:34:23Z"}, {"text": "I did some small shuffling around in content.js to make the code look cleaner: moved the `var global = this` to the top of the file, to group the XPCOMUtils stuff together. I'll carry the r+ forward since there's no functionality change.\n\nI also removed the `var contextMenu = ` which was useless, but now I need to wait for bug 1462400 before landing this, otherwise eslint will complain", "author": "felipc@gmail.com", "id": 13285453, "time": "2018-05-17T19:37:31Z"}, {"text": "Pushed by felipc@gmail.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/43757e7a227f\nOnly load ContextMenu.jsm when a contextmenu event occurs. r=mconley", "author": "pulsebot@bots.tld", "id": 13364507, "time": "2018-05-25T17:23:09Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/43757e7a227f", "author": "dluca@mozilla.com", "id": 13365717, "time": "2018-05-26T04:12:34Z"}], "id": 1461248, "priority": "P1", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "---", "blocks": [1436250], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Menus", "votes": 1, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "fixed", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "Firefox 62", "is_cc_accessible": true, "cf_rank": null, "groups": [], "url": "", "creator_detail": {"email": "felipc@gmail.com", "id": 208747, "name": "felipc@gmail.com", "real_name": ":Felipe Gomes (needinfo me!)"}, "whiteboard": "[fxperf:p1]", "mentors": [], "cc_detail": [{"email": "mconley@mozilla.com", "id": 403756, "name": "mconley@mozilla.com", "real_name": "Mike Conley (:mconley) (:\u2699\ufe0f) (Catching up on needinfos / reviews)"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-29T16:32:25Z", "cf_status_firefox_esr60": "---", "assigned_to": "felipc@gmail.com", "is_open": false, "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "history": [{"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8975391, "added": "review?(mconley@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "mconley@mozilla.com"}], "who": "felipc@gmail.com", "when": "2018-05-14T05:17:07Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(mconley@mozilla.com)", "attachment_id": 8975391, "added": "review+"}], "who": "mconley@mozilla.com", "when": "2018-05-14T15:58:58Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P1"}], "who": "gijskruitbosch+bugs@gmail.com", "when": "2018-05-16T21:10:36Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1462400"}], "who": "felipc@gmail.com", "when": "2018-05-17T19:34:40Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-26 04:12:34"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "dluca@mozilla.com", "when": "2018-05-26T04:12:34Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1436250"}], "who": "felipc@gmail.com", "when": "2018-05-29T16:32:25Z"}]}