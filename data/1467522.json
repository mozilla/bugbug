{"cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Components", "creator": "isaacschemm@gmail.com", "mentors_detail": [], "depends_on": [], "creation_time": "2018-06-07T18:00:37Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "keywords": ["regression"], "summary": "\"Edit and Resend\" fails when the original response was JSON", "cf_last_resolved": null, "attachments": [], "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "comments": [{"text": "User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:61.0) Gecko/20100101 Firefox/61.0\nBuild ID: 20180604143143\n\nSteps to reproduce:\n\n1. Use Firefox 61.0b11\n2. Open the Network pane of Developer Tools\n3. Visit http://json-schema.org/example/geo.json\n4. Right-click the request and choose Edit and Resend\n5. Click Send\n\n\nActual results:\n\nAn error in the Browser Console:\n\nTypeError: response.eventActor is undefined: sendCustomRequest/</<@resource://devtools/shared/base-loader.js -> resource://devtools/client/netmonitor/src/actions/requests.js:73:9\nsafeOnResponse@resource://devtools/shared/base-loader.js -> resource://devtools/shared/client/debugger-client.js:611:14\nlistenerJson@resource://devtools/shared/base-loader.js -> resource://devtools/shared/client/debugger-client.js:632:25\nemit@resource://devtools/shared/base-loader.js -> resource://devtools/shared/event-emitter.js:178:37\nemit@resource://devtools/shared/base-loader.js -> resource://devtools/shared/event-emitter.js:255:29\nemitReply@resource://devtools/shared/base-loader.js -> resource://devtools/shared/client/debugger-client.js:915:29\ncallFunctionWithAsyncStack@resource://devtools/shared/base-loader.js -> resource://devtools/shared/platform/stack.js:61:10\nonPacket@resource://devtools/shared/base-loader.js -> resource://devtools/shared/client/debugger-client.js:917:9\nsend/<@resource://devtools/shared/base-loader.js -> resource://devtools/shared/transport/transport.js:553:13\nexports.makeInfallible/<@resource://devtools/shared/base-loader.js -> resource://devtools/shared/ThreadSafeDevToolsUtils.js:109:14\nexports.makeInfallible/<@resource://devtools/shared/base-loader.js -> resource://devtools/shared/ThreadSafeDevToolsUtils.js:109:14\n\n\nExpected results:\n\nThe request should have been resent.", "author": "isaacschemm@gmail.com", "id": 13394341, "time": "2018-06-07T18:00:37Z"}, {"text": "Hi Isaac,\n\nThank you for reporting this issue!\n\nI managed to reproduce it on the last Nightly so I made a mozregression. The pushlog URL is: https://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=a760e111f2f157fbb18e66117f026ca298d4343e&tochange=38f15c3991f94aa9b3cd37a7e50654f5c2dd0185\nThe issue started to reproduce between build 2018-03-20 and 2018-03-21 of Nightly 61.\n\nMarking the issue as New, on Request Handling component.", "author": "david.olah@softvision.ro", "id": 13402175, "time": "2018-06-12T11:11:06Z"}, {"text": "Regressed by bug 1447012 maybe?", "author": "ryanvm@gmail.com", "id": 13406719, "time": "2018-06-15T13:48:36Z"}, {"text": "(In reply to Ryan VanderMeulen [:RyanVM] from comment #2)\n> Regressed by bug 1447012 maybe?\n\nNevermind, that was a test-only change. Bug 1420291 looks more likely.", "author": "ryanvm@gmail.com", "id": 13406724, "time": "2018-06-15T13:51:05Z"}, {"text": "Hey Ryan,\n\nI wanted to give this STR a try by comparing the behavior on newest versions and the changes I submitted, but I have some problems with reproducing it on newest. \n\nWhen following the STR, after clicking send, I get \"Content Security Policy: The page\u2019s settings blocked the loading of a resource at http://json-schema.org/example/geo.json (\u201cdefault-src\u201d).\", I wasn't able to locate the source of the policy, so I guess it's side effect of the enhanced view of JSON supplied by firefox. Nevertheless, either I should somehow silence the CSP or I am getting to point after the expected error.\n\nI also managed to work around it by visiting view-source:http://json-schema.org/example/geo.json, then CSP is not violated but I am not sure if does not break the STR.\n\nTried on 61.0b5 and 62.0a1 (11-06-2018), Linux x86_64.\n\nCan you help me reproduce it or maybe have some other thoughts on that?", "author": "glowka.tom@gmail.com", "id": 13410304, "time": "2018-06-18T12:04:30Z"}], "id": 1467522, "priority": "--", "platform": "Unspecified", "comment_count": 5, "version": "61 Branch", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "status": "NEW", "product": "DevTools", "cf_fx_iteration": "---", "blocks": [1420291], "qa_contact": "", "see_also": [], "cf_status_firefox_esr52": "unaffected", "component": "Netmonitor", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "affected", "cf_status_firefox61": "affected", "cf_status_firefox60": "unaffected", "target_milestone": "---", "cc": ["david.olah@softvision.ro", "glowka.tom@gmail.com", "kmaglione+bmo@mozilla.com", "mcastelluccio@mozilla.com", "odvarko@gmail.com", "oriol-bugzilla@hotmail.com", "ryanvm@gmail.com"], "groups": [], "url": "", "creator_detail": {"email": "isaacschemm@gmail.com", "id": 544537, "name": "isaacschemm@gmail.com", "real_name": "Isaac Schemm"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "david.olah@softvision.ro", "id": 613144, "name": "david.olah@softvision.ro", "real_name": "David Olah"}, {"email": "glowka.tom@gmail.com", "id": 612477, "name": "glowka.tom@gmail.com", "real_name": "Tom Glowka"}, {"email": "kmaglione+bmo@mozilla.com", "id": 106098, "name": "kmaglione+bmo@mozilla.com", "real_name": "Kris Maglione [:kmag]"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "odvarko@gmail.com", "id": 303767, "name": "odvarko@gmail.com", "real_name": "Jan Honza Odvarko [:Honza]"}, {"email": "oriol-bugzilla@hotmail.com", "id": 541576, "name": "oriol-bugzilla@hotmail.com", "real_name": "Oriol Brufau [:Oriol]"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}], "alias": null, "dupe_of": null, "flags": [{"requestee": "ryanvm@gmail.com", "status": "?", "name": "needinfo", "modification_date": "2018-06-18T12:04:30Z", "type_id": 800, "creation_date": "2018-06-18T12:04:30Z", "id": 1769693, "setter": "glowka.tom@gmail.com"}], "last_change_time": "2018-06-18T12:04:30Z", "cf_status_firefox_esr60": "unaffected", "assigned_to": "nobody@mozilla.org", "is_open": true, "cf_qa_whiteboard": "", "resolution": "", "op_sys": "Unspecified", "cf_fx_points": "---", "history": [{"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "NEW"}, {"removed": "", "field_name": "cc", "added": "david.olah@softvision.ro"}, {"removed": "Untriaged", "field_name": "component", "added": "WebExtensions: Request Handling"}, {"removed": "Firefox", "field_name": "product", "added": "Toolkit"}, {"removed": "0", "field_name": "is_confirmed", "added": "1"}, {"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "affected"}], "who": "david.olah@softvision.ro", "when": "2018-06-12T11:11:06Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "kmaglione+bmo@mozilla.com"}, {"removed": "WebExtensions: Request Handling", "field_name": "component", "added": "Developer Tools: Netmonitor"}, {"removed": "Toolkit", "field_name": "product", "added": "Firefox"}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-06-12T19:07:16Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-06-13T16:21:50Z"}, {"changes": [{"removed": "Firefox", "field_name": "product", "added": "DevTools"}], "who": "automation@bmo.tld", "when": "2018-06-13T17:31:45Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "oriol-bugzilla@hotmail.com, ryanvm@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(oriol-bugzilla@hotmail.com)"}], "who": "ryanvm@gmail.com", "when": "2018-06-15T13:48:36Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "glowka.tom@gmail.com, odvarko@gmail.com"}, {"removed": "", "field_name": "blocks", "added": "1420291"}, {"removed": "needinfo?(oriol-bugzilla@hotmail.com)", "field_name": "flagtypes.name", "added": "needinfo?(glowka.tom@gmail.com)"}], "who": "ryanvm@gmail.com", "when": "2018-06-15T13:51:05Z"}, {"changes": [{"removed": "needinfo?(glowka.tom@gmail.com)", "field_name": "flagtypes.name", "added": "needinfo?(ryanvm@gmail.com)"}], "who": "glowka.tom@gmail.com", "when": "2018-06-18T12:04:30Z"}]}