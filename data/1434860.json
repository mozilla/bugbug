{"cf_tracking_thunderbird_esr52": "---", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "dao+bmo@mozilla.com", "mentors_detail": [], "depends_on": [1387253], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "keywords": [], "cc_detail": [{"email": "bgrinstead@mozilla.com", "id": 476442, "name": "bgrinstead@mozilla.com", "real_name": "Brian Grinstead [:bgrins]"}, {"email": "enndeakin@gmail.com", "id": 6102, "name": "enndeakin@gmail.com", "real_name": "Neil Deakin"}, {"email": "mkmelin+mozilla@iki.fi", "id": 101158, "name": "mkmelin+mozilla@iki.fi", "real_name": "Magnus Melin"}, {"email": "paolo.mozmail@amadzone.org", "id": 332229, "name": "paolo.mozmail@amadzone.org", "real_name": ":Paolo Amadini"}, {"email": "richard.marti@gmail.com", "id": 282357, "name": "richard.marti@gmail.com", "real_name": "Richard Marti (:Paenglab)"}], "cf_last_resolved": "2018-04-03T22:02:47Z", "attachments": [{"creator": "paolo.mozmail@amadzone.org", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-03-19T21:06:55Z", "type_id": 4, "creation_date": "2018-03-19T15:51:30Z", "id": 1731466, "setter": "bgrinstead@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8959145}, {"creator": "paolo.mozmail@amadzone.org", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-03-23T18:57:48Z", "type_id": 4, "creation_date": "2018-03-19T15:49:49Z", "id": 1731465, "setter": "enndeakin@gmail.com"}], "content_type": "text/x-review-board-request", "id": 8959166}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 18, "comments": [{"text": "It looks like only webconsole.xul uses this but that's dead code (bug 1381834). In bug 1387253, we dropped support for putting this button type in the main toolbars.", "author": "dao+bmo@mozilla.com", "id": 13010807, "time": "2018-02-01T10:13:51Z"}, {"text": "In addition to removing the menu-button binding here, we should be able to fold together menu-button-base and download-subview-toolbarbutton (which will now be the only thing extending that binding)", "author": "bgrinstead@mozilla.com", "id": 13059618, "time": "2018-02-21T23:20:09Z"}, {"text": "If bug 1381834 takes longer than expected, I'll simply change the button type in the old console, and land the patch after the merge to Beta has happened.", "author": "paolo.mozmail@amadzone.org", "id": 13108300, "time": "2018-03-06T15:45:15Z"}, {"text": "Created attachment 8959145\nBug 1434860 - Part 1 - Don't use menu-button toolbar buttons in the console.\n\nWhat used to be the main action can now be achieved using the Shift modifier key.\n\nReview commit: https://reviewboard.mozilla.org/r/228012/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/228012/", "author": "paolo.mozmail@amadzone.org", "id": 13130799, "time": "2018-03-15T14:37:29Z"}, {"text": "Brian, there will be more parts to this bug, but I'm already posting the prerequisite patch to get your opinion on the removal of the styles.\n\nI just dropped the colored dots because the result looks good enough, and probably even better visually. As I understand it, this version of the console will also be removed soon, hopefully in this same release, so this change will only be visible for some time on Nightly.", "author": "paolo.mozmail@amadzone.org", "id": 13130813, "time": "2018-03-15T14:41:12Z"}, {"text": "(In reply to :Paolo Amadini from comment #4)\n> Brian, there will be more parts to this bug, but I'm already posting the\n> prerequisite patch to get your opinion on the removal of the styles.\n> \n> I just dropped the colored dots because the result looks good enough, and\n> probably even better visually. As I understand it, this version of the\n> console will also be removed soon, hopefully in this same release, so this\n> change will only be visible for some time on Nightly.\n\nThis console UI is only visible anymore in the Browser Console and the Browser Toolbox. We are tracking enabling it there in Bug 1362023, and I expect that should be enabled by default in nightly very soon (I'll find out more details about that today).\n\nI played around with the patch applied and think it should be OK to remove this feature in the meantime.", "author": "bgrinstead@mozilla.com", "id": 13130926, "time": "2018-03-15T15:14:00Z"}, {"text": "Created attachment 8959166\nBug 1434860 - Part 2 - Remove support for menu-button toolbar buttons.\n\nReview commit: https://reviewboard.mozilla.org/r/228034/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/228034/", "author": "paolo.mozmail@amadzone.org", "id": 13130960, "time": "2018-03-15T15:25:21Z"}, {"text": "Comment on attachment 8959145\nBug 1434860 - Part 1 - Don't use menu-button toolbar buttons in the console.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/228012/diff/1-2/", "author": "paolo.mozmail@amadzone.org", "id": 13130961, "time": "2018-03-15T15:25:21Z"}, {"text": "The following tests seem to be failing:\n\n- devtools/client/webconsole/test/browser_console_keyboard_accessibility.js\n- devtools/client/webconsole/test/browser_webconsole_bug_601667_filter_buttons.js\n- devtools/client/webconsole/test/browser_webconsole_filter_buttons_contextmenu.js\n\nI don't think we should spend too much time on them, but if it's easy to remove the parts that were testing the now removed feature that would be good. I'd want to get confirmation that we are expecting to ride the train this release before we did that.", "author": "bgrinstead@mozilla.com", "id": 13130967, "time": "2018-03-15T15:27:57Z"}, {"text": "Sounds good. I also posted a work in progress for part 2, which I believe edits all the other call sites, and I started a tryserver build to get a list of the tests that need updating:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=f3c5464bec47e10cd246fa77169387ddabefe964", "author": "paolo.mozmail@amadzone.org", "id": 13130982, "time": "2018-03-15T15:30:53Z"}, {"text": "Comment on attachment 8959145\nBug 1434860 - Part 1 - Don't use menu-button toolbar buttons in the console.\n\nhttps://reviewboard.mozilla.org/r/228012/#review234014\n\nI'm OK with this change, but will want to review a version with the test changes. Expecting to enable the new UI in the Browser Console next week, but this doesn't necessarily have to wait for that.", "author": "bgrinstead@mozilla.com", "id": 13132129, "time": "2018-03-15T21:12:16Z"}, {"text": "Comment on attachment 8959145\nBug 1434860 - Part 1 - Don't use menu-button toolbar buttons in the console.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/228012/diff/2-3/", "author": "paolo.mozmail@amadzone.org", "id": 13139844, "time": "2018-03-19T15:48:30Z"}, {"text": "Comment on attachment 8959166\nBug 1434860 - Part 2 - Remove support for menu-button toolbar buttons.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/228034/diff/1-2/", "author": "paolo.mozmail@amadzone.org", "id": 13139845, "time": "2018-03-19T15:48:30Z"}, {"text": "Comment on attachment 8959145\nBug 1434860 - Part 1 - Don't use menu-button toolbar buttons in the console.\n\nhttps://reviewboard.mozilla.org/r/228012/#review234890\n\nThank you for fixing the tests. This looks good to me with a green try", "author": "bgrinstead@mozilla.com", "id": 13140913, "time": "2018-03-19T21:06:55Z"}, {"text": "Comment on attachment 8959166\nBug 1434860 - Part 2 - Remove support for menu-button toolbar buttons.\n\nhttps://reviewboard.mozilla.org/r/228034/#review236206\n\n::: toolkit/content/tests/chrome/test_bug557987.xul\n(Diff revision 2)\n>    <script type=\"application/javascript\" src=\"chrome://mochikit/content/tests/SimpleTest/SimpleTest.js\"></script>  \n>    <script type=\"application/javascript\" src=\"chrome://mochikit/content/tests/SimpleTest/EventUtils.js\"></script>\n>  \n> -  <toolbarbutton id=\"button\" type=\"menu-button\" label=\"Test bug 557987\"\n> -                                               onclick=\"eventReceived('click');\"\n> +  <toolbarbutton id=\"button\" type=\"menu\" label=\"Test bug 557987\"\n> +                                         onclick=\"eventReceived('click');\">\n> -                                               oncommand=\"eventReceived('command');\">\n\nI think you should leave this in and just compare the number of command events to 0.", "author": "enndeakin@gmail.com", "id": 13152336, "time": "2018-03-23T18:57:48Z"}, {"text": "The new console UI is now enabled by default, but I still tested this manually by flipping the preferences and it works.\n\nI'll land this if the tryserver build is also green:\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=459284cfe26a12cdea973dfb577551dde14f9835", "author": "paolo.mozmail@amadzone.org", "id": 13175869, "time": "2018-04-03T10:08:19Z"}, {"text": "Pushed by paolo.mozmail@amadzone.org:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/121aada41a89\nPart 1 - Don't use menu-button toolbar buttons in the console. r=bgrins\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/c6d2b827e435\nPart 2 - Remove support for menu-button toolbar buttons. r=enn", "author": "pulsebot@bots.tld", "id": 13176674, "time": "2018-04-03T15:26:58Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/121aada41a89\nhttps://hg.mozilla.org/mozilla-central/rev/c6d2b827e435", "author": "aciure@mozilla.com", "id": 13178042, "time": "2018-04-03T22:02:47Z"}], "id": 1434860, "priority": "P1", "cc": ["bgrinstead@mozilla.com", "enndeakin@gmail.com", "mkmelin+mozilla@iki.fi", "paolo.mozmail@amadzone.org", "richard.marti@gmail.com"], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "status": "RESOLVED", "product": "Toolkit", "cf_fx_iteration": "---", "blocks": [1387013, 1397874, 1430028, 1381834, 1445993], "qa_contact": "", "creation_time": "2018-02-01T10:13:51Z", "cf_status_firefox_esr52": "---", "component": "XUL Widgets", "assigned_to_detail": {"email": "paolo.mozmail@amadzone.org", "id": 332229, "name": "paolo.mozmail@amadzone.org", "real_name": ":Paolo Amadini"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "fixed", "cf_status_firefox60": "---", "target_milestone": "mozilla61", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "dao+bmo@mozilla.com", "id": 219124, "name": "dao+bmo@mozilla.com", "real_name": "D\u00e3o Gottwald [::dao]"}, "whiteboard": "", "mentors": [], "summary": "Remove support for <toolbarbutton type=\"menu-button\"/>", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-04-03T22:02:47Z", "assigned_to": "paolo.mozmail@amadzone.org", "is_open": false, "history": [{"changes": [{"removed": "affected", "field_name": "cf_status_firefox60", "added": "---"}], "who": "dao+bmo@mozilla.com", "when": "2018-02-01T10:15:09Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "richard.marti@gmail.com"}], "who": "richard.marti@gmail.com", "when": "2018-02-01T10:20:19Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mkmelin+mozilla@iki.fi"}], "who": "mkmelin+mozilla@iki.fi", "when": "2018-02-01T11:58:24Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bgrinstead@mozilla.com"}], "who": "bgrinstead@mozilla.com", "when": "2018-02-01T15:21:04Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P1"}, {"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "", "field_name": "cc", "added": "paolo.mozmail@amadzone.org"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "paolo.mozmail@amadzone.org"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-03-06T15:45:15Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8959145, "added": "review?(bgrinstead@mozilla.com)"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-03-15T14:37:29Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(bgrinstead@mozilla.com)"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-03-15T14:41:12Z"}, {"changes": [{"removed": "needinfo?(bgrinstead@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "bgrinstead@mozilla.com", "when": "2018-03-15T15:14:00Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1381834"}, {"removed": "1381834", "field_name": "depends_on", "added": ""}], "who": "bgrinstead@mozilla.com", "when": "2018-03-15T15:14:18Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1445993"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-03-15T15:36:53Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bgrinstead@mozilla.com)", "attachment_id": 8959145, "added": ""}], "who": "bgrinstead@mozilla.com", "when": "2018-03-15T21:12:16Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8959145, "added": "review?(bgrinstead@mozilla.com)"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-03-19T15:48:30Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bgrinstead@mozilla.com)", "attachment_id": 8959145, "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8959166, "added": "review?(enndeakin@gmail.com)"}, {"removed": "", "field_name": "cc", "added": "enndeakin@gmail.com"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-03-19T15:49:49Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8959145, "added": "review?(bgrinstead@mozilla.com)"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-03-19T15:51:30Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1430028"}], "who": "paolo.mozmail@amadzone.org", "when": "2018-03-19T16:21:56Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(bgrinstead@mozilla.com)", "attachment_id": 8959145, "added": "review+"}], "who": "bgrinstead@mozilla.com", "when": "2018-03-19T21:06:55Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(enndeakin@gmail.com)", "attachment_id": 8959166, "added": "review+"}], "who": "enndeakin@gmail.com", "when": "2018-03-23T18:57:48Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla61"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-04-03 22:02:47"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "aciure@mozilla.com", "when": "2018-04-03T22:02:47Z"}], "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}