{"status": "VERIFIED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "classification": "Client Software", "creator": "cristian.comorasu@softvision.ro", "cc": ["adw@mozilla.com", "dharvey@mozilla.com", "francesco.lodolo@gmail.com", "javauniversity@aol.com", "jcristau@mozilla.com", "mdeboer@mozilla.com", "mozilla@kaply.com"], "depends_on": [], "creation_time": "2018-04-26T12:51:20Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "All", "keywords": [], "summary": "Wikipedia icon from about:newtab is displayed with icon borders", "id": 1457122, "attachments": [{"creator": "cristian.comorasu@softvision.ro", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "image/png", "id": 8971205}, {"creator": "francesco.lodolo@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-04-30T17:30:25Z", "type_id": 748, "creation_date": "2018-04-30T11:11:31Z", "id": 1750553, "setter": "adw@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8971955}], "assigned_to_detail": {"email": "francesco.lodolo@gmail.com", "id": 130462, "name": "francesco.lodolo@gmail.com", "real_name": "Francesco Lodolo [:flod]"}, "severity": "minor", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "qa_contact_detail": {"email": "cristian.comorasu@softvision.ro", "id": 572409, "name": "cristian.comorasu@softvision.ro", "real_name": "Cristian Comorasu [:ccomorasu], Release Desktop QA"}, "comment_count": 17, "comments": [{"text": "[Affected versions]:\n Fx 61.0a1\n\n\n[Affected platforms]:\n Windows 10 x64\n Windows 7 x64\n Ubunut 16.04 LTS x86\n mac OS 10.13\n\n[Steps to reproduce]:\n 1. Launch Firefox.\n 2. Go to \"about:preferences#search\" and select Wikipedia from the Default Search Engine dropdown list.\n 3. Open a new tab. \n\n[Expected result]:\n The Wikipedia icon is displayed without issues in the search bar of the new tab. \n\n[Actual result]:\n The Wikipedia icon is not displayed accordingly\n\n[Regression range]:\n This is not a regression as it reproduces since the feature landed in nightly (2018-04-21).\n\n[Additional notes]:\n Please note the attachment with the issue.", "author": "cristian.comorasu@softvision.ro", "id": 13235093, "time": "2018-04-26T12:51:20Z"}, {"text": "Attachment is missing. I don't see this on beta at least. Haven't tried nightly.", "author": "mozilla@kaply.com", "id": 13235124, "time": "2018-04-26T13:06:17Z"}, {"text": "Wondering, from the description, if this is an Activity Stream bug more than Search.\n\nThe Wikipedia icons has rounder borders, so the corner are transparent. I guess the problem is that the background of the image is not set.\nhttps://searchfox.org/mozilla-central/source/browser/locales/searchplugins/images", "author": "francesco.lodolo@gmail.com", "id": 13235126, "time": "2018-04-26T13:06:55Z"}, {"text": "Created attachment 8971205\nWikipedia Icon.PNG\n\nHere is the attachment.", "author": "cristian.comorasu@softvision.ro", "id": 13235127, "time": "2018-04-26T13:07:04Z"}, {"text": "(In reply to Francesco Lodolo [:flod] from comment #2)\n> The Wikipedia icons has rounder borders, so the corner are transparent. I\n> guess the problem is that the background of the image is not set.\n\nWeird. Amazon and Ebay have the same rounded corners, and yet they don't show any artifact.", "author": "francesco.lodolo@gmail.com", "id": 13235137, "time": "2018-04-26T13:12:05Z"}, {"text": "Definitely low resolution only. I'm thinking we should just put the amazon corners over the wikipedia corners in the low res ico.", "author": "mozilla@kaply.com", "id": 13236334, "time": "2018-04-26T18:38:56Z"}, {"text": "yeh this is weird, will take a look", "author": "dharvey@mozilla.com", "id": 13237642, "time": "2018-04-27T08:43:04Z"}, {"text": "ok yup, the corners on the wikipedia icon at lower res are more rounded, leading to fully transparent corners which when processed via createObjectURL are getting rendered dark / black\n\nEasiest fix would be a new icon, mkaply do you know who would be good to ask for that? this will probably need uplifted", "author": "dharvey@mozilla.com", "id": 13237920, "time": "2018-04-27T11:20:38Z"}, {"text": "First thing we should do is see if wikipedia has a better version.\n\nhttps://en.wikipedia.org/favicon.ico\n\nOtherwise flod usually helps out with this.", "author": "mozilla@kaply.com", "id": 13238009, "time": "2018-04-27T12:27:00Z"}, {"text": "Tested the current wikipedia favicon, it has an extra image in its .ico and suffers the same problem\n\nFlod could you steal this bug and put the corners from the amazon icon onto the wikipedia icon here? I am going to take a look into a code fix for this (ie support transparency) however I do not expect it to be trivial and this is likely going to need an uplift so I think changing the icon is the least risky option", "author": "dharvey@mozilla.com", "id": 13242867, "time": "2018-04-30T10:58:13Z"}, {"text": "I think we're actually using Wikipedia's favicon, just removing the 48px image from it. \n\nI can definitely build an icon without corners, and that's not a problem for Wikimedia's guidelines (#10), since there are no constraints for the frame\nhttps://wikimediafoundation.org/wiki/Visual_identity_guidelines\n\nOn a side note: I can reproduce this, and the border goes away if you zoom: it starts disappearing at 170%, and goes away completely at 200$.", "author": "francesco.lodolo@gmail.com", "id": 13242876, "time": "2018-04-30T11:03:32Z"}, {"text": "Created attachment 8971955\nBug 1457122 - Remove rounded corners in Wikipedia search plugin icon\n\nReview commit: https://reviewboard.mozilla.org/r/240716/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/240716/", "author": "francesco.lodolo@gmail.com", "id": 13242887, "time": "2018-04-30T11:11:31Z"}, {"text": "Comment on attachment 8971955\nBug 1457122 - Remove rounded corners in Wikipedia search plugin icon\n\nhttps://reviewboard.mozilla.org/r/240716/#review246514", "author": "adw@mozilla.com", "id": 13243778, "time": "2018-04-30T17:30:25Z"}, {"text": "Pushed by francesco.lodolo@mozillaitalia.org:\nhttps://hg.mozilla.org/integration/autoland/rev/69b516d857cc\nRemove rounded corners in Wikipedia search plugin icon r=adw", "author": "pulsebot@bots.tld", "id": 13243785, "time": "2018-04-30T17:32:47Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/69b516d857cc", "author": "apavel@mozilla.com", "id": 13245725, "time": "2018-05-01T10:21:11Z"}, {"text": "I can't see the borders anymore on 61.0a1 (2018-05-01) (64 bit)\n\nI don't think it's wort fixing in 60, given that it requires someone to set Wikipedia as default search engine.", "author": "francesco.lodolo@gmail.com", "id": 13246153, "time": "2018-05-01T15:00:33Z"}, {"text": "Seems fair.", "author": "jcristau@mozilla.com", "id": 13247919, "time": "2018-05-02T07:30:42Z"}], "cf_last_resolved": "2018-05-01T10:21:11Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox62": "---", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "unaffected", "blocks": [1449338], "qa_contact": "cristian.comorasu@softvision.ro", "see_also": [], "cf_fx_iteration": "---", "component": "Search", "votes": 0, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "fixed", "cf_status_firefox60": "wontfix", "target_milestone": "Firefox 61", "is_cc_accessible": true, "cf_rank": null, "groups": [], "url": "", "creator_detail": {"email": "cristian.comorasu@softvision.ro", "id": 572409, "name": "cristian.comorasu@softvision.ro", "real_name": "Cristian Comorasu [:ccomorasu], Release Desktop QA"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "adw@mozilla.com", "id": 334927, "name": "adw@mozilla.com", "real_name": "Drew Willcoxon :adw"}, {"email": "dharvey@mozilla.com", "id": 389449, "name": "dharvey@mozilla.com", "real_name": "Dale Harvey (:daleharvey)"}, {"email": "francesco.lodolo@gmail.com", "id": 130462, "name": "francesco.lodolo@gmail.com", "real_name": "Francesco Lodolo [:flod]"}, {"email": "javauniversity@aol.com", "id": 58890, "name": "javauniversity@aol.com", "real_name": "andrew"}, {"email": "jcristau@mozilla.com", "id": 580382, "name": "jcristau@mozilla.com", "real_name": "Julien Cristau [:jcristau]"}, {"email": "mdeboer@mozilla.com", "id": 463945, "name": "mdeboer@mozilla.com", "real_name": "Mike de Boer [:mikedeboer]"}, {"email": "mozilla@kaply.com", "id": 7313, "name": "mozilla@kaply.com", "real_name": "Mike Kaply [:mkaply]"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-02T07:30:42Z", "cf_status_firefox_esr60": "wontfix", "assigned_to": "francesco.lodolo@gmail.com", "is_open": false, "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "mozilla@kaply.com"}], "who": "mozilla@kaply.com", "when": "2018-04-26T13:06:17Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "francesco.lodolo@gmail.com"}], "who": "francesco.lodolo@gmail.com", "when": "2018-04-26T13:06:55Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dharvey@mozilla.com"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "dharvey@mozilla.com"}], "who": "dharvey@mozilla.com", "when": "2018-04-27T08:43:04Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(mozilla@kaply.com)"}], "who": "dharvey@mozilla.com", "when": "2018-04-27T11:20:38Z"}, {"changes": [{"removed": "needinfo?(mozilla@kaply.com)", "field_name": "flagtypes.name", "added": ""}], "who": "mozilla@kaply.com", "when": "2018-04-27T12:27:00Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(francesco.lodolo@gmail.com)"}], "who": "dharvey@mozilla.com", "when": "2018-04-30T10:58:13Z"}, {"changes": [{"removed": "dharvey@mozilla.com", "field_name": "assigned_to", "added": "francesco.lodolo@gmail.com"}, {"removed": "needinfo?(francesco.lodolo@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "francesco.lodolo@gmail.com", "when": "2018-04-30T11:03:32Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8971955, "added": "review?(adw@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "adw@mozilla.com"}], "who": "francesco.lodolo@gmail.com", "when": "2018-04-30T11:11:31Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jcristau@mozilla.com"}, {"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox59", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "affected"}], "who": "jcristau@mozilla.com", "when": "2018-04-30T12:23:17Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(adw@mozilla.com)", "attachment_id": 8971955, "added": "review+"}], "who": "adw@mozilla.com", "when": "2018-04-30T17:30:25Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 61"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-01 10:21:11"}, {"removed": "affected", "field_name": "cf_status_firefox61", "added": "fixed"}], "who": "apavel@mozilla.com", "when": "2018-05-01T10:21:11Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}], "who": "francesco.lodolo@gmail.com", "when": "2018-05-01T15:00:33Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox_esr60", "added": "wontfix"}, {"removed": "affected", "field_name": "cf_status_firefox60", "added": "wontfix"}], "who": "jcristau@mozilla.com", "when": "2018-05-02T07:30:42Z"}]}