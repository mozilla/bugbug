{"cf_tracking_thunderbird_esr52": "---", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "kmaglione+bmo@mozilla.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": [], "cc_detail": [{"email": "aswan@mozilla.com", "id": 561655, "name": "aswan@mozilla.com", "real_name": "Andrew Swan [:aswan] (on PTO until 6/25)"}, {"email": "chutten@mozilla.com", "id": 553004, "name": "chutten@mozilla.com", "real_name": "Chris H-C :chutten"}, {"email": "ddurst@mozilla.com", "id": 500559, "name": "ddurst@mozilla.com", "real_name": "David Durst [:ddurst]"}, {"email": "marius.santa@softvision.ro", "id": 594506, "name": "marius.santa@softvision.ro", "real_name": ""}, {"email": "mconca@mozilla.com", "id": 599100, "name": "mconca@mozilla.com", "real_name": "Mike Conca [:mconca] (Denver, CO, USA UTC-6)"}, {"email": "ngyikp@gmail.com", "id": 524888, "name": "ngyikp@gmail.com", "real_name": "ngyikp"}], "cf_last_resolved": "2018-05-23T09:54:13Z", "attachments": [{"creator": "kmaglione+bmo@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-10T16:35:09Z", "type_id": 4, "creation_date": "2018-05-10T00:22:42Z", "id": 1754996, "setter": "aswan@mozilla.com"}, {"status": "+", "name": "review", "modification_date": "2018-05-22T13:15:06Z", "type_id": 4, "creation_date": "2018-05-19T00:14:19Z", "id": 1759076, "setter": "chutten@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8974589}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 12, "comments": [{"text": "RDF update manifests have been emitting deprecation/removal warnings for a couple of releases now, and it's getting to be about time to remove them. We should add telemetry to try to get an idea of how often they're still used first, though. If they still have a lot of usage, we may need to do some outreach before removing support.", "author": "kmaglione+bmo@mozilla.com", "id": 13265854, "time": "2018-05-09T16:22:07Z"}, {"text": "Created attachment 8974589\nBug 1460336: Add telmetry for update RDF usage.  data-r=chutten\n\nReview commit: https://reviewboard.mozilla.org/r/242936/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/242936/", "author": "kmaglione+bmo@mozilla.com", "id": 13267112, "time": "2018-05-10T00:22:42Z"}, {"text": "Comment on attachment 8974589\nBug 1460336: Add telmetry for update RDF usage.  data-r=chutten\n\nFor data review:\n\n1. What questions will you answer with this data?\n\nWe are intending to remove support for the RDF update manifest\nformat. Before we do so, we need to establish how much usage it\ncurrently has for updates served outside of AMO, and ideally get\na list of extension IDs which are still using that format so\ntheir authors can be contacted.\n\n2. Why does Mozilla need to answer these questions? Are there benefits for users? Do we need this information to address product or business requirements?\n\nRemoving support for the RDF update manifest format while it\nstill has significant usage may harm users who may lose access\nto important updates. We want to make sure usage of the old\nformat is minimal before we remove support.\n\n3. What alternative methods did you consider to answer these questions? Why were they not sufficient?\n\nThere are not other plausible mechanisms to collect this data.\n\n4. Can current instrumentation answer these questions?\n\nNo.\n\n5. List all proposed measurements and indicate the category of data collection for each measurement, using the Firefox data collection categories on the Mozilla wiki.\n\nBoth measurements are category 1:\n\n - A histogram of the updates served with each format, RDF and\n   JSON. This data will be collected on all channels.\n\n - A keyed histogram of extension IDs which serve updates using\n   the RDF format. This data will be used to contact extensions\n   authors who still serve a large number of updates using the\n   RDF format, if necessary.\n\n6. How long will this data be collected?\n\nUntil the 66 release cycle, or earlier if we get clear data that\nthe RDF update format is clearly unused before then.\n\n7. What populations will you measure?\n\nAll populations for the type of updates served. Non-release for\nthe extension IDs which serve RDF update manifests.\n\n8. If this data collection is default on, what is the opt-out mechanism for users?\n\nStandard telemetry opt-out.\n\n9. Please provide a general description of how you will analyze this data.\n\nThe update type histogram will be used to give us a broad idea\nof the relative usage of RDF and JSON update manifests. The RDF\nupdate ID histogram will allow us to contact specific extension\nauthors who are using RDF update manifests to give them a chance\nto migrate before the functionality is removed.\n\n10. Where do you intend to share the results of your analysis?\n\nNowhere outside of the standard telemetry dashboards. We may use\nthe detailed analysis of RDF update pings to contact specific\nextension authors.", "author": "kmaglione+bmo@mozilla.com", "id": 13267128, "time": "2018-05-10T00:31:41Z"}, {"text": "Comment on attachment 8974589\nBug 1460336: Add telmetry for update RDF usage.  data-r=chutten\n\nhttps://reviewboard.mozilla.org/r/242936/#review248870\n\nWith my Telemetry hat on, I have a few comments about the patch\n\n::: toolkit/components/telemetry/Histograms.json\n(Diff revision 1)\n>      \"description\": \"The amount of time taken to update the accessibility tree (ms)\",\n>      \"kind\" : \"exponential\",\n>      \"high\": 60000,\n>      \"n_buckets\": 50\n>    },\n> -  \"ADDON_CONTENT_POLICY_SHIM_BLOCKING_LOADING_MS\": {\n\nThe removal of old, expired addon probes is lovely. Can we split it to its own commit?\n\n::: toolkit/components/telemetry/Histograms.json:13586\n(Diff revision 1)\n> +    \"bug_numbers\": [1460336],\n> +    \"expires_in_version\": \"66\",\n> +    \"kind\": \"enumerated\",\n> +    \"n_values\": 3,\n> +    \"releaseChannelCollection\": \"opt-out\",\n> +    \"description\": \"The type of update manifest served for a given update request. (1=JSON, 2=RDF)\"\n\nInstead of enumerated, did you consider \"categorical\"? The tooling is nicer (you get axis labels on TMO, and auto-expansion if you need more labels later (up to 50)), and it is generally considered superior to enumerated histograms in most cases.\n\n::: toolkit/components/telemetry/Histograms.json:13593\n(Diff revision 1)\n> +  \"EXTENSION_RDF_UPDATES\": {\n> +    \"record_in_processes\": [\"main\"],\n> +    \"alert_emails\": [\"addons-dev-internal@mozilla.com\"],\n> +    \"bug_numbers\": [1460336],\n> +    \"expires_in_version\": \"66\",\n> +    \"kind\": \"exponential\",\n\nFor recording counts of things keyed by strings we now recommend keyed uint scalars: https://firefox-source-docs.mozilla.org/toolkit/components/telemetry/telemetry/collection/scalars.html#keyed-scalars\n\n\"exponential\" histograms are designed to record many different numbers. In this case the code only records \"1\"s.", "author": "chutten@mozilla.com", "id": 13268145, "time": "2018-05-10T13:54:43Z"}, {"text": "DATA COLLECTION REVIEW RESPONSE:\n\n    Is there or will there be documentation that describes the schema for the ultimate data set available publicly, complete and accurate?\n\nYes. Standard Telemetry mechanisms apply.\n\n    Is there a control mechanism that allows the user to turn the data collection on and off?\n\nYes. Standard Telemetry mechanisms apply.\n\n    Using the category system of data types on the Mozilla wiki, what collection type of data do the requested measurements fall under? **\n\nCategory 1: Technical Data\n\n    Is the data collection request for default-on or default-off?\n\ndefault-on\n\n    Does the instrumentation include the addition of any new identifiers (whether anonymous or otherwise; e.g., username, random IDs, etc. See the appendix for more details)?\n\nNothing new. It does include addon ids which are already collected within Firefox and are public on AMO.\n\n    Is the data collection covered by the existing Firefox privacy notice?\n\nYes.\n\n    Does there need to be a check-in in the future to determine whether to renew the data? \n\nYes. :kmag, please ensure a bug is filed to run an analysis on the results and determine if they should be extended or removed.\n\n----\nResult: datareview+", "author": "chutten@mozilla.com", "id": 13268154, "time": "2018-05-10T13:58:08Z"}, {"text": "Comment on attachment 8974589\nBug 1460336: Add telmetry for update RDF usage.  data-r=chutten\n\nhttps://reviewboard.mozilla.org/r/242936/#review248936\n\nThe implementation itself it pretty simple.\nFor helping us understand how widely used rdf updates are though, a couple of things that might be helpful are:\n- keeping track of how many update requests were sent to AMO versus to some self-hosted update URL (I'm assuming that the vast majority of update requests go to AMO and hence are now JSON, but what we'd really like to know is what fraction of self-hosted updates are affected)\n- keeping track of failed requests.  If we just look at successful requests we don't get an accurate measure of what fraction of total update requests are affected", "author": "aswan@mozilla.com", "id": 13268651, "time": "2018-05-10T16:35:09Z"}, {"text": "Comment on attachment 8974589\nBug 1460336: Add telmetry for update RDF usage.  data-r=chutten\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/242936/diff/1-2/", "author": "kmaglione+bmo@mozilla.com", "id": 13289339, "time": "2018-05-19T00:14:19Z"}, {"text": "Comment on attachment 8974589\nBug 1460336: Add telmetry for update RDF usage.  data-r=chutten\n\nhttps://reviewboard.mozilla.org/r/242936/#review251834", "author": "chutten@mozilla.com", "id": 13296455, "time": "2018-05-22T13:15:06Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/ecbe25557836cfd3e85a48d79f3d861e25d2527d\nBug 1460336: Add telmetry for update RDF usage. r=aswan,chutten data-r=chutten", "author": "kmaglione+bmo@mozilla.com", "id": 13297867, "time": "2018-05-22T21:01:44Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/ecbe25557836", "author": "dluca@mozilla.com", "id": 13298944, "time": "2018-05-23T09:54:13Z"}, {"text": "Is manual testing required on this bug? If Yes, please provide some STR and the proper webextension(if required), if No set the \u201cqe-verify-\u201c flag.", "author": "marius.santa@softvision.ro", "id": 13363898, "time": "2018-05-25T14:16:12Z"}, {"text": "I verified this myself.", "author": "kmaglione+bmo@mozilla.com", "id": 13365432, "time": "2018-05-25T22:52:57Z"}], "id": 1460336, "priority": "P1", "cc": ["aswan@mozilla.com", "chutten@mozilla.com", "ddurst@mozilla.com", "marius.santa@softvision.ro", "mconca@mozilla.com", "ngyikp@gmail.com"], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "status": "RESOLVED", "product": "Toolkit", "cf_fx_iteration": "---", "blocks": [857458], "qa_contact": "", "creation_time": "2018-05-09T16:22:07Z", "cf_status_firefox_esr52": "---", "component": "Add-ons Manager", "assigned_to_detail": {"email": "kmaglione+bmo@mozilla.com", "id": 106098, "name": "kmaglione+bmo@mozilla.com", "real_name": "Kris Maglione [:kmag]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "fixed", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "mozilla62", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "kmaglione+bmo@mozilla.com", "id": 106098, "name": "kmaglione+bmo@mozilla.com", "real_name": "Kris Maglione [:kmag]"}, "whiteboard": "", "mentors": [], "summary": "Add telemetry for usage of RDF update manifests", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [{"status": "-", "name": "qe-verify", "modification_date": "2018-05-25T22:52:57Z", "type_id": 864, "creation_date": "2018-05-25T22:52:57Z", "id": 1762014, "setter": "kmaglione+bmo@mozilla.com"}], "last_change_time": "2018-05-25T22:52:57Z", "assigned_to": "kmaglione+bmo@mozilla.com", "is_open": false, "history": [{"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8974589, "added": "review?(aswan@mozilla.com)"}, {"removed": "", "field_name": "cc", "added": "aswan@mozilla.com"}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-05-10T00:22:42Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "chutten@mozilla.com"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8974589, "added": "review?(chutten@mozilla.com)"}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-05-10T00:31:41Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(chutten@mozilla.com)", "attachment_id": 8974589, "added": ""}], "who": "chutten@mozilla.com", "when": "2018-05-10T13:54:43Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(aswan@mozilla.com)", "attachment_id": 8974589, "added": "review+"}], "who": "aswan@mozilla.com", "when": "2018-05-10T16:35:09Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ngyikp@gmail.com"}], "who": "ngyikp@gmail.com", "when": "2018-05-15T05:02:59Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P1"}, {"removed": "", "field_name": "cc", "added": "ddurst@mozilla.com"}], "who": "ddurst@mozilla.com", "when": "2018-05-17T18:49:39Z"}, {"changes": [{"field_name": "attachments.description", "removed": "Bug 1460336: Add telmetry for update RDF usage.  data-r?chutten", "attachment_id": 8974589, "added": "Bug 1460336: Add telmetry for update RDF usage.  data-r=chutten"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8974589, "added": "review?(chutten@mozilla.com)"}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-05-19T00:14:19Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(chutten@mozilla.com)", "attachment_id": 8974589, "added": "review+"}], "who": "chutten@mozilla.com", "when": "2018-05-22T13:15:06Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-23 09:54:13"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "dluca@mozilla.com", "when": "2018-05-23T09:54:13Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "marius.santa@softvision.ro"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(kmaglione+bmo@mozilla.com)"}], "who": "marius.santa@softvision.ro", "when": "2018-05-25T14:16:12Z"}, {"changes": [{"removed": "needinfo?(kmaglione+bmo@mozilla.com)", "field_name": "flagtypes.name", "added": "qe-verify-"}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-05-25T22:52:57Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}