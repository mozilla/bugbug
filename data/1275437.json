{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "nate.hak@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-05-25T23:47:40Z", "type_id": 4, "creation_date": "2016-05-25T23:33:16Z", "id": 1400655, "setter": "gps@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8756141}, {"creator": "nate.hak@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-05-25T23:48:08Z", "type_id": 4, "creation_date": "2016-05-25T21:50:58Z", "id": 1400593, "setter": "gps@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8756464}, {"creator": "nate.hak@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-06-03T16:55:32Z", "type_id": 4, "creation_date": "2016-06-01T16:37:14Z", "id": 1404185, "setter": "gps@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8756531}, {"creator": "nate.hak@gmail.com", "is_obsolete": 1, "is_patch": 0, "flags": [], "content_type": "text/x-review-board-request", "id": 8756538}, {"creator": "nate.hak@gmail.com", "is_obsolete": 1, "is_patch": 0, "flags": [], "content_type": "text/x-review-board-request", "id": 8756554}, {"creator": "nate.hak@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-06-01T01:03:43Z", "type_id": 4, "creation_date": "2016-06-01T00:04:41Z", "id": 1403655, "setter": "gps@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8756949}, {"creator": "nate.hak@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-06-01T01:04:04Z", "type_id": 4, "creation_date": "2016-06-01T00:04:41Z", "id": 1403656, "setter": "gps@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8757017}, {"creator": "nate.hak@gmail.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2016-06-01T01:04:39Z", "type_id": 4, "creation_date": "2016-06-01T00:15:01Z", "id": 1403658, "setter": "gps@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8758496}], "classification": "Components", "creator": "nate.hak@gmail.com", "cc": ["gps@mozilla.com", "mh+mozilla@glandium.org", "ted@mielczarek.org"], "depends_on": [], "creation_time": "2016-05-25T07:22:09Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": [], "summary": "Have MozBoot support msys2", "cf_last_resolved": "2016-06-06T10:00:44Z", "assigned_to_detail": {"email": "nate.hak@gmail.com", "id": 572086, "name": "nate.hak@gmail.com", "real_name": "Nathan Hakkakzadeh [:Nat]"}, "severity": "enhancement", "is_confirmed": true, "is_creator_accessible": true, "comments": [{"text": "Currently, Windows developers have to use MozillaBuild to get a working build environment. But, MozillaBuild sets up an msys 1.x environment, which has is pretty limited compared to msys2, which is complete with pacman, a package manger. Because msys2 comes with pacman, we should be able to use MozBoot to make any msys2 environment be able to build Firefox.", "author": "nate.hak@gmail.com", "id": 11435637, "time": "2016-05-25T07:22:09Z"}, {"text": "Perfect is the enemy of done here. I'll r+ an initial version that adds basic Windows support to bootstrap, even if it can't produce a full build. (e.g. because of virtualenv bugs).\n\nWe should put Windows support in mozboot behind an environment variable until we can actually produce builds with it.", "author": "gps@mozilla.com", "id": 11435640, "time": "2016-05-25T07:26:17Z"}, {"text": "Also, supporting the installer (NSIS) is also a non-requirement for the first version.", "author": "gps@mozilla.com", "id": 11435641, "time": "2016-05-25T07:27:10Z"}, {"text": "Created attachment 8756141\nMozReview Request: Bug 1275437 - Added placeholder for Windows bootstrapper. r?gps\n\nCreated a WindowsBootstrapper class that raises a NotImplementedError when initialized.\n\nBootstrapper now detects if the system is being run on Windows, and if it is dispatches to the WindowsBootstrapper.\n\nReview commit: https://reviewboard.mozilla.org/r/54978/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/54978/", "author": "nate.hak@gmail.com", "id": 11435643, "time": "2016-05-25T07:28:51Z"}, {"text": "Comment on attachment 8756141\nMozReview Request: Bug 1275437 - Added placeholder for Windows bootstrapper. r?gps\n\nhttps://reviewboard.mozilla.org/r/54978/#review51834\n\nLooks good!\n\nAre you going to keep adding features/commits to this bug or do you want me to land this? Keep in mind you need to keep opening new bugs when things land. It's how we track things.", "author": "gps@mozilla.com", "id": 11437883, "time": "2016-05-25T16:43:14Z"}, {"text": "https://reviewboard.mozilla.org/r/54978/#review51834\n\nI'm going to keep adding features/commits to this bug. Although, I'd like to keep sending smaller commits to get reviewed. Is that alright?", "author": "nate.hak@gmail.com", "id": 11438079, "time": "2016-05-25T17:37:51Z"}, {"text": "https://reviewboard.mozilla.org/r/54978/#review51834\n\nThat's perfectly alright.", "author": "gps@mozilla.com", "id": 11438130, "time": "2016-05-25T17:50:10Z"}, {"text": "Created attachment 8756464\nMozReview Request: Bug 1275437 - Added methods for interacting with pacman. r?gps\n\nThese new convenience methods let the bootstrapper update the local package list, upgrade all installed packages, and install new packages.\n\nReview commit: https://reviewboard.mozilla.org/r/55198/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/55198/", "author": "nate.hak@gmail.com", "id": 11438220, "time": "2016-05-25T18:19:09Z"}, {"text": "Created attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nWindows bootstrapper checks if pacman is installed before continuing.\n\nAdded a convenience method similar to BaseBootstrapper.which that works with the mingw version of python in msys2.\n\nReview commit: https://reviewboard.mozilla.org/r/55226/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/55226/", "author": "nate.hak@gmail.com", "id": 11438696, "time": "2016-05-25T20:54:32Z"}, {"text": "Created attachment 8756538\nMozReview Request: Bug 1275437 - Bootstrapper now recognizes msys version of Python. r?gps\n\nBefore, the bootstrapper would only know it was being run on Windows if it was run with the official Windows version of Python or the mingw version of Python.\n\nReview commit: https://reviewboard.mozilla.org/r/55228/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/55228/", "author": "nate.hak@gmail.com", "id": 11438729, "time": "2016-05-25T21:02:22Z"}, {"text": "Comment on attachment 8756464\nMozReview Request: Bug 1275437 - Added methods for interacting with pacman. r?gps\n\nhttps://reviewboard.mozilla.org/r/55198/#review51928\n\nLooks mostly good!\n\n::: python/mozboot/mozboot/windows.py:21\n(Diff revision 1)\n> +\n> +    def run(self, command):\n> +        subprocess.check_call(command, stdin=sys.stdin)\n> +\n> +    def pacman_update(self):\n> +        command = ['pacman', '-S', '--refresh']\n\nLet's use `--sync` instead of `-S` to make this easier to read for people not familiar with pacman.\n\n::: python/mozboot/mozboot/windows.py:25\n(Diff revision 1)\n> +    def pacman_update(self):\n> +        command = ['pacman', '-S', '--refresh']\n> +        self.run(command)\n> +\n> +    def pacman_upgrade(self):\n> +        command = ['pacman', '-Syu']\n\nPlease expand these arguments too.", "author": "gps@mozilla.com", "id": 11438780, "time": "2016-05-25T21:16:07Z"}, {"text": "Created attachment 8756554\nMozReview Request: Bug 1275437 - Changed flags passed to pacman in Windows bootstrapper to be the --long-form instead of the single character flag. r?gps\n\nThis will make it easier to read for people who are not familiar with pacman.\n\nReview commit: https://reviewboard.mozilla.org/r/55238/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/55238/", "author": "nate.hak@gmail.com", "id": 11438794, "time": "2016-05-25T21:20:25Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nhttps://reviewboard.mozilla.org/r/55226/#review51930\n\n::: python/mozboot/mozboot/windows.py:45\n(Diff revision 1)\n> +        '''Returns true if the program `name` exists on current system, false otherwise. Necessary because BaseBootstrapper.which\n> +        does not work when the mingw version of python is run from a UNIX-like shell because os.pathsep gives a Windows path \n> +        seperator, not a UNIX path seperator.\n\n0_o\n\nWhat exactly is the problem with path normalization?\n\n::: python/mozboot/mozboot/windows.py:62\n(Diff revision 1)\n> +        raise NotImplementedError('Bootstrap support is not yet available for Android on Windows. '\n> +                                  'For now, use MozillaBuild to set up a build environment on Windows.')\n\nI /think/ we don't support building Fennec (Android) on Windows. But you may want to double check in #mobile. If we don't, this error message should be changed.", "author": "gps@mozilla.com", "id": 11438807, "time": "2016-05-25T21:24:49Z"}, {"text": "Comment on attachment 8756538\nMozReview Request: Bug 1275437 - Bootstrapper now recognizes msys version of Python. r?gps\n\nhttps://reviewboard.mozilla.org/r/55228/#review51936\n\nYou may want to fold this commit into an earlier one.\n\n::: python/mozboot/mozboot/bootstrap.py:145\n(Diff revision 1)\n>              args['flavor'] = platform.system()\n>  \n> -        elif sys.platform.startswith('win32'):\n> +        elif sys.platform.startswith('win32') or sys.platform.starswith('msys'):\n> -            # TODO: Check to see if platform is actually msys2 or not.\n>              cls = WindowsBootstrapper\n> -\n> +        \n\nTrailing whitespace here.", "author": "gps@mozilla.com", "id": 11438812, "time": "2016-05-25T21:26:39Z"}, {"text": "Comment on attachment 8756554\nMozReview Request: Bug 1275437 - Changed flags passed to pacman in Windows bootstrapper to be the --long-form instead of the single character flag. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55238/diff/1-2/", "author": "nate.hak@gmail.com", "id": 11438820, "time": "2016-05-25T21:29:15Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review51930\n\n> 0_o\n> \n> What exactly is the problem with path normalization?\n\nWhen you're using a MinGW or native Windows version of Python, os.pathsep returns ';' because that's the path seperator for Win32. But, if you've called that verison of Python from a msys2 environment, your PATH environment variable with be seperated by ':'. So the Python which implementation in BaseBootstrapper won't work because it isn't splitting on the right character.", "author": "nate.hak@gmail.com", "id": 11438860, "time": "2016-05-25T21:37:50Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review51930\n\n> When you're using a MinGW or native Windows version of Python, os.pathsep returns ';' because that's the path seperator for Win32. But, if you've called that verison of Python from a msys2 environment, your PATH environment variable with be seperated by ':'. So the Python which implementation in BaseBootstrapper won't work because it isn't splitting on the right character.\n\nYuck. I have a feeling this will break random things in the build system. But that's not a problem that needs solved today.", "author": "gps@mozilla.com", "id": 11438872, "time": "2016-05-25T21:40:15Z"}, {"text": "Comment on attachment 8756141\nMozReview Request: Bug 1275437 - Added placeholder for Windows bootstrapper. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/54978/diff/1-2/", "author": "nate.hak@gmail.com", "id": 11438919, "time": "2016-05-25T21:50:58Z"}, {"text": "Comment on attachment 8756464\nMozReview Request: Bug 1275437 - Added methods for interacting with pacman. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55198/diff/1-2/", "author": "nate.hak@gmail.com", "id": 11438920, "time": "2016-05-25T21:50:58Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/1-2/", "author": "nate.hak@gmail.com", "id": 11438921, "time": "2016-05-25T21:50:58Z"}, {"text": "Comment on attachment 8756554\nMozReview Request: Bug 1275437 - Changed flags passed to pacman in Windows bootstrapper to be the --long-form instead of the single character flag. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55238/diff/2-3/", "author": "nate.hak@gmail.com", "id": 11438922, "time": "2016-05-25T21:50:58Z"}, {"text": "https://reviewboard.mozilla.org/r/54978/#review51950", "author": "gps@mozilla.com", "id": 11438927, "time": "2016-05-25T21:51:38Z"}, {"text": "Comment on attachment 8756554\nMozReview Request: Bug 1275437 - Changed flags passed to pacman in Windows bootstrapper to be the --long-form instead of the single character flag. r?gps\n\nhttps://reviewboard.mozilla.org/r/55238/#review51956\n\nPlease fold this commit into the one that introduced these functions. (Use `hg histedit`)", "author": "gps@mozilla.com", "id": 11438933, "time": "2016-05-25T21:52:34Z"}, {"text": "https://reviewboard.mozilla.org/r/55238/#review51958", "author": "gps@mozilla.com", "id": 11438935, "time": "2016-05-25T21:52:40Z"}, {"text": "(In reply to Nathan Hakkakzadeh [:Nat] from comment #15)\n> https://reviewboard.mozilla.org/r/55226/#review51930\n> \n> > 0_o\n> > \n> > What exactly is the problem with path normalization?\n> \n> When you're using a MinGW or native Windows version of Python, os.pathsep\n> returns ';' because that's the path seperator for Win32. But, if you've\n> called that verison of Python from a msys2 environment, your PATH\n> environment variable with be seperated by ':'. So the Python which\n> implementation in BaseBootstrapper won't work because it isn't splitting on\n> the right character.\n\nThat doesn't sound right. Something in the stack is supposed to change the PATH to use ; as a separator when invoking Win32 native executables.", "author": "mh+mozilla@glandium.org", "id": 11438938, "time": "2016-05-25T21:53:21Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/2-3/", "author": "nate.hak@gmail.com", "id": 11438961, "time": "2016-05-25T21:59:58Z"}, {"text": "Comment on attachment 8756554\nMozReview Request: Bug 1275437 - Changed flags passed to pacman in Windows bootstrapper to be the --long-form instead of the single character flag. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55238/diff/3-4/", "author": "nate.hak@gmail.com", "id": 11438962, "time": "2016-05-25T21:59:58Z"}, {"text": "Comment on attachment 8756141\nMozReview Request: Bug 1275437 - Added placeholder for Windows bootstrapper. r?gps\n\nhttps://reviewboard.mozilla.org/r/54978/#review51970\n\n::: python/mozboot/mozboot/bootstrap.py:143\n(Diff revision 2)\n>                  sys.platform.startswith('freebsd'):\n>              cls = FreeBSDBootstrapper\n>              args['version'] = platform.release()\n>              args['flavor'] = platform.system()\n>  \n> +        elif sys.platform.startswith('win32') or sys.platform.starswith('msys'):\n\nTypo here: \"starswith\" != \"startswith\"", "author": "gps@mozilla.com", "id": 11438991, "time": "2016-05-25T22:12:00Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review51930\n\n> Yuck. I have a feeling this will break random things in the build system. But that's not a problem that needs solved today.\n\nCould this be a difference between msys2's \"python2\" package and its \"mingw-w64-x86_64-python2\" package?", "author": "gps@mozilla.com", "id": 11438994, "time": "2016-05-25T22:12:53Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nhttps://reviewboard.mozilla.org/r/55226/#review51976\n\n::: python/mozboot/mozboot/windows.py:24\n(Diff revision 3)\n> +        'mingw-w64-x86_64-toolchain', # We need gcc so pip can compile Mercurial\n> +        'mingw-w64-i686-toolchain'\n\nIf this is the only reason we need the toolchain, I'm tempted to fix this by uploading a MinGW wheel for Mercurial to PyPI (I maintain the Mercurial Windows wheels). Do you know if this is the only reason we need these (rather large) packages?", "author": "gps@mozilla.com", "id": 11439001, "time": "2016-05-25T22:15:56Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review51930\n\n> Could this be a difference between msys2's \"python2\" package and its \"mingw-w64-x86_64-python2\" package?\n\nFrom msys2, /usr/bin/python2 has os.pathsep==':' and /mingw64/bin/python2 has os.pathsep==';'", "author": "gps@mozilla.com", "id": 11439012, "time": "2016-05-25T22:18:50Z"}, {"text": "(In reply to Gregory Szorc [:gps] from comment #30)\n> https://reviewboard.mozilla.org/r/55226/#review51930\n> \n> > Could this be a difference between msys2's \"python2\" package and its \"mingw-w64-x86_64-python2\" package?\n> \n> From msys2, /usr/bin/python2 has os.pathsep==':' and /mingw64/bin/python2\n> has os.pathsep==';'\n\n... which is expected, since /usr/bin/python2 is the msys python, where os.path is posixpath. /mingw64/bin/python2 is the win32 python, where os.path is ntpath.\n\n(In reply to Gregory Szorc [:gps] from comment #29)\n> Comment on attachment 8756531\n> MozReview Request: Bug 1275437 - Windows bootstrapper installs necessary\n> system and browser packages that come from pacman. r?gps\n> \n> https://reviewboard.mozilla.org/r/55226/#review51976\n> \n> ::: python/mozboot/mozboot/windows.py:24\n> (Diff revision 3)\n> > +        'mingw-w64-x86_64-toolchain', # We need gcc so pip can compile Mercurial\n> > +        'mingw-w64-i686-toolchain'\n> \n> If this is the only reason we need the toolchain, I'm tempted to fix this by\n> uploading a MinGW wheel for Mercurial to PyPI (I maintain the Mercurial\n> Windows wheels). Do you know if this is the only reason we need these\n> (rather large) packages?\n\nmsys2 has a mercurial package, too.", "author": "mh+mozilla@glandium.org", "id": 11439139, "time": "2016-05-25T22:49:59Z"}, {"text": "(In reply to Mike Hommey [:glandium] from comment #31)\n> (In reply to Gregory Szorc [:gps] from comment #30)\n> > https://reviewboard.mozilla.org/r/55226/#review51930\n> > \n> > > Could this be a difference between msys2's \"python2\" package and its \"mingw-w64-x86_64-python2\" package?\n> > \n> > From msys2, /usr/bin/python2 has os.pathsep==':' and /mingw64/bin/python2\n> > has os.pathsep==';'\n> \n> ... which is expected, since /usr/bin/python2 is the msys python, where\n> os.path is posixpath. /mingw64/bin/python2 is the win32 python, where\n> os.path is ntpath.\n\nBut the point I'm making in 24 is that os.environ['PATH'] should have been munged by the msys->win32 transition and use ; when coming from msys and using win32 python.", "author": "mh+mozilla@glandium.org", "id": 11439149, "time": "2016-05-25T22:52:14Z"}, {"text": "Comment on attachment 8756141\nMozReview Request: Bug 1275437 - Added placeholder for Windows bootstrapper. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/54978/diff/2-3/", "author": "nate.hak@gmail.com", "id": 11439269, "time": "2016-05-25T23:33:16Z"}, {"text": "Comment on attachment 8756464\nMozReview Request: Bug 1275437 - Added methods for interacting with pacman. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55198/diff/2-3/", "author": "nate.hak@gmail.com", "id": 11439270, "time": "2016-05-25T23:33:16Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/3-4/", "author": "nate.hak@gmail.com", "id": 11439271, "time": "2016-05-25T23:33:16Z"}, {"text": "Comment on attachment 8756554\nMozReview Request: Bug 1275437 - Changed flags passed to pacman in Windows bootstrapper to be the --long-form instead of the single character flag. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55238/diff/4-5/", "author": "nate.hak@gmail.com", "id": 11439272, "time": "2016-05-25T23:33:16Z"}, {"text": "Comment on attachment 8756464\nMozReview Request: Bug 1275437 - Added methods for interacting with pacman. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55198/diff/3-4/", "author": "nate.hak@gmail.com", "id": 11439288, "time": "2016-05-25T23:40:30Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/4-5/", "author": "nate.hak@gmail.com", "id": 11439289, "time": "2016-05-25T23:40:30Z"}, {"text": "Comment on attachment 8756141\nMozReview Request: Bug 1275437 - Added placeholder for Windows bootstrapper. r?gps\n\nhttps://reviewboard.mozilla.org/r/54978/#review52024\n\n::: python/mozboot/mozboot/bootstrap.py:143\n(Diff revision 3)\n>                  sys.platform.startswith('freebsd'):\n>              cls = FreeBSDBootstrapper\n>              args['version'] = platform.release()\n>              args['flavor'] = platform.system()\n>  \n> +        elif sys.platform.startswith('win32') or sys.platform.startswith('msys'):\n\nPro tip: you can specify a tuple to startswith() and endswith() to match multiple things.", "author": "gps@mozilla.com", "id": 11439307, "time": "2016-05-25T23:47:40Z"}, {"text": "Comment on attachment 8756464\nMozReview Request: Bug 1275437 - Added methods for interacting with pacman. r?gps\n\nhttps://reviewboard.mozilla.org/r/55198/#review52026", "author": "gps@mozilla.com", "id": 11439308, "time": "2016-05-25T23:48:08Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review51930\n\n> From msys2, /usr/bin/python2 has os.pathsep==':' and /mingw64/bin/python2 has os.pathsep==';'\n\nLooking at it now, I think I was wrong about why it isn't working with BaseBootstrapper.which. Will update here when I find the real problem...", "author": "nate.hak@gmail.com", "id": 11439309, "time": "2016-05-25T23:48:53Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nhttps://reviewboard.mozilla.org/r/55226/#review52032\n\nI'd still like us to get to the bottom of the Python path separator foo and the mingw toolchain requirements before granting review on this. But otherwise this is good.\n\n::: python/mozboot/mozboot/windows.py:61\n(Diff revision 5)\n> +    def install_mobile_android_packages(self):\n> +        raise NotImplementedError('We do not support building Android on Windows. Sorry!')\n> +\n> +    def install_mobile_android_artifact_mode_packages(self):\n> +        raise NotImplementedError('We do not support building Android on Windows. Sorry!')\n\nAs a follow-up, you may want to change the production selection menu at the beginning of bootstrap to not provide the option to setup Android.", "author": "gps@mozilla.com", "id": 11439311, "time": "2016-05-25T23:50:15Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/5-6/", "author": "nate.hak@gmail.com", "id": 11439320, "time": "2016-05-25T23:57:13Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review51930\n\n> Looking at it now, I think I was wrong about why it isn't working with BaseBootstrapper.which. Will update here when I find the real problem...\n\nFigured it out. I was passing 'pacman' to which, not 'pacman.exe'.", "author": "nate.hak@gmail.com", "id": 11439323, "time": "2016-05-25T23:59:30Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/6-7/", "author": "nate.hak@gmail.com", "id": 11439357, "time": "2016-05-26T00:08:50Z"}, {"text": "Created attachment 8756949\nBug 1275437 - Added installing of Mercurial to Windows boostrapper.\n\nAdded convenience method for installing from pip.\n\nHad install_system_packages method of the windows bootstrapper install mercurial as part of the bootstrapping process.\n\nReview commit: https://reviewboard.mozilla.org/r/55478/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/55478/", "author": "nate.hak@gmail.com", "id": 11441803, "time": "2016-05-26T18:27:30Z"}, {"text": "Comment on attachment 8756141\nMozReview Request: Bug 1275437 - Added placeholder for Windows bootstrapper. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/54978/diff/3-4/", "author": "nate.hak@gmail.com", "id": 11441804, "time": "2016-05-26T18:27:30Z"}, {"text": "Comment on attachment 8756464\nMozReview Request: Bug 1275437 - Added methods for interacting with pacman. r?gps\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55198/diff/4-5/", "author": "nate.hak@gmail.com", "id": 11441805, "time": "2016-05-26T18:27:30Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/7-8/", "author": "nate.hak@gmail.com", "id": 11441806, "time": "2016-05-26T18:27:30Z"}, {"text": "Created attachment 8757017\nBug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper\n\nOverrode BaseBootstrapper.which to append '.exe' to any which checks since (hopefully) anything the bootstrapper looks for, must be a windows executable.\n\nOverrode BaseBootstrapper._hgplain_env to replace any unicode entries with str entries to avoid a bug in the MinGW version of Python.\n\nReview commit: https://reviewboard.mozilla.org/r/55526/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/55526/", "author": "nate.hak@gmail.com", "id": 11442263, "time": "2016-05-26T20:55:59Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nhttps://reviewboard.mozilla.org/r/55226/#review53222\n\n::: python/mozboot/mozboot/windows.py:63\n(Diff revision 8)\n> +    def install_mobile_android_artifact_mode_packages(self):\n> +        raise NotImplementedError('We do not support building Android on Windows. Sorry!')\n> +\n> +    def _update_package_manager(self):\n> +        self.pacman_update()\n> +            \n\nNit: trailing whitespace here.", "author": "gps@mozilla.com", "id": 11451851, "time": "2016-05-31T17:35:27Z"}, {"text": "Comment on attachment 8756949\nBug 1275437 - Added installing of Mercurial to Windows boostrapper.\n\nhttps://reviewboard.mozilla.org/r/55478/#review53224\n\nMercurial should be installed/updated via a \"upgrade_mercurial\" method. See base.py for the logic.", "author": "gps@mozilla.com", "id": 11451860, "time": "2016-05-31T17:37:56Z"}, {"text": "Comment on attachment 8757017\nBug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper\n\nhttps://reviewboard.mozilla.org/r/55526/#review53230\n\n::: python/mozboot/mozboot/windows.py:54\n(Diff revision 1)\n> +        '''The base.py file uses unicode literals which subprocess.Popen does not like on the MinGW version of Python.\n> +        This removes the offending entry and replaces it with an str one.\n> +        '''\n> +        env = BaseBootstrapper._hgplain_env(self)\n> +        del env['HGPLAIN']\n> +        env[str('HGPLAIN')] = str('1')\n> +        return env\n\nCan you just change the implementation in base.py to use str keys and values in the dict instead? This feels like the appropriate solution.", "author": "gps@mozilla.com", "id": 11451866, "time": "2016-05-31T17:39:46Z"}, {"text": "https://reviewboard.mozilla.org/r/55526/#review53230\n\n> Can you just change the implementation in base.py to use str keys and values in the dict instead? This feels like the appropriate solution.\n\nOf course. I was just wary of accidentally messing up the other bootstrappers.", "author": "nate.hak@gmail.com", "id": 11451982, "time": "2016-05-31T18:14:29Z"}, {"text": "Comment on attachment 8757017\nBug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55526/diff/1-2/", "author": "nate.hak@gmail.com", "id": 11452010, "time": "2016-05-31T18:22:03Z"}, {"text": "So the goal for this bug would be to change the build setup process from:\n1) Install MozillaBuild\n2) Build\n\nto:\n1) Install MSYS2\n2) bootstrap\n3) build?\n\nI think that's fine, I just want to clarify. If we want to make MSYS2 our officially-supported build environment we'll probably also need to move the MSVC detection logic from the MozillaBuild batch scripts into configure. (I feel like there's a bug filed on this but I can't find it. glandium said he wanted to do this after he got the toolchain bits into moz.configure.) It might also be nice to build some sort of wrapper installer that installed MSYS2 and ran bootstrap in one fell swoop, but that might be less important.", "author": "ted@mielczarek.org", "id": 11452184, "time": "2016-05-31T19:28:59Z"}, {"text": "Comment on attachment 8757017\nBug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper\n\nhttps://reviewboard.mozilla.org/r/55526/#review53344\n\n::: python/mozboot/mozboot/base.py:302\n(Diff revision 2)\n>  \n>          HGPLAIN prevents Mercurial from applying locale variations to the output\n>          making it suitable for use in scripts.\n>          \"\"\"\n>          env = os.environ.copy()\n> -        env['HGPLAIN'] = '1'\n> +        env[str('HGPLAIN')] = str('1')\n\nUse b'' literals to force the str/bytes type. You almost certainly never want to use the str() or unicode() functions.", "author": "gps@mozilla.com", "id": 11452571, "time": "2016-05-31T21:14:28Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/8-9/", "author": "nate.hak@gmail.com", "id": 11453027, "time": "2016-06-01T00:04:41Z"}, {"text": "Comment on attachment 8756949\nBug 1275437 - Added installing of Mercurial to Windows boostrapper.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55478/diff/1-2/", "author": "nate.hak@gmail.com", "id": 11453028, "time": "2016-06-01T00:04:41Z"}, {"text": "Comment on attachment 8757017\nBug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55526/diff/2-3/", "author": "nate.hak@gmail.com", "id": 11453029, "time": "2016-06-01T00:04:41Z"}, {"text": "Created attachment 8758496\nBug 1275437 - Moved installing of Python into an install_python method in the windows bootstrapper;\n\nThe correct version of Python will get installed from the install_python method instead of with the system packages.\n\nThis is more in-line with how a bootstrapper *should* extend from the base bootstrapper.\n\nReview commit: https://reviewboard.mozilla.org/r/56760/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/56760/", "author": "nate.hak@gmail.com", "id": 11453036, "time": "2016-06-01T00:15:01Z"}, {"text": "(In reply to Ted Mielczarek [:ted.mielczarek] from comment #56)\n> So the goal for this bug would be to change the build setup process from:\n> 1) Install MozillaBuild\n> 2) Build\n> \n> to:\n> 1) Install MSYS2\n> 2) bootstrap\n> 3) build?\n\nWell, we'd ideally have some VBScript or some kind of one-liner or installer to streamline installing msys2 and invoking our bootstrapper. That will be a follow-up. We're likely looking at landing *some* Windows support in bootstrap behind an environment variable. Then we can follow up with the robustness/streamline improvements.\n\n> I think that's fine, I just want to clarify. If we want to make MSYS2 our\n> officially-supported build environment we'll probably also need to move the\n> MSVC detection logic from the MozillaBuild batch scripts into configure. (I\n> feel like there's a bug filed on this but I can't find it. glandium said he\n> wanted to do this after he got the toolchain bits into moz.configure.) It\n> might also be nice to build some sort of wrapper installer that installed\n> MSYS2 and ran bootstrap in one fell swoop, but that might be less important.\n\nYes, we should definitely move the MSVC toolchain logic into configure. I'm not sure why we insist on running vcvarsall.bat for their dev environment. We can detect that stuff in configure. It really isn't that much work to reimplement the logic in vcvarsall.bat (we've practically done it for the in-tree mozconfigs, albeit with slightly different paths from the tooltool archives in order to avoid spaces).", "author": "gps@mozilla.com", "id": 11453125, "time": "2016-06-01T01:02:56Z"}, {"text": "Comment on attachment 8756949\nBug 1275437 - Added installing of Mercurial to Windows boostrapper.\n\nhttps://reviewboard.mozilla.org/r/55478/#review53438", "author": "gps@mozilla.com", "id": 11453127, "time": "2016-06-01T01:03:44Z"}, {"text": "Comment on attachment 8757017\nBug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper\n\nhttps://reviewboard.mozilla.org/r/55526/#review53440", "author": "gps@mozilla.com", "id": 11453128, "time": "2016-06-01T01:04:04Z"}, {"text": "Comment on attachment 8758496\nBug 1275437 - Moved installing of Python into an install_python method in the windows bootstrapper;\n\nhttps://reviewboard.mozilla.org/r/56760/#review53444\n\nBonus points if you fold this into the commit that introduced the package.", "author": "gps@mozilla.com", "id": 11453130, "time": "2016-06-01T01:04:39Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nhttps://reviewboard.mozilla.org/r/55226/#review53446\n\n::: python/mozboot/mozboot/windows.py:26\n(Diff revision 9)\n> +        'mingw-w64-x86_64-toolchain', # We need gcc so pip can compile Mercurial\n> +        'mingw-w64-i686-toolchain'\n\nPlease change the comment to a \"TODO\" that says something about removing once we install Mercurial from a wheel.\n\n::: python/mozboot/mozboot/windows.py:64\n(Diff revision 9)\n> +    def install_mobile_android_artifact_mode_packages(self):\n> +        raise NotImplementedError('We do not support building Android on Windows. Sorry!')\n> +\n> +    def _update_package_manager(self):\n> +        self.pacman_update()\n> +            \n\nTrailing whitespace.", "author": "gps@mozilla.com", "id": 11453132, "time": "2016-06-01T01:06:20Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review53446\n\n> Trailing whitespace.\n\nI don't understand why this whitespace is a problem... Its right before a method definition, isn't that good?", "author": "nate.hak@gmail.com", "id": 11455168, "time": "2016-06-01T16:29:26Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/9-10/", "author": "nate.hak@gmail.com", "id": 11455202, "time": "2016-06-01T16:37:14Z"}, {"text": "Comment on attachment 8756949\nBug 1275437 - Added installing of Mercurial to Windows boostrapper.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55478/diff/2-3/", "author": "nate.hak@gmail.com", "id": 11455203, "time": "2016-06-01T16:37:14Z"}, {"text": "Comment on attachment 8757017\nBug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55526/diff/3-4/", "author": "nate.hak@gmail.com", "id": 11455204, "time": "2016-06-01T16:37:14Z"}, {"text": "Comment on attachment 8758496\nBug 1275437 - Moved installing of Python into an install_python method in the windows bootstrapper;\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/56760/diff/1-2/", "author": "nate.hak@gmail.com", "id": 11455205, "time": "2016-06-01T16:37:14Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review53446\n\n> I don't understand why this whitespace is a problem... Its right before a method definition, isn't that good?\n\nPeople generally don't like trailing whitespace because it adds no value, makes diffs harder to read, etc. That's why it is being highlighted as a giant red blob.\n\nYou should configure your editor to strip trailing whitespace on save.", "author": "gps@mozilla.com", "id": 11455334, "time": "2016-06-01T17:13:51Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review53446\n\n> People generally don't like trailing whitespace because it adds no value, makes diffs harder to read, etc. That's why it is being highlighted as a giant red blob.\n> \n> You should configure your editor to strip trailing whitespace on save.\n\nBut how is the whitespace marked on line 64 different from line 67 or line 71 or line 75 or line 80?", "author": "nate.hak@gmail.com", "id": 11455828, "time": "2016-06-01T19:31:27Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review53446\n\n> But how is the whitespace marked on line 64 different from line 67 or line 71 or line 75 or line 80?\n\nLine 64 has spaces on it. Lines 71, 75, etc are empty.", "author": "gps@mozilla.com", "id": 11459269, "time": "2016-06-02T19:28:24Z"}, {"text": "https://reviewboard.mozilla.org/r/55226/#review53446\n\n> Line 64 has spaces on it. Lines 71, 75, etc are empty.\n\nOh... I thought you were talking about the newline. Fixing...", "author": "nate.hak@gmail.com", "id": 11459306, "time": "2016-06-02T19:38:34Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55226/diff/10-11/", "author": "nate.hak@gmail.com", "id": 11459307, "time": "2016-06-02T19:38:41Z"}, {"text": "Comment on attachment 8756949\nBug 1275437 - Added installing of Mercurial to Windows boostrapper.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55478/diff/3-4/", "author": "nate.hak@gmail.com", "id": 11459308, "time": "2016-06-02T19:38:41Z"}, {"text": "Comment on attachment 8757017\nBug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/55526/diff/4-5/", "author": "nate.hak@gmail.com", "id": 11459309, "time": "2016-06-02T19:38:41Z"}, {"text": "Comment on attachment 8758496\nBug 1275437 - Moved installing of Python into an install_python method in the windows bootstrapper;\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/56760/diff/2-3/", "author": "nate.hak@gmail.com", "id": 11459310, "time": "2016-06-02T19:38:41Z"}, {"text": "Comment on attachment 8756531\nBug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman.\n\nhttps://reviewboard.mozilla.org/r/55226/#review54414", "author": "gps@mozilla.com", "id": 11461987, "time": "2016-06-03T16:55:32Z"}, {"text": "Pushed by gszorc@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/f4e2ff34312b\nAdded placeholder for Windows bootstrapper. r=gps\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/b12e09309b96\nAdded methods for interacting with pacman. r=gps\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/3c18f9787879\nWindows bootstrapper installs necessary system and browser packages that come from pacman. r=gps\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/cf30f2236629\nAdded installing of Mercurial to Windows boostrapper. r=gps\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/3952e910a66a\nFixed some offending version checks that were inhereted from the BaseBootstrapper r=gps\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/b86c7fc1f4bd\nMoved installing of Python into an install_python method in the windows bootstrapper; r=gps", "author": "pulsebot@bots.tld", "id": 11463147, "time": "2016-06-03T23:59:07Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/f4e2ff34312b\nhttps://hg.mozilla.org/mozilla-central/rev/b12e09309b96\nhttps://hg.mozilla.org/mozilla-central/rev/3c18f9787879\nhttps://hg.mozilla.org/mozilla-central/rev/cf30f2236629\nhttps://hg.mozilla.org/mozilla-central/rev/3952e910a66a\nhttps://hg.mozilla.org/mozilla-central/rev/b86c7fc1f4bd", "author": "cbook@mozilla.com", "id": 11465502, "time": "2016-06-06T10:00:44Z"}], "id": 1275437, "priority": "--", "mentors_detail": [], "comment_count": 83, "version": "unspecified", "cf_qa_whiteboard": "", "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2018-03-02T20:12:20Z", "cf_platform_rel": "---", "product": "Firefox Build System", "cf_fx_iteration": "---", "blocks": [1100925, 1281432], "qa_contact": "", "see_also": [], "cf_status_firefox_esr52": "---", "component": "General", "votes": 0, "cf_status_firefox49": "fixed", "groups": [], "cf_status_firefox60": "---", "target_milestone": "mozilla49", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "---", "url": "", "creator_detail": {"email": "nate.hak@gmail.com", "id": 572086, "name": "nate.hak@gmail.com", "real_name": "Nathan Hakkakzadeh [:Nat]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "gps@mozilla.com", "id": 420446, "name": "gps@mozilla.com", "real_name": "Gregory Szorc [:gps]"}, {"email": "mh+mozilla@glandium.org", "id": 47192, "name": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]"}, {"email": "ted@mielczarek.org", "id": 39022, "name": "ted@mielczarek.org", "real_name": "Ted Mielczarek [:ted.mielczarek]"}], "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "assigned_to": "nate.hak@gmail.com", "is_open": false, "history": [{"changes": [{"removed": "", "field_name": "blocks", "added": "1100925"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T07:25:28Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "nhakkakzadeh@mozilla.com"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T07:25:49Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "gps@mozilla.com"}], "who": "gps@mozilla.com", "when": "2016-05-25T07:27:10Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756141, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T07:28:51Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756141, "added": "review+"}], "who": "gps@mozilla.com", "when": "2016-05-25T16:43:14Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756464, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T18:19:09Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756531, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T20:54:32Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756538, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T21:02:22Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756464, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-25T21:16:07Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756554, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T21:20:25Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756531, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-25T21:24:49Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756538, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-25T21:26:39Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756464, "added": "review?(gps@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756531, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T21:50:58Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8756538, "added": "1"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T21:51:03Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756554, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-25T21:52:34Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756554, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T21:59:58Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review+", "attachment_id": 8756141, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-25T22:12:00Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756531, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-25T22:15:55Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mh+mozilla@glandium.org"}], "who": "mh+mozilla@glandium.org", "when": "2016-05-25T22:49:59Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756141, "added": "review?(gps@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756531, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T23:33:16Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8756554, "added": "1"}, {"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756554, "added": ""}], "who": "nate.hak@gmail.com", "when": "2016-05-25T23:40:34Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756141, "added": "review+"}], "who": "gps@mozilla.com", "when": "2016-05-25T23:47:40Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756464, "added": "review+"}], "who": "gps@mozilla.com", "when": "2016-05-25T23:48:08Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756531, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-25T23:50:15Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756531, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-25T23:57:13Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756949, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-26T18:27:30Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8757017, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-26T20:55:59Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756531, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-31T17:35:27Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756949, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-31T17:37:56Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8757017, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-31T17:39:46Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8757017, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-05-31T18:22:03Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "ted@mielczarek.org"}], "who": "ted@mielczarek.org", "when": "2016-05-31T19:28:59Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8757017, "added": ""}], "who": "gps@mozilla.com", "when": "2016-05-31T21:14:27Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756531, "added": "review?(gps@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756949, "added": "review?(gps@mozilla.com)"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8757017, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-06-01T00:04:41Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8758496, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-06-01T00:15:01Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756949, "added": "review+"}], "who": "gps@mozilla.com", "when": "2016-06-01T01:03:43Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8757017, "added": "review+"}], "who": "gps@mozilla.com", "when": "2016-06-01T01:04:04Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8758496, "added": "review+"}], "who": "gps@mozilla.com", "when": "2016-06-01T01:04:39Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756531, "added": ""}], "who": "gps@mozilla.com", "when": "2016-06-01T01:06:19Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8756531, "added": "review?(gps@mozilla.com)"}], "who": "nate.hak@gmail.com", "when": "2016-06-01T16:37:14Z"}, {"changes": [{"field_name": "attachments.description", "removed": "MozReview Request: Bug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman. r?gps", "attachment_id": 8756531, "added": "Bug 1275437 - Windows bootstrapper installs necessary system and browser packages that come from pacman."}, {"field_name": "attachments.description", "removed": "MozReview Request: Bug 1275437 - Added installing of Mercurial to Windows boostrapper.", "attachment_id": 8756949, "added": "Bug 1275437 - Added installing of Mercurial to Windows boostrapper."}, {"field_name": "attachments.description", "removed": "MozReview Request: Bug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper r?gps", "attachment_id": 8757017, "added": "Bug 1275437 - Fixed some offending version checks that were inhereted from the BaseBootstrapper"}, {"field_name": "attachments.description", "removed": "MozReview Request: Bug 1275437 - Moved installing of Python into an install_python method in the windows bootstrapper; r?gps", "attachment_id": 8758496, "added": "Bug 1275437 - Moved installing of Python into an install_python method in the windows bootstrapper;"}], "who": "nate.hak@gmail.com", "when": "2016-06-02T19:38:41Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(gps@mozilla.com)", "attachment_id": 8756531, "added": "review+"}], "who": "gps@mozilla.com", "when": "2016-06-03T16:55:32Z"}, {"changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla49"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-06-06 10:00:44"}, {"removed": "---", "field_name": "cf_status_firefox49", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2016-06-06T10:00:44Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1281432"}], "who": "ted@mielczarek.org", "when": "2016-06-22T11:11:15Z"}, {"changes": [{"removed": "Core", "field_name": "product", "added": "Firefox Build System"}], "who": "automation@bmo.tld", "when": "2018-03-02T20:12:20Z"}], "resolution": "FIXED", "op_sys": "Windows", "cf_fx_points": "---", "cf_blocking_fennec": "---"}