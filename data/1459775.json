{"cf_tracking_thunderbird_esr52": "---", "status": "ASSIGNED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "intermittent-bug-filer@mozilla.bugs", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "unaffected", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox59": "---", "keywords": ["assertion", "intermittent-failure", "regression"], "cc_detail": [{"email": "cpeterson@mozilla.com", "id": 430528, "name": "cpeterson@mozilla.com", "real_name": "Chris Peterson [:cpeterson]"}, {"email": "hikezoe@mozilla.com", "id": 131213, "name": "hikezoe@mozilla.com", "real_name": "Hiroyuki Ikezoe (:hiro)"}, {"email": "jwalden+bmo@mit.edu", "id": 83595, "name": "jwalden+bmo@mit.edu", "real_name": "Jeff Walden [:Waldo]"}, {"email": "mdaly@mozilla.com", "id": 609492, "name": "mdaly@mozilla.com", "real_name": "Marion Daly [:mdaly]"}, {"email": "ryanvm@gmail.com", "id": 75935, "name": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]"}, {"email": "sledru@mozilla.com", "id": 495955, "name": "sledru@mozilla.com", "real_name": "Sylvestre Ledru [:sylvestre]"}], "cf_last_resolved": null, "attachments": [], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "yes", "comment_count": 13, "comments": [{"text": "Filed by: toros [at] mozilla.com\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=177304686&repo=autoland\n\nhttps://queue.taskcluster.net/v1/task/RVMsFnR6S3W9doDvvn95aw/runs/0/artifacts/public/logs/live_backing.log\n\n[task 2018-05-07T19:18:10.099Z] 19:18:10     INFO - TEST-START | browser/components/extensions/test/browser/browser_ext_tabs_onHighlighted.js\n[task 2018-05-07T19:18:10.446Z] 19:18:10     INFO - GECKO(1036) | [Parent 1036, Main Thread] WARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0x80040111: file /builds/worker/workspace/build/src/netwerk/protocol/res/SubstitutingProtocolHandler.cpp, line 338\n[task 2018-05-07T19:18:10.609Z] 19:18:10     INFO - GECKO(1036) | ++DOCSHELL 0xbe20c000 == 33 [pid = 1036] [id = {09a154d9-02e9-4ac8-8a02-6a95da2e6efd}]\n[task 2018-05-07T19:18:10.610Z] 19:18:10     INFO - GECKO(1036) | ++DOMWINDOW == 141 (0xc11c5970) [pid = 1036] [serial = 3504] [outer = (nil)]\n[task 2018-05-07T19:18:10.610Z] 19:18:10     INFO - GECKO(1036) | ++DOMWINDOW == 142 (0xda793000) [pid = 1036] [serial = 3505] [outer = 0xc11c5970]\n[task 2018-05-07T19:18:10.651Z] 19:18:10     INFO - GECKO(1036) | ++DOMWINDOW == 143 (0xda7d9800) [pid = 1036] [serial = 3506] [outer = 0xc11c5970]\n[task 2018-05-07T19:18:10.728Z] 19:18:10     INFO - GECKO(1036) | ++DOMWINDOW == 144 (0xda7dce00) [pid = 1036] [serial = 3507] [outer = 0xc11c5970]\n[task 2018-05-07T19:18:10.777Z] 19:18:10     INFO - GECKO(1036) | ++DOCSHELL 0xbca0d400 == 34 [pid = 1036] [id = {bdc9061f-5c69-4f73-9b16-7a409d363dce}]\n[task 2018-05-07T19:18:10.777Z] 19:18:10     INFO - GECKO(1036) | ++DOMWINDOW == 145 (0xcb407080) [pid = 1036] [serial = 3508] [outer = (nil)]\n[task 2018-05-07T19:18:10.813Z] 19:18:10     INFO - GECKO(1036) | --DOMWINDOW == 5 (0xdf5622e0) [pid = 1183] [serial = 180] [outer = (nil)] [url = about:newtab]\n[task 2018-05-07T19:18:10.814Z] 19:18:10     INFO - GECKO(1036) | --DOMWINDOW == 4 (0xdf562410) [pid = 1183] [serial = 177] [outer = (nil)] [url = about:blank]\n[task 2018-05-07T19:18:10.870Z] 19:18:10     INFO - GECKO(1036) | ++DOMWINDOW == 146 (0xbb9a2400) [pid = 1036] [serial = 3509] [outer = 0xcb407080]\n[task 2018-05-07T19:18:10.947Z] 19:18:10     INFO - GECKO(1036) | ++DOMWINDOW == 147 (0xdb4aaa00) [pid = 1036] [serial = 3510] [outer = 0xcb407080]\n[task 2018-05-07T19:18:11.434Z] 19:18:11     INFO - GECKO(1036) | ++DOCSHELL 0xdf21bc00 == 2 [pid = 1183] [id = {aaca529f-0425-4081-bb0f-ca73f6ff7a17}]\n[task 2018-05-07T19:18:11.435Z] 19:18:11     INFO - GECKO(1036) | ++DOMWINDOW == 5 (0xdf5622e0) [pid = 1183] [serial = 185] [outer = (nil)]\n[task 2018-05-07T19:18:11.551Z] 19:18:11     INFO - GECKO(1036) | ++DOMWINDOW == 6 (0xe9348800) [pid = 1183] [serial = 186] [outer = 0xdf5622e0]\n[task 2018-05-07T19:18:11.830Z] 19:18:11     INFO - GECKO(1036) | ++DOMWINDOW == 7 (0xe9347800) [pid = 1183] [serial = 187] [outer = 0xdf5622e0]\n[task 2018-05-07T19:18:11.832Z] 19:18:11     INFO - GECKO(1036) | ++DOCSHELL 0xe26a4400 == 2 [pid = 1498] [id = {c135a354-c147-4efd-a6a6-f5f5952c8811}]\n[task 2018-05-07T19:18:11.835Z] 19:18:11     INFO - GECKO(1036) | ++DOMWINDOW == 8 (0xf714e970) [pid = 1498] [serial = 150] [outer = (nil)]\n[task 2018-05-07T19:18:11.980Z] 19:18:11     INFO - GECKO(1036) | ++DOMWINDOW == 9 (0xe7d41400) [pid = 1498] [serial = 151] [outer = 0xf714e970]\n[task 2018-05-07T19:18:12.415Z] 19:18:12     INFO - GECKO(1036) | ++DOMWINDOW == 10 (0xe7d97200) [pid = 1498] [serial = 152] [outer = 0xf714e970]\n[task 2018-05-07T19:18:12.804Z] 19:18:12     INFO - GECKO(1036) | ++DOCSHELL 0xe2585000 == 4 [pid = 1086] [id = {a08a81e2-bed5-49e9-b1d8-dd693b886aa3}]\n[task 2018-05-07T19:18:12.804Z] 19:18:12     INFO - GECKO(1036) | ++DOMWINDOW == 11 (0xe25e1380) [pid = 1086] [serial = 411] [outer = (nil)]\n[task 2018-05-07T19:18:13.014Z] 19:18:13     INFO - GECKO(1036) | ++DOMWINDOW == 12 (0xe1442400) [pid = 1086] [serial = 412] [outer = 0xe25e1380]\n[task 2018-05-07T19:18:13.339Z] 19:18:13     INFO - GECKO(1036) | ++DOMWINDOW == 13 (0xe1442600) [pid = 1086] [serial = 413] [outer = 0xe25e1380]\n[task 2018-05-07T19:18:13.421Z] 19:18:13     INFO - GECKO(1036) | --DOMWINDOW == 12 (0xe1441200) [pid = 1086] [serial = 404] [outer = (nil)] [url = about:blank]\n[task 2018-05-07T19:18:13.444Z] 19:18:13     INFO - GECKO(1036) | --DOCSHELL 0xe257fc00 == 3 [pid = 1086] [id = {f4e3fd73-9f2f-49bd-9dd8-e07153b70a39}]\n[task 2018-05-07T19:18:13.445Z] 19:18:13     INFO - GECKO(1036) | --DOCSHELL 0xe7d1c000 == 2 [pid = 1086] [id = {c143fe7a-5bfb-4a8e-914f-f64f19c5e9be}]\n[task 2018-05-07T19:18:13.463Z] 19:18:13     INFO - GECKO(1036) | --DOCSHELL 0xcb54c800 == 33 [pid = 1036] [id = {09876075-896d-42e0-bcd5-917a2cfcc130}]\n[task 2018-05-07T19:18:14.839Z] 19:18:14     INFO - GECKO(1036) | --DOMWINDOW == 10 (0xe14cb400) [pid = 1158] [serial = 333] [outer = (nil)] [url = about:blank]\n[task 2018-05-07T19:18:14.839Z] 19:18:14     INFO - GECKO(1036) | --DOMWINDOW == 9 (0xe14c8a00) [pid = 1158] [serial = 330] [outer = (nil)] [url = about:blank]\n[task 2018-05-07T19:18:14.841Z] 19:18:14     INFO - GECKO(1036) | --DOMWINDOW == 8 (0xe14c8400) [pid = 1158] [serial = 331] [outer = (nil)] [url = http://example.net/]\n[task 2018-05-07T19:18:14.841Z] 19:18:14     INFO - GECKO(1036) | --DOMWINDOW == 7 (0xe14c9600) [pid = 1158] [serial = 328] [outer = (nil)] [url = about:blank]\n[task 2018-05-07T19:18:14.843Z] 19:18:14     INFO - GECKO(1036) | --DOCSHELL 0xde972c00 == 2 [pid = 1158] [id = {7b9c9fef-6a6b-40f7-8b41-ca2b78fadd9f}]\n[task 2018-05-07T19:18:14.844Z] 19:18:14     INFO - GECKO(1036) | --DOCSHELL 0xde969000 == 1 [pid = 1158] [id = {a56a64a3-440d-47b6-9a67-24b7f0d18ae4}]\n[task 2018-05-07T19:18:15.188Z] 19:18:15     INFO - GECKO(1036) | Assertion failure: mIsSome, at /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/Maybe.h:474\n[task 2018-05-07T19:18:15.188Z] 19:18:15     INFO - GECKO(1036) | #01: mozilla::Maybe<float>::operator* [mfbt/Maybe.h:474]\n[task 2018-05-07T19:18:15.190Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.191Z] 19:18:15     INFO - GECKO(1036) | #02: mozilla::layers::ForEachNode<mozilla::layers::ForwardIterator, mozilla::layers::Layer*, mozilla::layers::SampleAnimations(mozilla::layers::Layer*, mozilla::layers::CompositorAnimationStorage*, mozilla::TimeStamp)::<lambda(mozilla::layers::Layer*)>, mozilla::layers::ForEachNode(Node, const PreAction&) [with Iterator = mozilla::layers::ForwardIterator; Node = mozilla::layers::Layer*; PreAction = mozilla::layers::SampleAnimations(mozilla::layers::Layer*, mozilla::layers::CompositorAnimationStorage*, mozilla::TimeStamp)::<lambda(mozilla::layers::Layer*)>]::<lambda(mozilla::layers::Layer*)> > [gfx/layers/composite/AsyncCompositionManager.cpp:715]\n[task 2018-05-07T19:18:15.192Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.195Z] 19:18:15     INFO - GECKO(1036) | #03: mozilla::layers::ForEachNode<mozilla::layers::ForwardIterator, mozilla::layers::Layer*, mozilla::layers::SampleAnimations(mozilla::layers::Layer*, mozilla::layers::CompositorAnimationStorage*, mozilla::TimeStamp)::<lambda(mozilla::layers::Layer*)>, mozilla::layers::ForEachNode(Node, const PreAction&) [with Iterator = mozilla::layers::ForwardIterator; Node = mozilla::layers::Layer*; PreAction = mozilla::layers::SampleAnimations(mozilla::layers::Layer*, mozilla::layers::CompositorAnimationStorage*, mozilla::TimeStamp)::<lambda(mozilla::layers::Layer*)>]::<lambda(mozilla::layers::Layer*)> > [gfx/layers/TreeTraversal.h:43]\n[task 2018-05-07T19:18:15.196Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.198Z] 19:18:15     INFO - GECKO(1036) | #04: mozilla::layers::ForEachNode<mozilla::layers::ForwardIterator, mozilla::layers::Layer*, mozilla::layers::SampleAnimations(mozilla::layers::Layer*, mozilla::layers::CompositorAnimationStorage*, mozilla::TimeStamp)::<lambda(mozilla::layers::Layer*)>, mozilla::layers::ForEachNode(Node, const PreAction&) [with Iterator = mozilla::layers::ForwardIterator; Node = mozilla::layers::Layer*; PreAction = mozilla::layers::SampleAnimations(mozilla::layers::Layer*, mozilla::layers::CompositorAnimationStorage*, mozilla::TimeStamp)::<lambda(mozilla::layers::Layer*)>]::<lambda(mozilla::layers::Layer*)> > [gfx/layers/TreeTraversal.h:43]\n[task 2018-05-07T19:18:15.199Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.200Z] 19:18:15     INFO - GECKO(1036) | #05: mozilla::layers::ForEachNode<mozilla::layers::ForwardIterator, mozilla::layers::Layer*, mozilla::layers::SampleAnimations(mozilla::layers::Layer*, mozilla::layers::CompositorAnimationStorage*, mozilla::TimeStamp)::<lambda(mozilla::layers::Layer*)>, mozilla::layers::ForEachNode(Node, const PreAction&) [with Iterator = mozilla::layers::ForwardIterator; Node = mozilla::layers::Layer*; PreAction = mozilla::layers::SampleAnimations(mozilla::layers::Layer*, mozilla::layers::CompositorAnimationStorage*, mozilla::TimeStamp)::<lambda(mozilla::layers::Layer*)>]::<lambda(mozilla::layers::Layer*)> > [gfx/layers/TreeTraversal.h:43]\n[task 2018-05-07T19:18:15.202Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.203Z] 19:18:15     INFO - GECKO(1036) | #06: mozilla::layers::AsyncCompositionManager::TransformShadowTree [gfx/layers/composite/AsyncCompositionManager.cpp:758]\n[task 2018-05-07T19:18:15.203Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.205Z] 19:18:15     INFO - GECKO(1036) | #07: mozilla::layers::CompositorBridgeParent::CompositeToTarget [gfx/layers/ipc/CompositorBridgeParent.cpp:1036]\n[task 2018-05-07T19:18:15.205Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.206Z] 19:18:15     INFO - GECKO(1036) | #08: mozilla::layers::CompositorVsyncScheduler::Composite [gfx/layers/ipc/CompositorVsyncScheduler.cpp:245]\n[task 2018-05-07T19:18:15.216Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.218Z] 19:18:15     INFO - GECKO(1036) | #09: mozilla::detail::RunnableMethodImpl<mozilla::layers::CompositorVsyncScheduler*, void (mozilla::layers::CompositorVsyncScheduler::*)(mozilla::TimeStamp), true, (mozilla::RunnableKind)1u, mozilla::TimeStamp>::Run [xpcom/threads/nsThreadUtils.h:1165]\n[task 2018-05-07T19:18:15.220Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.221Z] 19:18:15     INFO - GECKO(1036) | #10: MessageLoop::RunTask [xpcom/base/nsCOMPtr.h:638]\n[task 2018-05-07T19:18:15.228Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.230Z] 19:18:15     INFO - GECKO(1036) | #11: MessageLoop::DeferOrRunPendingTask [ipc/chromium/src/base/message_loop.cc:460]\n[task 2018-05-07T19:18:15.237Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.238Z] 19:18:15     INFO - GECKO(1036) | #12: MessageLoop::DoWork [ipc/chromium/src/base/message_loop.cc:535]\n[task 2018-05-07T19:18:15.240Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.242Z] 19:18:15     INFO - GECKO(1036) | #13: base::MessagePumpDefault::Run [ipc/chromium/src/base/message_pump_default.cc:37]\n[task 2018-05-07T19:18:15.242Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.245Z] 19:18:15     INFO - GECKO(1036) | #14: MessageLoop::RunInternal [ipc/chromium/src/base/message_loop.cc:327]\n[task 2018-05-07T19:18:15.246Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.247Z] 19:18:15     INFO - GECKO(1036) | #15: MessageLoop::Run [ipc/chromium/src/base/message_loop.cc:298]\n[task 2018-05-07T19:18:15.248Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.250Z] 19:18:15     INFO - GECKO(1036) | #16: base::Thread::ThreadMain [ipc/chromium/src/base/thread.cc:184]\n[task 2018-05-07T19:18:15.250Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.252Z] 19:18:15     INFO - GECKO(1036) | #17: ThreadFunc [ipc/chromium/src/base/platform_thread_posix.cc:40]\n[task 2018-05-07T19:18:15.253Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.255Z] 19:18:15     INFO - GECKO(1036) | #18: libpthread.so.0 + 0x6295\n[task 2018-05-07T19:18:15.258Z] 19:18:15     INFO - \n[task 2018-05-07T19:18:15.260Z] 19:18:15     INFO - GECKO(1036) | ExceptionHandler::GenerateDump cloned child 1707\n[task 2018-05-07T19:18:15.260Z] 19:18:15     INFO - GECKO(1036) | ExceptionHandler::SendContinueSignalToChild sent continue signal to child\n[task 2018-05-07T19:18:15.261Z] 19:18:15     INFO - GECKO(1036) | ExceptionHandler::WaitForContinueSignal waiting for continue signal...\n[task 2018-05-07T19:18:15.931Z] 19:18:15     INFO - GECKO(1036) | --DOCSHELL 0xe26ac400 == 1 [pid = 1498] [id = {eb955374-7d5c-456b-9307-5bf6acc1a621}]\n[task 2018-05-07T19:18:16.214Z] 19:18:16     INFO - GECKO(1036) | --DOMWINDOW == 11 (0xe25e0c60) [pid = 1086] [serial = 403] [outer = (nil)] [url = http://example.com/]\n[task 2018-05-07T19:18:16.544Z] 19:18:16     INFO - GECKO(1036) | Hit MOZ_CRASH(Aborting on channel error.) at /builds/worker/workspace/build/src/ipc/glue/MessageChannel.cpp:2555\n[task 2018-05-07T19:18:16.545Z] 19:18:16     INFO - GECKO(1036) | #01: mozilla::ipc::MessageChannel::OnChannelErrorFromLink [ipc/glue/MessageChannel.cpp:2555]\n[task 2018-05-07T19:18:16.545Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.546Z] 19:18:16     INFO - GECKO(1036) | #02: mozilla::ipc::ProcessLink::OnChannelError [ipc/glue/MessageLink.cpp:389]\n[task 2018-05-07T19:18:16.546Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.548Z] 19:18:16     INFO - GECKO(1036) | #03: IPC::Channel::ChannelImpl::OnFileCanReadWithoutBlocking [ipc/chromium/src/chrome/common/ipc_channel_posix.cc:805]\n[task 2018-05-07T19:18:16.551Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.552Z] 19:18:16     INFO - GECKO(1036) | #04: event_process_active_single_queue [ipc/chromium/src/third_party/libevent/event.c:1648]\n[task 2018-05-07T19:18:16.555Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.556Z] 19:18:16     INFO - GECKO(1036) | #05: event_base_loop [ipc/chromium/src/third_party/libevent/event.c:1741]\n[task 2018-05-07T19:18:16.560Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.561Z] 19:18:16     INFO - GECKO(1036) | #06: base::MessagePumpLibevent::Run [ipc/chromium/src/base/message_pump_libevent.cc:381]\n[task 2018-05-07T19:18:16.562Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.563Z] 19:18:16     INFO - GECKO(1036) | #07: MessageLoop::RunInternal [ipc/chromium/src/base/message_loop.cc:327]\n[task 2018-05-07T19:18:16.564Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.566Z] 19:18:16     INFO - GECKO(1036) | #08: MessageLoop::Run [ipc/chromium/src/base/message_loop.cc:298]\n[task 2018-05-07T19:18:16.567Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.570Z] 19:18:16     INFO - GECKO(1036) | #09: base::Thread::ThreadMain [ipc/chromium/src/base/thread.cc:184]\n[task 2018-05-07T19:18:16.577Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.585Z] 19:18:16     INFO - GECKO(1036) | #10: ThreadFunc [ipc/chromium/src/base/platform_thread_posix.cc:40]\n[task 2018-05-07T19:18:16.586Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.587Z] 19:18:16     INFO - GECKO(1036) | #11: libpthread.so.0 + 0x6295\n[task 2018-05-07T19:18:16.592Z] 19:18:16     INFO - \n[task 2018-05-07T19:18:16.594Z] 19:18:16     INFO - GECKO(1036) | Hit MOZ_CRASH(Aborting on channel error.) at /builds/worker/workspace/build/src/ipc/glue/MessageChannel.cpp:2555\n[task 2018-05-07T19:18:16.596Z] 19:18:16     INFO - GECKO(1036) | #01: mozilla::ipc::MessageChannel::OnChannelErrorFromLink [ipc/glue/MessageChannel.cpp:2555]", "author": "intermittent-bug-filer@mozilla.bugs", "id": 13261140, "time": "2018-05-07T23:44:10Z"}, {"text": "Not an mfbt issue, but with the user of it -- i.e. layers code.", "author": "jwalden+bmo@mit.edu", "id": 13261214, "time": "2018-05-08T00:48:46Z"}, {"text": "Hiro, this Maybe assertion failure looks like a regression from your fix for animation bug 1454324:\n\nhttps://searchfox.org/mozilla-central/diff/df02c10b40cc01da54708884895ee866f347f4ab/gfx/layers/composite/AsyncCompositionManager.cpp#689", "author": "cpeterson@mozilla.com", "id": 13263082, "time": "2018-05-08T17:23:19Z"}, {"text": "It seems to me that this is intermittent.", "author": "hikezoe@mozilla.com", "id": 13263553, "time": "2018-05-08T20:09:25Z"}, {"text": "Oops.  Ni was cleared accidentally.", "author": "hikezoe@mozilla.com", "id": 13263555, "time": "2018-05-08T20:09:54Z"}, {"text": "It seems to be fixed.  Keep looking for a next few days.", "author": "hikezoe@mozilla.com", "id": 13266801, "time": "2018-05-09T21:36:06Z"}, {"text": "Still happens.", "author": "hikezoe@mozilla.com", "id": 13271997, "time": "2018-05-11T22:49:58Z"}, {"text": "17 failures in 660 pushes (0.026 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* autoland: 15\n* mozilla-inbound: 1\n* mozilla-central: 1\n\nPlatform breakdown:\n* linux64: 10\n* linux32: 7\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1459775&startday=2018-05-07&endday=2018-05-13&tree=trunk", "author": "orangefactor@bots.tld", "id": 13273510, "time": "2018-05-14T01:06:59Z"}, {"text": "There are two places that we clear animations in the animation storage but don't clear animation on the coresponding layer.\n\nI am not sure which one is the problematic place, so I just added ClearCompositorAnimations() in both places.\n\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=f36df290a5bc90b017b8b051859f05ab98cadd3f\n\nIt seems to work.", "author": "hikezoe@mozilla.com", "id": 13275094, "time": "2018-05-14T08:58:32Z"}, {"text": "On the last try, I did forget to enable the assertion in question. :/\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=81914ace6fcf621ae4019fbf1248d0123ad457ee", "author": "hikezoe@mozilla.com", "id": 13277586, "time": "2018-05-15T01:03:11Z"}, {"text": "1 failures in 639 pushes (0.002 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-beta: 1\n\nPlatform breakdown:\n* linux32: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1459775&startday=2018-05-14&endday=2018-05-20&tree=trunk", "author": "orangefactor@bots.tld", "id": 13292730, "time": "2018-05-21T01:31:53Z"}, {"text": "Now tab layer cache (bug 1176019) has been disabled (bug 1465106).\nSo, with the assertion in this bug enabled, there is was no failure;\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=9af18de35842809608389f40763d94a401ad2f1b\n\nFWIW, here is another try base on a revision that tab layer cache still enabled.  And this try has a patch that adding \ntwo ClearCompositorAnimations calls soon after ClearById(). But this didn't fix the assertion.\nhttps://treeherder.mozilla.org/#/jobs?repo=try&revision=797121f2a6405149039c20f244df8203c506e54b&selectedJob=180109623", "author": "hikezoe@mozilla.com", "id": 13382914, "time": "2018-06-03T21:42:18Z"}, {"text": "mconley told me that we call PBrowser::RenderLayers with the first argument false when the layer tree cache.  And the function ends up calling LayerManager::ClearCachedResouces().  So, I guess we should clear animations that each layer has.  And also RenderLayers is asynchronous call so it might be a problem.", "author": "hikezoe@mozilla.com", "id": 13407271, "time": "2018-06-15T18:45:12Z"}], "id": 1459775, "priority": "P5", "cc": ["cpeterson@mozilla.com", "hikezoe@mozilla.com", "jwalden+bmo@mit.edu", "mdaly@mozilla.com", "ryanvm@gmail.com", "sledru@mozilla.com"], "cf_crash_signature": "", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1454324], "qa_contact": "", "creation_time": "2018-05-07T23:44:10Z", "cf_status_firefox_esr52": "unaffected", "component": "Graphics: Layers", "assigned_to_detail": {"email": "hikezoe@mozilla.com", "id": 131213, "name": "hikezoe@mozilla.com", "real_name": "Hiroyuki Ikezoe (:hiro)"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "affected", "cf_status_firefox61": "fix-optional", "cf_status_firefox60": "unaffected", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "intermittent-bug-filer@mozilla.bugs", "id": 573381, "name": "intermittent-bug-filer@mozilla.bugs", "real_name": "Treeherder Bug Filer"}, "whiteboard": "", "mentors": [], "summary": "Intermittent GECKO(1036) | Assertion failure: mIsSome, at /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/Maybe.h:474", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-15T18:45:12Z", "assigned_to": "hikezoe@mozilla.com", "is_open": true, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "jwalden+bmo@mit.edu"}, {"removed": "MFBT", "field_name": "component", "added": "Graphics: Layers"}], "who": "jwalden+bmo@mit.edu", "when": "2018-05-08T00:48:46Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cpeterson@mozilla.com, hikezoe@mozilla.com"}, {"removed": "", "field_name": "blocks", "added": "1454324"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(hikezoe@mozilla.com)"}, {"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "unaffected"}, {"removed": "---", "field_name": "cf_status_firefox61", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "affected"}], "who": "cpeterson@mozilla.com", "when": "2018-05-08T17:23:19Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "intermittent-failure"}, {"removed": "Perma-failure GECKO(1036) | Assertion failure: mIsSome, at /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/Maybe.h:474", "field_name": "summary", "added": "Intermittent GECKO(1036) | Assertion failure: mIsSome, at /builds/worker/workspace/build/src/obj-firefox/dist/include/mozilla/Maybe.h:474"}, {"removed": "needinfo?(hikezoe@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "hikezoe@mozilla.com", "when": "2018-05-08T20:09:25Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(hikezoe@mozilla.com)"}], "who": "hikezoe@mozilla.com", "when": "2018-05-08T20:09:54Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "cc", "added": "sledru@mozilla.com"}, {"removed": "---", "field_name": "cf_has_regression_range", "added": "yes"}], "who": "sledru@mozilla.com", "when": "2018-05-09T12:13:45Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "ASSIGNED"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "hikezoe@mozilla.com"}, {"removed": "needinfo?(hikezoe@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "hikezoe@mozilla.com", "when": "2018-05-14T08:58:32Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "assertion"}, {"removed": "", "field_name": "cc", "added": "ryanvm@gmail.com"}], "who": "ryanvm@gmail.com", "when": "2018-05-17T21:52:55Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mdaly@mozilla.com"}, {"removed": "affected", "field_name": "cf_status_firefox61", "added": "fix-optional"}], "who": "mdaly@mozilla.com", "when": "2018-05-23T15:37:37Z"}], "resolution": "", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}