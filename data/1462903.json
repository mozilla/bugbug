{"cf_tracking_thunderbird_esr52": "---", "status": "RESOLVED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "intermittent-bug-filer@mozilla.bugs", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["intermittent-failure"], "cc_detail": [{"email": "btara@mozilla.com", "id": 600569, "name": "btara@mozilla.com", "real_name": "Bogdan Tara[:bogdan_tara]"}, {"email": "bugmail@mozilla.staktrace.com", "id": 426788, "name": "bugmail@mozilla.staktrace.com", "real_name": "Kartikaya Gupta (email:kats@mozilla.com)"}, {"email": "jmaher@mozilla.com", "id": 324370, "name": "jmaher@mozilla.com", "real_name": "Joel Maher ( :jmaher ) (UTC-4)"}, {"email": "sotaro.ikeda.g@gmail.com", "id": 434202, "name": "sotaro.ikeda.g@gmail.com", "real_name": "Sotaro Ikeda [:sotaro]"}], "cf_last_resolved": "2018-06-06T21:06:17Z", "attachments": [{"creator": "bugmail@mozilla.staktrace.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"status": "+", "name": "review", "modification_date": "2018-05-25T02:09:27Z", "type_id": 4, "creation_date": "2018-05-24T16:53:39Z", "id": 1761245, "setter": "sotaro.ikeda.g@gmail.com"}], "content_type": "text/x-review-board-request", "id": 8980358}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 32, "comments": [{"text": "Filed by: ncsoregi [at] mozilla.com\n\nhttps://treeherder.mozilla.org/logviewer.html#?job_id=179314639&repo=mozilla-inbound\n\nhttps://queue.taskcluster.net/v1/task/KL5hkkqzRjq2LYNvyyaWGA/runs/0/artifacts/public/logs/live_backing.log\n\nhttps://hg.mozilla.org/mozilla-central/raw-file/tip/layout/tools/reftest/reftest-analyzer.xhtml#logurl=https://queue.taskcluster.net/v1/task/KL5hkkqzRjq2LYNvyyaWGA/runs/0/artifacts/public/logs/live_backing.log&only_show_unexpected=1\n\n[task 2018-05-19T10:56:21.911Z] 10:56:21     INFO - REFTEST TEST-START | file:///builds/worker/workspace/build/tests/reftest/tests/dom/media/test/crashtests/1270303.html\n[task 2018-05-19T10:56:21.913Z] 10:56:21     INFO - REFTEST TEST-LOAD | file:///builds/worker/workspace/build/tests/reftest/tests/dom/media/test/crashtests/1270303.html | 595 / 3558 (16%)\n[task 2018-05-19T10:56:21.939Z] 10:56:21     INFO - ++DOMWINDOW == 31 (0x7f84e91c8c00) [pid = 1053] [serial = 3079] [outer = 0x7f850d698000]\n[task 2018-05-19T10:56:21.965Z] 10:56:21    ERROR - thread 'WRRenderBackend#3' panicked at 'assertion failed: info.ignore_missing_pipeline', gfx/webrender/src/display_list_flattener.rs:559:17\n[task 2018-05-19T10:56:21.967Z] 10:56:21     INFO - stack backtrace:\n[task 2018-05-19T10:56:21.996Z] 10:56:21     INFO - [Child 1053, Main Thread] WARNING: NS_ENSURE_SUCCESS(rv, rv) failed with result 0x80004005: file /builds/worker/workspace/build/src/dom/base/nsContentUtils.cpp, line 4061\n[task 2018-05-19T10:56:22.021Z] 10:56:22     INFO - REFTEST TEST-PASS | file:///builds/worker/workspace/build/tests/reftest/tests/dom/media/test/crashtests/1270303.html | (LOAD ONLY)\n[task 2018-05-19T10:56:22.021Z] 10:56:22     INFO - REFTEST TEST-END | file:///builds/worker/workspace/build/tests/reftest/tests/dom/media/test/crashtests/1270303.html", "author": "intermittent-bug-filer@mozilla.bugs", "id": 13290893, "time": "2018-05-19T12:07:26Z"}, {"text": "6 failures in 639 pushes (0.009 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-inbound: 3\n* try: 2\n* autoland: 1\n\nPlatform breakdown:\n* linux64-qr: 6\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1462903&startday=2018-05-14&endday=2018-05-20&tree=trunk", "author": "orangefactor@bots.tld", "id": 13292599, "time": "2018-05-21T01:27:44Z"}, {"text": "*** Bug 1462945 has been marked as a duplicate of this bug. ***", "author": "aryx.bugmail@gmx-topmail.de", "id": 13295982, "time": "2018-05-22T09:17:09Z"}, {"text": "*** Bug 1462951 has been marked as a duplicate of this bug. ***", "author": "aryx.bugmail@gmx-topmail.de", "id": 13295996, "time": "2018-05-22T09:23:57Z"}, {"text": "*** Bug 1463346 has been marked as a duplicate of this bug. ***", "author": "aryx.bugmail@gmx-topmail.de", "id": 13296283, "time": "2018-05-22T12:11:36Z"}, {"text": "*** Bug 1463406 has been marked as a duplicate of this bug. ***", "author": "bugmail@mozilla.staktrace.com", "id": 13296382, "time": "2018-05-22T12:52:36Z"}, {"text": "This is a regression from my changes. I'll investigate.", "author": "bugmail@mozilla.staktrace.com", "id": 13296385, "time": "2018-05-22T12:53:13Z"}, {"text": "*** Bug 1463326 has been marked as a duplicate of this bug. ***", "author": "philringnalda@gmail.com", "id": 13298591, "time": "2018-05-23T06:05:02Z"}, {"text": "*** Bug 1463644 has been marked as a duplicate of this bug. ***", "author": "aryx.bugmail@gmx-topmail.de", "id": 13298703, "time": "2018-05-23T07:58:15Z"}, {"text": "From a code inspection I didn't really see any reason this should be happening except maybe during shutdown scenarios. I also couldn't reproduce it locally, although it seems like it's not isolated to any one test but is just happening randomly.\n\nTry push with some logging to try and narrow it down: https://treeherder.mozilla.org/#/jobs?repo=try&revision=ddfad401f1c8924dba396397552b852e910a0190", "author": "bugmail@mozilla.staktrace.com", "id": 13300595, "time": "2018-05-23T20:18:39Z"}, {"text": "https://treeherder.mozilla.org/logviewer.html#?job_id=179883667&repo=try&lineNumber=11226 shows that we're adding a new pipeline but updateDisplayList is coming out false at [1] in the transaction that it's added, so then we don't push a display list for it. Another try push is at [2] with more logging to drill down into why updateDisplayList is coming out false. But a reasonable fix might be to create a display list anyway the very first time, so that WR doesn't have to worry about the missing pipeline content.\n\n[1] https://searchfox.org/mozilla-central/rev/eb51d734a8c06ac5973291be9bcc74ed4e999bca/gfx/layers/wr/AsyncImagePipelineManager.cpp#286\n[2] https://treeherder.mozilla.org/#/jobs?repo=try&revision=941411af8461ea07f41e6867fcc2375c87f07219", "author": "bugmail@mozilla.staktrace.com", "id": 13300778, "time": "2018-05-23T21:32:55Z"}, {"text": "https://treeherder.mozilla.org/logviewer.html#?job_id=179940808&repo=try&lineNumber=18175\n\nLooks like the pipeline's mCurrentTexture is null, so we don't set the display list for the pipeline.", "author": "bugmail@mozilla.staktrace.com", "id": 13340183, "time": "2018-05-24T11:36:51Z"}, {"text": "*** Bug 1463934 has been marked as a duplicate of this bug. ***", "author": "aryx.bugmail@gmx-topmail.de", "id": 13341213, "time": "2018-05-24T11:57:38Z"}, {"text": "*** Bug 1463947 has been marked as a duplicate of this bug. ***", "author": "bugmail@mozilla.staktrace.com", "id": 13341285, "time": "2018-05-24T11:59:05Z"}, {"text": "*** Bug 1463946 has been marked as a duplicate of this bug. ***", "author": "bugmail@mozilla.staktrace.com", "id": 13341304, "time": "2018-05-24T11:59:25Z"}, {"text": "*** Bug 1463944 has been marked as a duplicate of this bug. ***", "author": "bugmail@mozilla.staktrace.com", "id": 13341330, "time": "2018-05-24T11:59:53Z"}, {"text": "*** Bug 1438418 has been marked as a duplicate of this bug. ***", "author": "bugmail@mozilla.staktrace.com", "id": 13341370, "time": "2018-05-24T12:00:43Z"}, {"text": "*** Bug 1463337 has been marked as a duplicate of this bug. ***", "author": "bugmail@mozilla.staktrace.com", "id": 13342841, "time": "2018-05-24T12:30:26Z"}, {"text": "With a fix (or at least a workaround): https://treeherder.mozilla.org/#/jobs?repo=try&revision=a38a03f7009ef36d5ccae650fffe420e93d38ada", "author": "bugmail@mozilla.staktrace.com", "id": 13343464, "time": "2018-05-24T12:42:40Z"}, {"text": "*** Bug 1464057 has been marked as a duplicate of this bug. ***", "author": "bugmail@mozilla.staktrace.com", "id": 13347110, "time": "2018-05-24T13:55:35Z"}, {"text": "Missed assertions in that one. Here's a better one: https://treeherder.mozilla.org/#/jobs?repo=try&revision=a3422f8a8234208193724eb08a9aee67270a3f8b", "author": "bugmail@mozilla.staktrace.com", "id": 13347868, "time": "2018-05-24T14:11:01Z"}, {"text": "Created attachment 8980358\nBug 1462903 - Always send a display list for a new async image pipeline so WR doesn't complain.\n\nReview commit: https://reviewboard.mozilla.org/r/246532/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/246532/", "author": "bugmail@mozilla.staktrace.com", "id": 13354873, "time": "2018-05-24T16:53:39Z"}, {"text": "Comment on attachment 8980358\nBug 1462903 - Always send a display list for a new async image pipeline so WR doesn't complain.\n\nhttps://reviewboard.mozilla.org/r/246532/#review252762\n\nLooks good!", "author": "sotaro.ikeda.g@gmail.com", "id": 13362730, "time": "2018-05-25T02:09:27Z"}, {"text": "Pushed by kgupta@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/8d9da33b8e4f\nAlways send a display list for a new async image pipeline so WR doesn't complain. r=sotaro", "author": "pulsebot@bots.tld", "id": 13363441, "time": "2018-05-25T10:24:09Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/8d9da33b8e4f", "author": "ccoroiu@mozilla.com", "id": 13364599, "time": "2018-05-25T17:53:19Z"}, {"text": "51 failures in 632 pushes (0.081 failures/push) were associated with this bug in the last 7 days. \n\nThis is the #36 most frequent failure this week.  \n\n** This failure happened more than 30 times this week! Resolving this bug is a high priority. **\n\n** Try to resolve this bug as soon as possible. If unresolved for 2 weeks, the affected test(s) may be disabled. **  \n\nRepository breakdown:\n* autoland: 23\n* mozilla-inbound: 16\n* try: 6\n* mozilla-central: 6\n\nPlatform breakdown:\n* linux64-qr: 38\n* windows10-64-qr: 13\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1462903&startday=2018-05-21&endday=2018-05-27&tree=trunk", "author": "orangefactor@bots.tld", "id": 13367528, "time": "2018-05-28T01:19:21Z"}, {"text": "This is still happening.\n\nRecent log: https://treeherder.mozilla.org/logviewer.html#?job_id=182131803&repo=mozilla-inbound&lineNumber=10973\n\n[task 2018-06-06T18:20:28.841Z] 18:20:28     INFO - TEST-START | /webvtt/rendering/cues-with-video/processing-model/selectors/cue/text-decoration_line-through.html\n[task 2018-06-06T18:20:28.842Z] 18:20:28     INFO - PID 10995 | 1528309228835\tMarionette\tINFO\tTesting http://web-platform.test:8000/webvtt/rendering/cues-with-video/processing-model/selectors/cue/text-decoration_line-through.html == http://web-platform.test:8000/webvtt/rendering/cues-with-video/processing-model/selectors/cue/text-decoration_line-through-ref.html\n[task 2018-06-06T18:20:28.943Z] 18:20:28     INFO - PID 10995 | 1528309228938\tMarionette\tINFO\tFound 42190 pixels different, maximum difference per channel 2\n[task 2018-06-06T18:20:28.989Z] 18:20:28     INFO - TEST-UNEXPECTED-FAIL | /webvtt/rendering/cues-with-video/processing-model/selectors/cue/text-decoration_line-through.html | Testing http://web-platform.test:8000/webvtt/rendering/cues-with-video/processing-model/selectors/cue/text-decoration_line-through.html == http://web-platform.test:8000/webvtt/rendering/cues-with-video/processing-model/selectors/cue/text-decoration_line-through-ref.html\n\n\n[task 2018-06-06T18:20:28.994Z] 18:20:28     INFO - TEST-INFO took 145ms\n[task 2018-06-06T18:20:29.042Z] 18:20:29     INFO - PID 10995 | 1528309229037\tMarionette\tINFO\tStopped listening on port 2828\n[task 2018-06-06T18:20:29.502Z] 18:20:29     INFO - Browser exited with return code 0", "author": "btara@mozilla.com", "id": 13392137, "time": "2018-06-06T20:56:12Z"}, {"text": "I'll file a new bug for this. It gets really confusing when bugs with patches landed are reopened without the patches getting backed out.", "author": "bugmail@mozilla.staktrace.com", "id": 13392163, "time": "2018-06-06T21:06:17Z"}, {"text": "Actually, the log you linked to in comment 26 doesn't have the assertion in the title (\"assertion failed: info.ignore_missing_pipeline\") anywhere in the log. Are you sure you have the right link/bug?", "author": "bugmail@mozilla.staktrace.com", "id": 13392170, "time": "2018-06-06T21:08:27Z"}, {"text": "Oh, I see. It matches bug 1438418 which was duped to this bug. But the root cause in the new failure looks different. I'll file a new bug for it.", "author": "bugmail@mozilla.staktrace.com", "id": 13392179, "time": "2018-06-06T21:10:07Z"}, {"text": "Filed bug 1467281 for it.", "author": "bugmail@mozilla.staktrace.com", "id": 13392191, "time": "2018-06-06T21:12:56Z"}, {"text": "1 failures in 669 pushes (0.001 failures/push) were associated with this bug in the last 7 days.    \n\nRepository breakdown:\n* mozilla-inbound: 1\n\nPlatform breakdown:\n* linux64: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1462903&startday=2018-06-04&endday=2018-06-10&tree=trunk", "author": "orangefactor@bots.tld", "id": 13399440, "time": "2018-06-11T01:19:18Z"}], "id": 1462903, "priority": "--", "cc": ["btara@mozilla.com", "bugmail@mozilla.staktrace.com", "jmaher@mozilla.com", "sotaro.ikeda.g@gmail.com"], "cf_crash_signature": "", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1454042], "qa_contact": "", "creation_time": "2018-05-19T12:07:26Z", "cf_status_firefox_esr52": "---", "component": "Graphics: WebRender", "assigned_to_detail": {"email": "bugmail@mozilla.staktrace.com", "id": 426788, "name": "bugmail@mozilla.staktrace.com", "real_name": "Kartikaya Gupta (email:kats@mozilla.com)"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "fixed", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "mozilla62", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "intermittent-bug-filer@mozilla.bugs", "id": 573381, "name": "intermittent-bug-filer@mozilla.bugs", "real_name": "Treeherder Bug Filer"}, "whiteboard": "", "mentors": [], "summary": "Intermittent thread 'WRRenderBackend#3' panicked at 'assertion failed: info.ignore_missing_pipeline', gfx/webrender/src/display_list_flattener.rs:559:17", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-11T01:19:18Z", "assigned_to": "bugmail@mozilla.staktrace.com", "is_open": false, "history": [{"changes": [{"removed": "Audio/Video: Playback", "field_name": "component", "added": "Graphics: WebRender"}], "who": "aryx.bugmail@gmx-topmail.de", "when": "2018-05-22T09:10:27Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "bugmail@mozilla.staktrace.com"}, {"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "bugmail@mozilla.staktrace.com"}], "who": "bugmail@mozilla.staktrace.com", "when": "2018-05-22T12:53:13Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1454042"}], "who": "bugmail@mozilla.staktrace.com", "when": "2018-05-22T12:57:27Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8980358, "added": "review?(sotaro.ikeda.g@gmail.com)"}, {"removed": "", "field_name": "cc", "added": "sotaro.ikeda.g@gmail.com"}], "who": "bugmail@mozilla.staktrace.com", "when": "2018-05-24T16:53:39Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(sotaro.ikeda.g@gmail.com)", "attachment_id": 8980358, "added": "review+"}], "who": "sotaro.ikeda.g@gmail.com", "when": "2018-05-25T02:09:27Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-25 17:53:19"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "ccoroiu@mozilla.com", "when": "2018-05-25T17:53:19Z"}, {"changes": [{"removed": "P5", "field_name": "priority", "added": "--"}, {"removed": "", "field_name": "whiteboard", "added": "[stockwell needswork:owner]"}], "who": "orangefactor@bots.tld", "when": "2018-05-28T01:19:21Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jmaher@mozilla.com"}, {"removed": "[stockwell needswork:owner]", "field_name": "whiteboard", "added": "[stockwell fixed:product]"}], "who": "jmaher@mozilla.com", "when": "2018-05-28T10:30:52Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "REOPENED"}, {"removed": "FIXED", "field_name": "resolution", "added": ""}], "who": "btara@mozilla.com", "when": "2018-06-06T20:56:12Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "btara@mozilla.com"}, {"removed": "[stockwell fixed:product]", "field_name": "whiteboard", "added": ""}, {"removed": "fixed", "field_name": "cf_status_firefox62", "added": "---"}], "who": "btara@mozilla.com", "when": "2018-06-06T21:00:58Z"}, {"changes": [{"removed": "REOPENED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "2018-05-25 17:53:19", "field_name": "cf_last_resolved", "added": "2018-06-06 21:06:17"}, {"removed": "---", "field_name": "cf_status_firefox62", "added": "fixed"}], "who": "bugmail@mozilla.staktrace.com", "when": "2018-06-06T21:06:17Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(btara@mozilla.com)"}], "who": "bugmail@mozilla.staktrace.com", "when": "2018-06-06T21:08:27Z"}, {"changes": [{"removed": "needinfo?(btara@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "bugmail@mozilla.staktrace.com", "when": "2018-06-06T21:10:07Z"}], "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "cf_blocking_fennec": "---"}