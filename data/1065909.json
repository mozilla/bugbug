{"cf_tracking_thunderbird_esr52": "---", "status": "VERIFIED", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "sdna.muneaki.nishimura@gmail.com", "mentors_detail": [], "depends_on": [1063281, 1066190, 1125503], "cf_status_firefox33": "wontfix", "cf_status_firefox_esr60": "---", "cf_status_firefox35": "wontfix", "cf_status_firefox36": "verified", "cf_status_firefox37": "verified", "cf_user_story": "", "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "mmc@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(mmc@mozilla.com)"}], "who": "benjamin@smedbergs.us", "when": "2014-09-11T13:29:40Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cviecco@mozilla.com, dkeeler@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(dkeeler@mozilla.com), needinfo?(cviecco@mozilla.com)"}], "who": "mmc.bugzilla@gmail.com", "when": "2014-09-11T14:58:05Z"}, {"changes": [{"removed": "", "field_name": "whiteboard", "added": "[reporter-external]"}, {"removed": "", "field_name": "flagtypes.name", "added": "sec-bounty?"}], "who": "curtisk@mozilla.com", "when": "2014-09-11T15:42:09Z"}, {"changes": [{"removed": "", "field_name": "see_also", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=134402"}, {"removed": "needinfo?(dkeeler@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "dkeeler@mozilla.com", "when": "2014-09-11T16:41:15Z"}, {"changes": [{"removed": "Untriaged", "field_name": "component", "added": "Security: PSM"}, {"removed": "35 Branch", "field_name": "version", "added": "unspecified"}, {"removed": "Firefox", "field_name": "product", "added": "Core"}], "who": "dkeeler@mozilla.com", "when": "2014-09-11T16:45:01Z"}, {"changes": [{"removed": "x86_64", "field_name": "platform", "added": "All"}, {"removed": "Windows 7", "field_name": "op_sys", "added": "All"}], "who": "dkeeler@mozilla.com", "when": "2014-09-11T16:45:10Z"}, {"changes": [{"removed": "needinfo?(cviecco@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "cviecco@gmail.com", "when": "2014-09-11T16:52:38Z"}, {"changes": [{"removed": "needinfo?(mmc@mozilla.com)", "field_name": "flagtypes.name", "added": ""}], "who": "mmc.bugzilla@gmail.com", "when": "2014-09-11T17:11:36Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1066190"}], "who": "mmc.bugzilla@gmail.com", "when": "2014-09-11T20:59:41Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "rlb@ipv.sx"}], "who": "mmc.bugzilla@gmail.com", "when": "2014-09-12T18:30:22Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "sec-moderate"}], "who": "dveditz@mozilla.com", "when": "2014-09-16T17:29:44Z"}, {"changes": [{"removed": "UNCONFIRMED", "field_name": "status", "added": "NEW"}, {"removed": "0", "field_name": "is_confirmed", "added": "1"}], "who": "dveditz@mozilla.com", "when": "2014-09-29T20:34:52Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "cviecco@mozilla.com"}], "who": "cviecco@gmail.com", "when": "2014-10-02T16:50:24Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8499147, "added": "feedback?(dkeeler@mozilla.com)"}], "who": "cviecco@gmail.com", "when": "2014-10-02T20:52:13Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "feedback?(dkeeler@mozilla.com)", "attachment_id": 8499147, "added": "feedback-"}], "who": "dkeeler@mozilla.com", "when": "2014-10-06T23:36:02Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "brian@briansmith.org"}], "who": "brian@briansmith.org", "when": "2014-10-07T01:16:19Z"}, {"changes": [{"removed": "HPKP can be bypassed with extra dot in hostname", "field_name": "summary", "added": "HPKP and HSTS can be bypassed with extra dot in hostname"}], "who": "dveditz@mozilla.com", "when": "2014-10-19T18:41:43Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "MIKE@MICHAELRUDDY.COM"}], "who": "dveditz@mozilla.com", "when": "2014-10-19T18:46:38Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "dveditz@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(dveditz@mozilla.com)"}], "who": "brian@briansmith.org", "when": "2014-10-23T07:46:42Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "jjones@mozilla.com"}, {"removed": "", "field_name": "depends_on", "added": "1063281"}, {"removed": "cviecco@gmail.com", "field_name": "assigned_to", "added": "dkeeler@mozilla.com"}, {"removed": "needinfo?(dveditz@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"removed": "---", "field_name": "cf_status_firefox33", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_firefox34", "added": "affected"}, {"removed": "---", "field_name": "cf_tracking_firefox35", "added": "+"}, {"removed": "---", "field_name": "cf_status_firefox35", "added": "affected"}, {"removed": "---", "field_name": "cf_tracking_firefox36", "added": "+"}, {"removed": "---", "field_name": "cf_status_firefox36", "added": "affected"}], "who": "dveditz@mozilla.com", "when": "2014-10-24T05:21:21Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "sworkman@mozilla.com"}], "who": "mmc.bugzilla@gmail.com", "when": "2014-10-31T00:23:39Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(dveditz@mozilla.com)"}], "who": "lukasblakk+bugs@gmail.com", "when": "2014-12-24T00:59:36Z"}, {"changes": [{"removed": "needinfo?(dveditz@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"removed": "affected", "field_name": "cf_status_firefox34", "added": "wontfix"}, {"removed": "+", "field_name": "cf_tracking_firefox35", "added": "-"}, {"removed": "---", "field_name": "cf_tracking_firefox37", "added": "+"}, {"removed": "---", "field_name": "cf_status_firefox37", "added": "affected"}, {"removed": "---", "field_name": "cf_status_firefox_esr31", "added": "wontfix"}], "who": "dveditz@mozilla.com", "when": "2015-01-05T19:47:36Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox35", "added": "wontfix"}], "who": "lukasblakk+bugs@gmail.com", "when": "2015-01-05T19:49:27Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8499036, "added": "1"}, {"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8499147, "added": "1"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8544901, "added": "review?(mmc@mozilla.com)"}], "who": "dkeeler@mozilla.com", "when": "2015-01-07T00:43:45Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "review?(mmc@mozilla.com)", "attachment_id": 8544901, "added": "review+"}], "who": "mmc.bugzilla@gmail.com", "when": "2015-01-07T17:06:25Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "cc", "added": "cbook@mozilla.com"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "mozilla37"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2015-01-12 05:00:44"}, {"removed": "affected", "field_name": "cf_status_firefox37", "added": "fixed"}], "who": "cbook@mozilla.com", "when": "2015-01-12T13:00:44Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "abillings@mozilla.com"}, {"removed": "sec-bounty?", "field_name": "flagtypes.name", "added": "sec-bounty+"}], "who": "abillings@mozilla.com", "when": "2015-01-12T21:09:39Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "sledru@mozilla.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(dkeeler@mozilla.com)"}], "who": "sledru@mozilla.com", "when": "2015-01-13T16:08:07Z"}, {"changes": [{"removed": "needinfo?(dkeeler@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8548366, "added": "review+, approval-mozilla-beta?"}], "who": "dkeeler@mozilla.com", "when": "2015-01-13T19:22:27Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-beta?", "attachment_id": 8548366, "added": "approval-mozilla-beta+"}], "who": "abillings@mozilla.com", "when": "2015-01-13T23:20:57Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(dkeeler@mozilla.com)"}, {"removed": "affected", "field_name": "cf_status_firefox36", "added": "fixed"}, {"removed": "---", "field_name": "cf_status_b2g_1_4", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_b2g_2_0", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_b2g_2_0m", "added": "wontfix"}, {"removed": "---", "field_name": "cf_status_b2g_2_1", "added": "affected"}, {"removed": "---", "field_name": "cf_status_b2g_2_2", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2015-01-14T15:21:04Z"}, {"changes": [{"removed": "needinfo?(dkeeler@mozilla.com)", "field_name": "flagtypes.name", "added": ""}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8549282, "added": "review+, approval-mozilla-b2g34?"}], "who": "dkeeler@mozilla.com", "when": "2015-01-15T00:50:25Z"}, {"changes": [{"removed": "brian@briansmith.org", "field_name": "cc", "added": ""}], "who": "brian@briansmith.org", "when": "2015-01-15T01:07:40Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-b2g34?", "attachment_id": 8549282, "added": "approval-mozilla-b2g34+"}], "who": "bajaj.bhavana@gmail.com", "when": "2015-01-15T17:28:02Z"}, {"changes": [{"removed": "", "field_name": "flagtypes.name", "added": "in-testsuite+"}, {"removed": "affected", "field_name": "cf_status_b2g_2_1", "added": "fixed"}], "who": "ryanvm@gmail.com", "when": "2015-01-15T21:40:56Z"}, {"changes": [{"removed": "", "field_name": "depends_on", "added": "1125503"}], "who": "dkeeler@mozilla.com", "when": "2015-01-26T23:31:50Z"}, {"changes": [{"removed": "[reporter-external]", "field_name": "whiteboard", "added": "[reporter-external][adv-main36+]"}], "who": "abillings@mozilla.com", "when": "2015-02-18T02:03:32Z"}, {"changes": [{"removed": "", "field_name": "alias", "added": "CVE-2015-0832"}], "who": "abillings@mozilla.com", "when": "2015-02-19T00:54:32Z"}, {"changes": [{"removed": "RESOLVED", "field_name": "status", "added": "VERIFIED"}, {"removed": "", "field_name": "cc", "added": "mwobensmith@mozilla.com"}, {"removed": "fixed", "field_name": "cf_status_firefox36", "added": "verified"}, {"removed": "fixed", "field_name": "cf_status_firefox37", "added": "verified"}], "who": "mwobensmith@mozilla.com", "when": "2015-02-19T18:48:38Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mark@wolfbeast.com"}], "who": "dveditz@mozilla.com", "when": "2015-02-25T23:58:39Z"}, {"changes": [{"removed": "[reporter-external][adv-main36+]", "field_name": "whiteboard", "added": "[reporter-external][adv-main36+][b2g-adv-main2.2+]"}], "who": "cr@mozilla.com", "when": "2015-06-25T17:41:43Z"}, {"changes": [{"removed": "core-security", "field_name": "groups", "added": "core-security-release"}], "who": "automation@bmo.tld", "when": "2015-09-02T06:58:52Z"}, {"changes": [{"removed": "core-security-release", "field_name": "groups", "added": ""}], "who": "dveditz@mozilla.com", "when": "2015-09-09T23:32:24Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "edangtin01@gmail.com"}], "who": "edangtin01@gmail.com", "when": "2017-10-24T09:38:54Z"}], "cf_tracking_firefox_relnote": "---", "comments": [{"text": "User Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/37.0.2062.103 Safari/537.36\n\nSteps to reproduce:\n\n1. Set \"security.cert_pinning.enforcement_level\" = \"2\" (strict-mode) on about:config.\n1. Enable \"Fiddler Web Debugger\" with \"Decrypt HTTPS traffic\" option.\n2. Install Fiddler's root certificate on Firefox.\n2. Launch https://play.google.com./ (hostname with extra dot)\n\n\nActual results:\n\nGoogle Play is shown on Firefox even though the host is protected with HPKP.\n\n\n\nExpected results:\n\nSecure Connection Failed error screen needs to be shown instead of Google Play in strict-mode.", "author": "sdna.muneaki.nishimura@gmail.com", "id": 9298139, "time": "2014-09-11T08:47:11Z"}, {"text": "One of us will look today. The most likely explanation is that Fiddler's root cert is signed by one of the 70 root pems that Google is pinned to (Chrome pins to 2 intermediates but they don't trust us to do the same, because they don't control our release cycle).", "author": "mmc.bugzilla@gmail.com", "id": 9299599, "time": "2014-09-11T14:58:05Z"}, {"text": "See also bug 134402. It does seem bad that if a CA were convinced to issue a certificate for 'play.google.com.', that would essentially bypass pinning. For the purposes of pinning we should probably treat 'play.google.com.' as equivalent to 'play.google.com'.", "author": "dkeeler@mozilla.com", "id": 9300151, "time": "2014-09-11T16:41:15Z"}, {"text": "Seems like a legit bug. We will need to update the pinning logic to ignore any number of traling '.'", "author": "cviecco@gmail.com", "id": 9300218, "time": "2014-09-11T16:52:38Z"}, {"text": "Who will own the fix for this?", "author": "mmc.bugzilla@gmail.com", "id": 9305889, "time": "2014-09-12T18:30:22Z"}, {"text": "Calling this sec-moderate because it's not a direct attack on Firefox but bypassing a second line of defense against compromised CAs.", "author": "dveditz@mozilla.com", "id": 9318038, "time": "2014-09-16T17:29:44Z"}, {"text": "Not only HPKP but also HSTS can be bypassed by same way.\n\nFor instance, 'stationary-traveller.eu' is one of preloading HSTS entry but Firefox connects there through HTTP when you put extra dot after hostname like below.\n\nhttp://stationary-traveller.eu./", "author": "sdna.muneaki.nishimura@gmail.com", "id": 9321346, "time": "2014-09-17T07:04:46Z"}, {"text": "The fundamental issue is that we treat \"example.com\" as a different origin than \"example.com.\" -- that's true for most things, cookies, permissions, HSTS, cert matching.\n\nFor HPKP the fraudulent MITM cert would have to contain the form with the dot, but since it's fraudulent cert that might be a simple matter for the attacker to arrange. Hopefully it would raise eyebrows at the CA issuing that cert, but probably wouldn't if it were one of a number of names.\n\nFor HSTS that's a second valid attack, but thankfully you shouldn't get any cookies that way. But of course the user might log in that way if the HSTS-using site doesn't redirect all their http traffic back to TLS.", "author": "dveditz@mozilla.com", "id": 9376622, "time": "2014-09-29T20:34:52Z"}, {"text": "Created attachment 8499036\nnormalization-hostname-tests\n\nThis patch illustrates the issue of normalization in general.", "author": "cviecco@gmail.com", "id": 9395438, "time": "2014-10-02T18:17:22Z"}, {"text": "Created attachment 8499147\nnormalize-hostname-certverify\n\nSo this solves the issue by normalizing the hostname within certverifier. Are there any issues that I missed (or created) by doing this? This still leaves hsts affected. (and I am not taking care of the foobar.com.. case).", "author": "cviecco@gmail.com", "id": 9396287, "time": "2014-10-02T20:52:13Z"}, {"text": "Comment on attachment 8499147\nnormalize-hostname-certverify\n\nReview of attachment 8499147:\n-----------------------------------------------------------------\n\nI'm not sure this is the best way to approach this. For one, we have a similar issue with HSTS. It would be nice to have a solution that covers both cases at the same time. I'm not sure what that would be, however. Maybe the normalization should be done in nsISiteSecurityService?", "author": "dkeeler@mozilla.com", "id": 9410370, "time": "2014-10-06T23:36:02Z"}, {"text": "I have created some primitives in bug 1063281 for comparing names safely and correctly. See PresentedDNSIDMatchesReferenceDNSID, in particular, which handles trailing dots automatically and correctly. With a little bit of refactoring of that code, we could create a general hostname comparison function that works correctly. I think that is a good long-term solution. We could rework those patches to be acceptable for uplifting, by simply not uplifting the patch that switches Gecko from using CERT_VerifyCertName to CheckCertHostname.\n\nThere is another issue that should be considered: Should unqualified names (e.g. \"mail\") and/or IP addresses (e.g. 192.168.0.1) be able to be HSTS or have pinned keys? I think the answer is clearly \"nope, we shouldn't do that\" because those names are ambiguous and key pinning and HSTS would be highly problematic for them. I think for HSTS we made an ad-hoc solution that prevented the IP address case. But, again using the primitives in bug 1063281, we can easily create a function that is used by both HSTS and the key pinning code to ensure they are kept in sync.\n\nConsequently, I suggest that we solve this problem on top of the Patches 1-5 of bug 1063281.", "author": "brian@briansmith.org", "id": 9410780, "time": "2014-10-07T01:16:19Z"}, {"text": "*** Bug 1085091 has been marked as a duplicate of this bug. ***", "author": "dveditz@mozilla.com", "id": 9467300, "time": "2014-10-19T18:46:38Z"}, {"text": "Can we get a new assignee for this bug and decide on a Firefox release in which it will be fixed? The PresentedDNSIDMatchesReferenceDNSID function has now been r+d in bug 1063281 and I'll check it in as soon as I verify it passes tryserver.", "author": "brian@briansmith.org", "id": 9489537, "time": "2014-10-23T07:46:42Z"}, {"text": "Try Keeler since he's looked at the patches, but maybe JC would like to take this one.", "author": "dveditz@mozilla.com", "id": 9495102, "time": "2014-10-24T05:21:21Z"}, {"text": "Dan - Keeler is on vacation and we're a couple weeks from shipping FF35 - what's your thinking here for this one? Can we wontfix for 35 and get more attention on it for 36 or is there another assignee available to get something ready for Monday's final desktop beta?", "author": "lukasblakk+bugs@gmail.com", "id": 9729665, "time": "2014-12-24T00:59:36Z"}, {"text": "Wait for Keeler and fix it in 36. We don't want to uplift bug 1063281 (or backport to ESR31) and it's not severe enough to warrant a one-release hacky band-aide for Fx35.", "author": "dveditz@mozilla.com", "id": 9753695, "time": "2015-01-05T19:47:36Z"}, {"text": "Created attachment 8544901\npatch\n\nThis canonicalizes hostnames in nsSiteSecurityService and PublicKeyPinningService by converting to lower-case and removing any trailing '.' (there may be more than one - see bug 1118522) (actually, converting to lower-case may not be necessary - it appears that that already happens before these checks). This patch would probably be simpler after bug 1102589, but it's probably more important to get this fixed first (also, this way will be easier to uplift).", "author": "dkeeler@mozilla.com", "id": 9760774, "time": "2015-01-07T00:43:45Z"}, {"text": "Comment on attachment 8544901\npatch\n\nReview of attachment 8544901:\n-----------------------------------------------------------------\n\nThanks for including the tests. Are we abandoning the approach in comment 12?\n\n::: security/manager/boot/src/PublicKeyPinningService.h\n@@ +42,5 @@\n> +  /**\n> +   * Given a hostname of indeterminate case with potentially two trailing\n> +   * '.', canonicalizes it to lowercase with no trailing '.'.\n> +   */\n> +  static void CanonicalizeHostname(nsACString& hostname);\n\nIt probably makes more sense for this to not mutate the input and return a copy given the way you are calling it.\n\n::: security/manager/ssl/tests/unit/test_pinning.js\n@@ +49,5 @@\n>  \n> +  // Check that using a FQDN doesn't bypass pinning.\n> +  add_connection_test(\"bad.include-subdomains.pinning.example.com.\",\n> +    getXPCOMStatusFromNSS(MOZILLA_PKIX_ERROR_KEY_PINNING_FAILURE));\n> +  // For some reason this is also navigable.\n\nBtw, I couldn't reproduce this before on a current nightly, I get \"Server not found\". It's fine to include in the test though.", "author": "mmc.bugzilla@gmail.com", "id": 9763866, "time": "2015-01-07T17:06:25Z"}, {"text": "(In reply to [:mmc] Monica Chew (please use needinfo) from comment #19)\n\n> Btw, I couldn't reproduce this before on a current nightly, I get \"Server\n> not found\". It's fine to include in the test though.\n\nThat is, I get server not found for \"example.com..\"", "author": "mmc.bugzilla@gmail.com", "id": 9763990, "time": "2015-01-07T17:32:59Z"}, {"text": "Huh - maybe that's linux-specific.", "author": "dkeeler@mozilla.com", "id": 9764277, "time": "2015-01-07T18:33:20Z"}, {"text": "Thanks for the quick review!\n\n(In reply to [:mmc] Monica Chew (please use needinfo) from comment #19)\n> Thanks for including the tests. Are we abandoning the approach in comment 12?\n\nThe functionality mentioned in comment 12 provides a way to compare two hostnames. Since HSTS/HPKP information is stored using an off-the-shelf hash table, this doesn't really help us. What we need is a way of canonically representing hostnames when converting them to storage keys, which is what attachment 8544901 implements. \n\n> ::: security/manager/boot/src/PublicKeyPinningService.h\n> @@ +42,5 @@\n> > +  /**\n> > +   * Given a hostname of indeterminate case with potentially two trailing\n> > +   * '.', canonicalizes it to lowercase with no trailing '.'.\n> > +   */\n> > +  static void CanonicalizeHostname(nsACString& hostname);\n> \n> It probably makes more sense for this to not mutate the input and return a\n> copy given the way you are calling it.\n\nGood call - I changed how that works.", "author": "dkeeler@mozilla.com", "id": 9764583, "time": "2015-01-07T19:21:53Z"}, {"text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=6b50babd5975", "author": "dkeeler@mozilla.com", "id": 9770803, "time": "2015-01-08T21:50:17Z"}, {"text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/f0cd9e9e87aa", "author": "dkeeler@mozilla.com", "id": 9776210, "time": "2015-01-09T21:06:41Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/f0cd9e9e87aa", "author": "cbook@mozilla.com", "id": 9781378, "time": "2015-01-12T13:00:44Z"}, {"text": "David, could you fill the uplift request for 36 (currently beta) and 37 (aurora)? Thanks", "author": "sledru@mozilla.com", "id": 9787959, "time": "2015-01-13T16:08:07Z"}, {"text": "Created attachment 8548366\npatch for beta\n\nLooks like this got fixed in 37, so we're already covered for aurora.\n\nApproval Request Comment\n[Feature/regressing bug #]: key pinning and HSTS\n[User impact if declined]: key pinning and HSTS won't be nearly as effective at protecting our uses from MITM attacks\n[Describe test coverage new/current, TBPL]: has tests, including new ones\n[Risks and why]: low - the only issue I can think of is a slight performance hit since we're doing a bit more string allocation/manipulation\n[String/UUID change made/needed]: none", "author": "dkeeler@mozilla.com", "id": 9789128, "time": "2015-01-13T19:22:27Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-beta/rev/82cce51fb174\n\nIs this worth nominating for b2g34 (v2.1) uplift?", "author": "ryanvm@gmail.com", "id": 9793526, "time": "2015-01-14T15:21:04Z"}, {"text": "Created attachment 8549282\npatch for b2g34\n\nThis required some branch-specific changes, but not many, so I figured I might as well ask. I think this is a low-risk patch and it fixes a hole in a fairly important feature.\n\nNOTE: Please see https://wiki.mozilla.org/Release_Management/B2G_Landing to better understand the B2G approval process and landings.\n\n[Approval Request Comment]\nBug caused by (feature/regressing bug #): key pinning/HSTS\nUser impact if declined: key pinning and HSTS won't be nearly as effective at protecting our uses from MITM attacks\nTesting completed: has platform tests\nRisk to taking this patch (and alternatives if risky): low - doesn't seem to have caused any problems on other branches\nString or UUID changes made by this patch: none", "author": "dkeeler@mozilla.com", "id": 9796559, "time": "2015-01-15T00:50:25Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-b2g34_v2_1/rev/bacd744d5ac2", "author": "ryanvm@gmail.com", "id": 9801362, "time": "2015-01-15T21:40:56Z"}, {"text": "Verified fixed using Fiddler and the steps outlined in the bug description.", "author": "mwobensmith@mozilla.com", "id": 9936717, "time": "2015-02-19T18:48:38Z"}, {"text": "*** Bug 774769 has been marked as a duplicate of this bug. ***", "author": "cykesiopka.bmo@gmail.com", "id": 10725966, "time": "2015-09-14T00:53:38Z"}, {"text": "Not only HPKP but also HSTS can be bypassed by same way.\n\nFor instance, 'stationary-traveller.eu' is one of preloading HSTS entry but Firefox connects there through HTTP when you put extra dot after hostname like below.\n\n\nhttps://blogcachchoi.com/", "author": "edangtin01@gmail.com", "id": 12784924, "time": "2017-10-24T09:38:54Z"}], "keywords": ["sec-moderate"], "cf_tracking_firefox36": "+", "cf_fx_iteration": "---", "summary": "HPKP and HSTS can be bypassed with extra dot in hostname", "cf_last_resolved": "2015-01-12T13:00:44Z", "attachments": [{"creator": "cviecco@gmail.com", "is_obsolete": 1, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8499036}, {"creator": "cviecco@gmail.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "-", "name": "feedback", "modification_date": "2014-10-06T23:36:02Z", "type_id": 607, "creation_date": "2014-10-02T20:52:13Z", "id": 994526, "setter": "dkeeler@mozilla.com"}], "content_type": "text/plain", "id": 8499147}, {"creator": "dkeeler@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-01-07T17:06:25Z", "type_id": 4, "creation_date": "2015-01-07T00:43:45Z", "id": 1067560, "setter": "mmc.bugzilla@gmail.com"}], "content_type": "text/plain", "id": 8544901}, {"creator": "dkeeler@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-01-13T19:22:27Z", "type_id": 4, "creation_date": "2015-01-13T19:22:27Z", "id": 1073075, "setter": "dkeeler@mozilla.com"}, {"status": "+", "name": "approval-mozilla-beta", "modification_date": "2015-01-13T23:20:57Z", "type_id": 721, "creation_date": "2015-01-13T19:22:27Z", "id": 1073076, "setter": "abillings@mozilla.com"}], "content_type": "text/plain", "id": 8548366}, {"creator": "dkeeler@mozilla.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2015-01-15T00:50:25Z", "type_id": 4, "creation_date": "2015-01-15T00:50:25Z", "id": 1074494, "setter": "dkeeler@mozilla.com"}, {"status": "+", "name": "approval-mozilla-b2g34", "modification_date": "2015-01-15T17:28:02Z", "type_id": 870, "creation_date": "2015-01-15T00:50:25Z", "id": 1074495, "setter": "bajaj.bhavana@gmail.com"}], "content_type": "text/plain", "id": 8549282}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cc_detail": [{"email": "abillings@mozilla.com", "id": 280903, "name": "abillings@mozilla.com", "real_name": "Al Billings [:abillings]"}, {"email": "cbook@mozilla.com", "id": 277293, "name": "cbook@mozilla.com", "real_name": "Carsten Book [:Tomcat]"}, {"email": "cviecco@gmail.com", "id": 433899, "name": "cviecco@gmail.com", "real_name": "Camilo Viecco (:cviecco)"}, {"email": "dkeeler@mozilla.com", "id": 349244, "name": "dkeeler@mozilla.com", "real_name": "[:keeler] (use needinfo)"}, {"email": "dveditz@mozilla.com", "id": 1689, "name": "dveditz@mozilla.com", "real_name": "Daniel Veditz [:dveditz]"}, {"email": "edangtin01@gmail.com", "id": 604538, "name": "edangtin01@gmail.com", "real_name": ""}, {"email": "jjones@mozilla.com", "id": 520206, "name": "jjones@mozilla.com", "real_name": "J.C. Jones [:jcj] (Leave between 24 Jun - 17 Aug)"}, {"email": "mark@wolfbeast.com", "id": 364942, "name": "mark@wolfbeast.com", "real_name": "Mark Straver"}, {"email": "mmc.bugzilla@gmail.com", "id": 237291, "name": "mmc.bugzilla@gmail.com", "real_name": "[:mmc] Monica Chew (no longer reading bugmail)"}, {"email": "mwobensmith@mozilla.com", "id": 452604, "name": "mwobensmith@mozilla.com", "real_name": "Matt Wobensmith [:mwobensmith][:matt:]"}, {"email": "rlb@ipv.sx", "id": 373085, "name": "rlb@ipv.sx", "real_name": "Richard Barnes [:rbarnes]"}, {"email": "sjhworkman@gmail.com", "id": 422298, "name": "sjhworkman@gmail.com", "real_name": "Steve Workman [:sworkman] (INACTIVE)"}, {"email": "sledru@mozilla.com", "id": 495955, "name": "sledru@mozilla.com", "real_name": "Sylvestre Ledru [:sylvestre]"}, {"email": "u520957@disabled.tld", "id": 520957, "name": "u520957@disabled.tld", "real_name": ""}], "cf_has_regression_range": "---", "comment_count": 34, "cf_has_str": "---", "id": 1065909, "priority": "--", "cc": ["abillings@mozilla.com", "cbook@mozilla.com", "cviecco@gmail.com", "dkeeler@mozilla.com", "dveditz@mozilla.com", "edangtin01@gmail.com", "jjones@mozilla.com", "mark@wolfbeast.com", "mmc.bugzilla@gmail.com", "mwobensmith@mozilla.com", "rlb@ipv.sx", "sjhworkman@gmail.com", "sledru@mozilla.com", "u520957@disabled.tld"], "cf_crash_signature": "", "version": "unspecified", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=134402"], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_status_b2g_2_0m": "wontfix", "blocks": [], "qa_contact": "", "cf_tracking_firefox37": "+", "creation_time": "2014-09-11T08:47:11Z", "cf_tracking_firefox35": "-", "cf_status_firefox_esr52": "---", "component": "Security: PSM", "assigned_to_detail": {"email": "dkeeler@mozilla.com", "id": 349244, "name": "dkeeler@mozilla.com", "real_name": "[:keeler] (use needinfo)"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox_esr31": "wontfix", "cf_status_firefox34": "wontfix", "cf_status_firefox62": "---", "cf_status_firefox61": "---", "cf_status_firefox60": "---", "target_milestone": "mozilla37", "cf_rank": null, "platform": "All", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "cf_status_b2g_1_4": "wontfix", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "sdna.muneaki.nishimura@gmail.com", "id": 507051, "name": "sdna.muneaki.nishimura@gmail.com", "real_name": "Muneaki Nishimura"}, "whiteboard": "[reporter-external][adv-main36+][b2g-adv-main2.2+]", "cf_status_b2g_2_1": "fixed", "cf_status_b2g_2_0": "wontfix", "cf_status_b2g_2_2": "fixed", "alias": "CVE-2015-0832", "dupe_of": null, "flags": [{"status": "+", "name": "sec-bounty", "modification_date": "2015-01-12T21:09:39Z", "type_id": 803, "creation_date": "2014-09-11T15:42:09Z", "id": 975565, "setter": "abillings@mozilla.com"}, {"status": "+", "name": "in-testsuite", "modification_date": "2015-01-15T21:40:56Z", "type_id": 37, "creation_date": "2015-01-15T21:40:56Z", "id": 1075464, "setter": "ryanvm@gmail.com"}], "last_change_time": "2017-10-24T09:38:54Z", "assigned_to": "dkeeler@mozilla.com", "is_open": false, "cf_qa_whiteboard": "", "mentors": [], "resolution": "FIXED", "op_sys": "All", "cf_fx_points": "---", "cf_blocking_fennec": "---"}