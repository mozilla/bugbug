{"status": "RESOLVED", "cf_tracking_firefox60": "---", "attachments": [{"creator": "mozilla@kaply.com", "is_obsolete": 1, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-03-07T21:09:47Z", "type_id": 748, "creation_date": "2016-03-07T21:09:47Z", "id": 1355347, "setter": "mconnor@mozilla.com"}], "content_type": "text/plain", "id": 8727571}, {"creator": "mozilla@kaply.com", "is_obsolete": 0, "is_patch": 1, "flags": [{"status": "+", "name": "review", "modification_date": "2016-03-07T22:12:21Z", "type_id": 748, "creation_date": "2016-03-07T22:12:21Z", "id": 1355392, "setter": "mozilla@kaply.com"}, {"status": "+", "name": "approval-mozilla-aurora", "modification_date": "2016-03-09T19:38:56Z", "type_id": 720, "creation_date": "2016-03-08T23:28:45Z", "id": 1356282, "setter": "rkothari@mozilla.com"}], "content_type": "text/plain", "id": 8727605}, {"creator": "mozilla@kaply.com", "is_obsolete": 0, "is_patch": 1, "flags": [], "content_type": "text/plain", "id": 8728992}], "classification": "Client Software", "creator": "mozilla@kaply.com", "cc": ["cbook@mozilla.com", "kwierso@gmail.com", "mozilla@kaply.com"], "depends_on": [], "creation_time": "2016-03-07T20:58:43Z", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "cf_status_firefox58": "---", "cf_status_firefox59": "---", "keywords": ["regression"], "summary": "Regression: distribution setting user prefs instead of default prefs", "id": 1254268, "assigned_to_detail": {"email": "mozilla@kaply.com", "id": 7313, "name": "mozilla@kaply.com", "real_name": "Mike Kaply [:mkaply]"}, "severity": "normal", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "assigned_to": "mozilla@kaply.com", "comment_count": 13, "comments": [{"text": "Created attachment 8727571\nProper fix\n\nCaused by my checkin for bug 1252466.\n\nI put Preferences.set instead of default.set", "author": "mozilla@kaply.com", "id": 11225295, "time": "2016-03-07T20:58:43Z"}, {"text": "Comment on attachment 8727571\nProper fix\n\nr=me, as long as you fix the appropriate tests in http://mxr.mozilla.org/mozilla-central/source/browser/components/tests/unit/test_distribution.js to look for default values, rather than user values.", "author": "mconnor@mozilla.com", "id": 11225350, "time": "2016-03-07T21:09:47Z"}, {"text": "(In reply to Mike Connor [:mconnor] from comment #1)\n> r=me, as long as you fix the appropriate tests in\n> http://mxr.mozilla.org/mozilla-central/source/browser/components/tests/unit/\n> test_distribution.js to look for default values, rather than user values.\n\nBrilliant. And had I done that in the first place, it would have caught this.", "author": "mozilla@kaply.com", "id": 11225360, "time": "2016-03-07T21:14:26Z"}, {"text": "Created attachment 8727605\nPatch with tests corrected\n\nCarrying over mconnnor r=", "author": "mozilla@kaply.com", "id": 11225621, "time": "2016-03-07T22:12:21Z"}, {"text": "https://hg.mozilla.org/integration/fx-team/rev/e330626de260b21a6ea62d741131d04715ef39a1\nBug 1254268 - Distribution should use default prefs, regression from 1252466; r=mconnor", "author": "mozilla@kaply.com", "id": 11227817, "time": "2016-03-08T15:39:52Z"}, {"text": "https://hg.mozilla.org/mozilla-central/rev/e330626de260", "author": "kwierso@gmail.com", "id": 11229769, "time": "2016-03-08T23:03:00Z"}, {"text": "Comment on attachment 8727605\nPatch with tests corrected\n\nApproval Request Comment\n[Feature/regressing bug #]: 1252466\n[User impact if declined]: Distribution prefs set incorrectly.\n[Describe test coverage new/current, TreeHerder]: Testcases updated for this case\n[Risks and why]: Low. Only affects distributions. Restores old behavior.\n[String/UUID change made/needed]: None", "author": "mozilla@kaply.com", "id": 11229874, "time": "2016-03-08T23:28:45Z"}, {"text": "Comment on attachment 8727605\nPatch with tests corrected\n\nHas automated tests, taking it.", "author": "rkothari@mozilla.com", "id": 11232916, "time": "2016-03-09T19:38:56Z"}, {"text": "has problems with uplift to aurora\n\nTomcats-MacBook-Pro-2:mozilla-central Tomcat$ hg graft --edit -r e330626de260\ngrafting 332418:e330626de260 \"Bug 1254268 - Distribution should use default prefs, regression from 1252466; r=mconnor\"\nmerging browser/components/tests/unit/test_distribution.js\nwarning: conflicts while merging browser/components/tests/unit/test_distribution.js! (edit, then use 'hg resolve --mark')\nabort: unresolved conflicts, can't continue\n(use hg resolve and hg graft --continue)", "author": "cbook@mozilla.com", "id": 11234723, "time": "2016-03-10T08:35:06Z"}, {"text": "That's weird. I'll figure out what's going on and put a new patch together.", "author": "mozilla@kaply.com", "id": 11235448, "time": "2016-03-10T13:29:09Z"}, {"text": "Created attachment 8728992\nPatch for Aurora\n\nI've built and tested this on Aurora.", "author": "mozilla@kaply.com", "id": 11235626, "time": "2016-03-10T14:30:06Z"}, {"text": "https://hg.mozilla.org/releases/mozilla-aurora/rev/c3bcee5d608c", "author": "kwierso@gmail.com", "id": 11244975, "time": "2016-03-14T18:48:06Z"}, {"text": "(In reply to Wes Kocher (:KWierso) from comment #11)\n> https://hg.mozilla.org/releases/mozilla-aurora/rev/c3bcee5d608c\n\nBah, I ended up as the patch author on that. Oops.", "author": "kwierso@gmail.com", "id": 11245077, "time": "2016-03-14T19:14:01Z"}], "cf_last_resolved": "2016-03-08T23:03:00Z", "priority": "--", "mentors_detail": [], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "cf_tracking_firefox59": "---", "last_change_time": "2016-03-14T19:14:01Z", "cf_platform_rel": "---", "product": "Firefox", "cf_status_firefox_esr52": "---", "blocks": [1252466], "qa_contact": "", "see_also": [], "cf_fx_iteration": "---", "component": "Distributions", "votes": 0, "cf_status_firefox48": "fixed", "groups": [], "cf_status_firefox60": "---", "target_milestone": "Firefox 48", "cf_status_firefox47": "fixed", "url": "", "creator_detail": {"email": "mozilla@kaply.com", "id": 7313, "name": "mozilla@kaply.com", "real_name": "Mike Kaply [:mkaply]"}, "whiteboard": "", "mentors": [], "cc_detail": [{"email": "cbook@mozilla.com", "id": 277293, "name": "cbook@mozilla.com", "real_name": "Carsten Book [:Tomcat]"}, {"email": "kwierso@gmail.com", "id": 308534, "name": "kwierso@gmail.com", "real_name": "Wes Kocher (:KWierso)"}, {"email": "mozilla@kaply.com", "id": 7313, "name": "mozilla@kaply.com", "real_name": "Mike Kaply [:mkaply]"}], "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "cf_tracking_firefox58": "---", "cf_rank": null, "is_open": false, "cf_qa_whiteboard": "", "resolution": "FIXED", "op_sys": "Unspecified", "cf_fx_points": "---", "history": [{"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "blocks", "added": "1252466"}], "who": "mozilla@kaply.com", "when": "2016-03-07T20:59:13Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8727571, "added": "review+"}], "who": "mconnor@mozilla.com", "when": "2016-03-07T21:09:47Z"}, {"changes": [{"field_name": "attachments.isobsolete", "removed": "0", "attachment_id": 8727571, "added": "1"}, {"field_name": "flagtypes.name", "removed": "", "attachment_id": 8727605, "added": "review+"}], "who": "mozilla@kaply.com", "when": "2016-03-07T22:12:21Z"}, {"changes": [{"removed": "NEW", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 48"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2016-03-08 15:03:00"}, {"removed": "---", "field_name": "cf_status_firefox48", "added": "fixed"}], "who": "kwierso@gmail.com", "when": "2016-03-08T23:03:00Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8727605, "added": "approval-mozilla-aurora?"}], "who": "mozilla@kaply.com", "when": "2016-03-08T23:28:45Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "approval-mozilla-aurora?", "attachment_id": 8727605, "added": "approval-mozilla-aurora+"}], "who": "rkothari@mozilla.com", "when": "2016-03-09T19:38:56Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "cbook@mozilla.com, mozilla@kaply.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(mozilla@kaply.com)"}], "who": "cbook@mozilla.com", "when": "2016-03-10T08:35:06Z"}, {"changes": [{"removed": "needinfo?(mozilla@kaply.com)", "field_name": "flagtypes.name", "added": ""}], "who": "mozilla@kaply.com", "when": "2016-03-10T13:29:09Z"}, {"changes": [{"removed": "affected", "field_name": "cf_status_firefox47", "added": "fixed"}], "who": "kwierso@gmail.com", "when": "2016-03-14T18:48:06Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "wkocher@mozilla.com"}], "who": "kwierso@gmail.com", "when": "2016-03-14T19:14:01Z"}]}