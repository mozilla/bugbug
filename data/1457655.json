{"cf_tracking_thunderbird_esr52": "---", "status": "NEW", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "---", "creator": "reuben.bmo@gmail.com", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "---", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "x86_64", "keywords": [], "cc_detail": [{"email": "jan@ikenmeyer.eu", "id": 580271, "name": "jan@ikenmeyer.eu", "real_name": "Jan Andre Ikenmeyer [:darkspirit]"}, {"email": "spohl.mozilla.bugs@gmail.com", "id": 456485, "name": "spohl.mozilla.bugs@gmail.com", "real_name": "Stephen A Pohl [:spohl]"}], "cf_last_resolved": null, "attachments": [], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 3, "comments": [{"text": "For the past couple of weeks I've been seeing intermittent flickering on the built-in display on my MacBook Pro (15-inch, 2017) running macOS 10.13.4 (17E199). Quitting Firefox causes it to stop right away.\n\nWhat's flickering is the whole LCD backlight, it covers the entire screen, including OS owned pixels like the menu bar and dock. I assume this is some bug in macOS that we're triggering somehow. It only seems to happen after a long session, over 12h.\n\nIt happens with and without WebRender enabled.\n\nWhat can I do to gather more information when it happens again?\n\nHere's my about:support text:\n\nApplication Basics\n------------------\n\nName: Firefox\nVersion: 61.0a1\nBuild ID: 20180427102245\nUpdate Channel: nightly\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.13; rv:60.0) Gecko/20100101 Firefox/60.0\nOS: Darwin 17.5.0\nMultiprocess Windows: 1/1 (Enabled by default)\nWeb Content Processes: 4/4\nEnterprise Policies: Inactive\nGoogle Key: Found\nMozilla Location Service Key: Found\nSafe Mode: false\n\nCrash Reports for the Last 3 Days\n---------------------------------\n\nAll Crash Reports     Nightly Features\n--------------------------------------\n\nName: Activity Stream\nVersion: 2018.04.26.0957-106c699e\nID: activity-stream@mozilla.org\n\nName: Application Update Service Helper\nVersion: 2.0\nID: aushelper@mozilla.org\n\nName: Firefox Screenshots\nVersion: 32.1.0\nID: screenshots@mozilla.org\n\nName: Follow-on Search Telemetry\nVersion: 0.9.7\nID: followonsearch@mozilla.com\n\nName: Form Autofill\nVersion: 1.0\nID: formautofill@mozilla.org\n\nName: Photon onboarding\nVersion: 1.0\nID: onboarding@mozilla.org\n\nName: Pocket\nVersion: 1.0.5\nID: firefox@getpocket.com\n\nName: Web Compat\nVersion: 1.1\nID: webcompat@mozilla.org\n\nName: WebCompat Reporter\nVersion: 1.0.0\nID: webcompat-reporter@mozilla.org\n\nExtensions\n----------\n\nName: Bloody Vikings!\nVersion: 0.9.4\nEnabled: true\nID: bloodyvikings@ffs.bplaced.net\n\nName: Firefox Multi-Account Containers\nVersion: 6.0.0\nEnabled: true\nID: @testpilot-containers\n\nName: GNOME Shell integration\nVersion: 10.1\nEnabled: true\nID: chrome-gnome-shell@gnome.org\n\nName: Google search link fix\nVersion: 1.6.7\nEnabled: true\nID: jid0-XWJxt5VvCXkKzQK99PhZqAn7Xbg@jetpack\n\nName: HTTPS Everywhere\nVersion: 2018.4.11\nEnabled: true\nID: https-everywhere@eff.org\n\nName: JavaScript Toggle On and Off\nVersion: 0.2.2\nEnabled: true\nID: {479f0278-2c34-4365-b9f0-1d328d0f0a40}\n\nName: MetaMask\nVersion: 3.13.8\nEnabled: true\nID: webextension@metamask.io\n\nName: Reddit Enhancement Suite\nVersion: 5.10.3\nEnabled: true\nID: jid1-xUfzOsOFlzSOXg@jetpack\n\nName: Secure Password Generator\nVersion: 1.0.8\nEnabled: true\nID: password.generator@kolya.ca\n\nName: Stylish - Custom themes for any website\nVersion: 3.0.5\nEnabled: true\nID: {46551EC9-40F0-4e47-8E18-8E5CF550CFB8}\n\nName: uBlock Origin\nVersion: 1.16.2\nEnabled: true\nID: uBlock0@raymondhill.net\n\nSecurity Software\n----------------- Type:\n\nType:\n\nType:\n\nGraphics\n--------\n\nFeatures\nCompositing: OpenGL\nAsynchronous Pan/Zoom: wheel input enabled; scrollbar drag enabled; keyboard enabled; autoscroll enabled\nWebGL 1 Driver WSI Info: CGL\nWebGL 1 Driver Renderer: ATI Technologies Inc. -- AMD Radeon Pro 560 OpenGL Engine\nWebGL 1 Driver Version: 4.1 ATI-1.66.31\nWebGL 1 Driver Extensions: GL_ARB_blend_func_extended GL_ARB_draw_buffers_blend GL_ARB_draw_indirect GL_ARB_ES2_compatibility GL_ARB_explicit_attrib_location GL_ARB_gpu_shader_fp64 GL_ARB_gpu_shader5 GL_ARB_instanced_arrays GL_ARB_internalformat_query GL_ARB_occlusion_query2 GL_ARB_sample_shading GL_ARB_sampler_objects GL_ARB_separate_shader_objects GL_ARB_shader_bit_encoding GL_ARB_shader_subroutine GL_ARB_shading_language_include GL_ARB_tessellation_shader GL_ARB_texture_buffer_object_rgb32 GL_ARB_texture_cube_map_array GL_ARB_texture_gather GL_ARB_texture_query_lod GL_ARB_texture_rgb10_a2ui GL_ARB_texture_storage GL_ARB_texture_swizzle GL_ARB_timer_query GL_ARB_transform_feedback2 GL_ARB_transform_feedback3 GL_ARB_vertex_attrib_64bit GL_ARB_vertex_type_2_10_10_10_rev GL_ARB_viewport_array GL_EXT_debug_label GL_EXT_debug_marker GL_EXT_depth_bounds_test GL_EXT_texture_compression_s3tc GL_EXT_texture_filter_anisotropic GL_EXT_texture_mirror_clamp GL_EXT_texture_sRGB_decode GL_APPLE_client_storage GL_APPLE_container_object_shareable GL_APPLE_flush_render GL_APPLE_object_purgeable GL_APPLE_rgb_422 GL_APPLE_row_bytes GL_APPLE_texture_range GL_ATI_texture_mirror_once GL_NV_texture_barrier\nWebGL 1 Extensions: ANGLE_instanced_arrays EXT_blend_minmax EXT_color_buffer_half_float EXT_frag_depth EXT_sRGB EXT_shader_texture_lod EXT_texture_filter_anisotropic EXT_disjoint_timer_query OES_element_index_uint OES_standard_derivatives OES_texture_float OES_texture_float_linear OES_texture_half_float OES_texture_half_float_linear OES_vertex_array_object WEBGL_color_buffer_float WEBGL_compressed_texture_s3tc WEBGL_compressed_texture_s3tc_srgb WEBGL_debug_renderer_info WEBGL_debug_shaders WEBGL_depth_texture WEBGL_draw_buffers WEBGL_lose_context\nWebGL 2 Driver WSI Info: CGL\nWebGL 2 Driver Renderer: ATI Technologies Inc. -- AMD Radeon Pro 560 OpenGL Engine\nWebGL 2 Driver Version: 4.1 ATI-1.66.31\nWebGL 2 Driver Extensions: GL_ARB_blend_func_extended GL_ARB_draw_buffers_blend GL_ARB_draw_indirect GL_ARB_ES2_compatibility GL_ARB_explicit_attrib_location GL_ARB_gpu_shader_fp64 GL_ARB_gpu_shader5 GL_ARB_instanced_arrays GL_ARB_internalformat_query GL_ARB_occlusion_query2 GL_ARB_sample_shading GL_ARB_sampler_objects GL_ARB_separate_shader_objects GL_ARB_shader_bit_encoding GL_ARB_shader_subroutine GL_ARB_shading_language_include GL_ARB_tessellation_shader GL_ARB_texture_buffer_object_rgb32 GL_ARB_texture_cube_map_array GL_ARB_texture_gather GL_ARB_texture_query_lod GL_ARB_texture_rgb10_a2ui GL_ARB_texture_storage GL_ARB_texture_swizzle GL_ARB_timer_query GL_ARB_transform_feedback2 GL_ARB_transform_feedback3 GL_ARB_vertex_attrib_64bit GL_ARB_vertex_type_2_10_10_10_rev GL_ARB_viewport_array GL_EXT_debug_label GL_EXT_debug_marker GL_EXT_depth_bounds_test GL_EXT_texture_compression_s3tc GL_EXT_texture_filter_anisotropic GL_EXT_texture_mirror_clamp GL_EXT_texture_sRGB_decode GL_APPLE_client_storage GL_APPLE_container_object_shareable GL_APPLE_flush_render GL_APPLE_object_purgeable GL_APPLE_rgb_422 GL_APPLE_row_bytes GL_APPLE_texture_range GL_ATI_texture_mirror_once GL_NV_texture_barrier\nWebGL 2 Extensions: EXT_color_buffer_float EXT_texture_filter_anisotropic EXT_disjoint_timer_query OES_texture_float_linear WEBGL_compressed_texture_s3tc WEBGL_compressed_texture_s3tc_srgb WEBGL_debug_renderer_info WEBGL_debug_shaders WEBGL_lose_context\nUses Tiling: true\nOff Main Thread Painting Enabled: true\nOff Main Thread Painting Worker Count: 3\nGPU #1\nActive: Yes\nVendor ID: 0x8086\nDevice ID: 0x591b\n\nDiagnostics\nAzureCanvasAccelerated: 1\nAzureCanvasBackend: skia\nAzureContentBackend: skia\nAzureFallbackCanvasBackend: none\nTileHeight: 1024\nTileWidth: 1024\nDecision Log\nWEBRENDER:\nopt-in by default: WebRender is an opt-in feature\n\n\n\n\nMedia\n-----\n\nAudio Backend: audiounit\nMax Channels: 2\nPreferred Sample Rate: 44100\nOutput Devices\nName: Group\nAggregate Device: ~:AMS2_Aggregate:0\nBackground Music Device: BGMDevice\nInternal Speakers: AppleHDAEngineOutput:1F,3,0,1,1:0\nInput Devices\nName: Group\nAggregate Device: ~:AMS2_Aggregate:0\nBackground Music Device: BGMDevice\nInternal Microphone: AppleHDAEngineInput:1F,3,0,1,0:1\n\nImportant Modified Preferences\n------------------------------\n\naccessibility.typeaheadfind.flashBar: 0\nbrowser.cache.disk.capacity: 358400\nbrowser.cache.disk.filesystem_reported: 1\nbrowser.cache.disk.smart_size.first_run: false\nbrowser.cache.frecency_experiment: 3\nbrowser.display.use_system_colors: true\nbrowser.places.smartBookmarksVersion: 8\nbrowser.search.suggest.enabled: false\nbrowser.sessionstore.upgradeBackup.latestBuildID: 20180427102245\nbrowser.startup.homepage_override.buildID: 20180427102245\nbrowser.startup.homepage_override.mstone: 61.0a1\nbrowser.tabs.crashReporting.includeURL: true\nbrowser.urlbar.matchBuckets: general:5,suggestion:Infinity\nbrowser.urlbar.placeholderName: Google\nbrowser.urlbar.timesBeforeHidingSuggestionsHint: 0\ndom.forms.autocomplete.formautofill: true\ndom.ipc.processCount.web: 4\ndom.push.userAgentID: f7b7b414fae0435ca9faea52228bf358\nextensions.lastAppVersion: 61.0a1\nfont.internaluseonly.changed: false\ngfx.color_management.enablev4: true\ngfx.color_management.mode: 1\nmedia.gmp-gmpopenh264.abi: x86_64-gcc3\nmedia.gmp-gmpopenh264.lastUpdate: 1521631181\nmedia.gmp-gmpopenh264.version: 1.7.1\nmedia.gmp-manager.buildID: 20180427102245\nmedia.gmp-manager.lastCheck: 1524852809\nmedia.gmp-widevinecdm.abi: x86_64-gcc3\nmedia.gmp-widevinecdm.lastUpdate: 1515173975\nmedia.gmp-widevinecdm.version: 1.4.8.1008\nmedia.gmp.storage.version.observed: 1\nmedia.webrtc.debug.log_file: /var/folders/k1/7sbxsmm52n59_fpj0v65fmk40000gn/T/WebRTC.log\nnetwork.cookie.prefsMigrated: true\nnetwork.dns.disablePrefetch: true\nnetwork.http.speculative-parallel-limit: 0\nnetwork.predictor.cleaned-up: true\nnetwork.predictor.enabled: false\nnetwork.prefetch-next: false\nnetwork.trr.mode: 2\nnetwork.trr.uri: https://mozilla.cloudflare-dns.com/dns-query\nplaces.database.lastMaintenance: 1524502933\nplaces.history.expiration.transient_current_max_pages: 145348\nplugin.disable_full_page_plugin_for_types: application/pdf\nprint.print_bgcolor: false\nprint.print_bgimages: false\nprint.print_duplex: -437918235\nprint.print_evenpages: true\nprint.print_in_color: true\nprint.print_margin_bottom: 0.5\nprint.print_margin_left: 0.5\nprint.print_margin_right: 0.5\nprint.print_margin_top: 0.5\nprint.print_oddpages: true\nprint.print_orientation: 0\nprint.print_page_delay: 50\nprint.print_paper_data: 0\nprint.print_paper_height: 11.00\nprint.print_paper_name:\nprint.print_paper_size_unit: 0\nprint.print_paper_width: 8.50\nprint.print_resolution: -437918235\nprint.print_reversed: false\nprint.print_scaling: 1.00\nprint.print_shrink_to_fit: true\nprint.print_to_file: false\nprint.print_unwriteable_margin_bottom: 12\nprint.print_unwriteable_margin_left: 12\nprint.print_unwriteable_margin_right: 12\nprint.print_unwriteable_margin_top: 12\nprivacy.cpd.cookies: false\nprivacy.cpd.downloads: false\nprivacy.cpd.formdata: false\nprivacy.cpd.history: false\nprivacy.cpd.sessions: false\nprivacy.resistFingerprinting: true\nprivacy.sanitize.pending: []\nprivacy.sanitize.timeSpan: 0\nprivacy.userContext.extension: @testpilot-containers\nsecurity.sandbox.content.tempDirSuffix: {5ccd1723-eff8-bf47-91d0-5e7305611714}\nservices.sync.declinedEngines: prefs,bookmarks,forms,history\nservices.sync.engine.addresses.available: true\nservices.sync.engine.bookmarks: false\nservices.sync.engine.creditcards.available: true\nservices.sync.engine.history: false\nservices.sync.engine.passwords.validation.lastTime: 1524881786\nservices.sync.engine.prefs: false\nservices.sync.engine.prefs.modified: false\nservices.sync.lastPing: 1524881728\nservices.sync.lastSync: Sat Apr 28 2018 02:15:34 GMT+0000 (UTC)\nstorage.vacuum.last.index: 1\nstorage.vacuum.last.places.sqlite: 1523188444\n\nImportant Locked Preferences\n----------------------------\n\nPlaces Database\n---------------\n\nJavaScript\n----------\n\nIncremental GC: true\n\nAccessibility\n-------------\n\nActivated: false\nPrevent Accessibility: 0\n\nLibrary Versions\n----------------\n\nNSPR\nExpected minimum version: 4.19\nVersion in use: 4.19\n\nNSS\nExpected minimum version: 3.37 Beta\nVersion in use: 3.37 Beta\n\nNSSSMIME\nExpected minimum version: 3.37 Beta\nVersion in use: 3.37 Beta\n\nNSSSSL\nExpected minimum version: 3.37 Beta\nVersion in use: 3.37 Beta\n\nNSSUTIL\nExpected minimum version: 3.37 Beta\nVersion in use: 3.37 Beta\n\nSandbox\n-------\n\nContent Process Sandbox Level: 3\nEffective Content Process Sandbox Level: 3\n\nInternationalization & Localization\n-----------------------------------\n\nApplication Settings\nRequested Locales: [\"en-US\"]\nAvailable Locales: [\"en-US\"]\nApp Locales: [\"en-US\"]\nRegional Preferences: [\"en-US\",\"pt-US\",\"de-US\"]\nDefault Locale: \"en-US\"\nOperating System\nSystem Locales: [\"en-US\",\"pt-US\",\"de-US\"]\nRegional Preferences: [\"en-US\",\"pt-US\",\"de-US\"]", "author": "reuben.bmo@gmail.com", "id": 13239591, "time": "2018-04-28T02:23:11Z"}, {"text": "This is strange and I definitely haven't seen this before. Does switching away from Firefox fix the flickering? Have you seen this in different Firefox profiles and/or macOS user profiles? Since you said that this started a couple of weeks ago it sounds like this might be a regression. Although time-consuming, maybe running this in mozregression could help us narrow this down to an injection point?", "author": "spohl.mozilla.bugs@gmail.com", "id": 13247014, "time": "2018-05-01T20:06:56Z"}, {"text": "(In reply to Stephen A Pohl [:spohl] from comment #1)\n> This is strange and I definitely haven't seen this before. Does switching\n> away from Firefox fix the flickering? Have you seen this in different\n> Firefox profiles and/or macOS user profiles?\n\nYeah, it's very weird. I've seen it on different Firefox profiles (after a refresh), but not macOS users.\n\n> Since you said that this started a couple of weeks ago it sounds like this might be a regression.\n> Although time-consuming, maybe running this in mozregression could help us\n> narrow this down to an injection point?\n\nI'll see what I can do, but without a more reliable way to reproduce the bug mozregression would take ages.", "author": "reuben.bmo@gmail.com", "id": 13270491, "time": "2018-05-11T11:35:07Z"}], "id": 1457655, "priority": "P3", "cc": ["jan@ikenmeyer.eu", "spohl.mozilla.bugs@gmail.com"], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [], "qa_contact": "", "creation_time": "2018-04-28T02:23:11Z", "cf_status_firefox_esr52": "---", "component": "Widget: Cocoa", "assigned_to_detail": {"email": "nobody@mozilla.org", "id": 1, "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "---", "cf_status_firefox61": "affected", "cf_status_firefox60": "---", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "reuben.bmo@gmail.com", "id": 390952, "name": "reuben.bmo@gmail.com", "real_name": "Reuben Morais [:reuben]"}, "whiteboard": "", "mentors": [], "summary": "Display flickering on macOS after long session", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-05-11T11:35:07Z", "assigned_to": "nobody@mozilla.org", "is_open": true, "history": [{"changes": [{"removed": "", "field_name": "cc", "added": "jan@ikenmeyer.eu"}], "who": "jan@ikenmeyer.eu", "when": "2018-04-28T16:24:10Z"}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P3"}, {"removed": "", "field_name": "cc", "added": "spohl.mozilla.bugs@gmail.com"}, {"removed": "", "field_name": "flagtypes.name", "added": "needinfo?(reuben.bmo@gmail.com)"}], "who": "spohl.mozilla.bugs@gmail.com", "when": "2018-05-01T20:06:56Z"}, {"changes": [{"removed": "needinfo?(reuben.bmo@gmail.com)", "field_name": "flagtypes.name", "added": ""}], "who": "reuben.bmo@gmail.com", "when": "2018-05-11T11:35:07Z"}], "resolution": "", "op_sys": "Mac OS X", "cf_fx_points": "---", "cf_blocking_fennec": "---"}