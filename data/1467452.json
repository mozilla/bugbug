{"cf_tracking_thunderbird_esr52": "---", "status": "NEW", "cf_tracking_firefox60": "---", "cf_tracking_firefox61": "---", "cf_tracking_firefox62": "+", "creator": "vlad.lucaci@softvision.ro", "mentors_detail": [], "depends_on": [], "cf_status_firefox_esr60": "unaffected", "cf_user_story": "", "cf_tracking_firefox_relnote": "---", "platform": "Unspecified", "keywords": ["crash", "regression", "reproducible"], "cc_detail": [{"email": "cpeterson@mozilla.com", "id": 430528, "name": "cpeterson@mozilla.com", "real_name": "Chris Peterson [:cpeterson]"}, {"email": "mcastelluccio@mozilla.com", "id": 420453, "name": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]"}, {"email": "VYV03354@nifty.ne.jp", "id": 5842, "name": "VYV03354@nifty.ne.jp", "real_name": "Masatoshi Kimura [:emk]"}], "cf_last_resolved": null, "attachments": [{"creator": "vlad.lucaci@softvision.ro", "is_obsolete": 0, "is_patch": 0, "flags": [], "content_type": "image/gif", "id": 8984123}, {"creator": "cpeterson@mozilla.com", "is_obsolete": 0, "is_patch": 0, "flags": [{"requestee": "jmathies@mozilla.com", "status": "?", "name": "review", "modification_date": "2018-06-15T07:52:17Z", "type_id": 4, "creation_date": "2018-06-15T07:52:17Z", "id": 1769202, "setter": "cpeterson@mozilla.com"}], "content_type": "text/x-review-board-request", "id": 8985569}], "votes": 0, "classification": "Components", "is_confirmed": true, "is_creator_accessible": true, "cf_has_regression_range": "---", "comment_count": 6, "comments": [{"text": "Created attachment 8984123\nFlash Plugin crash.gif\n\n[Affected versions]:\n\n- 62.0a1 (2018-06-06)\n- 61.0a1 (2018-04-03)\n\n\n[Affected platforms]:\n\n- Windows 10x64\n- Windows 7x64\n\n[Steps to reproduce]:\n\n1. Launch FF.\n2. Go to facebook.com and log in with valid credentials.\n3. Search for Vegas Downtown Slots&Words.\n4. Launch the game.\n5. Go the the game's menu options\n6. Select Fullscreen button.\n\n[Expected result]:\n\n- The game should be launched in full screen without any issues.\n\n[Actual result]:\n\n- The Flash Plugin will crash and the user must re-load the page, losing all progress if in action phase of the game.\n\n[Regression range]:\n\n- This seems to be a recent regression:\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=2404129f5672b9a91ea006c3f51cf171833a3124&tochange=f5f49315fec2505facfb775a417bdcf35504b5ef\n\n[Additional notes]:\n\n- This issue was encountered only on Vegas Downtown Slots&Words game. I have tried several other games(especially slot games and rich content games) and the issue was not encountered.\n\n- This issue only seems to be present on the Nightly builds.", "author": "vlad.lucaci@softvision.ro", "id": 13393569, "time": "2018-06-07T13:32:20Z"}, {"text": "My fix for bug 1461243 is in that regression range, but it landed it Nightly 62 and this bugs tracking flags say 61 is also affected. I'll try to reproduce the crash.", "author": "cpeterson@mozilla.com", "id": 13400862, "time": "2018-06-11T16:48:38Z"}, {"text": "I can reproduce this problem in Nightly 62 on Windows, though my Facebook tab hangs instead of showing the \"plugin has crashed\" error message.\n\nhttps://apps.facebook.com/vegas_downtown_slots", "author": "cpeterson@mozilla.com", "id": 13402976, "time": "2018-06-13T00:23:01Z"}, {"text": "I bisected this regression and confirmed what Vlad found: my code changes in bug 1461243 is the cause. :(\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=8a6dd4dc5513d5907d9411a465bdc2b42e903100&tochange=f5f49315fec2505facfb775a417bdcf35504b5ef\n\nI suspect patch #6 is the cause of the crash because it sets some NPNetscapeFuncs function pointers to null. Perhaps Flash is crashing on those null function pointers, even though those NPAPI functions should have only been relevant for Java plugins!\n\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/f5f49315fec2", "author": "cpeterson@mozilla.com", "id": 13403002, "time": "2018-06-13T00:58:00Z"}, {"text": "Priority P1 because this is a reproducible crash regression!", "author": "cpeterson@mozilla.com", "id": 13403003, "time": "2018-06-13T00:59:18Z"}, {"text": "Created attachment 8985569\nBug 1467452 - Back out f5f49315fec2 to restore getJavaEnv/getJavaPeer NPAPIs to fix Flash crash.\n\nFlash still calls these NPAPIs to initialize some ancient LiveConnect/OJI code (just in case).\n\nReview commit: https://reviewboard.mozilla.org/r/251182/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/251182/", "author": "cpeterson@mozilla.com", "id": 13406476, "time": "2018-06-15T07:52:17Z"}], "id": 1467452, "priority": "P1", "cc": ["cpeterson@mozilla.com", "mcastelluccio@mozilla.com", "VYV03354@nifty.ne.jp"], "cf_crash_signature": "", "version": "Trunk", "is_cc_accessible": true, "cf_tracking_firefox_esr52": "---", "see_also": [], "cf_tracking_thunderbird_esr60": "---", "cf_platform_rel": "---", "product": "Core", "cf_fx_iteration": "---", "blocks": [1461243], "qa_contact": "", "creation_time": "2018-06-07T13:32:20Z", "cf_status_firefox_esr52": "unaffected", "component": "Plug-ins", "assigned_to_detail": {"email": "cpeterson@mozilla.com", "id": 430528, "name": "cpeterson@mozilla.com", "real_name": "Chris Peterson [:cpeterson]"}, "cf_tracking_firefox_esr60": "---", "cf_status_firefox62": "affected", "cf_status_firefox61": "unaffected", "cf_status_firefox60": "unaffected", "target_milestone": "---", "cf_rank": null, "cf_qa_whiteboard": "", "severity": "normal", "groups": [], "cf_status_thunderbird_esr52": "---", "url": "https://apps.facebook.com/vegas_downtown_slots", "cf_status_thunderbird_esr60": "---", "creator_detail": {"email": "vlad.lucaci@softvision.ro", "id": 616533, "name": "vlad.lucaci@softvision.ro", "real_name": "Vlad Lucaci (:vlucaci)"}, "whiteboard": "", "mentors": [], "summary": "Flash Plugin crashes when attempting to launch fullscreen on a Facebook game", "cf_has_str": "---", "alias": null, "dupe_of": null, "flags": [], "last_change_time": "2018-06-15T17:49:28Z", "assigned_to": "cpeterson@mozilla.com", "is_open": true, "history": [{"changes": [{"removed": "", "field_name": "keywords", "added": "regression"}, {"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "who": "mcastelluccio@mozilla.com", "when": "2018-06-08T12:45:00Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "crash"}, {"removed": "", "field_name": "cc", "added": "cpeterson@mozilla.com"}, {"removed": "", "field_name": "blocks", "added": "1461243"}, {"removed": "---", "field_name": "cf_status_firefox_esr52", "added": "?"}, {"removed": "---", "field_name": "cf_status_firefox_esr60", "added": "?"}, {"removed": "---", "field_name": "cf_status_firefox60", "added": "?"}], "who": "cpeterson@mozilla.com", "when": "2018-06-11T16:48:38Z"}, {"changes": [{"removed": "", "field_name": "cc", "added": "VYV03354@nifty.ne.jp"}], "who": "VYV03354@nifty.ne.jp", "when": "2018-06-12T14:20:23Z"}, {"changes": [{"removed": "", "field_name": "url", "added": "https://apps.facebook.com/vegas_downtown_slots"}], "who": "cpeterson@mozilla.com", "when": "2018-06-13T00:23:01Z"}, {"changes": [{"removed": "nobody@mozilla.org", "field_name": "assigned_to", "added": "cpeterson@mozilla.com"}, {"removed": "?", "field_name": "cf_status_firefox_esr52", "added": "unaffected"}, {"removed": "?", "field_name": "cf_status_firefox_esr60", "added": "unaffected"}, {"removed": "?", "field_name": "cf_status_firefox60", "added": "unaffected"}, {"removed": "affected", "field_name": "cf_status_firefox61", "added": "unaffected"}, {"removed": "---", "field_name": "cf_tracking_firefox62", "added": "?"}], "who": "cpeterson@mozilla.com", "when": "2018-06-13T00:58:00Z"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "reproducible"}, {"removed": "--", "field_name": "priority", "added": "P1"}], "who": "cpeterson@mozilla.com", "when": "2018-06-13T00:59:18Z"}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8985569, "added": "review?(jmathies@mozilla.com)"}], "who": "cpeterson@mozilla.com", "when": "2018-06-15T07:52:17Z"}, {"changes": [{"removed": "?", "field_name": "cf_tracking_firefox62", "added": "+"}], "who": "lhenry@mozilla.com", "when": "2018-06-15T17:49:28Z"}], "resolution": "", "op_sys": "Windows", "cf_fx_points": "---", "cf_blocking_fennec": "---"}