{"cf_status_firefox68": "---", "blocks": [1387512, 1363485], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["regression"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "u554753@disabled.tld", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "57.1 - Aug 15", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-08-12T23:00:36Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "alice0775@gmail.com", "real_name": "Alice0775 White", "name": "alice0775@gmail.com", "nick": "alice0775", "id": 293623}, {"email": "dao+bmo@mozilla.com", "real_name": "D\u00e3o Gottwald [::dao]", "name": "dao+bmo@mozilla.com", "nick": "dao", "id": 219124}, {"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, {"email": "jan@ikenmeyer.eu", "real_name": "Jan Andre Ikenmeyer [:darkspirit]", "name": "jan@ikenmeyer.eu", "nick": "darkspirit", "id": 580271}, {"email": "madhuri.mittal99@gmail.com", "real_name": "Madhuri", "name": "madhuri.mittal99@gmail.com", "nick": "madhuri.mittal99", "id": 562835}, {"email": "marsjaninzmarsa@gmail.com", "real_name": "Kuba Niewiarowski", "name": "marsjaninzmarsa@gmail.com", "nick": "marsjaninzmarsa", "id": 470481}, {"email": "mmucci@mozilla.com", "real_name": "Marco Mucci [:MarcoM]", "name": "mmucci@mozilla.com", "nick": "MarcoM", "id": 458208}, {"email": "rkothari@mozilla.com", "real_name": "Ritu Kothari (:ritu)", "name": "rkothari@mozilla.com", "nick": "ritu", "id": 538805}, {"email": "urbankrajnc92@gmail.com", "real_name": "UK92", "name": "urbankrajnc92@gmail.com", "nick": "urbankrajnc92", "id": 444692}, {"email": "Virtual@teknik.io", "real_name": "Virtual_ManPL [:Virtual] - (please needinfo? me - so I will see your comment/reply/question/etc.)", "name": "Virtual@teknik.io", "nick": "Virtual", "id": 342842}], "summary": "Back toolbarbutton is perma-disabled after customize toolbar", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 1, "cf_status_firefox55": "unaffected", "version": "57 Branch", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P1", "assigned_to_detail": {"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, "creator": "prasanthmani2010@gmail.com", "last_change_time": "2017-08-29T10:18:38Z", "cf_fission_milestone": "---", "comment_count": 19, "creator_detail": {"email": "prasanthmani2010@gmail.com", "real_name": "prasanthp96", "name": "prasanthmani2010@gmail.com", "nick": "prasanthmani2010", "id": 553408}, "cc": ["alice0775@gmail.com", "dao+bmo@mozilla.com", "gijskruitbosch+bugs@gmail.com", "jan@ikenmeyer.eu", "madhuri.mittal99@gmail.com", "marsjaninzmarsa@gmail.com", "mmucci@mozilla.com", "rkothari@mozilla.com", "urbankrajnc92@gmail.com", "Virtual@teknik.io"], "duplicates": [], "assigned_to": "gijskruitbosch+bugs@gmail.com", "groups": [], "see_also": [], "id": 1388990, "whiteboard": "[photon-structure]", "creation_time": "2017-08-10T06:22:54Z", "depends_on": [309953], "cf_status_firefox56": "unaffected", "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "qa_contact_detail": {"email": "u554753@disabled.tld", "real_name": "", "name": "u554753@disabled.tld", "nick": "u554753", "id": 554753}, "resolution": "FIXED", "type": "defect", "classification": "Client Software", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "VERIFIED", "cf_tracking_firefox57": "-", "cf_crash_signature": "", "is_open": false, "severity": "major", "cf_tracking_firefox_esr60": "---", "cf_status_firefox_esr52": "unaffected", "flags": [], "cf_tracking_firefox68": "---", "cf_status_firefox57": "verified", "component": "Toolbars and Customization", "product": "Firefox", "target_milestone": "Firefox 57", "history": [{"when": "2017-08-10T06:23:58Z", "changes": [{"removed": "Untriaged", "added": "Toolbars and Customization", "field_name": "component"}, {"removed": "Unspecified", "added": "x86", "field_name": "platform"}, {"removed": "Unspecified", "added": "Linux", "field_name": "op_sys"}], "who": "prasanthmani2010@gmail.com"}, {"when": "2017-08-10T07:18:31Z", "changes": [{"removed": "", "added": "madhuri.mittal99@gmail.com", "field_name": "cc"}], "who": "madhuri.mittal99@gmail.com"}, {"when": "2017-08-10T08:05:38Z", "changes": [{"removed": "x86", "added": "All", "field_name": "platform"}, {"removed": "Linux", "added": "All", "field_name": "op_sys"}], "who": "prasanthmani2010@gmail.com"}, {"when": "2017-08-10T10:05:48Z", "changes": [{"removed": "", "added": "dataloss, regression", "field_name": "keywords"}, {"removed": "UNCONFIRMED", "added": "NEW", "field_name": "status"}, {"removed": "", "added": "alice0775@yahoo.co.jp", "field_name": "cc"}, {"removed": "Go back one page button not working on moving showside bars to the left of that button", "added": "Session history is gone (Go/Back button state resets) after customize toolbar", "field_name": "summary"}, {"removed": "0", "added": "1", "field_name": "is_confirmed"}, {"removed": "normal", "added": "major", "field_name": "severity"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox_esr52"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox55"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox56"}, {"removed": "---", "added": "?", "field_name": "cf_tracking_firefox57"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox57"}], "who": "alice0775@gmail.com"}, {"when": "2017-08-10T10:16:29Z", "changes": [{"removed": "", "added": "urbankrajnc92@gmail.com", "field_name": "cc"}, {"removed": "", "added": "1363485", "field_name": "blocks"}, {"removed": "", "added": "needinfo?(urbankrajnc92@gmail.com)", "field_name": "flagtypes.name"}], "who": "alice0775@gmail.com"}, {"when": "2017-08-10T10:22:18Z", "changes": [{"removed": "", "added": "dao+bmo@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "[photon-structure][triage]", "field_name": "whiteboard"}], "who": "dao+bmo@mozilla.com"}, {"when": "2017-08-10T10:34:05Z", "changes": [{"removed": "", "added": "bugzilla@terrax.net", "field_name": "cc"}], "who": "jan@ikenmeyer.eu"}, {"when": "2017-08-10T10:34:38Z", "changes": [{"removed": "", "added": "gijskruitbosch+bugs@gmail.com", "field_name": "cc"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2017-08-10T12:14:59Z", "changes": [{"removed": "", "added": "mmucci@mozilla.com", "field_name": "cc"}], "who": "mmucci@mozilla.com"}, {"when": "2017-08-10T16:04:50Z", "changes": [{"removed": "--", "added": "P2", "field_name": "priority"}, {"removed": "", "added": "1387512", "field_name": "blocks"}, {"removed": "", "added": "gwimberly@softvision.com", "field_name": "qa_contact"}, {"removed": "[photon-structure][triage]", "added": "[photon-structure]", "field_name": "whiteboard"}, {"removed": "", "added": "qe-verify+", "field_name": "flagtypes.name"}], "who": "mmucci@mozilla.com"}, {"when": "2017-08-10T16:06:49Z", "changes": [{"removed": "P2", "added": "P1", "field_name": "priority"}, {"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "", "added": "309953", "field_name": "depends_on"}, {"removed": "nobody@mozilla.org", "added": "gijskruitbosch+bugs@gmail.com", "field_name": "assigned_to"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2017-08-10T16:07:04Z", "changes": [{"removed": "---", "added": "57.1 - Aug 15", "field_name": "cf_fx_iteration"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2017-08-10T16:09:02Z", "changes": [{"removed": "dataloss", "added": "", "field_name": "keywords"}, {"removed": "Session history is gone (Go/Back button state resets) after customize toolbar", "added": "Back toolbarbutton is perma-disabled after customize toolbar", "field_name": "summary"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2017-08-11T11:59:26Z", "changes": [{"removed": "", "added": "marsjaninzmarsa@gmail.com", "field_name": "cc"}], "who": "marsjaninzmarsa@gmail.com"}, {"when": "2017-08-11T20:30:35Z", "changes": [{"removed": "needinfo?(urbankrajnc92@gmail.com)", "added": "needinfo?(dao+bmo@mozilla.com)", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2017-08-11T20:50:42Z", "changes": [{"removed": "needinfo?(dao+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "dao+bmo@mozilla.com"}, {"when": "2017-08-11T22:16:00Z", "changes": [{"removed": "", "added": "needinfo?(dao+bmo@mozilla.com)", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2017-08-12T06:36:58Z", "changes": [{"removed": "needinfo?(dao+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "dao+bmo@mozilla.com"}, {"when": "2017-08-12T10:57:05Z", "changes": [{"attachment_id": 8896569, "removed": "", "added": "review?(dao+bmo@mozilla.com)", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2017-08-12T11:03:23Z", "changes": [{"attachment_id": 8896569, "removed": "review?(dao+bmo@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "dao+bmo@mozilla.com"}, {"when": "2017-08-12T23:00:36Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "Firefox 57", "field_name": "target_milestone"}, {"removed": "", "added": "2017-08-12T23:00:36Z", "field_name": "cf_last_resolved"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox57"}], "who": "aryx.bugmail@gmx-topmail.de"}, {"when": "2017-08-15T20:18:40Z", "changes": [{"removed": "RESOLVED", "added": "VERIFIED", "field_name": "status"}, {"removed": "qe-verify+", "added": "", "field_name": "flagtypes.name"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox57"}], "who": "u554753@disabled.tld"}, {"when": "2017-08-18T11:19:58Z", "changes": [{"removed": "", "added": "Virtual@teknik.io", "field_name": "cc"}], "who": "Virtual@teknik.io"}, {"when": "2017-08-29T10:18:38Z", "changes": [{"removed": "", "added": "rkothari@mozilla.com", "field_name": "cc"}, {"removed": "?", "added": "-", "field_name": "cf_tracking_firefox57"}], "who": "rkothari@mozilla.com"}], "comments": [{"count": 0, "text": "User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:57.0) Gecko/20100101 Firefox/57.0\nBuild ID: 20170809100326\n\nSteps to reproduce:\n\nStep 1: Go to https://en.wikipedia.org/\nStep 2: In that page , click on the \"English\" link it will redirect the page to https://en.wikipedia.org/wiki/Main_Page and the Go back one page button gets activated\nStep 3: Now click hamburger menu icon of firefox and choose Customize..\nStep 4: Drag and Drop the sidebar icon to the left of the Go back one page button and click Done\n\n\nActual results:\n\nThe Go back one page button which was activated becomes inactive and it is not clickable.\n\n\nExpected results:\n\nThe Go back one page button should remain active and one clicking it , the page should be redirected to the https://en.wikipedia.org/", "id": 12553089, "creation_time": "2017-08-10T06:22:54Z", "author": "prasanthmani2010@gmail.com"}, {"count": 1, "text": "Correct, \n\nThe issue is reproducible when tested on - \n\nWin 10 X 64 and MacOS Sierra 10.12.5 \n\nwith Build ID 20170809100326 [57.0a1 (2017-08-09) (32-bit)]", "id": 12553208, "creation_time": "2017-08-10T07:18:31Z", "author": "madhuri.mittal99@gmail.com"}, {"count": 2, "text": "[Tracking Requested - why for this release]:Session history is gone (Go/Back button state resets) after customize toolbar\n\n\nSteps to reproduce:\n\nStep 1: Navigate any webpage so that Go/Back button will be activated\nStep 2: Enter customize mode and Exit customize mode\n        --- observe the bug, Session history is gone (Go/Back button state resets)", "id": 12553656, "creation_time": "2017-08-10T10:05:48Z", "author": "alice0775@gmail.com"}, {"count": 3, "text": "Regression window:\nhttps://hg.mozilla.org/integration/autoland/pushloghtml?fromchange=ecbeb9354c24bac41419cfbd71ce107f86ea4619&tochange=a91caf422971f0cf96ea62328fc318b44d07a2ca\n\nRegressed by: Bug 1363485", "id": 12553687, "creation_time": "2017-08-10T10:16:29Z", "author": "alice0775@gmail.com"}, {"count": 4, "text": "Hmm, why are we wrapping items that aren't removable?", "id": 12553700, "creation_time": "2017-08-10T10:22:18Z", "author": "dao+bmo@mozilla.com"}, {"count": 5, "text": "(In reply to D\u00e3o Gottwald [::dao] from comment #4)\n> Hmm, why are we wrapping items that aren't removable?\n\nEverything gets wrapped in customize mode. The wrappers are also what gets an extra (transparent) border to make space for items that you drag inbetween the non-removable items.\n\nThe back/fwd buttons should be able to cope with being wrapped and unwrapped. It's not really clear to me why this was fine when they were in the urlbar container (which would also get wrapped) and isn't fine now.", "id": 12553747, "creation_time": "2017-08-10T10:34:38Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 6, "text": "Context menus on those buttons, context menu on the page, and the history menu all still work, so I don't think this is dataloss, but I agree this is severe and will try to fix it ASAP. The problem is that the root issue is very old, in the DOM implementation of XUL, and never got fixed (or even particularly well-understood), and I am not sure how to either fix it or work around it yet.", "id": 12554637, "creation_time": "2017-08-10T16:09:02Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 7, "text": "OK, so, most important questions answered after lots of logging in the depths of XUL broadcasting code...\n\nEasy one first: why did this not happen before - because CustomizeMode wraps the outer container, not the inner buttons. As part of the wrapping, it removes the command/observes attributes to avoid disabled states changing while you're customizing. This didn't use to happen because items were in a toolbaritem node and so the broadcaster always stayed connected.\n\nHarder one: why is this broken (ie what is the cause of bug 309953, at least today)?\n\nWhen we navigate the browser, or switch tabs, we call UpdateBackForwardCommands. That adds/removes the disabled attribute from the broadcasters that update these buttons.\n\nThe XUL document keeps tabs on what broadcasters are hooked up to what listeners. This makes sense because the relationships go from listener to broadcaster, and it needs to know what listeners to update when the broadcaster updates.\n\nThis relationship is severed when:\n1) the command attribute is removed.\n2) the node gets added/removed from the DOM.\n\nIn addition to keeping tabs on the broadcaster<->listener relationships, it tracks which attributes need updating. There's only one problem with this... it's hard to update the lack of an attribute. That is, if I have a broadcaster with 1 attribute, a=\"foo\", and I add a listener with b=\"bar\", the broadcaster won't remove the b=\"bar\" attribute.\n\nThis is what happens in our case:\n\n1. back button is enabled. Neither broadcaster nor listener has a \"disabled\" attribute\n2. we start customizing, both broadcaster and listener get a disabled attribute\n3. we stop customizing\n3a. the broadcaster gets updated. The disabled attribute gets removed. The back button is not updated because it's not currently hooked up to the broadcaster\n3b. we change the command attribute on the back button back to what it normally is.\n3c. we check if the command has a disabled attribute (it doesn't) and if it would have done, we would update the back button (we don't) to bring it in sync with the broadcaster\n\n\nI can think of several fixes:\n\n1) in https://dxr.mozilla.org/mozilla-central/rev/5322c03f4c8587fe526172d3f87160031faa6d75/browser/components/customizableui/CustomizeMode.jsm#897-901 , add a clause that removes the disabled attribute if the button has it and the broadcaster doesn't.\nDownside: this would break buttons that observe a broadcaster for something other than a disabled attribute, and set the disabled attribute independently.\nDownside: we might hit this same issue again but with other attributes.\n\n2) make the back/fwd button listen for customization end events and re-sync themselves with the broadcaster manually\ndownside: we will hit this again with other buttons and/or attributes.\n\n3) keep track on any given broadcaster what attributes get removed without being re-added, and once an element starts observing a given broadcaster, remove said attributes\ndownside: lots of (C++, hashed sets, on DOM elements... yuck) work.\ndownside: Unclear if there will be users that don't expect this for some reason (hard to think why, we're effectively fixing a race between when the broadcaster+listener get created, but stranger things have happened).\n\n4. put the back/fwd buttons back in a toolbaritem. They should be moved together anyway (they might become movable if we fix bug 1387313) and this will also fix this issue, at least for the back/fwd button.\ndownside: we will hit this again with other buttons and/or attributes.\n\n\nD\u00e3o, does this make sense and do you have a preference on how we fix this?", "id": 12559260, "creation_time": "2017-08-11T20:30:35Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 8, "text": "(In reply to :Gijs from comment #7)\n> OK, so, most important questions answered after lots of logging in the\n> depths of XUL broadcasting code...\n> \n> Easy one first: why did this not happen before - because CustomizeMode wraps\n> the outer container, not the inner buttons. As part of the wrapping, it\n> removes the command/observes attributes to avoid disabled states changing\n> while you're customizing.\n\nCan we let buttons opt out from this behavior? It shouldn't be possible for back/forward to change disabled states while customizing anyway.", "id": 12559312, "creation_time": "2017-08-11T20:50:42Z", "author": "dao+bmo@mozilla.com"}, {"count": 9, "text": "(In reply to D\u00e3o Gottwald [::dao] from comment #8)\n> (In reply to :Gijs from comment #7)\n> > OK, so, most important questions answered after lots of logging in the\n> > depths of XUL broadcasting code...\n> > \n> > Easy one first: why did this not happen before - because CustomizeMode wraps\n> > the outer container, not the inner buttons. As part of the wrapping, it\n> > removes the command/observes attributes to avoid disabled states changing\n> > while you're customizing.\n> \n> Can we let buttons opt out from this behavior? It shouldn't be possible for\n> back/forward to change disabled states while customizing anyway.\n\nWe could, but while back/fwd are guaranteed to be disabled (I think?), many other buttons wouldn't be, so it wouldn't really help longterm. I think if we make a solution specifically for the back/fwd buttons, we might as well wrap them in a toolbaritem to begin with. Is there some reason not to do that that I'm missing?", "id": 12559580, "creation_time": "2017-08-11T22:16:00Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 10, "text": "My understanding is that this would have unwanted UX implications, see bug 1363485 comment 32.", "id": 12560061, "creation_time": "2017-08-12T06:36:58Z", "author": "dao+bmo@mozilla.com"}, {"count": 11, "text": "(In reply to D\u00e3o Gottwald [::dao] from comment #10)\n> My understanding is that this would have unwanted UX implications, see bug\n> 1363485 comment 32.\n\nOh! Hm, I missed that comment, thanks for pointing it out. OK, then adding some kind of specialized attribute is probably the simplest thing that could possibly work...", "id": 12560183, "creation_time": "2017-08-12T10:15:21Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 12, "text": "Created attachment 8896569\nBug 1388990 - avoid breaking the broadcast/listener relationships of the back/fwd buttons when customizing,\n\nReview commit: https://reviewboard.mozilla.org/r/167836/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/167836/", "id": 12560226, "creation_time": "2017-08-12T10:57:05Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 13, "text": "Comment on attachment 8896569\nBug 1388990 - avoid breaking the broadcast/listener relationships of the back/fwd buttons when customizing,\n\nhttps://reviewboard.mozilla.org/r/167836/#review173038", "id": 12560233, "creation_time": "2017-08-12T11:03:23Z", "author": "dao+bmo@mozilla.com"}, {"count": 14, "text": "Pushed by gijskruitbosch@gmail.com:\nhttps://hg.mozilla.org/integration/autoland/rev/9d576871fd33\navoid breaking the broadcast/listener relationships of the back/fwd buttons when customizing, r=dao", "id": 12560255, "creation_time": "2017-08-12T11:42:27Z", "author": "pulsebot@bots.tld"}, {"count": 15, "text": "https://hg.mozilla.org/mozilla-central/rev/9d576871fd33", "id": 12560772, "creation_time": "2017-08-12T23:00:36Z", "author": "aryx.bugmail@gmx-topmail.de"}, {"count": 16, "text": "Verified on Windows, Mac, and Ubuntu.", "id": 12569111, "creation_time": "2017-08-15T20:18:40Z", "author": "u554753@disabled.tld"}, {"count": 17, "text": "[bugday-20170823] \n\nstatus-ff57.0a1 : VERIFIED & FIXED.\n\nManaged to reproduce the issue on Firefox Nightly under Windows 10 X 64.\n\nThe issue is no more reproducible on Firefox latest Nightly [BuildID : 20170823100553 , 57.0a1 (2017-08-23) (32-bit)]", "id": 12595390, "creation_time": "2017-08-24T10:14:24Z", "author": "madhuri.mittal99@gmail.com"}, {"count": 18, "text": "This is fixed, no need to track it.", "id": 12609052, "creation_time": "2017-08-29T10:18:38Z", "author": "rkothari@mozilla.com"}], "attachments": [{"content_type": "text/x-review-board-request", "creator_detail": {"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, "creator": "gijskruitbosch+bugs@gmail.com", "flags": [{"modification_date": "2017-08-12T11:03:23Z", "creation_date": "2017-08-12T10:57:05Z", "type_id": 748, "status": "+", "name": "review", "id": 1628316, "setter": "dao+bmo@mozilla.com"}], "is_patch": 0, "creation_time": "2017-08-12T10:57:05Z", "id": 8896569, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "Virtual@teknik.io", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-08-10T17:39:00Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "Virtual@teknik.io", "real_name": "Virtual_ManPL [:Virtual] - (please needinfo? me - so I will see your comment/reply/question/etc.)", "name": "Virtual@teknik.io", "nick": "Virtual", "id": 342842}], "summary": "Dark text on dark grey background in about:addons in 10.9", "cf_has_str": "---", "cf_user_story": "", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "u462496@disabled.tld", "last_change_time": "2017-08-18T10:22:01Z", "cf_fission_milestone": "---", "creator_detail": {"email": "u462496@disabled.tld", "real_name": "", "name": "u462496@disabled.tld", "nick": "u462496", "id": 462496}, "comment_count": 2, "cc": ["Virtual@teknik.io"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": [], "id": 1389136, "whiteboard": "", "creation_time": "2017-08-10T16:01:26Z", "depends_on": [], "mentors": [], "dupe_of": 1388761, "regressed_by": [], "cf_status_firefox66": "---", "qa_contact_detail": {"email": "Virtual@teknik.io", "real_name": "Virtual_ManPL [:Virtual] - (please needinfo? me - so I will see your comment/reply/question/etc.)", "name": "Virtual@teknik.io", "nick": "Virtual", "id": 342842}, "resolution": "DUPLICATE", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "Add-ons Manager", "product": "Toolkit", "target_milestone": "---", "history": [{"when": "2017-08-10T16:05:40Z", "changes": [{"removed": "Untriaged", "added": "Add-ons Manager", "field_name": "component"}, {"removed": "Firefox", "added": "Toolkit", "field_name": "product"}], "who": "kohei.yoshino@gmail.com"}, {"when": "2017-08-10T17:06:36Z", "changes": [{"removed": "", "added": "1388761", "field_name": "depends_on"}], "who": "felipc@gmail.com"}, {"when": "2017-08-10T17:39:00Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "1388761", "added": "", "field_name": "depends_on"}, {"removed": "", "added": "DUPLICATE", "field_name": "resolution"}, {"removed": "", "added": "2017-08-10T17:39:00Z", "field_name": "cf_last_resolved"}], "who": "dao+bmo@mozilla.com"}, {"when": "2017-08-18T10:18:13Z", "changes": [{"removed": "", "added": "Virtual@teknik.io", "field_name": "cc"}], "who": "Virtual@teknik.io"}, {"when": "2017-08-18T10:22:01Z", "changes": [{"removed": "", "added": "Virtual@teknik.io", "field_name": "qa_contact"}], "who": "Virtual@teknik.io"}], "comments": [{"count": 0, "text": "Created attachment 8895884\nScreen Shot 2017-08-10 at 9.56.11 AM.png\n\nNot sure if this is intentional, but doesn't seem to be.\n\nPossibly related to bug 1386730.", "id": 12554614, "creation_time": "2017-08-10T16:01:26Z", "author": "u462496@disabled.tld"}, {"count": 1, "text": "\n\n*** This bug has been marked as a duplicate of bug 1388761 ***", "id": 12554947, "creation_time": "2017-08-10T17:39:00Z", "author": "dao+bmo@mozilla.com"}], "attachments": [{"content_type": "image/png", "creator_detail": {"email": "u462496@disabled.tld", "real_name": "", "name": "u462496@disabled.tld", "nick": "u462496", "id": 462496}, "creator": "u462496@disabled.tld", "flags": [], "is_patch": 0, "creation_time": "2017-08-10T16:01:26Z", "id": 8895884, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-09-21T13:32:59Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "alexhaan@aemail.nl", "real_name": "Alex Haan", "name": "alexhaan@aemail.nl", "nick": "alexhaan", "id": 46741}, {"email": "dmu@mozilla.com", "real_name": "Daosheng Mu[:daoshengmu]", "name": "dmu@mozilla.com", "nick": "daoshengmu", "id": 531139}, {"email": "git@brainfloat.com", "real_name": "brainfloat", "name": "git@brainfloat.com", "nick": "git", "id": 601313}, {"email": "juraj.masiar@gmail.com", "real_name": "", "name": "juraj.masiar@gmail.com", "nick": "juraj.masiar", "id": 534356}, {"email": "kgilbert@mozilla.com", "real_name": ":kip (Kearwood Gilbert)", "name": "kgilbert@mozilla.com", "nick": "kip", "id": 499338}], "summary": "SteamVR automatically launched when heading to robertsspaceindustries.com", "cf_has_str": "---", "cf_user_story": "", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 2, "version": "55 Branch", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P1", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "kgilbert@mozilla.com", "real_name": ":kip (Kearwood Gilbert)", "name": "kgilbert@mozilla.com", "nick": "kip", "id": 499338}, "creator": "megaone@yandex.ru", "last_change_time": "2017-09-21T13:32:59Z", "cf_fission_milestone": "---", "creator_detail": {"email": "megaone@yandex.ru", "real_name": "regs", "name": "megaone@yandex.ru", "nick": "megaone", "id": 382860}, "comment_count": 14, "cc": ["alexhaan@aemail.nl", "dmu@mozilla.com", "git@brainfloat.com", "juraj.masiar@gmail.com", "kgilbert@mozilla.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "kgilbert@mozilla.com", "groups": [], "see_also": [], "id": 1389220, "whiteboard": "", "creation_time": "2017-08-10T19:31:50Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "cf_status_firefox57": "unaffected", "component": "WebVR", "product": "Core", "target_milestone": "mozilla57", "history": [{"when": "2017-08-10T22:56:59Z", "changes": [{"removed": "Untriaged", "added": "WebVR", "field_name": "component"}, {"removed": "Firefox", "added": "Core", "field_name": "product"}], "who": "kohei.yoshino@gmail.com"}, {"when": "2017-08-15T19:24:45Z", "changes": [{"removed": "", "added": "alexhaan@aemail.nl", "field_name": "cc"}], "who": "alexhaan@aemail.nl"}, {"when": "2017-08-30T04:57:16Z", "changes": [{"removed": "", "added": "git@brainfloat.com", "field_name": "cc"}], "who": "git@brainfloat.com"}, {"when": "2017-09-16T07:17:58Z", "changes": [{"removed": "", "added": "juraj.masiar@gmail.com", "field_name": "cc"}], "who": "juraj.masiar@gmail.com"}, {"when": "2017-09-18T18:42:25Z", "changes": [{"removed": "--", "added": "P1", "field_name": "priority"}, {"removed": "", "added": "kgilbert@mozilla.com", "field_name": "cc"}, {"removed": "nobody@mozilla.org", "added": "kgilbert@mozilla.com", "field_name": "assigned_to"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox57"}], "who": "kgilbert@mozilla.com"}, {"when": "2017-09-20T22:44:37Z", "changes": [{"removed": "UNCONFIRMED", "added": "ASSIGNED", "field_name": "status"}, {"removed": "0", "added": "1", "field_name": "is_confirmed"}], "who": "kgilbert@mozilla.com"}, {"when": "2017-09-20T22:59:20Z", "changes": [{"attachment_id": 8910521, "removed": "", "added": "review?(dmu@mozilla.com)", "field_name": "flagtypes.name"}, {"removed": "", "added": "dmu@mozilla.com", "field_name": "cc"}], "who": "kgilbert@mozilla.com"}, {"when": "2017-09-21T01:37:49Z", "changes": [{"attachment_id": 8910521, "removed": "review?(dmu@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "dmu@mozilla.com"}, {"when": "2017-09-21T13:32:59Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla57", "field_name": "target_milestone"}, {"removed": "", "added": "2017-09-21T13:32:59Z", "field_name": "cf_last_resolved"}], "who": "aryx.bugmail@gmx-topmail.de"}], "attachments": [{"content_type": "text/x-review-board-request", "creator_detail": {"email": "kgilbert@mozilla.com", "real_name": ":kip (Kearwood Gilbert)", "name": "kgilbert@mozilla.com", "nick": "kip", "id": 499338}, "creator": "kgilbert@mozilla.com", "flags": [{"modification_date": "2017-09-21T01:37:49Z", "creation_date": "2017-09-20T22:59:20Z", "type_id": 937, "status": "+", "name": "review", "id": 1651398, "setter": "dmu@mozilla.com"}], "is_patch": 0, "creation_time": "2017-09-20T22:55:35Z", "id": 8910521, "is_obsolete": 0}], "comments": [{"count": 0, "text": "User Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:55.0) Gecko/20100101 Firefox/55.0\nBuild ID: 20170803103124\n\nSteps to reproduce:\n\nOpen robertsspaceindustries.com\n\n\nActual results:\n\nSteamVR is launched\n\n\nExpected results:\n\nMight be interesting for some, but shouldn't happen by default.", "id": 12555434, "creation_time": "2017-08-10T19:31:50Z", "author": "megaone@yandex.ru"}, {"count": 1, "text": "I have the same happening when visiting:\n- https://bankieren.rabobank.nl/klanten/?language=nl (note the NL language, doesn't seem to do it for EN)\n- https://mozvr.com/ (here it starts before the page is even loaded, blocking for 10-20 seconds).\n\nIn both cases I haven't clicked any action to start VR. Apparently just having some 3D scene in a page (though no idea where the banking site would have that hidden or used for even) activates SteamVR. Clearly this should only happen when you click some button.\n\nWhen I close SteamVR with either page still open, after a few seconds, the browser hangs for about 5 seconds and SteamVR is started again.\n\nBrowser: Firefox 55.0.1 (64-bit), Windows 10. (Also) with a just created profile.\n\nI reported a different URL in issue #1351048 before. But there it doesn't occur anymore. Also, that issue was already closed, so I shouldn't have commented there. I'm just mentioning the issue here because it is related.", "id": 12568934, "creation_time": "2017-08-15T19:24:45Z", "author": "alexhaan@aemail.nl"}, {"count": 2, "text": "Btw, I do also have it happen visiting the first mentioned website robertsspaceindustries.com.", "id": 12568941, "creation_time": "2017-08-15T19:26:17Z", "author": "alexhaan@aemail.nl"}, {"count": 3, "text": "Indeed it should have kind of icon on address bar if VR is available for the site. Not launching VR solution automatically on desktop. It's desktop after all.\n\nAs a workaround i switched WebVR entirely off for now\ndom.vr.enabled=false", "id": 12568996, "creation_time": "2017-08-15T19:47:08Z", "author": "megaone@yandex.ru"}, {"count": 4, "text": "Thanks. I have disabled it myself now too.\nI hadn't touched any of the dom.vr settings yet. But now I see dom.vr.autoactivate.enabled . That is set to false (default). You'd think that would actually prevent this automatic starting of SteamVR. But it clearly doesn't.", "id": 12572696, "creation_time": "2017-08-16T19:13:21Z", "author": "alexhaan@aemail.nl"}, {"count": 5, "text": "I second regs' comment, there should be a page notification to launch VR instead of launching automatically, it's very annoying to have SteamVR continuously pop-up especially without the headset connected.", "id": 12612118, "creation_time": "2017-08-30T04:57:16Z", "author": "git@brainfloat.com"}, {"count": 6, "text": "This is indeed super annoying. I have many pages opened but none of them is VR related and yet my SteamVR is launched by itself every time I start Firefox. I'm running 56.0b12 (64-bit).", "id": 12672878, "creation_time": "2017-09-16T07:17:58Z", "author": "juraj.masiar@gmail.com"}, {"count": 7, "text": "Thanks for reporting this.  I have reproduced and will investigate the false-launches and hanging further.  SteamVR should only be launching for sites that actually will use the WebVR API, not just 3d scene with WebGL or three.js.\n\nWe are also working on some UI that should give you more direct control over which sites are able to access your VR hardware.", "id": 12678312, "creation_time": "2017-09-18T18:42:25Z", "author": "kgilbert@mozilla.com"}, {"count": 8, "text": "I have found the cause of this...\n\nWhen calling navigator.activeVRDisplays, it should only return the list of active VR displays without activating any new ones.  Unfortunately, a bug in the function is causing it to flag the page as a WebVR site, causing the VR hardware to initialize.\n\nSomes sites that do not have any WebVR content are still calling navigator.activeVRDisplays.\nOne example is a library called \"BehavioWeb\", as used on https://bankieren.rabobank.nl.\n\nBehavioWeb tries to profile users in order to determine if they are likely the same person that accessed the site last time, aiding authentication into the banking login.  Part of their algorithm involves serializing all the attributes on \"Navigator\" and sending them in an AJAX request to their server.  This includes an access to Navigator.activeVRDisplays...  Thus triggering the OpenVR startup.\n\nThis should be an easy fix for this case.", "id": 12687638, "creation_time": "2017-09-20T22:30:05Z", "author": "kgilbert@mozilla.com"}, {"count": 9, "text": "The pause in the browser that occurs when hitting a WebVR page with SteamVR installed but no devices attached will be fixed separately in Bug 1392216.", "id": 12687713, "creation_time": "2017-09-20T22:54:26Z", "author": "kgilbert@mozilla.com"}, {"count": 10, "text": "Created attachment 8910521\nBug 1389220 - Prevent navigator.activeVRDisplays from activating VR hardware and runtimes\n\nReview commit: https://reviewboard.mozilla.org/r/181946/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/181946/", "id": 12687717, "creation_time": "2017-09-20T22:55:35Z", "author": "kgilbert@mozilla.com"}, {"count": 11, "text": "Comment on attachment 8910521\nBug 1389220 - Prevent navigator.activeVRDisplays from activating VR hardware and runtimes\n\nhttps://reviewboard.mozilla.org/r/181946/#review187362\n\nLGTM", "id": 12688120, "creation_time": "2017-09-21T01:37:49Z", "author": "dmu@mozilla.com"}, {"count": 12, "text": "Pushed by kgilbert@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/b37909c3b506\nPrevent navigator.activeVRDisplays from activating VR hardware and runtimes r=daoshengmu", "id": 12688422, "creation_time": "2017-09-21T05:26:28Z", "author": "pulsebot@bots.tld"}, {"count": 13, "text": "https://hg.mozilla.org/mozilla-central/rev/b37909c3b506", "id": 12689399, "creation_time": "2017-09-21T13:32:59Z", "author": "aryx.bugmail@gmx-topmail.de"}]}
{"cf_status_firefox68": "---", "blocks": [1325171], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "ovidiu.boca@softvision.ro", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "57.3 - Sep 19", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-09-21T13:10:45Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "jhofmann@mozilla.com", "real_name": "Johann Hofmann [:johannh]", "name": "jhofmann@mozilla.com", "nick": "johannh", "id": 522029}, {"email": "mmucci@mozilla.com", "real_name": "Marco Mucci [:MarcoM]", "name": "mmucci@mozilla.com", "nick": "MarcoM", "id": 458208}], "summary": "The dark theme titlebar changes color when in windowed vs maximized when using Windows 7 classic themes", "cf_has_str": "---", "cf_user_story": "", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": false, "priority": "P1", "assigned_to_detail": {"email": "jhofmann@mozilla.com", "real_name": "Johann Hofmann [:johannh]", "name": "jhofmann@mozilla.com", "nick": "johannh", "id": 522029}, "creator": "tcapone@riseup.net", "last_change_time": "2017-10-20T10:36:06Z", "cf_fission_milestone": "---", "creator_detail": {"email": "tcapone@riseup.net", "real_name": "", "name": "tcapone@riseup.net", "nick": "tcapone", "id": 600061}, "comment_count": 10, "cc": ["jhofmann@mozilla.com", "mmucci@mozilla.com"], "duplicates": [], "assigned_to": "jhofmann@mozilla.com", "groups": [], "see_also": [], "id": 1389223, "whiteboard": "[reserve-photon-visual][fixed by bug 1399498]", "creation_time": "2017-08-10T19:34:37Z", "depends_on": [1399498], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "qa_contact_detail": {"email": "ovidiu.boca@softvision.ro", "real_name": "ovidiu boca[:Ovidiu]", "name": "ovidiu.boca@softvision.ro", "nick": "Ovidiu", "id": 551038}, "resolution": "FIXED", "type": "defect", "classification": "Client Software", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "VERIFIED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "cf_status_firefox57": "verified", "component": "Theme", "product": "Firefox", "target_milestone": "---", "history": [{"when": "2017-08-10T22:56:22Z", "changes": [{"removed": "Untriaged", "added": "Theme", "field_name": "component"}], "who": "kohei.yoshino@gmail.com"}, {"when": "2017-08-11T12:36:54Z", "changes": [{"removed": "57 Branch", "added": "Trunk", "field_name": "version"}, {"removed": "On Firefox Nightly 57.0a1 the dark theme titlebar changes color when in windowed vs maximized", "added": "The dark theme titlebar changes color when in windowed vs maximized when using Windows 7 classic themes", "field_name": "summary"}, {"removed": "", "added": "[photon-visual][triage]", "field_name": "whiteboard"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2017-08-11T14:46:52Z", "changes": [{"removed": "", "added": "mmucci@mozilla.com", "field_name": "cc"}], "who": "mmucci@mozilla.com"}, {"when": "2017-08-24T12:39:08Z", "changes": [{"removed": "--", "added": "P4", "field_name": "priority"}, {"removed": "", "added": "ovidiu.boca@softvision.ro", "field_name": "qa_contact"}, {"removed": "[photon-visual][triage]", "added": "[reserve-photon-visual]", "field_name": "whiteboard"}, {"removed": "", "added": "qe-verify+", "field_name": "flagtypes.name"}], "who": "mmucci@mozilla.com"}, {"when": "2017-08-24T13:11:57Z", "changes": [{"removed": "", "added": "1325171", "field_name": "blocks"}], "who": "dao+bmo@mozilla.com"}, {"when": "2017-09-21T13:10:45Z", "changes": [{"removed": "UNCONFIRMED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "jhofmann@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "nobody@mozilla.org", "added": "jhofmann@mozilla.com", "field_name": "assigned_to"}, {"removed": "", "added": "2017-09-21T13:10:45Z", "field_name": "cf_last_resolved"}], "who": "jhofmann@mozilla.com"}, {"when": "2017-09-21T13:11:01Z", "changes": [{"removed": "[reserve-photon-visual]", "added": "[reserve-photon-visual][fixed by bug 1399498]", "field_name": "whiteboard"}], "who": "jhofmann@mozilla.com"}, {"when": "2017-09-21T13:27:12Z", "changes": [{"removed": "", "added": "1399498", "field_name": "depends_on"}], "who": "dao+bmo@mozilla.com"}, {"when": "2017-09-21T13:30:07Z", "changes": [{"removed": "P4", "added": "P1", "field_name": "priority"}, {"removed": "---", "added": "57.3 - Sep 19", "field_name": "cf_fx_iteration"}], "who": "mmucci@mozilla.com"}, {"when": "2017-09-22T08:02:02Z", "changes": [{"removed": "", "added": "needinfo?(tcapone@riseup.net)", "field_name": "flagtypes.name"}], "who": "ovidiu.boca@softvision.ro"}, {"when": "2017-10-17T13:54:32Z", "changes": [{"removed": "RESOLVED", "added": "VERIFIED", "field_name": "status"}, {"removed": "needinfo?(tcapone@riseup.net), qe-verify+", "added": "", "field_name": "flagtypes.name"}, {"removed": "---", "added": "verified", "field_name": "cf_status_firefox57"}], "who": "ovidiu.boca@softvision.ro"}, {"when": "2017-10-18T08:27:30Z", "changes": [{"removed": "", "added": "needinfo?(tcapone@riseup.net)", "field_name": "flagtypes.name"}], "who": "ovidiu.boca@softvision.ro"}, {"when": "2017-10-19T05:47:08Z", "changes": [{"removed": "needinfo?(tcapone@riseup.net)", "added": "", "field_name": "flagtypes.name"}], "who": "tcapone@riseup.net"}, {"when": "2017-10-19T07:29:53Z", "changes": [{"removed": "", "added": "needinfo?(jhofmann@mozilla.com)", "field_name": "flagtypes.name"}], "who": "ovidiu.boca@softvision.ro"}, {"when": "2017-10-20T10:36:06Z", "changes": [{"removed": "needinfo?(jhofmann@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "jhofmann@mozilla.com"}], "attachments": [{"content_type": "image/png", "creator_detail": {"email": "ovidiu.boca@softvision.ro", "real_name": "ovidiu boca[:Ovidiu]", "name": "ovidiu.boca@softvision.ro", "nick": "Ovidiu", "id": 551038}, "creator": "ovidiu.boca@softvision.ro", "flags": [], "is_patch": 0, "creation_time": "2017-10-18T09:19:59Z", "id": 8919649, "is_obsolete": 0}], "comments": [{"count": 0, "text": "User Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:57.0) Gecko/20100101 Firefox/57.0\nBuild ID: 20170810100255\n\nSteps to reproduce:\n\nSwitched to the dark theme from Customize. Made the window smaller (i.e. not maximized).\n\n\nActual results:\n\nWhile in the Customize tab as well the Tabs on top are blue:\nhttps://i.imgur.com/u8e7Obr.png\n\nBut outside of it, it looks fine:\nhttps://i.imgur.com/7BN5uHP.png\n\nIn a smaller window, it goes back to the blue color:\nhttps://i.imgur.com/Gs6HXp1.png\n\n\nExpected results:\n\nIt should be dark throughout I think? It may be because I'm on Windows 7 using the classic theme, but I don't know if the color should change from being maximized to a smaller window.", "id": 12555445, "creation_time": "2017-08-10T19:34:37Z", "author": "tcapone@riseup.net"}, {"count": 1, "text": "This was made consistent by bug 1399498.", "id": 12689324, "creation_time": "2017-09-21T13:10:45Z", "author": "jhofmann@mozilla.com"}, {"count": 2, "text": "Tested on Windows 7 x32 with FF Nightly 58.0a1(2017-09-21) and here are my results. I don't see any difference on title bar color, with the dark theme enabled, when the browser window is in maximize or in window mode. \n\nWindow in full size - https://imgur.com/a/2Vbb6\nWindow - not in full size - https://imgur.com/a/HwWkA\n\nTcapone can you please retest this with the latest Nightly? Thanks", "id": 12692490, "creation_time": "2017-09-22T08:02:02Z", "author": "ovidiu.boca@softvision.ro"}, {"count": 3, "text": "Based on comment 2 I will mark this as verified fixed. Tcapone please feel free to add a comment if your output is different. Thanks", "id": 12766260, "creation_time": "2017-10-17T13:54:32Z", "author": "ovidiu.boca@softvision.ro"}, {"count": 4, "text": "(In reply to ovidiu boca[:Ovidiu] from comment #2)\n> Tested on Windows 7 x32 with FF Nightly 58.0a1(2017-09-21) and here are my\n> results. I don't see any difference on title bar color, with the dark theme\n> enabled, when the browser window is in maximize or in window mode. \n> \n> Window in full size - https://imgur.com/a/2Vbb6\n> Window - not in full size - https://imgur.com/a/HwWkA\n> \n> Tcapone can you please retest this with the latest Nightly? Thanks\n\nSorry I didn't see the email. But it's \"fixed\" in the sense it's blue all the time. I thought it looked better when it was dark as in the second screen shot: https://i.imgur.com/7BN5uHP.png however.", "id": 12768489, "creation_time": "2017-10-18T01:49:36Z", "author": "tcapone@riseup.net"}, {"count": 5, "text": "Please see the attached file, this is the expected result for Windows 7 when Windows has Aero theme and Firefox has dark theme enabled. Please check what is your Windows theme, you can do that if you go to \"Personalize\". \nThanks", "id": 12768983, "creation_time": "2017-10-18T08:27:30Z", "author": "ovidiu.boca@softvision.ro"}, {"count": 6, "text": "Created attachment 8919649\nWindows 7 specification for Dark Theme(Aero theme for Windows 7).png", "id": 12769095, "creation_time": "2017-10-18T09:19:59Z", "author": "ovidiu.boca@softvision.ro"}, {"count": 7, "text": "(In reply to ovidiu boca[:Ovidiu] from comment #6)\n> Created attachment 8919649\n> Windows 7 specification for Dark Theme(Aero theme for Windows 7).png\n\nI'm using the Classic theme. If it's supposed to look like that (Title bar is blue, tabs are dark grey/black such as your example: https://i.imgur.com/4p6X8oI.png ) it's fine and fixed. Can I make it look like: https://i.imgur.com/7BN5uHP.png (Title bar matches theme more) with userChrome/userContent?", "id": 12772238, "creation_time": "2017-10-19T05:47:08Z", "author": "tcapone@riseup.net"}, {"count": 8, "text": "To be honest I don't know but maybe Johann can help us here.\nJohann, can you please take a look at comment 7? Thanks", "id": 12772429, "creation_time": "2017-10-19T07:29:53Z", "author": "ovidiu.boca@softvision.ro"}, {"count": 9, "text": "(In reply to tcapone from comment #7)\n> (In reply to ovidiu boca[:Ovidiu] from comment #6)\n> > Created attachment 8919649\n> > Windows 7 specification for Dark Theme(Aero theme for Windows 7).png\n> \n> I'm using the Classic theme. If it's supposed to look like that (Title bar\n> is blue, tabs are dark grey/black such as your example:\n> https://i.imgur.com/4p6X8oI.png ) it's fine and fixed. Can I make it look\n> like: https://i.imgur.com/7BN5uHP.png (Title bar matches theme more) with\n> userChrome/userContent?\n\nYes, off-hand that should be possible by overriding this rule in compacttheme.css: https://searchfox.org/mozilla-central/rev/1c4da216e00ac95b38a3f236e010b31cdfaae03b/browser/themes/windows/compacttheme.css#120\n\nBugzilla is really not the right place to discuss that, though. Please ask in a forum like https://www.reddit.com/r/FirefoxCSS/ if you need more help.", "id": 12776187, "creation_time": "2017-10-20T10:36:06Z", "author": "jhofmann@mozilla.com"}]}
{"cf_status_firefox68": "---", "blocks": [1389999], "cf_status_geckoview66": "---", "is_cc_accessible": true, "cf_status_thunderbird_esr52": "unaffected", "keywords": ["qawanted"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-08-25T23:28:06Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "adrian.florinescu@softvision.ro", "real_name": "Adrian Florinescu [:adrian_sv]", "name": "adrian.florinescu@softvision.ro", "nick": "adrian_sv", "id": 556562}, {"email": "bogdan.maris@softvision.ro", "real_name": "Bogdan Maris [:bogdan_maris], Release Desktop QA", "name": "bogdan.maris@softvision.ro", "nick": "bogdan_maris", "id": 458188}, {"email": "gasofie@softvision.ro", "real_name": "Gabi Cheta [:Gabi] Release Desktop QA", "name": "gasofie@softvision.ro", "nick": "Gabi", "id": 596939}, {"email": "gchang@mozilla.com", "real_name": "Gerry Chang [:gchang]", "name": "gchang@mozilla.com", "nick": "gchang", "id": 506302}, {"email": "lukechang1209@gmail.com", "real_name": "Luke Chang [:lchang] (inactive)", "name": "lukechang1209@gmail.com", "nick": "lchang", "id": 474785}, {"email": "MattN+bmo@mozilla.com", "real_name": "Matthew N. [:MattN] (PM me if requests are blocking you)", "name": "MattN+bmo@mozilla.com", "nick": "MattN", "id": 305228}, {"email": "ovidiu.boca@softvision.ro", "real_name": "ovidiu boca[:Ovidiu]", "name": "ovidiu.boca@softvision.ro", "nick": "Ovidiu", "id": 551038}, {"email": "rhelmer@mozilla.com", "real_name": "Robert Helmer [:rhelmer]", "name": "rhelmer@mozilla.com", "nick": "rhelmer", "id": 17036}, {"email": "selee@mozilla.com", "real_name": "Sean Lee [:seanlee][:weilonge]", "name": "selee@mozilla.com", "nick": "selee", "id": 519180}, {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}], "summary": "Uplift Form Autofill system add-on for 56 beta", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "cf_status_firefox55": "unaffected", "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P1", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "vchen@mozilla.com", "last_change_time": "2017-11-06T12:50:35Z", "cf_fission_milestone": "---", "comment_count": 82, "creator_detail": {"email": "vchen@mozilla.com", "real_name": "Vance Chen [:vchen][skype:vance.lucida][vchen@mozilla.com]", "name": "vchen@mozilla.com", "nick": "vchen", "id": 488321}, "cc": ["adrian.florinescu@softvision.ro", "bogdan.maris@softvision.ro", "gasofie@softvision.ro", "gchang@mozilla.com", "lukechang1209@gmail.com", "MattN+bmo@mozilla.com", "ovidiu.boca@softvision.ro", "rhelmer@mozilla.com", "selee@mozilla.com", "steveck324@gmail.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "steveck324@gmail.com", "groups": [], "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=990176", "https://bugzilla.mozilla.org/show_bug.cgi?id=1398656"], "id": 1390433, "whiteboard": "[SHERIFFS: MattN will uplift] [go-faster-system-addon] [form autofill:MVP]", "creation_time": "2017-08-15T07:19:51Z", "depends_on": [], "cf_status_firefox56": "verified", "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "VERIFIED", "cf_crash_signature": "", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "cf_status_firefox_esr52": "unaffected", "flags": [{"modification_date": "2017-08-18T16:49:11Z", "creation_date": "2017-08-18T16:49:11Z", "type_id": 37, "status": "+", "name": "in-testsuite", "id": 1632008, "setter": "MattN+bmo@mozilla.com"}, {"modification_date": "2017-08-18T16:49:11Z", "creation_date": "2017-08-18T16:49:11Z", "type_id": 864, "status": "+", "name": "qe-verify", "id": 1632009, "setter": "MattN+bmo@mozilla.com"}], "cf_tracking_firefox68": "---", "cf_status_firefox57": "verified", "component": "Form Manager", "product": "Toolkit", "target_milestone": "mozilla57", "cf_tracking_firefox56": "+", "history": [{"when": "2017-08-15T18:35:46Z", "changes": [{"removed": "[go-faster-system-addon]", "added": "[go-faster-system-addon] [form autofill:MVP]", "field_name": "whiteboard"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2017-08-18T02:30:12Z", "changes": [{"removed": "Land Form Autofill as a system add-on for 56 beta", "added": "Uplift Form Autofill system add-on for 56 beta", "field_name": "summary"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2017-08-18T08:18:43Z", "changes": [{"attachment_id": 8898662, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-18T09:25:03Z", "changes": [{"attachment_id": 8898684, "removed": "", "added": "review?(MattN+bmo@mozilla.com), review?(schung@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898685, "removed": "", "added": "review?(lchang@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898686, "removed": "", "added": "review?(schung@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898687, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898688, "removed": "", "added": "review?(schung@mozilla.com), review?(selee@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898689, "removed": "", "added": "review?(selee@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898690, "removed": "", "added": "review?(rhelmer@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898691, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898692, "removed": "", "added": "review?(lchang@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898693, "removed": "", "added": "review?(MattN+bmo@mozilla.com), review?(selee@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898694, "removed": "", "added": "review?(MattN+bmo@mozilla.com), review?(selee@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898695, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898696, "removed": "", "added": "review?(lchang@mozilla.com), review?(selee@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898697, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898698, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898699, "removed": "", "added": "review?(lchang@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898700, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898701, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-18T09:27:24Z", "changes": [{"attachment_id": 8898683, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898684, "removed": "review?(schung@mozilla.com)", "added": "", "field_name": "flagtypes.name"}, {"attachment_id": 8898685, "removed": "review?(lchang@mozilla.com)", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898686, "removed": "review?(schung@mozilla.com)", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898688, "removed": "review?(schung@mozilla.com), review?(selee@mozilla.com)", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898689, "removed": "review?(selee@mozilla.com)", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898690, "removed": "review?(rhelmer@mozilla.com)", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898692, "removed": "review?(lchang@mozilla.com)", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898693, "removed": "review?(selee@mozilla.com)", "added": "", "field_name": "flagtypes.name"}, {"attachment_id": 8898694, "removed": "review?(selee@mozilla.com)", "added": "", "field_name": "flagtypes.name"}, {"attachment_id": 8898696, "removed": "review?(lchang@mozilla.com), review?(selee@mozilla.com)", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"attachment_id": 8898699, "removed": "review?(lchang@mozilla.com)", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-18T16:31:16Z", "changes": [{"attachment_id": 8898662, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2017-08-18T16:47:16Z", "changes": [{"attachment_id": 8898662, "removed": "", "added": "approval-mozilla-beta?", "field_name": "flagtypes.name"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2017-08-18T16:49:11Z", "changes": [{"removed": "", "added": "qawanted", "field_name": "keywords"}, {"removed": "--", "added": "P1", "field_name": "priority"}, {"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "nobody@mozilla.org", "added": "schung@mozilla.com", "field_name": "assigned_to"}, {"removed": "", "added": "in-testsuite+, qe-verify+", "field_name": "flagtypes.name"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_thunderbird_esr52"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox_esr52"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox55"}, {"removed": "---", "added": "?", "field_name": "cf_tracking_firefox56"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox56"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox57"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2017-08-18T16:51:09Z", "changes": [{"removed": "[go-faster-system-addon] [form autofill:MVP]", "added": "[SHERIFFS: MattN will uplift] [go-faster-system-addon] [form autofill:MVP]", "field_name": "whiteboard"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2017-08-21T03:13:08Z", "changes": [{"attachment_id": 8898662, "removed": "", "added": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:11Z", "changes": [{"attachment_id": 8898683, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898683, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:12Z", "changes": [{"attachment_id": 8898684, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898684, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:14Z", "changes": [{"attachment_id": 8898685, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898685, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:16Z", "changes": [{"attachment_id": 8898686, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898686, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:17Z", "changes": [{"attachment_id": 8898687, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}, {"attachment_id": 8898687, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:19Z", "changes": [{"attachment_id": 8898688, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898688, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:21Z", "changes": [{"attachment_id": 8898689, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898689, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:23Z", "changes": [{"attachment_id": 8898690, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898690, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:25Z", "changes": [{"attachment_id": 8898691, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898691, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:27Z", "changes": [{"attachment_id": 8898692, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898692, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:29Z", "changes": [{"attachment_id": 8898693, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898693, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:31Z", "changes": [{"attachment_id": 8898694, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898694, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:33Z", "changes": [{"attachment_id": 8898695, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898695, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:35Z", "changes": [{"attachment_id": 8898696, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898696, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:37Z", "changes": [{"attachment_id": 8898697, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898697, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:38Z", "changes": [{"attachment_id": 8898698, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898698, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:40Z", "changes": [{"attachment_id": 8898699, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898699, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:42Z", "changes": [{"attachment_id": 8898700, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898700, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T03:13:43Z", "changes": [{"attachment_id": 8898701, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8898701, "removed": "review?(MattN+bmo@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-21T08:58:20Z", "changes": [{"removed": "", "added": "bogdan.maris@softvision.ro, gasofie@softvision.ro", "field_name": "cc"}], "who": "bogdan.maris@softvision.ro"}, {"when": "2017-08-21T14:43:08Z", "changes": [{"attachment_id": 8898662, "removed": "review?(MattN+bmo@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2017-08-22T02:58:15Z", "changes": [{"attachment_id": 8899399, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:17Z", "changes": [{"attachment_id": 8899400, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:19Z", "changes": [{"attachment_id": 8899401, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:21Z", "changes": [{"attachment_id": 8899402, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:23Z", "changes": [{"attachment_id": 8899403, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:25Z", "changes": [{"attachment_id": 8899404, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:27Z", "changes": [{"attachment_id": 8899405, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:29Z", "changes": [{"attachment_id": 8899406, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:31Z", "changes": [{"attachment_id": 8899407, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:32Z", "changes": [{"attachment_id": 8899408, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:35Z", "changes": [{"attachment_id": 8899409, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:36Z", "changes": [{"attachment_id": 8899410, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:38Z", "changes": [{"attachment_id": 8899411, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:41Z", "changes": [{"attachment_id": 8899412, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:43Z", "changes": [{"attachment_id": 8899413, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:44Z", "changes": [{"attachment_id": 8899414, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:46Z", "changes": [{"attachment_id": 8899415, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:48Z", "changes": [{"attachment_id": 8899416, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T02:58:50Z", "changes": [{"attachment_id": 8899417, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "steveck324@gmail.com"}, {"when": "2017-08-22T10:09:45Z", "changes": [{"removed": "", "added": "gchang@mozilla.com", "field_name": "cc"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox56"}], "who": "gchang@mozilla.com"}, {"when": "2017-08-23T03:07:07Z", "changes": [{"removed": "", "added": "1389999", "field_name": "blocks"}], "who": "lukechang1209@gmail.com"}, {"when": "2017-08-23T18:39:58Z", "changes": [{"attachment_id": 8898662, "removed": "approval-mozilla-beta?", "added": "approval-mozilla-beta+", "field_name": "flagtypes.name"}], "who": "lhenry@mozilla.com"}, {"when": "2017-08-24T19:02:24Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox56"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2017-08-25T23:28:06Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla57", "field_name": "target_milestone"}, {"removed": "", "added": "2017-08-25T23:28:06Z", "field_name": "cf_last_resolved"}], "who": "wkocher@mozilla.com"}, {"when": "2017-09-11T03:30:17Z", "changes": [{"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1398656", "field_name": "see_also"}], "who": "lukechang1209@gmail.com"}, {"when": "2017-11-06T12:50:24Z", "changes": [{"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox56"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox57"}], "who": "gasofie@softvision.ro"}, {"when": "2017-11-06T12:50:35Z", "changes": [{"removed": "RESOLVED", "added": "VERIFIED", "field_name": "status"}], "who": "gasofie@softvision.ro"}], "attachments": [{"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [{"modification_date": "2017-08-21T14:43:08Z", "creation_date": "2017-08-21T03:13:08Z", "type_id": 937, "status": "+", "name": "review", "id": 1632497, "setter": "MattN+bmo@mozilla.com"}, {"modification_date": "2017-08-23T18:39:58Z", "creation_date": "2017-08-18T16:47:16Z", "type_id": 721, "status": "+", "name": "approval-mozilla-beta", "id": 1632007, "setter": "lhenry@mozilla.com"}], "is_patch": 0, "creation_time": "2017-08-18T08:18:43Z", "id": 8898662, "is_obsolete": 0}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898683, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898684, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898685, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898686, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898687, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898688, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898689, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898690, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898691, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898692, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898693, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898694, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898695, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898696, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898697, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898698, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898699, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898700, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-18T09:25:03Z", "id": 8898701, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899399, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899400, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899401, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899402, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899403, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899404, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899405, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899406, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899407, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899408, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899409, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899410, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899411, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899412, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899413, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899414, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899415, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899416, "is_obsolete": 1}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "steveck324@gmail.com", "real_name": "Steve Chung [:steveck]", "name": "steveck324@gmail.com", "nick": "steveck", "id": 442359}, "creator": "steveck324@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-08-21T10:34:43Z", "id": 8899417, "is_obsolete": 1}], "comments": [{"count": 0, "text": "(This is the wrong Product/Component maybe...)\n\nThis bug exists to track the uplift of Form Autofill to 56 beta and the staged rollout. \n\nWiki : https://wiki.mozilla.org/Firefox/Features/Form_Autofill\nCode : https://dxr.mozilla.org/mozilla-central/source/browser/extensions/formautofill/", "id": 12567084, "creation_time": "2017-08-15T07:19:51Z", "author": "vchen@mozilla.com"}, {"count": 1, "text": "The summary was confusing some people.", "id": 12577223, "creation_time": "2017-08-18T02:30:12Z", "author": "MattN+bmo@mozilla.com"}, {"count": 2, "text": "Created attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nReview commit: https://reviewboard.mozilla.org/r/170054/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170054/", "id": 12577760, "creation_time": "2017-08-18T08:18:43Z", "author": "steveck324@gmail.com"}, {"count": 3, "text": "Created attachment 8898683\nBug 1390433 - (From 1385813)[Form Autofill] Set the width of edit address dialog on html markup rather than in css\n\nReview commit: https://reviewboard.mozilla.org/r/170068/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170068/", "id": 12577889, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 4, "text": "Created attachment 8898684\nBug 1390433 - (From 1386120)Flip \"dom.forms.autocomplete.formautofill\" according to the availability of Form Autofill feature.\n\nReview commit: https://reviewboard.mozilla.org/r/170070/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170070/", "id": 12577890, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 5, "text": "Created attachment 8898685\nBug 1390433 - (From 1387611)Delay formautofill system add-on updates until the next restart.\n\nReview commit: https://reviewboard.mozilla.org/r/170072/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170072/", "id": 12577891, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 6, "text": "Created attachment 8898686\nBug 1390433 - (From 1384185)[Form Autofill] Fallback to form-history when available values from saved profiles are less than 3.\n\nReview commit: https://reviewboard.mozilla.org/r/170074/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170074/", "id": 12577892, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 7, "text": "Created attachment 8898687\nBug 1390433 - (From 1358960)\"united state\" string should not be recognized as \"address-level1\".\n\nReview commit: https://reviewboard.mozilla.org/r/170076/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170076/", "id": 12577893, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 8, "text": "Created attachment 8898688\nBug 1390433 - (From 1385216)[Form Autofill] Avoid triggering update on fields that aren't changed after autofilling or contain concatenated street address.\n\nReview commit: https://reviewboard.mozilla.org/r/170078/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170078/", "id": 12577894, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 9, "text": "Created attachment 8898689\nBug 1390433 - (From 1375382)[Form Autofill] Handle filling in country field select element.\n\nReview commit: https://reviewboard.mozilla.org/r/170080/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170080/", "id": 12577895, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 10, "text": "Created attachment 8898690\nBug 1390433 - (From 1388078)Form Autofill: Delay adding the AOM upgrade listener until the XPI DB is loaded.\n\nReview commit: https://reviewboard.mozilla.org/r/170082/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170082/", "id": 12577896, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 11, "text": "Created attachment 8898691\nBug 1390433 - (From 1385196)[Form Autofill] Enable the feature based on locale and geoip.\n\nReview commit: https://reviewboard.mozilla.org/r/170084/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170084/", "id": 12577897, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 12, "text": "Created attachment 8898692\nBug 1390433 - (From 1385196)[Form Autofill] Test: Enable the feature based on locale and geoip.\n\nReview commit: https://reviewboard.mozilla.org/r/170086/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170086/", "id": 12577898, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 13, "text": "Created attachment 8898693\nBug 1390433 - (From 1371149)Part 1. Show insecure field in credit card autofill dropdown instead of result when the connection is not secure.\n\nReview commit: https://reviewboard.mozilla.org/r/170088/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170088/", "id": 12577899, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 14, "text": "Created attachment 8898694\nBug 1390433 - (From 1371149)Part 2. Add a chrome browser test for form autofill insecure field.\n\nReview commit: https://reviewboard.mozilla.org/r/170090/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170090/", "id": 12577900, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 15, "text": "Created attachment 8898695\nBug 1390433 - (From 1385179)Enable addresses sync engine as formautofill initializes.\n\nReview commit: https://reviewboard.mozilla.org/r/170092/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170092/", "id": 12577901, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 16, "text": "Created attachment 8898696\nBug 1390433 - (From 1380910)Enhance form autofill note by showing the categories intersection of result fields and form fields instead of their union.\n\nReview commit: https://reviewboard.mozilla.org/r/170094/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170094/", "id": 12577902, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 17, "text": "Created attachment 8898697\nBug 1390433 - (From 1388238)Implement waitForMasterPasswordDialog helper which handles open dialogs.\n\nReview commit: https://reviewboard.mozilla.org/r/170096/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170096/", "id": 12577903, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 18, "text": "Created attachment 8898698\nBug 1390433 - (From 1388238)Add encrypt/decrypt methods to MasterPassword.jsm.\n\nReview commit: https://reviewboard.mozilla.org/r/170098/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170098/", "id": 12577904, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 19, "text": "Created attachment 8898699\nBug 1390433 - (From 1337314)Encrypt card number while normallizing field.\n\nReview commit: https://reviewboard.mozilla.org/r/170100/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170100/", "id": 12577905, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 20, "text": "Created attachment 8898700\nBug 1390433 - (From 1383058)Always adopt the info from autocomplete attribute.\n\nReview commit: https://reviewboard.mozilla.org/r/170102/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170102/", "id": 12577906, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 21, "text": "Created attachment 8898701\nBug 1390433 - (From 1387988)[Form Autofill] Move \"findLabelElements\" function to FormAutofillHeuristics.jsm.\n\nReview commit: https://reviewboard.mozilla.org/r/170104/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170104/", "id": 12577907, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 22, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170054/diff/1-2/", "id": 12577908, "creation_time": "2017-08-18T09:25:03Z", "author": "steveck324@gmail.com"}, {"count": 23, "text": "Comment on attachment 8898683\nBug 1390433 - (From 1385813)[Form Autofill] Set the width of edit address dialog on html markup rather than in css\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170068/diff/1-2/", "id": 12578107, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 24, "text": "Comment on attachment 8898684\nBug 1390433 - (From 1386120)Flip \"dom.forms.autocomplete.formautofill\" according to the availability of Form Autofill feature.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170070/diff/1-2/", "id": 12578108, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 25, "text": "Comment on attachment 8898685\nBug 1390433 - (From 1387611)Delay formautofill system add-on updates until the next restart.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170072/diff/1-2/", "id": 12578109, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 26, "text": "Comment on attachment 8898686\nBug 1390433 - (From 1384185)[Form Autofill] Fallback to form-history when available values from saved profiles are less than 3.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170074/diff/1-2/", "id": 12578110, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 27, "text": "Comment on attachment 8898687\nBug 1390433 - (From 1358960)\"united state\" string should not be recognized as \"address-level1\".\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170076/diff/1-2/", "id": 12578111, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 28, "text": "Comment on attachment 8898688\nBug 1390433 - (From 1385216)[Form Autofill] Avoid triggering update on fields that aren't changed after autofilling or contain concatenated street address.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170078/diff/1-2/", "id": 12578112, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 29, "text": "Comment on attachment 8898689\nBug 1390433 - (From 1375382)[Form Autofill] Handle filling in country field select element.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170080/diff/1-2/", "id": 12578113, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 30, "text": "Comment on attachment 8898690\nBug 1390433 - (From 1388078)Form Autofill: Delay adding the AOM upgrade listener until the XPI DB is loaded.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170082/diff/1-2/", "id": 12578114, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 31, "text": "Comment on attachment 8898691\nBug 1390433 - (From 1385196)[Form Autofill] Enable the feature based on locale and geoip.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170084/diff/1-2/", "id": 12578115, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 32, "text": "Comment on attachment 8898692\nBug 1390433 - (From 1385196)[Form Autofill] Test: Enable the feature based on locale and geoip.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170086/diff/1-2/", "id": 12578116, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 33, "text": "Comment on attachment 8898693\nBug 1390433 - (From 1371149)Part 1. Show insecure field in credit card autofill dropdown instead of result when the connection is not secure.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170088/diff/1-2/", "id": 12578117, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 34, "text": "Comment on attachment 8898694\nBug 1390433 - (From 1371149)Part 2. Add a chrome browser test for form autofill insecure field.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170090/diff/1-2/", "id": 12578118, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 35, "text": "Comment on attachment 8898695\nBug 1390433 - (From 1385179)Enable addresses sync engine as formautofill initializes.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170092/diff/1-2/", "id": 12578119, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 36, "text": "Comment on attachment 8898696\nBug 1390433 - (From 1380910)Enhance form autofill note by showing the categories intersection of result fields and form fields instead of their union.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170094/diff/1-2/", "id": 12578120, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 37, "text": "Comment on attachment 8898697\nBug 1390433 - (From 1388238)Implement waitForMasterPasswordDialog helper which handles open dialogs.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170096/diff/1-2/", "id": 12578121, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 38, "text": "Comment on attachment 8898698\nBug 1390433 - (From 1388238)Add encrypt/decrypt methods to MasterPassword.jsm.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170098/diff/1-2/", "id": 12578122, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 39, "text": "Comment on attachment 8898699\nBug 1390433 - (From 1337314)Encrypt card number while normallizing field.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170100/diff/1-2/", "id": 12578123, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 40, "text": "Comment on attachment 8898700\nBug 1390433 - (From 1383058)Always adopt the info from autocomplete attribute.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170102/diff/1-2/", "id": 12578124, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 41, "text": "Comment on attachment 8898701\nBug 1390433 - (From 1387988)[Form Autofill] Move \"findLabelElements\" function to FormAutofillHeuristics.jsm.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170104/diff/1-2/", "id": 12578125, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 42, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170054/diff/2-3/", "id": 12578126, "creation_time": "2017-08-18T10:48:46Z", "author": "steveck324@gmail.com"}, {"count": 43, "text": "We have a packaging problem on the try push:\n\nLinux x64 opt Executed by TaskCluster build-linux64/opt tc(B):\n> Error: Locale doesn't have a manifest entry for 'formautofill'", "id": 12578972, "creation_time": "2017-08-18T15:58:48Z", "author": "MattN+bmo@mozilla.com"}, {"count": 44, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nhttps://reviewboard.mozilla.org/r/170054/#review175370\n\n::: browser/extensions/moz.build:12\n(Diff revision 3)\n>      'followonsearch',\n> +    'formautofill',\n>      'onboarding',\n\nWhen this move to mozilla-release it will be enabled for all en-US US users on day 1. If we're still doing a gradual rollout as a system add-on then we should probably either change the moz.build or `startup` in bootstrap.js to not run if we're on the release channel.\n\nMaybe:\n```python\n# formautofill will be rolled out via balrog in release\nif CONFIG['MOZ_UPDATE_CHANNEL'] != 'release':\n```", "id": 12579090, "creation_time": "2017-08-18T16:31:16Z", "author": "MattN+bmo@mozilla.com"}, {"count": 45, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nApproval Request Comment\n[Feature/Bug causing the regression]: https://wiki.mozilla.org/Firefox/Features/Form_Autofill\n[User impact if declined]: No autofill for en-US users in the US\n[Is this code covered by automated tests?]: yes, both bc and xpcshell\n[Has the fix been verified in Nightly?]: yes, it got pre-beta signoff\n[Needs manual test from QE? If yes, steps to reproduce]: Yes, QA will do another pass.\n[List of other uplifts needed for the feature/fix]: This will be uplifted with the following changes https://reviewboard-hg.mozilla.org/gecko/log?rev=f5ef86828ee4%3A%3Ab37ae4700658&revcount=40\n[Is the change risky?]: Usual risk from a new feature. This feature has been enabled on Nightly for a few cycles now during development.\n[Why is the change risky/not risky?]: It's enabling a new feature on beta that needed some more polish before enabling on beta despite QA signoff.\n[String changes made/needed]: The feature isn't localized yet since it's only for en-US for now. flod and pike are aware of this. The strings directory is excluded from localization tooling so it won't cause issues.", "id": 12579144, "creation_time": "2017-08-18T16:47:16Z", "author": "MattN+bmo@mozilla.com"}, {"count": 46, "text": "Vance has pointed Adrian to the try push build to verify.", "id": 12579157, "creation_time": "2017-08-18T16:51:09Z", "author": "MattN+bmo@mozilla.com"}, {"count": 47, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170054/diff/3-4/", "id": 12583447, "creation_time": "2017-08-21T03:13:08Z", "author": "steveck324@gmail.com"}, {"count": 48, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170054/diff/4-5/", "id": 12583903, "creation_time": "2017-08-21T08:34:26Z", "author": "steveck324@gmail.com"}, {"count": 49, "text": "(In reply to Matthew N. [:MattN] (huge backlog; PM if requests are blocking you) from comment #46)\n> Vance has pointed Adrian to the try push build to verify.\n\nAdrian has handed over the Autofill efforts to Release Desktop QA Team, so Gabi will handle it from now on. She will do the sanity check by tomorrow EOD (due to workload).", "id": 12583951, "creation_time": "2017-08-21T08:58:20Z", "author": "bogdan.maris@softvision.ro"}, {"count": 50, "text": "Created attachment 8899399\nBug 1390433 - (From 1385813)[Form Autofill] Set the width of edit address dialog on html markup rather than in css\n\nReview commit: https://reviewboard.mozilla.org/r/170646/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170646/", "id": 12584144, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 51, "text": "Created attachment 8899400\nBug 1390433 - (From 1386120)Flip \"dom.forms.autocomplete.formautofill\" according to the availability of Form Autofill feature.\n\nReview commit: https://reviewboard.mozilla.org/r/170648/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170648/", "id": 12584145, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 52, "text": "Created attachment 8899401\nBug 1390433 - (From 1387611)Delay formautofill system add-on updates until the next restart.\n\nReview commit: https://reviewboard.mozilla.org/r/170650/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170650/", "id": 12584146, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 53, "text": "Created attachment 8899402\nBug 1390433 - (From 1384185)[Form Autofill] Fallback to form-history when available values from saved profiles are less than 3.\n\nReview commit: https://reviewboard.mozilla.org/r/170652/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170652/", "id": 12584147, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 54, "text": "Created attachment 8899403\nBug 1390433 - (From 1358960)\"united state\" string should not be recognized as \"address-level1\".\n\nReview commit: https://reviewboard.mozilla.org/r/170654/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170654/", "id": 12584148, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 55, "text": "Created attachment 8899404\nBug 1390433 - (From 1385216)[Form Autofill] Avoid triggering update on fields that aren't changed after autofilling or contain concatenated street address.\n\nReview commit: https://reviewboard.mozilla.org/r/170656/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170656/", "id": 12584149, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 56, "text": "Created attachment 8899405\nBug 1390433 - (From 1375382)[Form Autofill] Handle filling in country field select element.\n\nReview commit: https://reviewboard.mozilla.org/r/170658/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170658/", "id": 12584150, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 57, "text": "Created attachment 8899406\nBug 1390433 - (From 1388078)Form Autofill: Delay adding the AOM upgrade listener until the XPI DB is loaded.\n\nReview commit: https://reviewboard.mozilla.org/r/170660/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170660/", "id": 12584151, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 58, "text": "Created attachment 8899407\nBug 1390433 - (From 1385196)[Form Autofill] Enable the feature based on locale and geoip.\n\nReview commit: https://reviewboard.mozilla.org/r/170662/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170662/", "id": 12584152, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 59, "text": "Created attachment 8899408\nBug 1390433 - (From 1385196)[Form Autofill] Test: Enable the feature based on locale and geoip.\n\nReview commit: https://reviewboard.mozilla.org/r/170664/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170664/", "id": 12584153, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 60, "text": "Created attachment 8899409\nBug 1390433 - (From 1371149)Part 1. Show insecure field in credit card autofill dropdown instead of result when the connection is not secure.\n\nReview commit: https://reviewboard.mozilla.org/r/170666/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170666/", "id": 12584154, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 61, "text": "Created attachment 8899410\nBug 1390433 - (From 1371149)Part 2. Add a chrome browser test for form autofill insecure field.\n\nReview commit: https://reviewboard.mozilla.org/r/170668/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170668/", "id": 12584155, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 62, "text": "Created attachment 8899411\nBug 1390433 - (From 1385179)Enable addresses sync engine as formautofill initializes.\n\nReview commit: https://reviewboard.mozilla.org/r/170670/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170670/", "id": 12584156, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 63, "text": "Created attachment 8899412\nBug 1390433 - (From 1380910)Enhance form autofill note by showing the categories intersection of result fields and form fields instead of their union.\n\nReview commit: https://reviewboard.mozilla.org/r/170672/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170672/", "id": 12584157, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 64, "text": "Created attachment 8899413\nBug 1390433 - (From 1388238)Implement waitForMasterPasswordDialog helper which handles open dialogs.\n\nReview commit: https://reviewboard.mozilla.org/r/170674/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170674/", "id": 12584158, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 65, "text": "Created attachment 8899414\nBug 1390433 - (From 1388238)Add encrypt/decrypt methods to MasterPassword.jsm.\n\nReview commit: https://reviewboard.mozilla.org/r/170676/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170676/", "id": 12584159, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 66, "text": "Created attachment 8899415\nBug 1390433 - (From 1337314)Encrypt card number while normallizing field.\n\nReview commit: https://reviewboard.mozilla.org/r/170678/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170678/", "id": 12584160, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 67, "text": "Created attachment 8899416\nBug 1390433 - (From 1383058)Always adopt the info from autocomplete attribute.\n\nReview commit: https://reviewboard.mozilla.org/r/170680/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170680/", "id": 12584161, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 68, "text": "Created attachment 8899417\nBug 1390433 - (From 1387988)[Form Autofill] Move \"findLabelElements\" function to FormAutofillHeuristics.jsm.\n\nReview commit: https://reviewboard.mozilla.org/r/170682/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/170682/", "id": 12584162, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 69, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170054/diff/5-6/", "id": 12584163, "creation_time": "2017-08-21T10:34:43Z", "author": "steveck324@gmail.com"}, {"count": 70, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nhttps://reviewboard.mozilla.org/r/170054/#review175920\n\nI still think you should rebase this on top of https://reviewboard-hg.mozilla.org/gecko/rev/83bdb145862a so that you get back the proper original commit messages.", "id": 12584740, "creation_time": "2017-08-21T14:43:08Z", "author": "MattN+bmo@mozilla.com"}, {"count": 71, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nhttps://reviewboard.mozilla.org/r/170054/#review175924\n\n::: browser/locales/Makefile.in\n(Diff revision 6)\n> -ifndef RELEASE_OR_BETA\n>  \t@$(MAKE) -C ../extensions/formautofill/locales AB_CD=$* XPI_NAME=locale-$*\n> -endif\n\nIsn't this going to fail when `CONFIG['MOZ_UPDATE_CHANNEL'] != 'release'`?", "id": 12584771, "creation_time": "2017-08-21T14:54:47Z", "author": "MattN+bmo@mozilla.com"}, {"count": 72, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nhttps://reviewboard.mozilla.org/r/170054/#review175972\n\n::: browser/locales/Makefile.in\n(Diff revision 6)\n> -ifndef RELEASE_OR_BETA\n>  \t@$(MAKE) -C ../extensions/formautofill/locales AB_CD=$* XPI_NAME=locale-$*\n> -endif\n\nSo here would be `ifndef RELEASE` ? BTW, are we sure  to ship it only in beta? I heard that Vance might have different thought.", "id": 12585177, "creation_time": "2017-08-21T16:46:37Z", "author": "steveck324@gmail.com"}, {"count": 73, "text": "\n> So here would be `ifndef RELEASE` ? BTW, are we sure  to ship it only in\n> beta? I heard that Vance might have different thought.\n\nAs far as I know, how to do with release channel are yet to decide. But for Beta we are just going to have Address fill part included in beta. Probably Beta 6 based on the current schedule.", "id": 12585199, "creation_time": "2017-08-21T16:52:51Z", "author": "vchen@mozilla.com"}, {"count": 74, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/170054/diff/6-7/", "id": 12586504, "creation_time": "2017-08-22T02:58:12Z", "author": "steveck324@gmail.com"}, {"count": 75, "text": "Track 56+ as this feature will be enabled in Beta56.", "id": 12587264, "creation_time": "2017-08-22T10:09:45Z", "author": "gchang@mozilla.com"}, {"count": 76, "text": "Sanity Check Form Autofill feature is done on macOS 10.12 and Ubuntu 16.04 x64 using try build: https://treeherder.mozilla.org/#/jobs?repo=try&revision=04cc6bb1dac3\n\n3 new tickets were logged but none of them blockers, we do recommend that bug 1393001 gets fixed because it has a direct impact on users.", "id": 12591503, "creation_time": "2017-08-23T14:24:06Z", "author": "gasofie@softvision.ro"}, {"count": 77, "text": "Comment on attachment 8898662\nBug 1390433 - Uplift Form Autofill system add-on for 56 beta.\n\nLet's uplift this and enable for beta users in beta 6. It sounds like we would like to test it with the beta audience.\n\nThis will still need more testing (on beta) and a final go/no-go decision for 56 release, though.", "id": 12592625, "creation_time": "2017-08-23T18:39:58Z", "author": "lhenry@mozilla.com"}, {"count": 78, "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/33a4e7ead964", "id": 12597160, "creation_time": "2017-08-24T19:02:24Z", "author": "MattN+bmo@mozilla.com"}, {"count": 79, "text": "Pushed by mozilla@noorenberghe.ca:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/3d38ebe3179e\nUplift Form Autofill system add-on for 56 beta. r=MattN", "id": 12600353, "creation_time": "2017-08-25T16:58:37Z", "author": "pulsebot@bots.tld"}, {"count": 80, "text": "https://hg.mozilla.org/mozilla-central/rev/3d38ebe3179e", "id": 12601481, "creation_time": "2017-08-25T23:28:06Z", "author": "wkocher@mozilla.com"}, {"count": 81, "text": "Form Autofill Address was tested on beta 56 and verified in 57.0b14 under Windows 10x64, Ubuntu 14.4 and MacOS 10.12.6.", "id": 12820742, "creation_time": "2017-11-06T12:50:10Z", "author": "gasofie@softvision.ro"}]}
{"cf_status_firefox68": "---", "blocks": [1488587], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2018-09-05T09:51:29Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "enes.goktas@gmail.com", "real_name": "Enes G\u00f6kta\u015f [:egoktas]", "name": "enes.goktas@gmail.com", "nick": "egoktas", "id": 575030}], "summary": "Build the LLVM gold plugin", "cf_has_str": "---", "cf_user_story": "", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]", "name": "mh+mozilla@glandium.org", "nick": "glandium", "id": 47192}, "creator": "mh+mozilla@glandium.org", "last_change_time": "2018-11-22T21:14:31Z", "cf_fission_milestone": "---", "creator_detail": {"email": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]", "name": "mh+mozilla@glandium.org", "nick": "glandium", "id": 47192}, "comment_count": 8, "cc": ["enes.goktas@gmail.com"], "duplicates": [1286788], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "mh+mozilla@glandium.org", "groups": [], "see_also": [], "id": 1488307, "whiteboard": "", "creation_time": "2018-09-04T01:32:41Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "enhancement", "classification": "Developer Infrastructure", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "RESOLVED", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_status_firefox64": "fixed", "cf_tracking_firefox68": "---", "component": "Toolchains", "product": "Firefox Build System", "target_milestone": "mozilla64", "history": [{"when": "2018-09-04T19:00:08Z", "changes": [{"attachment_id": 9006126, "removed": "", "added": "review+", "field_name": "flagtypes.name"}], "who": "mshal@mozilla.com"}, {"when": "2018-09-04T22:07:37Z", "changes": [{"removed": "", "added": "1488587", "field_name": "blocks"}], "who": "mh+mozilla@glandium.org"}, {"when": "2018-09-05T09:51:29Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla64", "field_name": "target_milestone"}, {"removed": "", "added": "2018-09-05T09:51:29Z", "field_name": "cf_last_resolved"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox64"}], "who": "aryx.bugmail@gmx-topmail.de"}, {"when": "2018-09-06T12:25:31Z", "changes": [{"removed": "", "added": "1489105", "field_name": "depends_on"}], "who": "jmaher@mozilla.com"}, {"when": "2018-09-06T21:46:55Z", "changes": [{"removed": "1489105", "added": "", "field_name": "depends_on"}], "who": "mh+mozilla@glandium.org"}, {"when": "2018-11-22T21:14:31Z", "changes": [{"removed": "", "added": "enes.goktas@gmail.com", "field_name": "cc"}], "who": "mh+mozilla@glandium.org"}], "comments": [{"count": 0, "text": "", "id": 13589333, "creation_time": "2018-09-04T01:32:41Z", "author": "mh+mozilla@glandium.org"}, {"count": 1, "text": "Created attachment 9006126\nBug 1488307 - Build the LLVM gold plugin. r?build\n\nAs must as it's tempting to use LLD for LTO, it still causes some\nsubtle problems with the build, and it's still better to keep using\nBFD ld for the time being. Doing so requires the gold plugin, which\nonly requires to pass cmake the directory where the binutils headers\nare, and they are part of the gcc toolchain headers.", "id": 13589337, "creation_time": "2018-09-04T01:37:47Z", "author": "mh+mozilla@glandium.org"}, {"count": 2, "text": "Comment on attachment 9006126\nBug 1488307 - Build the LLVM gold plugin. r?build\n\nMichael Shal [:mshal] has approved the revision.", "id": 13591142, "creation_time": "2018-09-04T19:00:08Z", "author": "mshal@mozilla.com"}, {"count": 3, "text": "Pushed by mh@glandium.org:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/c2b5cf7bde83\nBuild the LLVM gold plugin. r=mshal", "id": 13591626, "creation_time": "2018-09-04T21:51:14Z", "author": "pulsebot@bots.tld"}, {"count": 4, "text": "Backout by mh@glandium.org:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/faba20592c04\nBackout changeset c2b5cf7bde83 to give time to toolchains to build without blocking other landings.", "id": 13591652, "creation_time": "2018-09-04T22:01:22Z", "author": "pulsebot@bots.tld"}, {"count": 5, "text": "Pushed by mh@glandium.org:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/e2a02b08089b\nBuild the LLVM gold plugin. r=mshal", "id": 13591938, "creation_time": "2018-09-05T00:37:16Z", "author": "pulsebot@bots.tld"}, {"count": 6, "text": "https://hg.mozilla.org/mozilla-central/rev/e2a02b08089b", "id": 13592567, "creation_time": "2018-09-05T09:51:29Z", "author": "aryx.bugmail@gmx-topmail.de"}, {"count": 7, "text": "*** Bug 1286788 has been marked as a duplicate of this bug. ***", "id": 13773990, "creation_time": "2018-11-22T21:14:31Z", "author": "mh+mozilla@glandium.org"}], "attachments": [{"content_type": "text/x-phabricator-request", "creator_detail": {"email": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]", "name": "mh+mozilla@glandium.org", "nick": "glandium", "id": 47192}, "creator": "mh+mozilla@glandium.org", "flags": [{"modification_date": "2018-09-04T19:00:08Z", "creation_date": "2018-09-04T19:00:08Z", "type_id": 4, "status": "+", "name": "review", "id": 1800768, "setter": "mshal@mozilla.com"}], "is_patch": 0, "creation_time": "2018-09-04T01:37:47Z", "id": 9006126, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [], "cf_status_firefox61": "unaffected", "cf_status_geckoview66": "---", "cf_status_firefox63": "fixed", "is_cc_accessible": true, "keywords": ["regression"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2018-09-04T14:29:25Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, {"email": "gingerbread_man@live.com", "real_name": "Gingerbread Man", "name": "gingerbread_man@live.com", "nick": "gingerbread_man", "id": 353206}], "summary": "\"Change block list\" (text-link) in \"about:preferences#privacy\" is shown double", "cf_has_str": "yes", "cf_user_story": "", "platform": "Unspecified", "cf_status_firefox_esr60": "unaffected", "votes": 0, "cf_status_firefox62": "unaffected", "version": "63 Branch", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": false, "priority": "--", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "suishouen@mac.com", "last_change_time": "2018-10-18T23:20:01Z", "cf_fission_milestone": "---", "comment_count": 5, "creator_detail": {"email": "suishouen@mac.com", "real_name": "Eiichi", "name": "suishouen@mac.com", "nick": "suishouen", "id": 124596}, "cc": ["ehsan@mozilla.com", "gingerbread_man@live.com"], "duplicates": [], "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": [], "id": 1488310, "whiteboard": "", "creation_time": "2018-09-04T01:41:28Z", "depends_on": [], "mentors": [], "dupe_of": 1488436, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "DUPLICATE", "type": "defect", "classification": "Client Software", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_status_firefox_esr52": "unaffected", "cf_tracking_firefox68": "---", "cf_status_firefox64": "fixed", "component": "Preferences", "product": "Firefox", "target_milestone": "---", "history": [{"when": "2018-09-04T04:53:55Z", "changes": [{"removed": "", "added": "regression", "field_name": "keywords"}, {"removed": "", "added": "ehsan@mozilla.com, gingerbread_man@live.com", "field_name": "cc"}, {"removed": "Untriaged", "added": "Preferences", "field_name": "component"}, {"removed": "---", "added": "yes", "field_name": "cf_has_str"}, {"removed": "", "added": "1488013", "field_name": "blocks"}, {"removed": "", "added": "needinfo?(ehsan@mozilla.com)", "field_name": "flagtypes.name"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox_esr52"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox_esr60"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox61"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox62"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox63"}], "who": "gingerbread_man@live.com"}, {"when": "2018-09-04T09:47:18Z", "changes": [{"removed": "", "added": "1488361", "field_name": "depends_on"}], "who": "jhofmann@mozilla.com"}, {"when": "2018-09-04T14:29:25Z", "changes": [{"removed": "UNCONFIRMED", "added": "RESOLVED", "field_name": "status"}, {"removed": "1488013", "added": "", "field_name": "blocks"}, {"removed": "", "added": "DUPLICATE", "field_name": "resolution"}, {"removed": "needinfo?(ehsan@mozilla.com)", "added": "", "field_name": "flagtypes.name"}, {"removed": "", "added": "2018-09-04T14:29:25Z", "field_name": "cf_last_resolved"}], "who": "ehsan@mozilla.com"}, {"when": "2018-09-05T14:19:02Z", "changes": [{"removed": "1488361", "added": "", "field_name": "depends_on"}], "who": "alice0775@gmail.com"}, {"when": "2018-10-18T23:20:01Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox63"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox64"}], "who": "lhenry@mozilla.com"}], "comments": [{"count": 0, "text": "Created attachment 9006127\nscreenshot.png\n\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.13; rv:63.0) Gecko/20100101 Firefox/63.0\nBuild ID: 20180903221928\n\nSteps to reproduce:\n\n1. Open \"about:preferences#privacy\"\n2. See \"All Detected Trackers\" section\n\n\nActual results:\n\n\"Change block list\" (text-link) is shown double\n\n\nExpected results:\n\n\"Change block list\" (text-link) shuld not be shown double.", "id": 13589338, "creation_time": "2018-09-04T01:41:28Z", "author": "suishouen@mac.com"}, {"count": 1, "text": "Seems to be regressed by: Bug 1488013", "id": 13589340, "creation_time": "2018-09-04T01:42:24Z", "author": "suishouen@mac.com"}, {"count": 2, "text": "\"view-source:about:preferences#privacy\" contains as follws:\nI think this seems to cause the issue.\n\n---\n<label id=\"changeBlockListLink\" data-l10n-id=\"content-blocking-tracking-protection-change-block-list\" class=\"text-link\"/>\n              <label id=\"changeBlockListLink\"\n                     data-l10n-id=\"content-blocking-tracking-protection-change-block-list\"\n                     class=\"text-link\"\n                     search-l10n-ids=\"blocklist-window.title, blocklist-desc, blocklist-button-cancel.label, blocklist-button-ok.label\"/>\n---", "id": 13589452, "creation_time": "2018-09-04T05:09:49Z", "author": "suishouen@mac.com"}, {"count": 3, "text": "\n\n*** This bug has been marked as a duplicate of bug 1488436 ***", "id": 13590339, "creation_time": "2018-09-04T14:29:25Z", "author": "ehsan@mozilla.com"}, {"count": 4, "text": "Fixed in bug 1488436.", "id": 13697734, "creation_time": "2018-10-18T23:20:01Z", "author": "lhenry@mozilla.com"}], "attachments": [{"content_type": "image/png", "creator_detail": {"email": "suishouen@mac.com", "real_name": "Eiichi", "name": "suishouen@mac.com", "nick": "suishouen", "id": 124596}, "creator": "suishouen@mac.com", "flags": [], "is_patch": 0, "creation_time": "2018-09-04T01:41:28Z", "id": 9006127, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["dev-doc-complete"], "cf_qa_whiteboard": "", "url": "http://mirror.racket-lang.org/releases/6.1/doc/", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-08-27T23:39:29Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "ae.anderson0@gmail.com", "real_name": "Andy Anderson", "name": "ae.anderson0@gmail.com", "nick": "ae.anderson0", "id": 509961}, {"email": "arai.unmht@gmail.com", "real_name": "Tooru Fujisawa [:arai]", "name": "arai.unmht@gmail.com", "nick": "arai", "id": 310076}, {"email": "jwalden@mit.edu", "real_name": "Jeff Walden [:Waldo]", "name": "jwalden@mit.edu", "nick": "Waldo", "id": 83595}, {"email": "sledru@mozilla.com", "real_name": "Sylvestre Ledru [:sylvestre]", "name": "sledru@mozilla.com", "nick": "sylvestre", "id": 495955}, {"email": "till@tillschneidereit.net", "real_name": "Till Schneidereit [:till]", "name": "till@tillschneidereit.net", "nick": "till", "id": 292831}], "summary": "RegExp.$N changed behavior since FF 33", "cf_has_str": "---", "cf_user_story": "", "platform": "x86_64", "cf_status_firefox_esr60": "---", "votes": 0, "cf_status_firefox33": "fixed", "version": "34 Branch", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "cf_status_firefox34": "fixed", "assigned_to_detail": {"email": "till@tillschneidereit.net", "real_name": "Till Schneidereit [:till]", "name": "till@tillschneidereit.net", "nick": "till", "id": 292831}, "creator": "samth@indiana.edu", "last_change_time": "2015-01-05T11:30:18Z", "cf_fission_milestone": "---", "comment_count": 20, "creator_detail": {"email": "samth@indiana.edu", "real_name": "Sam Tobin-Hochstadt [:samth]", "name": "samth@indiana.edu", "nick": "samth", "id": 265320}, "cc": ["ae.anderson0@gmail.com", "arai.unmht@gmail.com", "jwalden@mit.edu", "sledru@mozilla.com", "till@tillschneidereit.net"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "till@tillschneidereit.net", "groups": [], "see_also": [], "id": 1053944, "whiteboard": "[DocArea=JS]", "creation_time": "2014-08-14T18:45:02Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Linux", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [{"modification_date": "2014-08-28T15:31:07Z", "creation_date": "2014-08-28T15:31:07Z", "type_id": 37, "status": "+", "name": "in-testsuite", "id": 963645, "setter": "sledru@mozilla.com"}], "cf_tracking_firefox68": "---", "component": "JavaScript: Standard Library", "product": "Core", "target_milestone": "mozilla34", "history": [{"when": "2014-08-14T19:23:16Z", "changes": [{"removed": "", "added": "ae.anderson0@gmail.com, jwalden+bmo@mit.edu", "field_name": "cc"}], "who": "jwalden@mit.edu"}, {"when": "2014-08-20T12:44:21Z", "changes": [{"removed": "", "added": "till@tillschneidereit.net", "field_name": "cc"}], "who": "till@tillschneidereit.net"}, {"when": "2014-08-22T11:56:49Z", "changes": [{"attachment_id": 8477361, "removed": "", "added": "review?(jwalden+bmo@mit.edu)", "field_name": "flagtypes.name"}], "who": "till@tillschneidereit.net"}, {"when": "2014-08-22T11:56:56Z", "changes": [{"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "nobody@mozilla.org", "added": "till@tillschneidereit.net", "field_name": "assigned_to"}], "who": "till@tillschneidereit.net"}, {"when": "2014-08-26T18:43:17Z", "changes": [{"attachment_id": 8477361, "removed": "review?(jwalden+bmo@mit.edu)", "added": "review+", "field_name": "flagtypes.name"}], "who": "jwalden@mit.edu"}, {"when": "2014-08-27T23:39:29Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}, {"removed": "", "added": "2014-08-27T23:39:29Z", "field_name": "cf_last_resolved"}], "who": "wkocher@mozilla.com"}, {"when": "2014-08-28T11:00:09Z", "changes": [{"removed": "", "added": "dev-doc-needed", "field_name": "keywords"}, {"removed": "", "added": "[DocArea=JS]", "field_name": "whiteboard"}], "who": "fscholz@mozilla.com"}, {"when": "2014-08-28T11:08:34Z", "changes": [{"attachment_id": 8477361, "removed": "", "added": "approval-mozilla-aurora?", "field_name": "flagtypes.name"}], "who": "till@tillschneidereit.net"}, {"when": "2014-08-28T15:30:34Z", "changes": [{"removed": "", "added": "sledru@mozilla.com", "field_name": "cc"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox33"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox34"}], "who": "sledru@mozilla.com"}, {"when": "2014-08-28T15:30:56Z", "changes": [{"attachment_id": 8477361, "removed": "approval-mozilla-aurora?", "added": "approval-mozilla-aurora+", "field_name": "flagtypes.name"}], "who": "sledru@mozilla.com"}, {"when": "2014-08-28T15:31:07Z", "changes": [{"removed": "", "added": "in-testsuite+", "field_name": "flagtypes.name"}], "who": "sledru@mozilla.com"}, {"when": "2014-08-28T20:56:53Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox33"}], "who": "ryanvm@gmail.com"}, {"when": "2015-01-02T06:11:51Z", "changes": [{"removed": "", "added": "arai_a@mac.com", "field_name": "cc"}], "who": "arai.unmht@gmail.com"}, {"when": "2015-01-05T11:30:18Z", "changes": [{"removed": "dev-doc-needed", "added": "dev-doc-complete", "field_name": "keywords"}], "who": "fscholz@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "till@tillschneidereit.net", "real_name": "Till Schneidereit [:till]", "name": "till@tillschneidereit.net", "nick": "till", "id": 292831}, "creator": "till@tillschneidereit.net", "flags": [{"modification_date": "2014-08-26T18:43:17Z", "creation_date": "2014-08-22T11:56:49Z", "type_id": 937, "status": "+", "name": "review", "id": 958355, "setter": "jwalden@mit.edu"}, {"modification_date": "2014-08-28T15:30:56Z", "creation_date": "2014-08-28T11:08:34Z", "type_id": 720, "status": "+", "name": "approval-mozilla-aurora", "id": 963454, "setter": "sledru@mozilla.com"}], "is_patch": 1, "creation_time": "2014-08-22T11:56:49Z", "id": 8477361, "is_obsolete": 0}], "comments": [{"count": 0, "text": "To reproduce:\n\n- Visit http://mirror.racket-lang.org/releases/6.1/doc/ \n- Typed \"f\" in the search box and hit enter\n- In FF 33 (and Chrome), you'll go to http://mirror.racket-lang.org/releases/6.1/doc/search/index.html?q=f but in FF 34 you'll go to http://mirror.racket-lang.org/releases/6.1/doc/search/index.html?q=fundefined\n- Note message in console about \"RegExp.$2 is undefined\"\n\nI haven't yet figured out what behavior exactly changed, but I'm working on it.", "id": 9185103, "creation_time": "2014-08-14T18:45:02Z", "author": "samth@indiana.edu"}, {"count": 1, "text": "This was bug 369778.\n\nNot sure whether this is something we should, or shouldn't, fix, honestly.  Having different behavior for the case fixed there, and for $N, seems undesirable to me.", "id": 9185309, "creation_time": "2014-08-14T19:23:16Z", "author": "jwalden@mit.edu"}, {"count": 2, "text": "First, since this breaks a large number of pages that have worked for years, I really hope that this gets fixed.\n\nSecond, Chrome appears to behave the same as old FF:\n\n> re = /(?:(ABC)|(123)){2}/;\n/(?:(ABC)|(123)){2}/\n> var t = re.exec(\"ABC123\");\n> var u = re.exec(\"123ABC\");\n> t\n[\"ABC123\", undefined, \"123\"]\n> u\n[\"123ABC\", \"ABC\", undefined]", "id": 9185359, "creation_time": "2014-08-14T19:33:31Z", "author": "samth@indiana.edu"}, {"count": 3, "text": "So we have this:\n\n  var page_query_string =\n    (location.href.search(/\\?([^#]+)(?:#|$)/) >= 0) && RegExp.$1;\n\nIt's not clear to me why this is using location.href this way, versus the far simpler\n\n  var page_query_string = location.search.substring(1);", "id": 9185393, "creation_time": "2014-08-14T19:39:44Z", "author": "jwalden@mit.edu"}, {"count": 4, "text": "(In reply to Sam Tobin-Hochstadt [:samth] from comment #2)\n> Second, Chrome appears to behave the same as old FF:\n> \n> > re = /(?:(ABC)|(123)){2}/;\n> /(?:(ABC)|(123)){2}/\n> > var t = re.exec(\"ABC123\");\n> > var u = re.exec(\"123ABC\");\n> > t\n> [\"ABC123\", undefined, \"123\"]\n> > u\n> [\"123ABC\", \"ABC\", undefined]\n\nNo, that's the new way.  I believe it's what every JS engine except SpiderMonkey has done basically forever.  And that's the way that's standard, that ECMAScript has specified since time immemorial.\n\nThe only difference appears to be in the behavior of the non-standard $N properties of RegExp.", "id": 9185401, "creation_time": "2014-08-14T19:41:38Z", "author": "jwalden@mit.edu"}, {"count": 5, "text": "Ah, ok, I misunderstood the first comment in bug 369778.\n\nI'm happy to believe that this is old and bad code, and I'm planning to rewrite it at some point (I didn't write it in the first place). \n\nHowever, there's a bunch of archived content (old documentation) which uses this code and I'll probably have to tell people to use Chrome for it. Which is annoying, of course, but not the end of the world.", "id": 9185443, "creation_time": "2014-08-14T19:53:29Z", "author": "samth@indiana.edu"}, {"count": 6, "text": "It's possible we'd change RegExp.$N back to the old behavior, to be sure.  But I'd like more evidence than a single site of this being a pervasive problem.  And I suspect this line is probably the same in all the archived versions, such that a modification to it would be easy to make if necessary.", "id": 9185479, "creation_time": "2014-08-14T20:01:05Z", "author": "jwalden@mit.edu"}, {"count": 7, "text": "Here's the change to the code I ended up with: https://github.com/plt/racket/commit/51254f06267f\n\nNot too bad, but not trivial.", "id": 9196323, "creation_time": "2014-08-18T17:57:30Z", "author": "samth@indiana.edu"}, {"count": 8, "text": "And here's a github search for RegExp.$2 : https://www.google.com/webhp?#q=site%3Agithub.com+%22RegExp.%242%22&safe=off", "id": 9197619, "creation_time": "2014-08-18T21:23:38Z", "author": "samth@indiana.edu"}, {"count": 9, "text": "Whether RegExp.$\\d is problematic entirely depends on whether \\d refers to a potentially-unmatchable component of the most recently used regular expression.  Without citing any evidence, I suspect it's not the common case for capturing groups in a regular expression to be potentially zero-quantified, or nested within another group that is potentially zero-quantified.  So a mere search for RegExp.$\\d unfortunately doesn't say much one way or another.", "id": 9201717, "creation_time": "2014-08-19T17:02:17Z", "author": "jwalden@mit.edu"}, {"count": 10, "text": "As a (perhaps final) hope for this to change, I'll mention that in addition to a bunch of extant pages, this code is also present in shipping software and documentation pages that are on users local computers, which we can't change to avoid this incompatibility. So for all of those pages, using another browser is likely to be the only solution.", "id": 9203189, "creation_time": "2014-08-19T21:02:06Z", "author": "samth@indiana.edu"}, {"count": 11, "text": "I'm pretty sure we'll have to change this: trying to book an Air France flight, I found that their form validation code breaks because of this change. As an example of what they're doing, check lines 101 to 106 of http://www.airfrance.com/DE/common/js/pceAfValidation.js.\n\nI cannot really imagine that this isn't pretty common, and making people unable to book flights is a bit awkward.", "id": 9206021, "creation_time": "2014-08-20T12:44:21Z", "author": "till@tillschneidereit.net"}, {"count": 12, "text": "Created attachment 8477361\nChange RegExp. getters to return '' instead of undefined for non-matched groups\n\nGiven that we've encountered quite a bit of breakage, some in high-profile websites, I think we should change this back. The downside is a loss in conceptual purity, but then it's for a feature that is far away from bein conceptually pure in its entirety.\n\nThe attached patch changes just the static getters, nothing else. Passes tests (with the single test requiring changes changed). Try-servering here:\nhttps://treeherder.mozilla.org/ui/#/jobs?repo=try&revision=97875b185e4e", "id": 9217481, "creation_time": "2014-08-22T11:56:49Z", "author": "till@tillschneidereit.net"}, {"count": 13, "text": "Comment on attachment 8477361\nChange RegExp. getters to return '' instead of undefined for non-matched groups\n\nReview of attachment 8477361:\n-----------------------------------------------------------------\n\nSigh.  I hate the web, I hate our non-standard extensions, I hate life.  :-(", "id": 9231789, "creation_time": "2014-08-26T18:43:17Z", "author": "jwalden@mit.edu"}, {"count": 14, "text": "*Sigh*, I know.\n\nremote:   https://hg.mozilla.org/integration/mozilla-inbound/rev/df3b50b23153", "id": 9236018, "creation_time": "2014-08-27T13:20:48Z", "author": "till@tillschneidereit.net"}, {"count": 15, "text": "https://hg.mozilla.org/mozilla-central/rev/df3b50b23153", "id": 9239254, "creation_time": "2014-08-27T23:39:29Z", "author": "wkocher@mozilla.com"}, {"count": 16, "text": "Comment on attachment 8477361\nChange RegExp. getters to return '' instead of undefined for non-matched groups\n\nApproval Request Comment\n[Feature/regressing bug #]: bug 369778\n[User impact if declined]: various site breakage. E.g., booking flights on airfrance.com is impossible.\n[Describe test coverage new/current, TBPL]: tested by jstests\n[Risks and why]: very low, reverts to previous behavior\n[String/UUID change made/needed]: none", "id": 9241257, "creation_time": "2014-08-28T11:08:34Z", "author": "till@tillschneidereit.net"}, {"count": 17, "text": "https://hg.mozilla.org/releases/mozilla-aurora/rev/c760537e6dd8", "id": 9244391, "creation_time": "2014-08-28T20:56:53Z", "author": "ryanvm@gmail.com"}, {"count": 18, "text": "Updated following page:\n  https://developer.mozilla.org/en-US/Firefox/Releases/34", "id": 9746052, "creation_time": "2015-01-02T06:11:51Z", "author": "arai.unmht@gmail.com"}, {"count": 19, "text": "Also https://developer.mozilla.org/en-US/Firefox/Releases/34/Site_Compatibility#JavaScript and https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#Gecko_specific_notes", "id": 9751500, "creation_time": "2015-01-05T11:30:18Z", "author": "fscholz@mozilla.com"}]}
{"cf_status_firefox68": "---", "blocks": [1020801], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-08-22T23:51:16Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "asmodeusme@yahoo.com", "real_name": "Willy_ Foo_Foo", "name": "asmodeusme@yahoo.com", "nick": "asmodeusme", "id": 420570}, {"email": "botond@mozilla.com", "real_name": "Botond Ballo [:botond]", "name": "botond@mozilla.com", "nick": "botond", "id": 474533}, {"email": "kats@bugmash.staktrace.com", "real_name": "Kartikaya Gupta (email:kats@mozilla.com)", "name": "kats@bugmash.staktrace.com", "nick": "kats", "id": 426788}, {"email": "roc@ocallahan.org", "real_name": "Robert O'Callahan (:roc) (email my personal email if necessary)", "name": "roc@ocallahan.org", "nick": "roc", "id": 5038}], "summary": "Add scroll start/stop notifications from apz to scroll observers", "cf_has_str": "---", "cf_user_story": "", "platform": "x86_64", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "howareyou322@gmail.com", "real_name": "Peter Chang[:pchang]", "name": "howareyou322@gmail.com", "nick": "pchang", "id": 452554}, "creator": "howareyou322@gmail.com", "last_change_time": "2014-08-22T23:51:16Z", "cf_fission_milestone": "---", "creator_detail": {"email": "howareyou322@gmail.com", "real_name": "Peter Chang[:pchang]", "name": "howareyou322@gmail.com", "nick": "pchang", "id": 452554}, "comment_count": 18, "cc": ["asmodeusme@yahoo.com", "botond@mozilla.com", "kats@bugmash.staktrace.com", "roc@ocallahan.org"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "howareyou322@gmail.com", "groups": [], "see_also": [], "id": 1054901, "whiteboard": "", "creation_time": "2014-08-18T07:42:39Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Gonk (Firefox OS)", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "Panning and Zooming", "product": "Core", "target_milestone": "mozilla34", "history": [{"when": "2014-08-18T07:44:38Z", "changes": [{"removed": "nobody@mozilla.org", "added": "pchang@mozilla.com", "field_name": "assigned_to"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-18T07:44:49Z", "changes": [{"removed": "", "added": "1020801", "field_name": "blocks"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-18T08:58:30Z", "changes": [{"attachment_id": 8474428, "removed": "", "added": "review?(roc@ocallahan.org)", "field_name": "flagtypes.name"}, {"removed": "", "added": "roc@ocallahan.org", "field_name": "cc"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-18T13:26:04Z", "changes": [{"removed": "", "added": "bugmail.mozilla@staktrace.com", "field_name": "cc"}], "who": "kats@bugmash.staktrace.com"}, {"when": "2014-08-18T15:22:44Z", "changes": [{"removed": "", "added": "botond@mozilla.com", "field_name": "cc"}], "who": "botond@mozilla.com"}, {"when": "2014-08-18T15:44:20Z", "changes": [{"removed": "", "added": "needinfo?(bugmail.mozilla@staktrace.com)", "field_name": "flagtypes.name"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-18T15:45:26Z", "changes": [{"attachment_id": 8474428, "removed": "review?(roc@ocallahan.org)", "added": "", "field_name": "flagtypes.name"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-18T15:52:53Z", "changes": [{"removed": "needinfo?(bugmail.mozilla@staktrace.com)", "added": "", "field_name": "flagtypes.name"}], "who": "kats@bugmash.staktrace.com"}, {"when": "2014-08-19T03:58:34Z", "changes": [{"attachment_id": 8474428, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8474954, "removed": "", "added": "review?(roc@ocallahan.org)", "field_name": "flagtypes.name"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-19T04:00:12Z", "changes": [{"attachment_id": 8474954, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8474954, "removed": "review?(roc@ocallahan.org)", "added": "", "field_name": "flagtypes.name"}, {"attachment_id": 8474955, "removed": "", "added": "review?(roc@ocallahan.org)", "field_name": "flagtypes.name"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-20T02:36:36Z", "changes": [{"attachment_id": 8474955, "removed": "review?(roc@ocallahan.org)", "added": "review+", "field_name": "flagtypes.name"}], "who": "roc@ocallahan.org"}, {"when": "2014-08-21T01:42:33Z", "changes": [{"attachment_id": 8474955, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8476420, "removed": "", "added": "review+", "field_name": "flagtypes.name"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-22T11:32:34Z", "changes": [{"attachment_id": 8476420, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8477356, "removed": "", "added": "review+", "field_name": "flagtypes.name"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-22T11:34:35Z", "changes": [{"removed": "", "added": "checkin-needed", "field_name": "keywords"}], "who": "howareyou322@gmail.com"}, {"when": "2014-08-22T12:53:06Z", "changes": [{"removed": "checkin-needed", "added": "", "field_name": "keywords"}], "who": "ryanvm@gmail.com"}, {"when": "2014-08-22T14:37:03Z", "changes": [{"removed": "", "added": "bezaleel360@gmail.com", "field_name": "cc"}], "who": "asmodeusme@yahoo.com"}, {"when": "2014-08-22T23:51:16Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}, {"removed": "", "added": "2014-08-22T23:51:16Z", "field_name": "cf_last_resolved"}], "who": "wkocher@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "howareyou322@gmail.com", "real_name": "Peter Chang[:pchang]", "name": "howareyou322@gmail.com", "nick": "pchang", "id": 452554}, "creator": "howareyou322@gmail.com", "flags": [], "is_patch": 1, "creation_time": "2014-08-18T08:58:30Z", "id": 8474428, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "howareyou322@gmail.com", "real_name": "Peter Chang[:pchang]", "name": "howareyou322@gmail.com", "nick": "pchang", "id": 452554}, "creator": "howareyou322@gmail.com", "flags": [], "is_patch": 1, "creation_time": "2014-08-19T03:58:34Z", "id": 8474954, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "howareyou322@gmail.com", "real_name": "Peter Chang[:pchang]", "name": "howareyou322@gmail.com", "nick": "pchang", "id": 452554}, "creator": "howareyou322@gmail.com", "flags": [{"modification_date": "2014-08-20T02:36:36Z", "creation_date": "2014-08-19T04:00:12Z", "type_id": 937, "status": "+", "name": "review", "id": 954356, "setter": "roc@ocallahan.org"}], "is_patch": 1, "creation_time": "2014-08-19T04:00:12Z", "id": 8474955, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "howareyou322@gmail.com", "real_name": "Peter Chang[:pchang]", "name": "howareyou322@gmail.com", "nick": "pchang", "id": 452554}, "creator": "howareyou322@gmail.com", "flags": [{"modification_date": "2014-08-21T01:42:33Z", "creation_date": "2014-08-21T01:42:33Z", "type_id": 937, "status": "+", "name": "review", "id": 956806, "setter": "howareyou322@gmail.com"}], "is_patch": 1, "creation_time": "2014-08-21T01:42:33Z", "id": 8476420, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "howareyou322@gmail.com", "real_name": "Peter Chang[:pchang]", "name": "howareyou322@gmail.com", "nick": "pchang", "id": 452554}, "creator": "howareyou322@gmail.com", "flags": [{"modification_date": "2014-08-22T11:32:34Z", "creation_date": "2014-08-22T11:32:34Z", "type_id": 937, "status": "+", "name": "review", "id": 958347, "setter": "howareyou322@gmail.com"}], "is_patch": 1, "creation_time": "2014-08-22T11:32:34Z", "id": 8477356, "is_obsolete": 0}], "comments": [{"count": 0, "text": "Based on bug 1020801 comment 19, create this bug to add scroll start/stop notification from apz and then pass these events to scroll observers.", "id": 9194019, "creation_time": "2014-08-18T07:42:39Z", "author": "howareyou322@gmail.com"}, {"count": 1, "text": "Created attachment 8474428\nWIP\n\nThis patch tries to add scroll start/stop notification from apz. And these notification will be used to show/hide the selection bubble from bug 1020801", "id": 9194239, "creation_time": "2014-08-18T08:58:30Z", "author": "howareyou322@gmail.com"}, {"count": 2, "text": "Comment on attachment 8474428\nWIP\n\nReview of attachment 8474428:\n-----------------------------------------------------------------\n\n::: docshell/base/nsIScrollObserver.h\n@@ +21,5 @@\n>     * Called when the scroll position of some element has changed.\n>     */\n>    virtual void ScrollPositionChanged() = 0;\n> +  virtual void ScrollPositionChangeStarted(){};\n> +  virtual void ScrollPositionChangeStopped(){};\n\nHave empty implementation here because not every scroll observer want to listen scrollStart/Stop events.\nOr it requires to declare all functions as pure virtual function.", "id": 9194247, "creation_time": "2014-08-18T09:01:44Z", "author": "howareyou322@gmail.com"}, {"count": 3, "text": "Note that the APZStateChange::TransformBegin|End notifications are fired any time there is a change to the transform. This doesn't necessarily mean that the scroll position is changing; it might be the zoom that is changing while the scroll position stays the same. So it might be better to rename your functions accordingly.", "id": 9194928, "creation_time": "2014-08-18T13:26:04Z", "author": "kats@bugmash.staktrace.com"}, {"count": 4, "text": "(In reply to Kartikaya Gupta (email:kats@mozilla.com) from comment #3)\n> Note that the APZStateChange::TransformBegin|End notifications are fired any\n> time there is a change to the transform. This doesn't necessarily mean that\n> the scroll position is changing; it might be the zoom that is changing while\n> the scroll position stays the same. So it might be better to rename your\n> functions accordingly.\n\nThanks for the note. I also noticed that APZStateChange::TransformEnd is received but no scroll position changed events for scroll snapback case. How about the ScrollViewChangeStarted/ScrollViewChangeStopped?", "id": 9195534, "creation_time": "2014-08-18T15:44:20Z", "author": "howareyou322@gmail.com"}, {"count": 5, "text": "Comment on attachment 8474428\nWIP\n\nReview of attachment 8474428:\n-----------------------------------------------------------------\n\nWill work on the v2 to rename ScrollPositionChangeStarted/Stopped", "id": 9195539, "creation_time": "2014-08-18T15:45:26Z", "author": "howareyou322@gmail.com"}, {"count": 6, "text": "That sounds ok to me, but I'm not a layout peer so I'm not the one to make a decision on this.", "id": 9195586, "creation_time": "2014-08-18T15:52:53Z", "author": "kats@bugmash.staktrace.com"}, {"count": 7, "text": "Created attachment 8474954\nWIP v2\n\nRename funcation to ScrollViewChangeStart/Stop based on comment 3.\n\nroc, this patch is trying to add the notification of scroll view changes(transform changes) from APZ and dispatch to scroll oberservers.\n\nThe selection bubble in bug 1020801 will use the new ScrollViewChangeStart/Stop callback to show/hide itself.", "id": 9199039, "creation_time": "2014-08-19T03:58:34Z", "author": "howareyou322@gmail.com"}, {"count": 8, "text": "Created attachment 8474955\nWIP v2\n\nAttached to correct patch.\n\nRename funcation to ScrollViewChangeStart/Stop based on comment 3.\n\nroc, this patch is trying to add the notification of scroll view changes(transform changes) from APZ and dispatch to scroll oberservers.\n\nThe selection bubble in bug 1020801 will use the new ScrollViewChangeStart/Stop callback to show/hide itself.", "id": 9199046, "creation_time": "2014-08-19T04:00:12Z", "author": "howareyou322@gmail.com"}, {"count": 9, "text": "Comment on attachment 8474955\nWIP v2\n\nReview of attachment 8474955:\n-----------------------------------------------------------------\n\n::: docshell/base/nsIScrollObserver.h\n@@ +24,5 @@\n> +\n> +  /**\n> +   * Called when the scroll view starts to change, i.e. like the transform\n> +   */\n> +  virtual void ScrollViewChangeStarted(){};\n\nThis isn't really clear enough.\n\nLet's call the functions AsyncPanZoomStarted/Stopped and the comment should say\n\"Called when an async panning/zooming transform has started being applied.\"\n\"Called when an async panning/zooming transform is no longer applied.\"", "id": 9204560, "creation_time": "2014-08-20T02:36:36Z", "author": "roc@ocallahan.org"}, {"count": 10, "text": "Created attachment 8476420\nWIP v3\n\nAddress review's comment.\n\nWait for try server result.\nhttps://tbpl.mozilla.org/?tree=Try&rev=6aa9caceae7e", "id": 9210023, "creation_time": "2014-08-21T01:42:33Z", "author": "howareyou322@gmail.com"}, {"count": 11, "text": "The updated patch didn't rename the functions as roc requested:\n\n(In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #9)\n> Let's call the functions AsyncPanZoomStarted/Stopped and ...", "id": 9212220, "creation_time": "2014-08-21T12:51:58Z", "author": "kats@bugmash.staktrace.com"}, {"count": 12, "text": "Comment on attachment 8476420\nWIP v3\n\nReview of attachment 8476420:\n-----------------------------------------------------------------\n\n::: docshell/base/nsIScrollObserver.h\n@@ +29,5 @@\n> +\n> +  /**\n> +   * Called when an async panning/zooming transform is no longer applied.\n> +   */\n> +  virtual void ScrollViewChangeStopped(){};\n\nNote that you need to change NS_ISCROLLOBSERVER_IID because of the functions you've added to this interface.", "id": 9213632, "creation_time": "2014-08-21T17:32:26Z", "author": "ehsan@mozilla.com"}, {"count": 13, "text": "(In reply to Kartikaya Gupta (email:kats@mozilla.com) from comment #11)\n> The updated patch didn't rename the functions as roc requested:\n> \n> (In reply to Robert O'Callahan (:roc) (Mozilla Corporation) from comment #9)\n> > Let's call the functions AsyncPanZoomStarted/Stopped and ...\n\n(In reply to :Ehsan Akhgari (not reading bugmail, needinfo? me!) from comment #12)\n> Comment on attachment 8476420\n> WIP v3\n> \n> Review of attachment 8476420:\n> -----------------------------------------------------------------\n> \n> ::: docshell/base/nsIScrollObserver.h\n> @@ +29,5 @@\n> > +\n> > +  /**\n> > +   * Called when an async panning/zooming transform is no longer applied.\n> > +   */\n> > +  virtual void ScrollViewChangeStopped(){};\n> \n> Note that you need to change NS_ISCROLLOBSERVER_IID because of the functions\n> you've added to this interface.\n\nThanks for the note, I will re-upload patch again.", "id": 9216357, "creation_time": "2014-08-22T04:06:58Z", "author": "howareyou322@gmail.com"}, {"count": 14, "text": "Created attachment 8477356\nWIP v4\n\nChange the uuid and update func name to AsyncPanZoomStarted/Stopped.", "id": 9217423, "creation_time": "2014-08-22T11:32:34Z", "author": "howareyou322@gmail.com"}, {"count": 15, "text": "(In reply to peter chang[:pchang][:peter] from comment #10)\n> Created attachment 8476420\n> WIP v3\n> \n> Address review's comment.\n> \n> Wait for try server result.\n> https://tbpl.mozilla.org/?tree=Try&rev=6aa9caceae7e\n\nPrevious try is all green.\nAnd he difference between v3 and v4 are the uuid and function name changes. It won't impact the testing result.", "id": 9217428, "creation_time": "2014-08-22T11:34:35Z", "author": "howareyou322@gmail.com"}, {"count": 16, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/35535bbbd6d1", "id": 9217631, "creation_time": "2014-08-22T12:53:06Z", "author": "ryanvm@gmail.com"}, {"count": 17, "text": "https://hg.mozilla.org/mozilla-central/rev/35535bbbd6d1", "id": 9220397, "creation_time": "2014-08-22T23:51:16Z", "author": "wkocher@mozilla.com"}]}
{"history": [{"when": "2014-07-12T03:01:29Z", "changes": [{"removed": "[regression] XMLHttpRequest can't parse HTML correctly, seems parsing as XHTML", "added": "[regression] XMLHttpRequest can't parse HTML from file: protocol correctly, seems parsing as XHTML", "field_name": "summary"}], "who": "duanyao.ustc@gmail.com"}, {"when": "2014-07-12T03:14:01Z", "changes": [{"removed": "UNCONFIRMED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "bzbarsky@mit.edu", "field_name": "cc"}, {"removed": "", "added": "INVALID", "field_name": "resolution"}, {"removed": "", "added": "2014-07-12T03:14:01Z", "field_name": "cf_last_resolved"}], "who": "bzbarsky@mit.edu"}, {"when": "2014-07-13T01:27:26Z", "changes": [{"removed": "[regression] XMLHttpRequest can't parse HTML from file: protocol correctly, seems parsing as XHTML", "added": "XMLHttpRequest can't parse HTML from file: protocol correctly, seems parsing as XHTML", "field_name": "summary"}], "who": "bzbarsky@mit.edu"}, {"when": "2014-07-20T11:44:26Z", "changes": [{"removed": "", "added": "fb+mozdev@quantumedia.de", "field_name": "cc"}], "who": "fb+mozdev@quantumedia.de"}, {"when": "2014-07-27T21:13:28Z", "changes": [{"removed": "", "added": "gphemsley@gphemsley.org", "field_name": "cc"}], "who": "gphemsley@gphemsley.org"}, {"when": "2018-06-07T21:21:21Z", "changes": [{"removed": "", "added": "danny0838@gmail.com", "field_name": "cc"}], "who": "bzbarsky@mit.edu"}, {"when": "2019-03-13T13:42:05Z", "changes": [{"removed": "DOM", "added": "DOM: Core & HTML", "field_name": "component"}, {"removed": "Core", "added": "Core", "field_name": "product"}], "who": "nobody@mozilla.org"}], "attachments": [{"content_type": "text/html", "creator_detail": {"email": "duanyao.ustc@gmail.com", "real_name": "Duan Yao", "name": "duanyao.ustc@gmail.com", "nick": "duanyao.ustc", "id": 477135}, "creator": "duanyao.ustc@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2014-07-12T02:54:56Z", "id": 8454847, "is_obsolete": 0}], "comments": [{"count": 0, "text": "Created attachment 8454847\nxhr-html.htm\n\nUser Agent: Mozilla/5.0 (X11; Linux x86_64; rv:33.0) Gecko/20100101 Firefox/33.0 (Beta/Release)\nBuild ID: 20140703030200\n\nSteps to reproduce:\n\nLoad the attached HTML file (xhr-html.htm) with firefox.\nThe attachment loads itself with XMLHttpRequest, setting responseType = 'document'. The attachment doesn't conform to XHTML syntax.\n\n\n\nActual results:\n\nParse error is shown in console, it seems XMLHttpRequest is parsing it as XHTML:\n\nmismatched tag. Expected: </meta>. xhr-html.htm:17\n\"<parsererror xmlns=\"http://www.mozilla.org/newlayout/xml/parsererror.xml\">XML Parsing Error: mismatched tag. Expected: &lt;/meta&gt;.\nLocation: file:///media/DATA/project/MyHTML/xhr-html.htm\nLine Number 17, Column 3:<sourcetext>&lt;/head&gt;\n--^</sourcetext></parsererror>\"\n\n\nExpected results:\n\nParse the HTML file correctly.\n\nIt seems HTML parsing in XMLHttpRequest was fixed long ago:\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=651072\n\nHowever, firefox 28-33 can't make it right.", "id": 9046133, "creation_time": "2014-07-12T02:54:56Z", "author": "duanyao.ustc@gmail.com"}, {"count": 1, "text": "Note: HTML files served via http: are parsed correctly, but those via file: are not.", "id": 9046139, "creation_time": "2014-07-12T03:01:29Z", "author": "duanyao.ustc@gmail.com"}, {"count": 2, "text": "Note: HTML files are also not parsed correctly via chrome: protocol.", "id": 9046154, "creation_time": "2014-07-12T03:13:39Z", "author": "duanyao.ustc@gmail.com"}, {"count": 3, "text": "From the XMLHttpRequest spec at <https://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html#response-entity-body-0>:\n\n  The response MIME type is the MIME type the Content-Type header contains excluding any\n  parameters and converted to ASCII lowercase, or null if the response header can not be\n  parsed or was omitted.\n\nWhen loading from file:// this will therefore be null, since there is no Content-Type header.\n\n  Final MIME type is the override MIME type unless that is null in which case it is the\n  response MIME type. \n\nwhich in this case is also null, since the testcase does not call overrideMimeType, and the response MIME type is null.\n\nThen for a response of type \"document\" the relevant spec section is https://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html#document-response-entity-body which says:\n\n  If final MIME type is text/html, run these substeps: \n\nwhich are not run, since final MIME type is null and then:\n\n  Otherwise, let document be a document that represents the result of parsing the\n  response entity body following the rules set forth in the XML specifications. If that\n  fails (unsupported character encoding, namespace well-formedness error, etc.), return\n  null.\n\nIn other words, when loading from file:// XMLHttpRequest will always parse as XML unless overrideMimeType is called\n\nI don't know why you think this is a regression, exactly; this has always been the behavior.", "id": 9046155, "creation_time": "2014-07-12T03:14:01Z", "author": "bzbarsky@mit.edu"}, {"count": 4, "text": "> Note: HTML files are also not parsed correctly via chrome: protocol.\n\nchrome:// doesn't have a Content-Type header, so yes, you get the same behavior.\n\nReally, XHR is designed to work with XML and HTTP.  The HTML support was shoehorned in, but without breaking backwards compat in the process, which means that it only works reasonably well over HTTP.  Otherwise you have to opt into it with overrideMimeType.", "id": 9046156, "creation_time": "2014-07-12T03:15:25Z", "author": "bzbarsky@mit.edu"}, {"count": 5, "text": "(In reply to Boris Zbarsky [:bz] from comment #3)\n> When loading from file:// this will therefore be null, since there is no\n> Content-Type header.\nI don't think the spec specifies this. In the \"1 Introduction\" section:\n\n  Second, it can be used to make requests over both HTTP and HTTPS (some implementations support \n  protocols in addition to HTTP and HTTPS, but that functionality is not covered by this specification).\n\nSo I think file: and chrome: protocols are just \"not covered\", and the exact behaviors are leaved to the implementors.\n\nIn section \"6 data: URLs and HTTP\", the spec says:\n\n  To ensure data: URLs can function in APIs designed around HTTP, such as XMLHttpRequest, this section \n  details how they work. Specifications defining similar URL schemes ought to take inspiration from this section. \n\n  When a data: URL is fetched using the HTTP method GET, determine the response as follows: \n    ...\n    * Include a single response header whose header field name is \"content-type\" and whose value is the \n    MIME type (including any parameters) given in the data: URL, or the default otherwise. \n\nSo I think the spec allows and encourages XMLHttpRequest implementations to determine the mime type of the response by themselves, if the content-type header is not available in the protocol in question.\n\nFor file: protocol, it is a trivial task to determine mime type by a file's extension name -- <input type=file> element already does that, right? Chrome browser also does exactly this.\n\n> \n> I don't know why you think this is a regression, exactly; this has always\n> been the behavior.\n\nThis is a mistake, I had a illusion that firefox had chrome-like behavior before.", "id": 9046993, "creation_time": "2014-07-12T21:03:48Z", "author": "duanyao.ustc@gmail.com"}, {"count": 6, "text": "(In reply to Boris Zbarsky [:bz] from comment #4)\n> > Note: HTML files are also not parsed correctly via chrome: protocol.\n> \n> chrome:// doesn't have a Content-Type header, so yes, you get the same\n> behavior.\n> \n> Really, XHR is designed to work with XML and HTTP.  The HTML support was\n> shoehorned in, but without breaking backwards compat in the process, which\n> means that it only works reasonably well over HTTP.  Otherwise you have to\n> opt into it with overrideMimeType.\n\nHow can custom codes know what should be passed to overrideMimeType? The most common guess is still according to the file extension. Browsers can also do this, why don't let browser do it, and keep the custom codes simple?\n\nXHR was designed to work with XML and HTTP, but now it is much more versatile. Browser-based applications are not limited to HTTP, not to mention XULRunner.", "id": 9047009, "creation_time": "2014-07-12T21:27:30Z", "author": "duanyao.ustc@gmail.com"}, {"count": 7, "text": "The following code demonstrates that browsers(including firefox) already can determine local file's mime type. So for firefox this functionality should be able to incorporated into XHR.\n\n<input type=\"file\" >Select file</input>\n<script>\ndocument.querySelector('input[type=file]').onchange = function(ev) {\n    var file = ev.target.files[0];\n    console.log(file); //contains the file's mime in 'type' field\n    var url = URL.createObjectURL(file);\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.responseType = 'document';\n    xhr.send(); //works for html\n    xhr.onload = function() {\n        console.log(this.response.documentElement.outerHTML);\n        URL.revokeObjectURL(url);\n    }\n}\n</script>", "id": 9047020, "creation_time": "2014-07-12T21:52:30Z", "author": "duanyao.ustc@gmail.com"}, {"count": 8, "text": "> For file: protocol, it is a trivial task to determine mime type by a file's extension\n\nThat would break backwards compat in a number of cases for XHR, actually, for extensions that end up being neither HTML nor XML.\n\nSeriously, I believe what we implement is correct per the XHR spec.  If you think that spec should change, please raise spec issues as needed.", "id": 9047094, "creation_time": "2014-07-13T01:01:00Z", "author": "bzbarsky@mit.edu"}, {"count": 9, "text": "(In reply to Boris Zbarsky [:bz] from comment #8)\n> > For file: protocol, it is a trivial task to determine mime type by a file's extension\n> \n> That would break backwards compat in a number of cases for XHR, actually,\n> for extensions that end up being neither HTML nor XML.\n\nCan you give some examples? I don't known why users should expect the browser threat a non-popular file extension as XML via file protocol. Even if some of them do, they already break the cross-browser compatibility because chrome etc. don't do that. \n\n> \n> Seriously, I believe what we implement is correct per the XHR spec.  If you\n> think that spec should change, please raise spec issues as needed.\n\nI think the current implementation is \"correct\" just because the current spec doesn't specify the details of file: protocol, it doesn't mean this is the only correct way.\n\nI think the most relevant spec section for this issue should be \"Fetch - 4.1 Basic fetch\" (http://fetch.spec.whatwg.org/#basic-fetch). In this section, for all schemes other than http(s), i.e. about, blob, data, a method to make a fake Content-Type header is specified; however, file and ftp schemes are exception:\n\n    \"file\"\n    \"ftp\"\n\n        For now, unfortunate as it is, file and ftp URLs are left as an exercise for the reader.\n\nSo I believe the methods to make fake Content-Type header for file and ftp schemes are just not covered by this spec for now; it doesn't mean that UAs must or should treat Content-Type as null. I think UAs can and should do a reasonable guess to Content-Type for these schemes, like chrome browser.", "id": 9047115, "creation_time": "2014-07-13T02:17:46Z", "author": "duanyao.ustc@gmail.com"}, {"count": 10, "text": "> I don't known why users should expect the browser threat a non-popular file extension as\n> XML via file protocol.\n\nBecause that's what browsers do.\n\n> Even if some of them do, they already break the cross-browser compatibility because\n> chrome etc. don't do that.\n\nChrome doesn't let you use XHR to file:// URIs at all, unless you're loading the file your web page is in.  So pretty much anything involving local files and XHR is broken in Chrome.\n\nBut other browsers (just tested Safari and Firefox) will let you do XHR to a .txt file and will parse it as XML, for example.\n\nBut more importantly, there is absolutely no way we want to change behavior and then change it _again_ if/when the spec decides to define this.  That's just not an OK thing to do.  So unless the spec defines a behavior here, I don't think we should be changing it from what people are already expecting.", "id": 9047127, "creation_time": "2014-07-13T02:44:55Z", "author": "bzbarsky@mit.edu"}, {"count": 11, "text": "(In reply to Boris Zbarsky [:bz] from comment #10)\n> > I don't known why users should expect the browser threat a non-popular file extension as\n> > XML via file protocol.\n> \n> Because that's what browsers do.\n> \n> > Even if some of them do, they already break the cross-browser compatibility because\n> > chrome etc. don't do that.\n> \n> Chrome doesn't let you use XHR to file:// URIs at all, unless you're loading\n> the file your web page is in.  So pretty much anything involving local files\n> and XHR is broken in Chrome.\n\nNot exactly. \nFirstly chrome has some command line options to relax the constraint to local file XHR, such as --disable-web-security or \u2013allow-file-access-from-files (http://stackoverflow.com/questions/3102819/disable-same-origin-policy-in-chrome), these are convinient for debug web apps locally. \n\nSecondly there are chromium-based embedable runtimes (more or less like xulrunner), such as CEF (http://code.google.com/p/chromiumembedded) and node-webkit (https://github.com/rogerwang/node-webkit), which also allow local XHR.\n\nThirdly, android WebView allow local XHR via file:///android_asset/ pattern or plain file: URLs, and also treat .htm[l] files as text/html type. I note that GeckoView want to simulate file:///android_asset/ pattern (https://bugzilla.mozilla.org/show_bug.cgi?id=948465), so what to do with XHR?\n\nI'll check IE later.\n\n> \n> But other browsers (just tested Safari and Firefox) will let you do XHR to a\n> .txt file and will parse it as XML, for example.\nDon't you think this use pattern is crazy? For me, this indicates a big flaw in a web app. If firefox and safari would shout at me if I misuse a .txt as xml, I would be very appreiciated.\n\n> \n> But more importantly, there is absolutely no way we want to change behavior\n> and then change it _again_ if/when the spec decides to define this.  That's\n> just not an OK thing to do.  So unless the spec defines a behavior here, I\n> don't think we should be changing it from what people are already expecting.\nSure. But you (mozilla) is a big one in w3c and whatwg, and the spec usually take major browsers' implementation into account. So as a web app developer, I'd like to know your position about this incompatibility across browsers. Which behavior do you think should become the spec? \n\nFor me, \"what people are already expecting\" for firefox is actually a flaw. Fixing it will benifit to developers in the long-term.", "id": 9047237, "creation_time": "2014-07-13T06:01:44Z", "author": "duanyao.ustc@gmail.com"}, {"count": 12, "text": "> Which behavior do you think should become the spec? \n\nWhatever behavior we can actually get browsers to agree on.  I'm certainly not wedded to our current behavior; I just don't want to change it willy nilly.", "id": 9047282, "creation_time": "2014-07-13T07:45:23Z", "author": "bzbarsky@mit.edu"}, {"count": 13, "text": "(In reply to Boris Zbarsky [:bz] from comment #12)\n> > Which behavior do you think should become the spec? \n> \n> Whatever behavior we can actually get browsers to agree on.  I'm certainly\n> not wedded to our current behavior; I just don't want to change it willy\n> nilly.\n\nAlright, just hope this to happen soon.", "id": 9047319, "creation_time": "2014-07-13T08:58:49Z", "author": "duanyao.ustc@gmail.com"}, {"count": 14, "text": "It'll happen when it becomes a priority for someone.  If you care about the issue, I strongly suggest you send mail with a spec proposal to the public standards mailing list for XHR.  That's the best way of getting anything to happen here.", "id": 9047518, "creation_time": "2014-07-13T14:36:39Z", "author": "bzbarsky@mit.edu"}, {"count": 15, "text": "(In reply to Boris Zbarsky [:bz] from comment #14)\n> It'll happen when it becomes a priority for someone.  If you care about the\n> issue, I strongly suggest you send mail with a spec proposal to the public\n> standards mailing list for XHR.  That's the best way of getting anything to\n> happen here.\n\nThank you for your suggestion, I'll consider it. But it seems the recent XHR spec doesn't concern about specific protocols (http://xhr.spec.whatwg.org/), maybe this issue is supposed to be addressed by Fetch (http://fetch.spec.whatwg.org) spec?", "id": 9048654, "creation_time": "2014-07-14T09:16:19Z", "author": "duanyao.ustc@gmail.com"}, {"count": 16, "text": "I don't know; I haven't been following the fetch work that closely.", "id": 9049061, "creation_time": "2014-07-14T12:00:22Z", "author": "bzbarsky@mit.edu"}, {"count": 17, "text": "I think I come up with another point that this issue should be fixed, even if the specs haven't been improved -- static resource fetching via file: in firefox already provide reasonable Content-Type header, and thus XHR fetching is inconsistent with it.\n\nFor exmaple, I embed a html(inner.html) into an outer html via <object>, and load them via file: protocol in firefox:\n  \n  <object data=\"inner.html\" type=\"application/xhtml+xml\" typemustmatch=\"\" >fallback!</object>\n\nthen the inner.html is not loaded , \"fallback!\" is shown instead. Obviously, firefox has detected that inner.html is text/html, not application/xhtml+xml indicated by type attr, so refused to load it. If I remove typemustmatch attr, inner.html is loaded, and we can confirm that it is parsed as html by checking its tagName. If I rename inner.html to inner.xhtml, it is also loaded.\n\nAccording to HTML spec (http://www.whatwg.org/specs/web-apps/current-work/multipage/the-iframe-element.html#attr-object-typemustmatch):\n\n   The typemustmatch attribute is a boolean attribute whose presence indicates that the resource\n   specified by the data attribute is only to be used if the value of the type attribute and the\n   Content-Type of the aforementioned resource match.\n\nSo I come to the conclusion that firefox sets reasonable Content-Type header for file: protocol, at least for static resources. \n\nSo the problem is: why not do it for XHR too? I understand this is for legacy codes, but this inconsistency should be fixed sooner or later, right?", "id": 9054721, "creation_time": "2014-07-15T11:22:12Z", "author": "duanyao.ustc@gmail.com"}, {"count": 18, "text": "Firefox can certainly guess a file type for file:// URLs and does so based on a combinarion of extensions and content sniffing.\n\nWhat you're ignoring is that there is a real compat issue here.  You think that .txt files should not be parsed as XML.  But what about .plist files?  Those are XML but get detected as text/plain.  There are lots of other file formats that have all sorts of random MIME types but contain XML.\n\nWhat should happen for those file types?  Do they get treated as XML?  How do we decide?  Do we just treat anything that's not HTML as XML?  Something else?\n\n_That_ is why this needs a spec if we only want to change behavior once.  Because I very much doubt that something we pick here without talking to other UAs would end up being the final specified behavior.", "id": 9054750, "creation_time": "2014-07-15T11:38:33Z", "author": "bzbarsky@mit.edu"}, {"count": 19, "text": "I think your concern is resolvable: XHR fetching just does what static fetching or <input type=file> does.\n\nI have tried\n\n   <object data=\"inner.plist\" type=\"text/xml\" typemustmatch=\"\" >fallback</object>\n\nand it loads, but type=\"text/plain\" not, empty also not (and this is invalid HTML).\n\nI have also tried to show inner.plist's mime by <input> as show in Comment 7, and it is \"\"(empty), and it is parsed by XHR as XML.\n\nSo the answer is clear: .plist is recognized as XML by firefox, not plain text.\n\nFor those extensions that are really \"random\", I have some suggestions:\n\n1. Consult the OS. I suspect some browsers already do this.\n\n2. Treat them as XML. This should keep backward compatibility. However, we should warn developers that this is instable, because new extensions may be registered over time, and they really should set overrideMimeType() if they use home-made extensions.\n\n3. Treat them as application/octet-stream. This my favorite, because browser will warn me if I don't set overrideMimeType() for home-made extensions. However, this may break some legacy code, maybe we can hide this behind a preference.", "id": 9055214, "creation_time": "2014-07-15T13:29:42Z", "author": "duanyao.ustc@gmail.com"}, {"count": 20, "text": "(In reply to Boris Zbarsky [:bz] from comment #18)\n\n> _That_ is why this needs a spec if we only want to change behavior once. \n> Because I very much doubt that something we pick here without talking to\n> other UAs would end up being the final specified behavior.\n\nI think the spec IS there -- MIME. \nWeb developers should use well-known extensions/mime as-is; If not, or they use private extensions, they should call overrideMimeType(), or they are asking for trouble.\n\nLet me make me more clear: I think before all browsers can converge to a same behavior of XHR, firefox can and should converge its static fetching and XHR's behaviors.", "id": 9055379, "creation_time": "2014-07-15T14:02:43Z", "author": "duanyao.ustc@gmail.com"}, {"count": 21, "text": "> So the answer is clear: .plist is recognized as XML by firefox, not plain text.\n\nIt's recognized as text/plain on my (Mac) system.  Welcome to the world of MIME mappings for file://.\n\n> 1. Consult the OS. I suspect some browsers already do this.\n\nWe do this already.\n\n> and they really should set overrideMimeType() if they use home-made extensions.\n\nI don't think .plist is a particularly \"home-made\" extension.  It's a preexisting file format that someone might want to read via XHR.\n\n> I think the spec IS there -- MIME. \n\nThere is no sane spec for getting MIME types out of files, sadly.", "id": 9055781, "creation_time": "2014-07-15T15:21:28Z", "author": "bzbarsky@mit.edu"}, {"count": 22, "text": "(In reply to Boris Zbarsky [:bz] from comment #21)\n> > So the answer is clear: .plist is recognized as XML by firefox, not plain text.\n> \n> It's recognized as text/plain on my (Mac) system.  Welcome to the world of\n> MIME mappings for file://.\n> \n> > 1. Consult the OS. I suspect some browsers already do this.\n> \n> We do this already.\n> \n> > and they really should set overrideMimeType() if they use home-made extensions.\n> \n> I don't think .plist is a particularly \"home-made\" extension.  It's a\n> preexisting file format that someone might want to read via XHR.\nWell, it seems .plist can actually takes one of 3 formats: plain text, XML, and binary, for historical reasons. I think its a poor decision to reuse a extension for completely different formats, and this is where the messes come -- it is very hard or impossible to determine a .plist's actually format, especially on non-apple platforms. \n\nAlso I think .plist IS a home-made extension because it has no standard mime type by IANA, and not used by non-apple platforms. Some one suggests application/x-plist, which is non-standard (http://stackoverflow.com/questions/3603851/what-is-the-http-content-type-for-binary-plist).\n\n> \n> > I think the spec IS there -- MIME. \n> \n> There is no sane spec for getting MIME types out of files, sadly.\nI think there will never be one. But practically, many standard MIME types has recommended extensions, for example PDF: http://www.rfc-editor.org/rfc/rfc3778.txt.\n\nThink about web servers, how do they determine a file's content-type before sending it? The situation is similar. Content-type sent via HTTP by no means more reliable than guessing a local file's mime type.", "id": 9058805, "creation_time": "2014-07-16T01:03:56Z", "author": "duanyao.ustc@gmail.com"}, {"count": 23, "text": "I found another 2 relevant specs:\n\nIn \"HTML - 2.6 Fetching resources - 2.6.4 Determining the type of a resource\" (http://www.whatwg.org/specs/web-apps/current-work/multipage/fetching-resources.html#content-type-sniffing)\uff1a\n\n    The Content-Type metadata of a resource must be obtained and interpreted in a manner consistent \n    with the requirements of the MIME Sniffing specification. \n    The sniffed type of a resource must be found in a manner consistent with the requirements given in\n    the MIME Sniffing specification for finding the sniffed media type of the relevant sequence of\n    octets. [MIMESNIFF]\n\nI interpreted this as: both static fetching and XHR fetching must apply MIME Sniffing algorithm to determine the actually media type.\n\nAnd in MIME Sniffing specification (http://mimesniff.spec.whatwg.org):\n\n   5.1 Interpreting the resource metadata\n   ...\n   If the resource is retrieved directly from the file system, set supplied-type to the MIME type\n   provided by the file system. \n\nI don't known what this really mean: almost no main-stream file systems record MIME type for files. Does it actually want to say \"provided by the operating system\" or \"provided by the file extension\"?\n\nNevertheless, the spec does require UAs to obtain MIME type for local files from somewhere, not just treat MIME type as null.\n\nEven If the supplied-type is undefined, the actually type should be sniffed (7.1 Identifying a resource with an unknown MIME type). Largely searching \"<!DOCTYPE HTML\", \"<HTML\", etc for text/html and \"<?xml\" for text/xml.\n\nSo my conclusion is: XHR to shouldn't mis-intercept local .htm file as XML according the above specs. Even if the OS or filename can't provide useful type info, sniffing should probably gives right content-type. So does .plist files and other.\n\nP.S. Current XHR spec (http://xhr.spec.whatwg.org/) is referencing fetching standard (http://fetch.spec.whatwg.org), which is obviously incomplete, and doesn't mention sniffing. So I think we should consult fetching section in HTML spec (http://www.whatwg.org/specs/web-apps/current-work/multipage/fetching-resources.html) for now.", "id": 9059791, "creation_time": "2014-07-16T07:54:40Z", "author": "duanyao.ustc@gmail.com"}, {"count": 24, "text": "Well, there is still one thing unclear: MIME Sniffing specification defined \"8 Context-specific sniffing\", however no XHR related clause can be found.\n\nIn whatwg wiki (http://wiki.whatwg.org/wiki/Contexts), I can see XHR triggers \"connection\" context, and \"Sniffing Algorithm\" for \"connection\" context is left blank. \n\nWhat do those mean? XHR doesn't sniff at all, and trusts supplied-type?", "id": 9060187, "creation_time": "2014-07-16T09:51:20Z", "author": "duanyao.ustc@gmail.com"}, {"count": 25, "text": "> Nevertheless, the spec does require UAs to obtain MIME type for local files from\n> somewhere, not just treat MIME type as null.\n\nThat's not necessarily backwards compatible in the case of XHR, as I pointed out.\n\n> the actually type should be sniffed \n\nYou missed http://mimesniff.spec.whatwg.org/#determining-the-sniffed-mime-type-of-a-resource step 2.\n\n> XHR doesn't sniff at all, and trusts supplied-type?\n\nYes.", "id": 9060854, "creation_time": "2014-07-16T12:13:52Z", "author": "bzbarsky@mit.edu"}, {"count": 26, "text": "(In reply to Boris Zbarsky [:bz] from comment #25)\n> > Nevertheless, the spec does require UAs to obtain MIME type for local files from\n> > somewhere, not just treat MIME type as null.\n> \n> That's not necessarily backwards compatible in the case of XHR, as I pointed\n> out.\nIf this kind of backward compatibility be kept, consistency between static resource fetching and XHR must be degraded, and cross-browser compatibility is also lost. I think this is a much higher price to pay. Do you think the fetching section of HTML spec should be changed?\n> \n> > the actually type should be sniffed \n> \n> You missed\n> http://mimesniff.spec.whatwg.org/#determining-the-sniffed-mime-type-of-a-\n> resource step 2.\n> \n> > XHR doesn't sniff at all, and trusts supplied-type?\n> \n> Yes.\nstep 2 is about \"no-sniff flag\", but I don't see a sentence states that \"in case of XHR, no-sniff flag should be set\", how are you sure about this?\n\nAlso I don't understand why XHR doesn't sniff? If it does, it may probably handle the .plist formats problem gracefully.", "id": 9061613, "creation_time": "2014-07-16T14:58:53Z", "author": "duanyao.ustc@gmail.com"}, {"count": 27, "text": "> Do you think the fetching section of HTML spec should be changed?\n\nI think this needs to be handled on the spec level one way or another.  I said that already in comment 10.\n\n> but I don't see a sentence states that \"in case of XHR, no-sniff flag should be set\",\n\nFrom http://mimesniff.spec.whatwg.org/#no-sniff-flag :\n\n  A no-sniff flag, which defaults to set if the user agent does not wish to perform\n  sniffing on the resource and unset otherwise. \n\nBasically, UAs can decide whether to sniff or not however they want to, as far as I can tell.\n\nSeriously, if you want to figure out how these various specs interact the right way to do that is the standards mailing lists, where Ian and Anne would see your questions, not this bug.", "id": 9061781, "creation_time": "2014-07-16T15:27:29Z", "author": "bzbarsky@mit.edu"}, {"count": 28, "text": "(In reply to Boris Zbarsky [:bz] from comment #27)\nOK, I'll try the mailing lists. Thanks!", "id": 9061964, "creation_time": "2014-07-16T15:59:25Z", "author": "duanyao.ustc@gmail.com"}, {"count": 29, "text": "*** Bug 1466526 has been marked as a duplicate of this bug. ***", "id": 13394938, "creation_time": "2018-06-07T21:21:21Z", "author": "bzbarsky@mit.edu"}], "cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-07-12T03:14:01Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "bzbarsky@mit.edu", "real_name": "Boris Zbarsky [:bzbarsky, bz on IRC]", "name": "bzbarsky@mit.edu", "nick": "bzbarsky", "id": 20209}, {"email": "danny0838@gmail.com", "real_name": "Danny Lin", "name": "danny0838@gmail.com", "nick": "danny0838", "id": 420740}, {"email": "fb+mozdev@quantumedia.de", "real_name": "Florian Bender", "name": "fb+mozdev@quantumedia.de", "nick": "fb+mozdev", "id": 413779}, {"email": "gphemsley@gphemsley.org", "real_name": "Gordon P. Hemsley [:GPHemsley]", "name": "gphemsley@gphemsley.org", "nick": "GPHemsley", "id": 113791}], "summary": "XMLHttpRequest can't parse HTML from file: protocol correctly, seems parsing as XHTML", "cf_has_str": "---", "cf_user_story": "", "platform": "x86_64", "cf_status_firefox_esr60": "---", "votes": 0, "version": "31 Branch", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": false, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "duanyao.ustc@gmail.com", "last_change_time": "2019-03-13T13:42:05Z", "cf_fission_milestone": "---", "creator_detail": {"email": "duanyao.ustc@gmail.com", "real_name": "Duan Yao", "name": "duanyao.ustc@gmail.com", "nick": "duanyao.ustc", "id": 477135}, "comment_count": 30, "cc": ["bzbarsky@mit.edu", "danny0838@gmail.com", "fb+mozdev@quantumedia.de", "gphemsley@gphemsley.org"], "duplicates": [1466526], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": [], "id": 1037762, "whiteboard": "", "creation_time": "2014-07-12T02:54:56Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "INVALID", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Linux", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "DOM: Core & HTML", "product": "Core", "target_milestone": "---"}
{"history": [{"when": "2014-07-22T15:23:43Z", "changes": [{"removed": "---", "added": "?", "field_name": "cf_tracking_firefox33"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox33"}, {"removed": "---", "added": "?", "field_name": "cf_tracking_firefox34"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox34"}], "who": "alice0775@gmail.com"}, {"when": "2014-07-22T15:28:25Z", "changes": [{"removed": "", "added": "regression", "field_name": "keywords"}, {"removed": "", "added": "matt.woodrow@gmail.com, roc@ocallahan.org", "field_name": "cc"}, {"removed": "", "added": "1022612", "field_name": "blocks"}], "who": "alice0775@gmail.com"}, {"when": "2014-07-22T16:51:45Z", "changes": [{"removed": "Windows 7", "added": "All", "field_name": "op_sys"}], "who": "alice0775@gmail.com"}, {"when": "2014-07-22T17:08:04Z", "changes": [{"removed": "", "added": "milan@mozilla.com", "field_name": "cc"}, {"removed": "nobody@mozilla.org", "added": "roc@ocallahan.org", "field_name": "assigned_to"}], "who": "milaninbugzilla@gmail.com"}, {"when": "2014-07-22T19:50:52Z", "changes": [{"removed": "", "added": "tnikkel@gmail.com", "field_name": "cc"}], "who": "tnikkel@gmail.com"}, {"when": "2014-07-23T02:36:01Z", "changes": [{"removed": "", "added": "cam@mcc.id.au", "field_name": "cc"}], "who": "cam@mcc.id.au"}, {"when": "2014-07-23T11:54:39Z", "changes": [{"removed": "", "added": "mstange@themasta.com", "field_name": "cc"}], "who": "mstange@themasta.com"}, {"when": "2014-07-23T21:09:00Z", "changes": [{"removed": "", "added": "felash@gmail.com", "field_name": "cc"}], "who": "felash@gmail.com"}, {"when": "2014-07-24T17:11:47Z", "changes": [{"removed": "", "added": "ge3k0s@gmail.com", "field_name": "cc"}], "who": "ge3k0s@gmail.com"}, {"when": "2014-07-26T08:24:33Z", "changes": [{"removed": "", "added": "bkerensa@gmail.com", "field_name": "cc"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox33"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox34"}], "who": "bkerensa@gmail.com"}, {"when": "2014-07-28T20:15:34Z", "changes": [{"removed": "", "added": "vdjeric@mozilla.com", "field_name": "cc"}], "who": "alice0775@gmail.com"}, {"when": "2014-08-01T05:37:27Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "", "added": "2014-08-01T05:37:27Z", "field_name": "cf_last_resolved"}], "who": "roc@ocallahan.org"}, {"when": "2014-08-04T14:50:40Z", "changes": [{"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox33"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox34"}], "who": "ryanvm@gmail.com"}, {"when": "2014-08-27T21:42:31Z", "changes": [{"removed": "", "added": "[good first verify]", "field_name": "cf_qa_whiteboard"}, {"removed": "", "added": "madamezou@zouish.org", "field_name": "cc"}], "who": "madamezou@zouish.org"}, {"when": "2014-08-29T12:17:54Z", "changes": [{"removed": "RESOLVED", "added": "VERIFIED", "field_name": "status"}, {"removed": "", "added": "teodora.vermesan@softvision.ro", "field_name": "cc"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox33"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox34"}], "who": "teodora.vermesan@softvision.ro"}], "attachments": [{"content_type": "image/png", "creator_detail": {"email": "alice0775@gmail.com", "real_name": "Alice0775 White", "name": "alice0775@gmail.com", "nick": "alice0775", "id": 293623}, "creator": "alice0775@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2014-07-22T15:23:20Z", "id": 8460269, "is_obsolete": 0}], "comments": [{"count": 0, "text": "Created attachment 8460269\nscreenshot\n\nSteps To Reproduce:\n1. Click  hamburger to open PanelUI\n2. Click ? to open help subview\n\nActual Results:\nText rendering glitch appears temporarily\n\nExpected Results:\nMore smoothly", "id": 9085012, "creation_time": "2014-07-22T15:23:20Z", "author": "alice0775@gmail.com"}, {"count": 1, "text": "Regression window(m-i)\nGood:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/9350909a3401\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:33.0) Gecko/20100101 Firefox/33.0 ID:20140719062420\nBad:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/24a69de91baa\nMozilla/5.0 (Windows NT 6.1; WOW64; rv:33.0) Gecko/20100101 Firefox/33.0 ID:20140719065519\nPushlog:\nhttp://hg.mozilla.org/integration/mozilla-inbound/pushloghtml?fromchange=9350909a3401&tochange=24a69de91baa\n\nSuspect: Bug 1022612", "id": 9085044, "creation_time": "2014-07-22T15:28:25Z", "author": "alice0775@gmail.com"}, {"count": 2, "text": "Screen cast: http://youtu.be/1lMpxmr3zE4", "id": 9085115, "creation_time": "2014-07-22T15:41:03Z", "author": "alice0775@gmail.com"}, {"count": 3, "text": "This also happens in Ubuntu12.04.\nScreen cast: http://youtu.be/i2x0mCT00Wg", "id": 9085550, "creation_time": "2014-07-22T16:51:45Z", "author": "alice0775@gmail.com"}, {"count": 4, "text": "*** Bug 1042467 has been marked as a duplicate of this bug. ***", "id": 9088488, "creation_time": "2014-07-23T02:36:01Z", "author": "cam@mcc.id.au"}, {"count": 5, "text": "See also bug 1042104 where we took the time to create a simpler testcase. I would dupe to that bug but I'll let you do so if you think it's better.", "id": 9092462, "creation_time": "2014-07-23T21:09:00Z", "author": "felash@gmail.com"}, {"count": 6, "text": "Tracking for now and can reproduce on 2014-25-07 Nightly on Mac OSX.", "id": 9104539, "creation_time": "2014-07-26T08:24:33Z", "author": "bkerensa@gmail.com"}, {"count": 7, "text": "*** Bug 1045175 has been marked as a duplicate of this bug. ***", "id": 9109993, "creation_time": "2014-07-28T20:15:34Z", "author": "alice0775@gmail.com"}, {"count": 8, "text": "Should be fixed by the fix for bug 1042104, which is on inbound now.", "id": 9121449, "creation_time": "2014-07-30T23:25:43Z", "author": "roc@ocallahan.org"}, {"count": 9, "text": "Bug 1022612 was backed out from Aurora after the uplift, so marking 33 as fixed by that.", "id": 9137306, "creation_time": "2014-08-04T14:50:40Z", "author": "ryanvm@gmail.com"}, {"count": 10, "text": "Reproduced the issue on Nightly 33.0a1 build (2014-07-21), verified as fixed on latest Aurora (build id:20140829004003) and latest Nightly (20140829030204) under: Windows 7 64bit, Mac OS X 10.9 and Ubuntu 64bit.", "id": 9247018, "creation_time": "2014-08-29T12:17:54Z", "author": "teodora.vermesan@softvision.ro"}], "cf_status_firefox68": "---", "blocks": [1022612], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["regression"], "cf_qa_whiteboard": "[good first verify]", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-08-01T05:37:27Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "bkerensa@gmail.com", "real_name": "Benjamin Kerensa [:bkerensa]", "name": "bkerensa@gmail.com", "nick": "bkerensa", "id": 294742}, {"email": "cam@mcc.id.au", "real_name": "Cameron McCormack (:heycam)", "name": "cam@mcc.id.au", "nick": "heycam", "id": 54040}, {"email": "felash@gmail.com", "real_name": "Julien Wajsberg [:julienw]", "name": "felash@gmail.com", "nick": "julienw", "id": 364883}, {"email": "ge3k0s@gmail.com", "real_name": "Ge3k0s", "name": "ge3k0s@gmail.com", "nick": "ge3k0s", "id": 428464}, {"email": "madamezou@zouish.org", "real_name": "Francesca Ciceri [:madamezou]", "name": "madamezou@zouish.org", "nick": "madamezou", "id": 501779}, {"email": "matt.woodrow@gmail.com", "real_name": "Matt Woodrow (:mattwoodrow)", "name": "matt.woodrow@gmail.com", "nick": "mattwoodrow", "id": 380838}, {"email": "milaninbugzilla@gmail.com", "real_name": "Milan Sreckovic [:milan] (needinfo for best results)", "name": "milaninbugzilla@gmail.com", "nick": "milan", "id": 456486}, {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, {"email": "roc@ocallahan.org", "real_name": "Robert O'Callahan (:roc) (email my personal email if necessary)", "name": "roc@ocallahan.org", "nick": "roc", "id": 5038}, {"email": "teodora.vermesan@softvision.ro", "real_name": "Teodora Vermesan (:TeoVermesan)", "name": "teodora.vermesan@softvision.ro", "nick": "TeoVermesan", "id": 466756}, {"email": "tnikkel@gmail.com", "real_name": "Timothy Nikkel (:tnikkel)", "name": "tnikkel@gmail.com", "nick": "tnikkel", "id": 255010}, {"email": "vladan.bugzilla@gmail.com", "real_name": "Vladan Djeric (:vladan)", "name": "vladan.bugzilla@gmail.com", "nick": "vladan", "id": 423812}], "summary": "Text rendering glitch when open help subview menu in PanelUI", "cf_has_str": "---", "cf_user_story": "", "platform": "x86_64", "cf_status_firefox_esr60": "---", "votes": 0, "cf_status_firefox33": "verified", "version": "33 Branch", "mentors_detail": [], "cf_tracking_firefox33": "+", "cf_tracking_firefox34": "+", "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "cf_status_firefox34": "verified", "assigned_to_detail": {"email": "roc@ocallahan.org", "real_name": "Robert O'Callahan (:roc) (email my personal email if necessary)", "name": "roc@ocallahan.org", "nick": "roc", "id": 5038}, "creator": "alice0775@gmail.com", "last_change_time": "2014-08-29T12:17:54Z", "cf_fission_milestone": "---", "comment_count": 11, "creator_detail": {"email": "alice0775@gmail.com", "real_name": "Alice0775 White", "name": "alice0775@gmail.com", "nick": "alice0775", "id": 293623}, "cc": ["bkerensa@gmail.com", "cam@mcc.id.au", "felash@gmail.com", "ge3k0s@gmail.com", "madamezou@zouish.org", "matt.woodrow@gmail.com", "milaninbugzilla@gmail.com", "mstange@themasta.com", "roc@ocallahan.org", "teodora.vermesan@softvision.ro", "tnikkel@gmail.com", "vladan.bugzilla@gmail.com"], "duplicates": [1042467, 1045175], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "roc@ocallahan.org", "groups": [], "see_also": [], "id": 1042096, "whiteboard": "", "creation_time": "2014-07-22T15:23:20Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "VERIFIED", "cf_crash_signature": "", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "flags": [], "cf_tracking_firefox68": "---", "component": "Graphics: Layers", "product": "Core", "target_milestone": "mozilla34"}
{"history": [{"when": "2014-07-23T01:25:30Z", "changes": [{"removed": "", "added": "mh+mozilla@glandium.org", "field_name": "cc"}], "who": "mh+mozilla@glandium.org"}, {"when": "2014-07-31T18:44:27Z", "changes": [{"removed": "", "added": "ehsan@mozilla.com", "field_name": "cc"}, {"removed": "nobody@mozilla.org", "added": "ehsan@mozilla.com", "field_name": "assigned_to"}], "who": "ehsan@mozilla.com"}, {"when": "2014-07-31T18:45:14Z", "changes": [{"attachment_id": 8465663, "removed": "", "added": "review?(mh+mozilla@glandium.org)", "field_name": "flagtypes.name"}], "who": "ehsan@mozilla.com"}, {"when": "2014-08-01T00:08:33Z", "changes": [{"attachment_id": 8465663, "removed": "review?(mh+mozilla@glandium.org)", "added": "review+", "field_name": "flagtypes.name"}], "who": "mh+mozilla@glandium.org"}, {"when": "2014-08-01T16:28:34Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}, {"removed": "", "added": "2014-08-01T16:28:34Z", "field_name": "cf_last_resolved"}], "who": "emorley@mozilla.com"}, {"when": "2014-08-19T17:26:34Z", "changes": [{"removed": "", "added": "[qa-]", "field_name": "cf_qa_whiteboard"}], "who": "lhenry@mozilla.com"}, {"when": "2018-03-02T20:12:20Z", "changes": [{"removed": "Core", "added": "Firefox Build System", "field_name": "product"}], "who": "automation@bmo.tld"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, "creator": "ehsan@mozilla.com", "flags": [{"modification_date": "2014-08-01T00:08:33Z", "creation_date": "2014-07-31T18:45:14Z", "type_id": 4, "status": "+", "name": "review", "id": 939307, "setter": "mh+mozilla@glandium.org"}], "is_patch": 1, "creation_time": "2014-07-31T18:45:01Z", "id": 8465663, "is_obsolete": 0}], "comments": [{"count": 0, "text": "I had a partially built tree and I hacked configure.in to make sure that MOZ_MEMORY is not set, and I rebuilt without clobbering.  I saw linking failures in mozglue.dll which boiled down to mozglue.def not being regenerated (it depends on #ifdef MOZ_MEMORY.)  rm-ing mozglue.def and rebuilding fixed the issue.", "id": 9088069, "creation_time": "2014-07-23T00:25:05Z", "author": "ehsan@mozilla.com"}, {"count": 1, "text": "That's a very generic bug summary. Are you sure you don't just want to fix the issue with mozglue.def?", "id": 9088263, "creation_time": "2014-07-23T01:25:30Z", "author": "mh+mozilla@glandium.org"}, {"count": 2, "text": "In fact, most preprocessed files have the \"proper\" dependencies to avoid that. mozglue.def doesn't depend on $(GLOBAL_DEPS)", "id": 9088272, "creation_time": "2014-07-23T01:29:25Z", "author": "mh+mozilla@glandium.org"}, {"count": 3, "text": "Ah, I see.  I thought this could be a more wide-spread issue...", "id": 9126564, "creation_time": "2014-07-31T18:44:27Z", "author": "ehsan@mozilla.com"}, {"count": 4, "text": "Created attachment 8465663\nMake mozglue.def depend on GLOBAL_DEPS; r=glandium", "id": 9126567, "creation_time": "2014-07-31T18:45:01Z", "author": "ehsan@mozilla.com"}, {"count": 5, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/ba8e403bd822", "id": 9128204, "creation_time": "2014-08-01T00:35:07Z", "author": "ehsan@mozilla.com"}, {"count": 6, "text": "https://hg.mozilla.org/mozilla-central/rev/ba8e403bd822", "id": 9130826, "creation_time": "2014-08-01T16:28:34Z", "author": "emorley@mozilla.com"}, {"count": 7, "text": "https://hg.mozilla.org/mozilla-central/rev/ba8e403bd822", "id": 9134522, "creation_time": "2014-08-03T09:01:13Z", "author": "emorley@mozilla.com"}], "cf_status_firefox68": "---", "blocks": [941904], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "[qa-]", "url": "", "qa_contact": "", "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-08-01T16:28:34Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, {"email": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]", "name": "mh+mozilla@glandium.org", "nick": "glandium", "id": 47192}], "summary": "Changing an AC_DEFINE'ed variable in configure.in can require clobbers for preprocessed files", "cf_has_str": "---", "cf_user_story": "", "platform": "x86", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, "creator": "ehsan@mozilla.com", "last_change_time": "2018-03-02T20:12:20Z", "cf_fission_milestone": "---", "creator_detail": {"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, "comment_count": 8, "cc": ["ehsan@mozilla.com", "mh+mozilla@glandium.org"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "ehsan@mozilla.com", "groups": [], "see_also": [], "id": 1042414, "whiteboard": "", "creation_time": "2014-07-23T00:25:05Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Developer Infrastructure", "alias": null, "cf_has_regression_range": "---", "op_sys": "macOS", "status": "RESOLVED", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "General", "product": "Firefox Build System", "target_milestone": "mozilla34"}
{"history": [{"when": "2014-07-23T15:26:33Z", "changes": [{"removed": "", "added": "regression, regressionwindow-wanted", "field_name": "keywords"}, {"removed": "", "added": "alessarik@gmail.com, jmathies@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "1042108", "field_name": "blocks"}, {"removed": "Windows 7", "added": "Windows 8.1", "field_name": "op_sys"}], "who": "jmathies@mozilla.com"}, {"when": "2014-07-23T15:40:06Z", "changes": [{"removed": "", "added": "bugmail.mozilla@staktrace.com", "field_name": "cc"}], "who": "kats@bugmash.staktrace.com"}, {"when": "2014-07-24T20:22:29Z", "changes": [{"removed": "", "added": "949859", "field_name": "blocks"}], "who": "kats@bugmash.staktrace.com"}, {"when": "2014-07-24T20:25:03Z", "changes": [{"attachment_id": 8461798, "removed": "", "added": "review?(botond@mozilla.com)", "field_name": "flagtypes.name"}, {"removed": "", "added": "botond@mozilla.com", "field_name": "cc"}, {"removed": "nobody@mozilla.org", "added": "bugmail.mozilla@staktrace.com", "field_name": "assigned_to"}], "who": "kats@bugmash.staktrace.com"}, {"when": "2014-07-24T20:25:23Z", "changes": [{"removed": "regressionwindow-wanted", "added": "", "field_name": "keywords"}], "who": "kats@bugmash.staktrace.com"}, {"when": "2014-07-24T20:44:14Z", "changes": [{"attachment_id": 8461798, "removed": "review?(botond@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "botond@mozilla.com"}, {"when": "2014-07-25T23:07:19Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}, {"removed": "", "added": "2014-07-25T23:07:19Z", "field_name": "cf_last_resolved"}], "who": "wkocher@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "kats@bugmash.staktrace.com", "real_name": "Kartikaya Gupta (email:kats@mozilla.com)", "name": "kats@bugmash.staktrace.com", "nick": "kats", "id": 426788}, "creator": "kats@bugmash.staktrace.com", "flags": [{"modification_date": "2014-07-24T20:44:14Z", "creation_date": "2014-07-24T20:25:03Z", "type_id": 937, "status": "+", "name": "review", "id": 933831, "setter": "botond@mozilla.com"}], "is_patch": 1, "creation_time": "2014-07-24T20:25:03Z", "id": 8461798, "is_obsolete": 0}], "comments": [{"count": 0, "text": "", "id": 9090522, "creation_time": "2014-07-23T15:24:36Z", "author": "jmathies@mozilla.com"}, {"count": 1, "text": "STR: pan around a long page of text. The page will move farther than your finger moves on the screen.", "id": 9090527, "creation_time": "2014-07-23T15:26:33Z", "author": "jmathies@mozilla.com"}, {"count": 2, "text": "I'm building the latest metro tree now and I should be able to debug this once it's up and running. If it's easy to find a regression window that might help too.", "id": 9090605, "creation_time": "2014-07-23T15:40:06Z", "author": "kats@bugmash.staktrace.com"}, {"count": 3, "text": "(In reply to Kartikaya Gupta (email:kats@mozilla.com) from comment #2)\n> I'm building the latest metro tree now and I should be able to debug this\n> once it's up and running. If it's easy to find a regression window that\n> might help too.\n\nMake sure you're using your 20% time for this.. :)\n\nRegression ranges are tough since we don't have nightly builds. :/", "id": 9090753, "creation_time": "2014-07-23T16:04:33Z", "author": "jmathies@mozilla.com"}, {"count": 4, "text": "This was caused by bug 949859 of all things. Turns out sometimes we get touchmove events so close together they have the same timestamp, so we drop them at http://mxr.mozilla.org/mozilla-central/source/gfx/layers/apz/src/Axis.cpp?rev=098dc4cc0c2e#40\n\nThis results in Axis::mPos not getting updated and so the scroll amount is applied again on the next event. This can probably happen on other platforms too although I guess B2G devices are too slow to generate events that fast.", "id": 9097733, "creation_time": "2014-07-24T20:22:29Z", "author": "kats@bugmash.staktrace.com"}, {"count": 5, "text": "Created attachment 8461798\nPatch", "id": 9097739, "creation_time": "2014-07-24T20:25:03Z", "author": "kats@bugmash.staktrace.com"}, {"count": 6, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/4f61409cbe39", "id": 9098009, "creation_time": "2014-07-24T20:59:44Z", "author": "kats@bugmash.staktrace.com"}, {"count": 7, "text": "https://hg.mozilla.org/mozilla-central/rev/4f61409cbe39", "id": 9103872, "creation_time": "2014-07-25T23:07:19Z", "author": "wkocher@mozilla.com"}], "cf_status_firefox68": "---", "blocks": [949859, 1042108], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["regression"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-07-25T23:07:19Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "alessarik@gmail.com", "real_name": "Maksim Lebedev", "name": "alessarik@gmail.com", "nick": "alessarik", "id": 497344}, {"email": "botond@mozilla.com", "real_name": "Botond Ballo [:botond]", "name": "botond@mozilla.com", "nick": "botond", "id": 474533}, {"email": "jmathies@mozilla.com", "real_name": "Jim Mathies [:jimm]", "name": "jmathies@mozilla.com", "nick": "jimm", "id": 279663}, {"email": "kats@bugmash.staktrace.com", "real_name": "Kartikaya Gupta (email:kats@mozilla.com)", "name": "kats@bugmash.staktrace.com", "nick": "kats", "id": 426788}], "summary": "Panning in metrofx appears accelerated", "cf_has_str": "---", "cf_user_story": "", "platform": "x86_64", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "kats@bugmash.staktrace.com", "real_name": "Kartikaya Gupta (email:kats@mozilla.com)", "name": "kats@bugmash.staktrace.com", "nick": "kats", "id": 426788}, "creator": "jmathies@mozilla.com", "last_change_time": "2014-07-25T23:07:19Z", "cf_fission_milestone": "---", "creator_detail": {"email": "jmathies@mozilla.com", "real_name": "Jim Mathies [:jimm]", "name": "jmathies@mozilla.com", "nick": "jimm", "id": 279663}, "comment_count": 8, "cc": ["alessarik@gmail.com", "botond@mozilla.com", "jmathies@mozilla.com", "kats@bugmash.staktrace.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "kats@bugmash.staktrace.com", "groups": [], "see_also": [], "id": 1042734, "whiteboard": "", "creation_time": "2014-07-23T15:24:36Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Windows 8.1", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "Panning and Zooming", "product": "Core", "target_milestone": "mozilla34"}
{"history": [{"when": "2014-07-28T13:20:17Z", "changes": [{"removed": "", "added": "1027713", "field_name": "blocks"}, {"removed": "", "added": "1015932", "field_name": "depends_on"}], "who": "padenot@mozilla.com"}, {"when": "2014-07-28T13:21:30Z", "changes": [{"attachment_id": 8463348, "removed": "", "added": "review?(gpascutto@mozilla.com)", "field_name": "flagtypes.name"}, {"removed": "", "added": "gpascutto@mozilla.com", "field_name": "cc"}], "who": "padenot@mozilla.com"}, {"when": "2014-07-28T13:21:36Z", "changes": [{"removed": "nobody@mozilla.org", "added": "paul@paul.cx", "field_name": "assigned_to"}], "who": "padenot@mozilla.com"}, {"when": "2014-07-28T13:21:52Z", "changes": [{"attachment_id": 8463349, "removed": "", "added": "review?(kinetik@flim.org)", "field_name": "flagtypes.name"}, {"removed": "", "added": "kinetik@flim.org", "field_name": "cc"}], "who": "padenot@mozilla.com"}, {"when": "2014-07-28T13:22:28Z", "changes": [{"attachment_id": 8463351, "removed": "", "added": "review?(gpascutto@mozilla.com)", "field_name": "flagtypes.name"}], "who": "padenot@mozilla.com"}, {"when": "2014-07-28T14:00:20Z", "changes": [{"attachment_id": 8463348, "removed": "review?(gpascutto@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "gpascutto@mozilla.com"}, {"when": "2014-07-28T14:10:21Z", "changes": [{"attachment_id": 8463351, "removed": "review?(gpascutto@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "gpascutto@mozilla.com"}, {"when": "2014-07-29T03:41:34Z", "changes": [{"attachment_id": 8463349, "removed": "review?(kinetik@flim.org)", "added": "review+", "field_name": "flagtypes.name"}], "who": "kinetik@flim.org"}, {"when": "2014-07-30T00:06:41Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}, {"removed": "", "added": "2014-07-30T00:06:41Z", "field_name": "cf_last_resolved"}], "who": "wkocher@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "creator": "padenot@mozilla.com", "flags": [{"modification_date": "2014-07-28T14:00:20Z", "creation_date": "2014-07-28T13:21:30Z", "type_id": 937, "status": "+", "name": "review", "id": 935739, "setter": "gpascutto@mozilla.com"}], "is_patch": 1, "creation_time": "2014-07-28T13:21:30Z", "id": 8463348, "is_obsolete": 0}, {"content_type": "text/plain", "creator_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "creator": "padenot@mozilla.com", "flags": [{"modification_date": "2014-07-29T03:41:34Z", "creation_date": "2014-07-28T13:21:52Z", "type_id": 937, "status": "+", "name": "review", "id": 935740, "setter": "kinetik@flim.org"}], "is_patch": 1, "creation_time": "2014-07-28T13:21:52Z", "id": 8463349, "is_obsolete": 0}, {"content_type": "text/plain", "creator_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "creator": "padenot@mozilla.com", "flags": [{"modification_date": "2014-07-28T14:10:21Z", "creation_date": "2014-07-28T13:22:28Z", "type_id": 937, "status": "+", "name": "review", "id": 935742, "setter": "gpascutto@mozilla.com"}], "is_patch": 1, "creation_time": "2014-07-28T13:22:28Z", "id": 8463351, "is_obsolete": 0}], "comments": [{"count": 0, "text": "I got backed out in bug 1027713 because we are setting kAudioHardwarePropertyRunLoop to NULL in cubeb (that forces device plug/unplug notifications to run on their own thread instead of the main thread) and the webrtc.org code base sets it to NULL as well, and messing with an event loop while it's running is not a good idea.\n\nThe plan is as follow:\n- Use gcp's new content/media/systemservices directory to be able to share a single function between cubeb and webrtc.org code\n- implement a thread safe singleton that ensure the function is called only once\n- add a header to cubeb so we can have two implementation: a mozilla-central implementation (when Firefox is running), that uses the singleton, and cubeb's standalone implementation (for tests in m-c, or when building standalone)\n- #ifdef our way to victory in the webrtc.org codebase, using MOZILLA_INTERNAL_API", "id": 9107845, "creation_time": "2014-07-28T12:55:52Z", "author": "padenot@mozilla.com"}, {"count": 1, "text": "Created attachment 8463348\nImplement a thread safe singleton to allow setting kAudioHardwarePropertyRunLoop property to NULL only once. r=", "id": 9107972, "creation_time": "2014-07-28T13:21:30Z", "author": "padenot@mozilla.com"}, {"count": 2, "text": "Created attachment 8463349\nMake cubeb_audiounit.c use the new cubeb_set_coreaudio_notification_runloop function. r=", "id": 9107973, "creation_time": "2014-07-28T13:21:52Z", "author": "padenot@mozilla.com"}, {"count": 3, "text": "Created attachment 8463351\nMake webrtc.org code use mozilla_set_coreaudio_notification_runloop.  r=", "id": 9107978, "creation_time": "2014-07-28T13:22:28Z", "author": "padenot@mozilla.com"}, {"count": 4, "text": "This is all green on try.", "id": 9108117, "creation_time": "2014-07-28T13:43:24Z", "author": "padenot@mozilla.com"}, {"count": 5, "text": "And also, this needs patches from bug 1015932.", "id": 9108119, "creation_time": "2014-07-28T13:43:58Z", "author": "padenot@mozilla.com"}, {"count": 6, "text": "Comment on attachment 8463348\nImplement a thread safe singleton to allow setting kAudioHardwarePropertyRunLoop property to NULL only once. r=\n\nReview of attachment 8463348:\n-----------------------------------------------------------------\n\n::: content/media/systemservices/OSXRunLoopSingleton.cpp\n@@ +13,5 @@\n> +\n> +static bool gRunLoopSet = false;\n> +static mozilla::StaticMutex gMutex;\n> +\n> +void mozilla_set_coreaudio_notification_runloop_if_needed()\n\nnit: I could argue the _if_needed is an implementation detail the API naming doesn't need to expose.\n\n@@ +20,5 @@\n> +  if (gRunLoopSet) {\n> +    return;\n> +  }\n> +\n> +  OSStatus r;\n\nnit: Move this down to where it's used.\n\n@@ +30,5 @@\n> +    kAudioObjectPropertyScopeGlobal,\n> +    kAudioObjectPropertyElementMaster\n> +  };\n> +\n> +  CFRunLoopRef run_loop = NULL;\n\nnit: Maybe nullptr and #include <mozilla/NullPtr.h>\n\n::: content/media/systemservices/OSXRunLoopSingleton.h\n@@ +3,5 @@\n> + * License, v. 2.0. If a copy of the MPL was not distributed with this file,\n> + * You can obtain one at http://mozilla.org/MPL/2.0/. */\n> +\n> +#ifndef OSXRUNLOOPSINGLETON_H\n> +#define OSXRUNLOOPSINGLETON_H\n\nnit: We're inconsistent about the leading_, but all other code uses a trailing _, so BLAH_H_\n\n::: content/media/systemservices/moz.build\n@@ +33,3 @@\n>  include('/ipc/chromium/chromium-config.mozbuild')\n>  \n>  FINAL_LIBRARY = 'gklayout'\n\nNeeds updating now.", "id": 9108191, "creation_time": "2014-07-28T14:00:20Z", "author": "gpascutto@mozilla.com"}, {"count": 7, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/bf4ed2946c45\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/bd925dd0edbf\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/9c82fdf124df", "id": 9114090, "creation_time": "2014-07-29T16:46:21Z", "author": "padenot@mozilla.com"}, {"count": 8, "text": "https://hg.mozilla.org/mozilla-central/rev/9e7128b769a7\nhttps://hg.mozilla.org/mozilla-central/rev/fd4a70e6d514\nhttps://hg.mozilla.org/mozilla-central/rev/3e28cd6f2ab8", "id": 9116217, "creation_time": "2014-07-30T00:06:41Z", "author": "wkocher@mozilla.com"}], "cf_status_firefox68": "---", "blocks": [1027713], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-07-30T00:06:41Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "gpascutto@mozilla.com", "real_name": "Gian-Carlo Pascutto [:gcp]", "name": "gpascutto@mozilla.com", "nick": "gcp", "id": 151147}, {"email": "kinetik@flim.org", "real_name": "Matthew Gregan [:kinetik]", "name": "kinetik@flim.org", "nick": "kinetik", "id": 274575}], "summary": "Add a way to set the kAudioHardwarePropertyRunLoop property  on OSX only once per process", "cf_has_str": "---", "cf_user_story": "", "platform": "x86_64", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "creator": "padenot@mozilla.com", "last_change_time": "2014-07-30T00:06:41Z", "cf_fission_milestone": "---", "creator_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "comment_count": 9, "cc": ["gpascutto@mozilla.com", "kinetik@flim.org"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "padenot@mozilla.com", "groups": [], "see_also": [], "id": 1045018, "whiteboard": "", "creation_time": "2014-07-28T12:55:52Z", "depends_on": [1015932], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "macOS", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "Audio/Video", "product": "Core", "target_milestone": "mozilla34"}
{"history": [{"when": "2014-07-30T17:00:57Z", "changes": [{"removed": "", "added": "paul@paul.cx", "field_name": "cc"}, {"removed": "", "added": "needinfo?(paul@paul.cx)", "field_name": "flagtypes.name"}], "who": "anygregor@gmail.com"}, {"when": "2014-07-30T17:11:07Z", "changes": [{"removed": "nobody@mozilla.org", "added": "paul@paul.cx", "field_name": "assigned_to"}, {"removed": "needinfo?(paul@paul.cx)", "added": "", "field_name": "flagtypes.name"}], "who": "padenot@mozilla.com"}, {"when": "2014-07-31T00:33:41Z", "changes": [{"removed": "", "added": "crash, regression", "field_name": "keywords"}, {"removed": "", "added": "cpeterson@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1046470", "field_name": "see_also"}], "who": "cpeterson@mozilla.com"}, {"when": "2014-07-31T13:04:26Z", "changes": [{"removed": "", "added": "ttaubert@mozilla.com", "field_name": "cc"}], "who": "ttaubert@mozilla.com"}, {"when": "2014-07-31T13:29:53Z", "changes": [{"removed": "", "added": "vseerror@lehigh.edu", "field_name": "cc"}, {"removed": "normal", "added": "critical", "field_name": "severity"}], "who": "vseerror@lehigh.edu"}, {"when": "2014-07-31T16:27:11Z", "changes": [{"removed": "", "added": "martijn.martijn@gmail.com", "field_name": "cc"}], "who": "martijn.martijn@gmail.com"}, {"when": "2014-07-31T16:28:14Z", "changes": [{"removed": "", "added": "[@ audiounit_property_listener_callback]", "field_name": "cf_crash_signature"}, {"removed": "Nightly constantly crashes when I enter a room in VidyoDesktop", "added": "Nightly constantly crashes [@ audiounit_property_listener_callback] when I enter a room in VidyoDesktop", "field_name": "summary"}], "who": "martijn.martijn@gmail.com"}, {"when": "2014-07-31T16:37:16Z", "changes": [{"removed": "", "added": "kamiljoz@gmail.com", "field_name": "cc"}], "who": "kamiljoz@gmail.com"}, {"when": "2014-07-31T18:49:45Z", "changes": [{"removed": "", "added": "josh@joshmatthews.net", "field_name": "cc"}], "who": "josh@joshmatthews.net"}, {"when": "2014-07-31T18:53:29Z", "changes": [{"removed": "", "added": "dbolter@mozilla.com", "field_name": "cc"}], "who": "dbolter@mozilla.com"}, {"when": "2014-07-31T20:12:55Z", "changes": [{"removed": "", "added": "tnikkel@gmail.com", "field_name": "cc"}], "who": "tnikkel@gmail.com"}, {"when": "2014-08-01T04:58:58Z", "changes": [{"removed": "", "added": "francesco.lodolo@gmail.com", "field_name": "cc"}], "who": "francesco.lodolo@gmail.com"}, {"when": "2014-08-01T10:15:05Z", "changes": [{"removed": "", "added": "ehsan@mozilla.com", "field_name": "cc"}], "who": "padenot@mozilla.com"}, {"when": "2014-08-01T12:15:57Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "", "added": "2014-08-01T12:15:57Z", "field_name": "cf_last_resolved"}], "who": "padenot@mozilla.com"}, {"when": "2014-08-01T14:29:08Z", "changes": [{"removed": "", "added": "1046470", "field_name": "depends_on"}], "who": "martijn.martijn@gmail.com"}, {"when": "2014-08-01T19:28:24Z", "changes": [{"removed": "", "added": "spolk@mozilla.com", "field_name": "cc"}], "who": "sydpolk@gmail.com"}, {"when": "2014-08-01T21:16:37Z", "changes": [{"removed": "", "added": "jryans@gmail.com", "field_name": "cc"}], "who": "jryans@gmail.com"}, {"when": "2014-08-02T09:25:27Z", "changes": [{"removed": "", "added": "rnewman@mozilla.com", "field_name": "cc"}], "who": "ttaubert@mozilla.com"}, {"when": "2014-08-04T14:52:41Z", "changes": [{"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}], "who": "ryanvm@gmail.com"}, {"when": "2014-08-13T17:57:47Z", "changes": [{"removed": "", "added": "lhenry@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(kamiljoz@gmail.com)", "field_name": "flagtypes.name"}], "who": "lhenry@mozilla.com"}, {"when": "2014-08-13T17:58:08Z", "changes": [{"removed": "", "added": "qe-verify+", "field_name": "flagtypes.name"}], "who": "lhenry@mozilla.com"}, {"when": "2014-08-15T14:43:58Z", "changes": [{"removed": "RESOLVED", "added": "VERIFIED", "field_name": "status"}, {"removed": "needinfo?(kamiljoz@gmail.com)", "added": "", "field_name": "flagtypes.name"}], "who": "kamiljoz@gmail.com"}, {"when": "2016-08-30T18:33:54Z", "changes": [{"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1299252", "field_name": "see_also"}], "who": "adam@nostrum.com"}, {"when": "2016-08-30T18:35:25Z", "changes": [{"removed": "sydpolk@gmail.com", "added": "", "field_name": "cc"}], "who": "sydpolk@gmail.com"}], "attachments": [], "comments": [{"count": 0, "text": "https://crash-stats.mozilla.com/report/index/005d05ec-5bfd-453e-a0df-65d1d2140730", "id": 9119390, "creation_time": "2014-07-30T16:57:46Z", "author": "anygregor@gmail.com"}, {"count": 1, "text": "Probably caused by bug 1027713.", "id": 9119417, "creation_time": "2014-07-30T17:00:57Z", "author": "anygregor@gmail.com"}, {"count": 2, "text": "I see lots (6) of those crashes in the last two days as well.", "id": 9124701, "creation_time": "2014-07-31T13:04:26Z", "author": "ttaubert@mozilla.com"}, {"count": 3, "text": "*** Bug 1046838 has been marked as a duplicate of this bug. ***", "id": 9125686, "creation_time": "2014-07-31T16:27:11Z", "author": "martijn.martijn@gmail.com"}, {"count": 4, "text": "From duped bug 1046231:\nI get this crash on trunk, when using the loop client on MacOSX 10.9.\nSteps to reproduce:\n- Cick on the telephone button\n- Copy the url and go to that url by pasting it in the url bar\n- Allow your computer to share the camera and microphone\n- After the video connection has set up, click on the \"Hangup\" button\n- Now set your Macbook to sleep by closing the lid or click on the \"Sleep\" menu-item in the Mac menu.\n- Reopen/wake up your computer", "id": 9125692, "creation_time": "2014-07-31T16:28:14Z", "author": "martijn.martijn@gmail.com"}, {"count": 5, "text": "I've received the same crash 3 different times on OSX 10.9.4 without using the loop client. I simply closed the lid on the MBP for a few hours and when I powered it back up from sleep mode, the fx crash reporter was already visible.\n\nI had two tabs opened at the time that weren't using video/audio (two different wiki tabs). I was using the latest m-c and received the latest crash while using the f61a27b00e05 changeset.\n\nReports:\n- bp-51de2a14-b35b-41c6-befe-c9b5e2140730\n- bp-15fc17a7-4260-4f03-a4a2-d44d32140730\n- bp-0eca928e-0f63-4dec-b029-c741f2140731", "id": 9125760, "creation_time": "2014-07-31T16:37:16Z", "author": "kamiljoz@gmail.com"}, {"count": 6, "text": "I just got this crash when plugging in my usb headset (which is defaulted to microphone mute by Shush.app v1.2 on OS X 10.9.4): bp-63e98451-7892-4d6f-b850-b697e2140731", "id": 9128066, "creation_time": "2014-07-31T23:46:43Z", "author": "u408661@disabled.tld"}, {"count": 7, "text": "(In reply to Kamil Jozwiak [:kjozwiak] from comment #5)\n> I had two tabs opened at the time that weren't using video/audio (two\n> different wiki tabs). I was using the latest m-c and received the latest\n> crash while using the f61a27b00e05 changeset.\n\nSame here, a crash each morning I turned on my iMac from sleep in the last two days.", "id": 9128644, "creation_time": "2014-08-01T04:58:58Z", "author": "francesco.lodolo@gmail.com"}, {"count": 8, "text": "*** Bug 1046811 has been marked as a duplicate of this bug. ***", "id": 9129400, "creation_time": "2014-08-01T10:15:05Z", "author": "padenot@mozilla.com"}, {"count": 9, "text": "This got fixed in bug 1046470.", "id": 9129709, "creation_time": "2014-08-01T12:15:57Z", "author": "padenot@mozilla.com"}, {"count": 10, "text": "Ok, but that one is still open for now.", "id": 9130259, "creation_time": "2014-08-01T14:29:08Z", "author": "martijn.martijn@gmail.com"}, {"count": 11, "text": "*** Bug 1047604 has been marked as a duplicate of this bug. ***", "id": 9133589, "creation_time": "2014-08-02T09:25:27Z", "author": "ttaubert@mozilla.com"}, {"count": 12, "text": "Hi Kamil, can you verify this fix since you were able to reproduce it earlier? THanks!", "id": 9179524, "creation_time": "2014-08-13T17:57:47Z", "author": "lhenry@mozilla.com"}, {"count": 13, "text": "Went through verification using the following build:\n- http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/2014-08-14-03-02-01-mozilla-central/\n\nSo this was happening frequently when I basically closed my MBP and than re-opened it after about 20 minutes. I haven't seen this issue happen in a while, went through the following test cases:\n\n- opened several tabs under m-c and closed the lid of the MPB (waited about 30 minutes) and re-opened\n- opened a few tabs with audio under m-c and closed the lid of the MPB (waited about 30 minutes) and re-opened\n- closed a few tabs under m-c and closed the lid of the MPB (waiting about 30 minutes) and re-opened\n- kept the lid closed throughout the entire night and re-opened in the morning, m-c worked when re-opened without issues\n\nI went through the above cases about 15 times and didn't receive the crash. Pretty certain this has been fixed as it happened very often before (received the crash at least 10 times within an hour)", "id": 9188629, "creation_time": "2014-08-15T14:43:58Z", "author": "kamiljoz@gmail.com"}], "cf_status_firefox68": "---", "blocks": [1027713], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["crash", "regression"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-08-01T12:15:57Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "bugzilla@twinql.com", "real_name": "Richard Newman [:rnewman]", "name": "bugzilla@twinql.com", "nick": "rnewman", "id": 396243}, {"email": "cpeterson@mozilla.com", "real_name": "Chris Peterson [:cpeterson]", "name": "cpeterson@mozilla.com", "nick": "cpeterson", "id": 430528}, {"email": "dbolter@mozilla.com", "real_name": "David Bolter [:davidb] (NeedInfo me for attention)", "name": "dbolter@mozilla.com", "nick": "davidb", "id": 152868}, {"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, {"email": "francesco.lodolo@gmail.com", "real_name": "Francesco Lodolo [:flod]", "name": "francesco.lodolo@gmail.com", "nick": "flod", "id": 130462}, {"email": "josh@joshmatthews.net", "real_name": "Josh Matthews [:jdm]", "name": "josh@joshmatthews.net", "nick": "jdm", "id": 241497}, {"email": "jryans@gmail.com", "real_name": "J. Ryan Stinnett [:jryans]", "name": "jryans@gmail.com", "nick": "jryans", "id": 282978}, {"email": "kamiljoz@gmail.com", "real_name": "Kamil Jozwiak [:kjozwiak]", "name": "kamiljoz@gmail.com", "nick": "kjozwiak", "id": 455785}, {"email": "lhenry@mozilla.com", "real_name": "Liz Henry (:lizzard) (use needinfo)", "name": "lhenry@mozilla.com", "nick": "lizzard", "id": 451704}, {"email": "martijn.martijn@gmail.com", "real_name": "Martijn Wargers (zombie)", "name": "martijn.martijn@gmail.com", "nick": "martijn.martijn", "id": 55600}, {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, {"email": "tnikkel@gmail.com", "real_name": "Timothy Nikkel (:tnikkel)", "name": "tnikkel@gmail.com", "nick": "tnikkel", "id": 255010}, {"email": "ttaubert@mozilla.com", "real_name": "Tim Taubert [:ttaubert] (inactive)", "name": "ttaubert@mozilla.com", "nick": "ttaubert", "id": 402526}, {"email": "vseerror@lehigh.edu", "real_name": "Wayne Mery (:wsmwk)", "name": "vseerror@lehigh.edu", "nick": "wsmwk", "id": 29811}], "summary": "Nightly constantly crashes [@ audiounit_property_listener_callback] when I enter a room in VidyoDesktop", "cf_has_str": "---", "cf_user_story": "", "platform": "x86", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "creator": "anygregor@gmail.com", "last_change_time": "2016-08-30T18:35:25Z", "cf_fission_milestone": "---", "creator_detail": {"email": "anygregor@gmail.com", "real_name": "Gregor Wagner [:gwagner]", "name": "anygregor@gmail.com", "nick": "gwagner", "id": 314734}, "comment_count": 14, "cc": ["bugzilla@twinql.com", "cpeterson@mozilla.com", "dbolter@mozilla.com", "ehsan@mozilla.com", "francesco.lodolo@gmail.com", "josh@joshmatthews.net", "jryans@gmail.com", "kamiljoz@gmail.com", "lhenry@mozilla.com", "martijn.martijn@gmail.com", "padenot@mozilla.com", "tnikkel@gmail.com", "ttaubert@mozilla.com", "vseerror@lehigh.edu"], "duplicates": [1046811, 1046838, 1047604], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "padenot@mozilla.com", "groups": [], "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1046470", "https://bugzilla.mozilla.org/show_bug.cgi?id=1299252"], "id": 1046231, "whiteboard": "", "creation_time": "2014-07-30T16:57:46Z", "depends_on": [1046470], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "macOS", "status": "VERIFIED", "cf_crash_signature": "[@ audiounit_property_listener_callback]", "is_open": false, "severity": "critical", "cf_tracking_firefox_esr60": "---", "flags": [{"modification_date": "2014-08-13T17:58:08Z", "creation_date": "2014-08-13T17:58:08Z", "type_id": 864, "status": "+", "name": "qe-verify", "id": 950137, "setter": "lhenry@mozilla.com"}], "cf_tracking_firefox68": "---", "component": "Audio/Video", "product": "Core", "target_milestone": "mozilla34"}
{"history": [{"when": "2014-08-03T07:57:04Z", "changes": [{"removed": "", "added": "fb+mozdev@quantumedia.de", "field_name": "cc"}], "who": "fb+mozdev@quantumedia.de"}, {"when": "2014-08-06T05:00:55Z", "changes": [{"removed": "nobody@mozilla.org", "added": "jyavenard@mozilla.com", "field_name": "assigned_to"}], "who": "ajones@mozilla.com"}, {"when": "2014-08-06T08:02:42Z", "changes": [{"removed": "", "added": "cpearce@mozilla.com", "field_name": "cc"}], "who": "cpearce@mozilla.com"}, {"when": "2014-08-07T03:26:14Z", "changes": [{"removed": "", "added": "1050064", "field_name": "depends_on"}], "who": "cpearce@mozilla.com"}, {"when": "2014-08-08T03:01:27Z", "changes": [{"removed": "", "added": "mkhoo@mozilla.com", "field_name": "cc"}], "who": "mkhoo@mozilla.com"}, {"when": "2014-08-08T10:02:10Z", "changes": [{"removed": "", "added": "bwu@mozilla.com", "field_name": "cc"}], "who": "blakewu0205@gmail.com"}, {"when": "2014-08-11T01:22:13Z", "changes": [{"attachment_id": 8470577, "removed": "", "added": "review?(cpearce@mozilla.com)", "field_name": "flagtypes.name"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-11T01:22:15Z", "changes": [{"attachment_id": 8469971, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-11T01:26:16Z", "changes": [{"attachment_id": 8470578, "removed": "", "added": "review?(cpearce@mozilla.com)", "field_name": "flagtypes.name"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-11T01:27:33Z", "changes": [{"attachment_id": 8470577, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8470577, "removed": "review?(cpearce@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-11T02:01:57Z", "changes": [{"attachment_id": 8470578, "removed": "review?(cpearce@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "cpearce@mozilla.com"}, {"when": "2014-08-11T05:27:23Z", "changes": [{"attachment_id": 8470578, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-11T05:30:28Z", "changes": [{"removed": "", "added": "1022501", "field_name": "blocks"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-12T01:55:54Z", "changes": [{"removed": "", "added": "1050064", "field_name": "blocks"}, {"removed": "1050064", "added": "", "field_name": "depends_on"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-12T11:45:47Z", "changes": [{"removed": "", "added": "1052383", "field_name": "blocks"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-13T03:03:02Z", "changes": [{"attachment_id": 8470633, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-13T07:04:05Z", "changes": [{"removed": "", "added": "checkin-needed", "field_name": "keywords"}], "who": "jyavenard@mozilla.com"}, {"when": "2014-08-13T13:42:02Z", "changes": [{"removed": "checkin-needed", "added": "", "field_name": "keywords"}], "who": "ryanvm@gmail.com"}, {"when": "2014-08-13T19:38:06Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}, {"removed": "", "added": "2014-08-13T19:38:06Z", "field_name": "cf_last_resolved"}], "who": "ryanvm@gmail.com"}, {"when": "2014-08-19T23:41:58Z", "changes": [{"removed": "", "added": "1055841", "field_name": "blocks"}], "who": "giles@thaumas.net"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "jyavenard@mozilla.com", "flags": [], "is_patch": 1, "creation_time": "2014-08-08T11:05:24Z", "id": 8469971, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "jyavenard@mozilla.com", "flags": [], "is_patch": 1, "creation_time": "2014-08-11T01:22:13Z", "id": 8470577, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "jyavenard@mozilla.com", "flags": [{"modification_date": "2014-08-11T02:01:57Z", "creation_date": "2014-08-11T01:26:16Z", "type_id": 937, "status": "+", "name": "review", "id": 947005, "setter": "cpearce@mozilla.com"}], "is_patch": 1, "creation_time": "2014-08-11T01:26:16Z", "id": 8470578, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "jyavenard@mozilla.com", "flags": [], "is_patch": 1, "creation_time": "2014-08-11T05:27:20Z", "id": 8470633, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "jyavenard@mozilla.com", "flags": [], "is_patch": 1, "creation_time": "2014-08-13T03:02:59Z", "id": 8472048, "is_obsolete": 0}], "comments": [{"count": 0, "text": "Steps to reproduce:\n\n* Enable MP4 reader prefs\n* Navigate to link\n* Press play\n\nExpected results:\n\nNormal playback\n\nActual results:\n\nHalf speed playback\n\nThe issue is that the MP4 container reports 24K sample rate but we need to get the sample rate from the decoder which knows the correct sample rate.", "id": 9128398, "creation_time": "2014-08-01T02:11:53Z", "author": "ajones@mozilla.com"}, {"count": 1, "text": "Another testcase: http://www-tvline-com.vimg.net/streaming/tvline/MAA101-Medianet.mp4\n\nRalph tried this with his MacOSX backend, and it seemed to work there, so maybe the MacOSX backend is not using SBS/PS and so returning the lower quality output?", "id": 9151731, "creation_time": "2014-08-07T03:34:30Z", "author": "cpearce@mozilla.com"}, {"count": 2, "text": "The basic fix here should be:\n\n* Add a rate and channels field to AudioData. There's a bit of work here to change the existing call sites of the AudioData constructor in all backends to pass in this new data.\n* In MP4Reader::ReadMetadata(), after we've setup the MediaDataDecoders, we should decode one audio sample and check the audio rate and number of channels. Report that in the MediaInfo of MP4Reader::ReadMetadata().\n\nWe prefer adding the rate and channels fields to AudioData over adding a callback to report stream changes because we already have this precedent set by video stream changes, and because we want to move towards having lightweight AudioStreams, where all audio sources playing pass in audio samples of arbitrary rates, and the AudioStream mixes them to the output rate. If we use callbacks, we would need to forward the callback all the way up the stack, and then keep track of which audio samples were before/after the rate change, so we'd need basically these fields anyway.", "id": 9151744, "creation_time": "2014-08-07T03:41:13Z", "author": "cpearce@mozilla.com"}, {"count": 3, "text": "Note on why it works on OSX...\n\nOSX doesn't use the sampling rate provided by the demuxer.\nInstead it uses its own probe method AudioFileStreamParseBytes ; which actually also detects the audio as being 24kHz.\nFFmpeg decoder returns the raw PCM data, while OSX decoder outputs data in the format/rate requested here 22kHz and perform on the fly resampling if required.\nSo on mac it sounds good.\n\nI haven't figured out a way to determine the actual sampling rate using CoreAudio AudioConverter...\nit would probably allow for better audio quality as we wouldn't lose half the audio resolution", "id": 9158286, "creation_time": "2014-08-08T09:59:20Z", "author": "jyavenard@mozilla.com"}, {"count": 4, "text": "Created attachment 8469971\nDecode a single audio frame in order to retrieve accurate channel count and sampling rate and propagate to MP4Reader\n\nBug 1047180 - Retrieve sampling rate from decoder", "id": 9158472, "creation_time": "2014-08-08T11:05:24Z", "author": "jyavenard@mozilla.com"}, {"count": 5, "text": "Comment on attachment 8469971\nDecode a single audio frame in order to retrieve accurate channel count and sampling rate and propagate to MP4Reader\n\nReview of attachment 8469971:\n-----------------------------------------------------------------\n\n::: content/media/fmp4/MP4Reader.cpp\n@@ +348,5 @@\n>      NS_ENSURE_SUCCESS(rv, rv);\n> +\n> +    // Decode one audio sample to detect potentially incorrect channels count or\n> +    // sampling rate from demuxer.\n> +    nsAutoPtr<MP4Sample> audioSample(PopSample(kAudio));\n\nYou should probably just call Decode(kAudio) in a loop while AudioQueue() is empty and an error or EOS isn't hit.\n\n::: content/media/fmp4/wmf/WMFAudioMFTManager.cpp\n@@ +234,5 @@\n>                             timestamp,\n>                             duration,\n>                             numFrames,\n>                             audioData.forget(),\n> +                           mAudioChannels, mAudioRate);\n\nThe patch in bug 1050064 should handle the WMFAudioMFTManager.", "id": 9160598, "creation_time": "2014-08-08T19:55:28Z", "author": "cpearce@mozilla.com"}, {"count": 6, "text": "Created attachment 8470577\nDecode a single audio frame in order to retrieve accurate channel count and sampling rate and propagate to MP4Reader\n\nBug 1047180: Fix AAC-HE playback", "id": 9164452, "creation_time": "2014-08-11T01:22:13Z", "author": "jyavenard@mozilla.com"}, {"count": 7, "text": "Created attachment 8470578\nDecode a single audio frame in order to retrieve accurate channel count and sampling rate and propagate to MP4Reader\n\nBug 1047180: Fix AAC-HE playback", "id": 9164454, "creation_time": "2014-08-11T01:26:16Z", "author": "jyavenard@mozilla.com"}, {"count": 8, "text": "Comment on attachment 8470578\nDecode a single audio frame in order to retrieve accurate channel count and sampling rate and propagate to MP4Reader\n\nReview of attachment 8470578:\n-----------------------------------------------------------------\n\nLooks good.\n\n::: content/media/fmp4/MP4Reader.cpp\n@@ +596,5 @@\n> +        LOG(\"MP4Reader::Output change of sampling rate:%d->%d\",\n> +            mInfo.mAudio.mRate, audioData->mRate);\n> +        mInfo.mAudio.mRate = audioData->mRate;\n> +        mInfo.mAudio.mChannels = audioData->mChannels;\n> +        // TODO What do we do when we have a format change?\n\nWe don't do anything now, we will let the MediaDecoderStateMachine handle it the change when it come to play this data.\n\nSo you can remove this comment.\n\nIf we encounter a stream change in anything other than the first sample, we should call mDecoder->QueueMetadata() (so that JS gets a \"loadedmetadata\" event dispatched to the media element), but until we find an example of a file that causes that, we should not do that yet.", "id": 9164480, "creation_time": "2014-08-11T02:01:57Z", "author": "cpearce@mozilla.com"}, {"count": 9, "text": "Created attachment 8470633\nDecode a single audio frame in order to retrieve accurate channel count and sampling rate and propagate to MP4Reader\n\nBug 1047180: carrying r+", "id": 9164809, "creation_time": "2014-08-11T05:27:20Z", "author": "jyavenard@mozilla.com"}, {"count": 10, "text": "https://tbpl.mozilla.org/?tree=Try&rev=acf2a451f0d8", "id": 9169997, "creation_time": "2014-08-12T01:54:56Z", "author": "jyavenard@mozilla.com"}, {"count": 11, "text": "Created attachment 8472048\nDecode a single audio frame in order to retrieve accurate channel count and sampling rate and propagate to MP4Reader\n\nFix GonkAudio build on Android", "id": 9176356, "creation_time": "2014-08-13T03:02:59Z", "author": "jyavenard@mozilla.com"}, {"count": 12, "text": "https://tbpl.mozilla.org/?tree=Try&rev=d75ff0f4bd6a", "id": 9176718, "creation_time": "2014-08-13T06:00:25Z", "author": "jyavenard@mozilla.com"}, {"count": 13, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/c869d969bc12", "id": 9178145, "creation_time": "2014-08-13T13:42:02Z", "author": "ryanvm@gmail.com"}, {"count": 14, "text": "https://hg.mozilla.org/mozilla-central/rev/c869d969bc12", "id": 9180043, "creation_time": "2014-08-13T19:38:06Z", "author": "ryanvm@gmail.com"}], "cf_status_firefox68": "---", "blocks": [1055841, 799318, 1022501, 1039149, 1050064, 1052383], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "http://dash.edgesuite.net/dash264/TestCases/1a/netflix/ElephantsDream_AAC48K_064.mp4.dash", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-08-13T19:38:06Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "blakewu0205@gmail.com", "real_name": "Blake Wu [:bwu][:blakewu]", "name": "blakewu0205@gmail.com", "nick": "bwu", "id": 488943}, {"email": "cpearce@mozilla.com", "real_name": "Chris Pearce [:cpearce (GMT+13)]", "name": "cpearce@mozilla.com", "nick": "cpearce", "id": 287422}, {"email": "fb+mozdev@quantumedia.de", "real_name": "Florian Bender", "name": "fb+mozdev@quantumedia.de", "nick": "fb+mozdev", "id": 413779}, {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, {"email": "mkhoo@mozilla.com", "real_name": "Marvin Khoo [:Marvin_Khoo]", "name": "mkhoo@mozilla.com", "nick": "mkhoo", "id": 485272}], "summary": "Add HE-AAC support to MP4Reader", "cf_has_str": "---", "cf_user_story": "", "platform": "x86_64", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "ajones@mozilla.com", "last_change_time": "2014-08-19T23:41:58Z", "cf_fission_milestone": "---", "creator_detail": {"email": "ajones@mozilla.com", "real_name": "Anthony Jones (:ajones, :kentuckyfriedtakahe, :k17e)", "name": "ajones@mozilla.com", "nick": "ajones", "id": 443088}, "comment_count": 15, "cc": ["blakewu0205@gmail.com", "cpearce@mozilla.com", "fb+mozdev@quantumedia.de", "jyavenard@mozilla.com", "mkhoo@mozilla.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "jyavenard@mozilla.com", "groups": [], "see_also": [], "id": 1047180, "whiteboard": "", "creation_time": "2014-08-01T02:11:53Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Linux", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "Audio/Video", "product": "Core", "target_milestone": "mozilla34"}
{"history": [{"when": "2014-08-02T07:11:25Z", "changes": [{"attachment_id": 8466628, "removed": "", "added": "review+", "field_name": "flagtypes.name"}], "who": "brian@briansmith.org"}, {"when": "2014-08-03T18:02:34Z", "changes": [{"removed": "", "added": "brian@briansmith.org", "field_name": "cc"}], "who": "brian@briansmith.org"}, {"when": "2014-08-04T20:30:34Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "", "added": "in-testsuite+", "field_name": "flagtypes.name"}, {"removed": "", "added": "2014-08-04T20:30:34Z", "field_name": "cf_last_resolved"}], "who": "ryanvm@gmail.com"}, {"when": "2014-09-06T00:02:11Z", "changes": [{"removed": "", "added": "mail@nh2.me", "field_name": "cc"}], "who": "brian@briansmith.org"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "brian@briansmith.org", "real_name": "Brian Smith (:briansmith, :bsmith, use NEEDINFO?)", "name": "brian@briansmith.org", "nick": "briansmith", "id": 14661}, "creator": "brian@briansmith.org", "flags": [{"modification_date": "2014-08-02T07:11:25Z", "creation_date": "2014-08-02T07:11:25Z", "type_id": 937, "status": "+", "name": "review", "id": 940703, "setter": "brian@briansmith.org"}], "is_patch": 1, "creation_time": "2014-08-02T07:11:25Z", "id": 8466628, "is_obsolete": 0}], "comments": [{"count": 0, "text": "Created attachment 8466628\nfilter-expired-certificates-better.patch\n\nDavid Keeler (:keeler) wrote in bug 1043041 comment 3:\n> ::: security/pkix/lib/pkixbuild.cpp\n> @@ +91,5 @@\n> >  {\n> >    if (newResult == Result::ERROR_UNTRUSTED_CERT) {\n> >      newResult = Result::ERROR_UNTRUSTED_ISSUER;\n> > +  } else if (newResult == Result::ERROR_EXPIRED_CERTIFICATE) {\n> > +    newResult = Result::ERROR_EXPIRED_ISSUER_CERTIFICATE;\n> \n> I agree this is a good change to make, but it seems to violate the \"one bug\n> per bug\" idea. Does it work to have the changes related to this be a\n> separate patch? (it can be part 2 or part 3 of this bug)\n\nIn bug 1043041, we'll change the signature of TrustDomain::FindIssuer so that it no longer has a PRTime to pass to CERT_CreateSubjectCertList. Since we can't pass a time to that function, it won't be able to filter out expired issuer certificates. But, that's OK, because mozilla::pkix already checks the expiration itself anyway, so the check that CERT_CreateSubjectCertList is redundant.\n\nA non-obvious consequence of this is that, in the case where there is only one potential issuer and it is expired, we may calculate a different result than we did previously. Previously, we'd return ERROR_UNKNOWN_ISSUER, but now we'll return ERROR_EXPIRED_ISSUER_CERTIFICATE for that case. Since ERROR_EXPIRED_ISSUER_CERTIFICATE is a more specific error, this side-effect is positive.\n\nDavid had suggested that these changes be split out into a separate patch in bug 1043041. However, these changes can actually be made independently of the changes in bug 1043041, so I filed this bug to do that. David already reviewed these changes in bug 1043041.", "id": 9133497, "creation_time": "2014-08-02T07:11:25Z", "author": "brian@briansmith.org"}, {"count": 1, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/64719bb17179", "id": 9135076, "creation_time": "2014-08-03T18:02:34Z", "author": "brian@briansmith.org"}, {"count": 2, "text": "https://hg.mozilla.org/mozilla-central/rev/64719bb17179", "id": 9139019, "creation_time": "2014-08-04T20:30:34Z", "author": "ryanvm@gmail.com"}, {"count": 3, "text": "*** Bug 1060981 has been marked as a duplicate of this bug. ***", "id": 9278454, "creation_time": "2014-09-06T00:02:11Z", "author": "brian@briansmith.org"}], "cf_status_firefox68": "---", "blocks": [1043041], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-08-04T20:30:34Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "brian@briansmith.org", "real_name": "Brian Smith (:briansmith, :bsmith, use NEEDINFO?)", "name": "brian@briansmith.org", "nick": "briansmith", "id": 14661}, {"email": "mail@nh2.me", "real_name": "Niklas Hamb\u00fcchen", "name": "mail@nh2.me", "nick": "mail", "id": 404761}], "summary": "Filter out expired issuer certificates within mozilla::pkix, instead of relying on NSS's CERT_CreateSubjectCertList to do it", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "brian@briansmith.org", "real_name": "Brian Smith (:briansmith, :bsmith, use NEEDINFO?)", "name": "brian@briansmith.org", "nick": "briansmith", "id": 14661}, "creator": "brian@briansmith.org", "last_change_time": "2014-09-06T00:02:11Z", "cf_fission_milestone": "---", "creator_detail": {"email": "brian@briansmith.org", "real_name": "Brian Smith (:briansmith, :bsmith, use NEEDINFO?)", "name": "brian@briansmith.org", "nick": "briansmith", "id": 14661}, "comment_count": 4, "cc": ["brian@briansmith.org", "mail@nh2.me"], "duplicates": [1060981], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "brian@briansmith.org", "groups": [], "see_also": [], "id": 1047792, "whiteboard": "", "creation_time": "2014-08-02T07:11:25Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [{"modification_date": "2014-08-04T20:30:34Z", "creation_date": "2014-08-04T20:30:34Z", "type_id": 37, "status": "+", "name": "in-testsuite", "id": 941746, "setter": "ryanvm@gmail.com"}], "cf_tracking_firefox68": "---", "component": "Security: PSM", "product": "Core", "target_milestone": "mozilla34"}
{"history": [{"when": "2014-08-06T19:39:47Z", "changes": [{"removed": "", "added": "nfitzgerald@mozilla.com", "field_name": "cc"}], "who": "nfitzgerald@mozilla.com"}, {"when": "2014-08-06T20:35:12Z", "changes": [{"removed": "--", "added": "P2", "field_name": "priority"}], "who": "vporof@mozilla.com"}, {"when": "2015-03-20T16:21:26Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "", "added": "2015-03-20T16:21:26Z", "field_name": "cf_last_resolved"}], "who": "vporof@mozilla.com"}, {"when": "2018-06-13T17:32:25Z", "changes": [{"removed": "Firefox", "added": "DevTools", "field_name": "product"}], "who": "automation@bmo.tld"}], "attachments": [], "comments": [{"count": 0, "text": "Most of our profiler tests are currently disabled because of bug 1047124. We should enable them on opt builds since those *seem* to be working properly. However, it is not certain at this point whether or not this is a specifically debug problem, or just inherent to the slowness of the debug builds.", "id": 9149839, "creation_time": "2014-08-06T19:25:42Z", "author": "vporof@mozilla.com"}, {"count": 1, "text": "Enabled now with the new perf tool. File separate bugs if necessary.", "id": 10056792, "creation_time": "2015-03-20T16:21:26Z", "author": "vporof@mozilla.com"}], "cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2015-03-20T16:21:26Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "nfitzgerald@mozilla.com", "real_name": "Nick Fitzgerald [:fitzgen] [\u23f0PST; UTC-8]", "name": "nfitzgerald@mozilla.com", "nick": "fitzgen", "id": 417695}], "summary": "Try enabling the profiler tests on non-debug builds", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P2", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "vporof@mozilla.com", "last_change_time": "2018-06-13T17:32:25Z", "cf_fission_milestone": "---", "creator_detail": {"email": "vporof@mozilla.com", "real_name": "Victor Porof [:vporof][:vp]", "name": "vporof@mozilla.com", "nick": "vporof", "id": 414813}, "comment_count": 2, "cc": ["nfitzgerald@mozilla.com"], "duplicates": [], "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": [], "id": 1049816, "whiteboard": "", "creation_time": "2014-08-06T19:25:42Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "Performance Tools (Profiler/Timeline)", "target_milestone": "---", "product": "DevTools"}
{"history": [{"when": "2014-08-13T02:56:16Z", "changes": [{"removed": "nobody@mozilla.org", "added": "bwu@mozilla.com", "field_name": "assigned_to"}], "who": "blakewu0205@gmail.com"}, {"when": "2014-08-13T05:43:23Z", "changes": [{"attachment_id": 8472052, "removed": "", "added": "review?(mh+mozilla@glandium.org)", "field_name": "flagtypes.name"}], "who": "blakewu0205@gmail.com"}, {"when": "2014-08-13T23:03:33Z", "changes": [{"attachment_id": 8472052, "removed": "review?(mh+mozilla@glandium.org)", "added": "review+", "field_name": "flagtypes.name"}], "who": "mh+mozilla@glandium.org"}, {"when": "2014-08-14T01:21:45Z", "changes": [{"removed": "", "added": "checkin-needed", "field_name": "keywords"}], "who": "blakewu0205@gmail.com"}, {"when": "2014-08-14T15:36:08Z", "changes": [{"removed": "checkin-needed", "added": "", "field_name": "keywords"}, {"removed": "", "added": "in-testsuite-", "field_name": "flagtypes.name"}], "who": "ryanvm@gmail.com"}, {"when": "2014-08-14T20:31:48Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla34", "field_name": "target_milestone"}, {"removed": "", "added": "2014-08-14T20:31:48Z", "field_name": "cf_last_resolved"}], "who": "ryanvm@gmail.com"}, {"when": "2014-08-19T17:26:49Z", "changes": [{"removed": "", "added": "[qa-]", "field_name": "cf_qa_whiteboard"}], "who": "lhenry@mozilla.com"}, {"when": "2018-03-02T20:12:20Z", "changes": [{"removed": "Core", "added": "Firefox Build System", "field_name": "product"}], "who": "automation@bmo.tld"}, {"when": "2018-12-19T23:02:21Z", "changes": [{"removed": "", "added": "in-testsuite-", "field_name": "flagtypes.name"}], "who": "dkl@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "blakewu0205@gmail.com", "real_name": "Blake Wu [:bwu][:blakewu]", "name": "blakewu0205@gmail.com", "nick": "bwu", "id": 488943}, "creator": "blakewu0205@gmail.com", "flags": [{"modification_date": "2014-08-13T23:03:33Z", "creation_date": "2014-08-13T05:43:23Z", "type_id": 4, "status": "+", "name": "review", "id": 949522, "setter": "mh+mozilla@glandium.org"}], "is_patch": 1, "creation_time": "2014-08-13T03:06:18Z", "id": 8472052, "is_obsolete": 0}], "comments": [{"count": 0, "text": "https://tbpl.mozilla.org/php/getParsedLog.php?id=45748738&tree=B2g-Inbound\n\n04:26:05     INFO -   0:16.66 checking for localeconv... yes\n04:26:05     INFO -   0:16.68 checking NSPR selection... source-tree\n04:26:05     INFO -   0:16.68 checking for YASM assembler... checking for yasm... yasm\n04:26:05    ERROR -   0:16.69 /builds/slave/l64-br-haz_b2g-in_dep-00000000/build/source/configure: line 16243: MOZ_FMP4: command not found\n04:26:05     INFO -   0:16.70 checking for application to build... browser\n\n\nBelieve from:\nhttp://mxr.mozilla.org/mozilla-central/source/configure.in#3779\n3779 if test -n \"$MOZ_FMP4\"; then\n3780   MOZ_FMP4=1\n3781 else\n3782   MOZ_FMP4 =\n3783 fi\n\nGuess from the additional space before the equals?", "id": 9173143, "creation_time": "2014-08-12T16:41:49Z", "author": "emorley@mozilla.com"}, {"count": 1, "text": "Hi Ed, \nThanks for your information!\nI will remove that space and have a try again.", "id": 9176350, "creation_time": "2014-08-13T03:01:22Z", "author": "blakewu0205@gmail.com"}, {"count": 2, "text": "Created attachment 8472052\nBug-1052536-Remove-unnecessary-space.patch\n\nTBPL: https://tbpl.mozilla.org/?tree=Try&rev=44b20e85f3de", "id": 9176370, "creation_time": "2014-08-13T03:06:18Z", "author": "blakewu0205@gmail.com"}, {"count": 3, "text": "Comment on attachment 8472052\nBug-1052536-Remove-unnecessary-space.patch\n\nHi Mike, \nAll building results on are good on https://tbpl.mozilla.org/?tree=Try&rev=44b20e85f3de. \nCould you please help review the codes?\nThanks!", "id": 9176693, "creation_time": "2014-08-13T05:43:23Z", "author": "blakewu0205@gmail.com"}, {"count": 4, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/bb34bb0670eb\n\nI fixed up the commit message to follow the usual guidelines. Please try to keep in mind for the future that the commit message should be saying what the patch is doing, not restating the problem it's fixing. Thanks :)\nhttps://developer.mozilla.org/en-US/docs/Developer_Guide/Committing_Rules_and_Responsibilities#Checkin_comment", "id": 9184015, "creation_time": "2014-08-14T15:36:08Z", "author": "ryanvm@gmail.com"}, {"count": 5, "text": "https://hg.mozilla.org/mozilla-central/rev/bb34bb0670eb", "id": 9185615, "creation_time": "2014-08-14T20:31:48Z", "author": "ryanvm@gmail.com"}, {"count": 6, "text": "(In reply to Ryan VanderMeulen [:RyanVM UTC-4] from comment #4)\n> https://hg.mozilla.org/integration/mozilla-inbound/rev/bb34bb0670eb\n> \n> I fixed up the commit message to follow the usual guidelines. Please try to\n> keep in mind for the future that the commit message should be saying what\n> the patch is doing, not restating the problem it's fixing. Thanks :)\n> https://developer.mozilla.org/en-US/docs/Developer_Guide/\n> Committing_Rules_and_Responsibilities#Checkin_comment\nOpps. Sorry! I forgot it. \nThanks for your help and tip! I will keep it in mind.", "id": 9186901, "creation_time": "2014-08-15T02:16:29Z", "author": "blakewu0205@gmail.com"}], "cf_status_firefox68": "---", "blocks": [941302], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "[qa-]", "url": "", "qa_contact": "", "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-08-14T20:31:48Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "blakewu0205@gmail.com", "real_name": "Blake Wu [:bwu][:blakewu]", "name": "blakewu0205@gmail.com", "nick": "bwu", "id": 488943}, {"email": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]", "name": "mh+mozilla@glandium.org", "nick": "glandium", "id": 47192}], "summary": "configure: line 16243: MOZ_FMP4: command not found", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "blakewu0205@gmail.com", "real_name": "Blake Wu [:bwu][:blakewu]", "name": "blakewu0205@gmail.com", "nick": "bwu", "id": 488943}, "creator": "emorley@mozilla.com", "last_change_time": "2018-12-19T23:02:21Z", "cf_fission_milestone": "---", "creator_detail": {"email": "emorley@mozilla.com", "real_name": "Ed Morley [:emorley]", "name": "emorley@mozilla.com", "nick": "emorley", "id": 373476}, "comment_count": 7, "cc": ["blakewu0205@gmail.com", "mh+mozilla@glandium.org"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "blakewu0205@gmail.com", "groups": [], "see_also": [], "id": 1052536, "whiteboard": "", "creation_time": "2014-08-12T16:41:49Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Developer Infrastructure", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "RESOLVED", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [{"modification_date": "2018-12-19T23:02:21Z", "creation_date": "2018-12-19T23:02:21Z", "type_id": 37, "status": "-", "name": "in-testsuite", "id": 1836013, "setter": "dkl@mozilla.com"}], "cf_tracking_firefox68": "---", "component": "General", "product": "Firefox Build System", "target_milestone": "mozilla34"}
{"attachments": [{"content_type": "application/vnd.mozilla.xul+xml", "creator_detail": {"email": "grbradt@gmail.com", "real_name": "George", "name": "grbradt@gmail.com", "nick": "grbradt", "id": 333249}, "creator": "grbradt@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2009-09-23T03:04:15Z", "id": 402263, "is_obsolete": 0}, {"content_type": "image/png", "creator_detail": {"email": "grbradt@gmail.com", "real_name": "George", "name": "grbradt@gmail.com", "nick": "grbradt", "id": 333249}, "creator": "grbradt@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2009-09-23T03:06:18Z", "id": 402264, "is_obsolete": 0}], "history": [{"when": "2009-09-23T06:59:53Z", "changes": [{"removed": "", "added": "mozbugz@karlt.net", "field_name": "cc"}], "who": "ria.klaassen@gmail.com"}, {"when": "2009-09-23T07:01:35Z", "changes": [{"removed": "", "added": "ria.klaassen@gmail.com", "field_name": "cc"}], "who": "ria.klaassen@gmail.com"}, {"when": "2009-09-23T19:14:31Z", "changes": [{"removed": "UNCONFIRMED", "added": "NEW", "field_name": "status"}, {"removed": "", "added": "jmuizelaar@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "494901", "field_name": "depends_on"}, {"removed": "0", "added": "1", "field_name": "is_confirmed"}], "who": "jmuizelaar@mozilla.com"}, {"when": "2009-09-23T19:17:34Z", "changes": [{"removed": "jmuizelaar@mozilla.com", "added": "enndeakin@gmail.com", "field_name": "cc"}], "who": "enndeakin@gmail.com"}, {"when": "2009-09-29T07:23:45Z", "changes": [{"removed": "", "added": "fullmetaljacket.xp+bugmail@gmail.com", "field_name": "cc"}], "who": "fullmetaljacket.xp+bugmail@gmail.com"}, {"when": "2009-10-22T04:16:23Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla1.9.3a1", "field_name": "target_milestone"}, {"removed": "", "added": "2009-10-22T04:16:23Z", "field_name": "cf_last_resolved"}], "who": "karlt@mozbugz.karlt.net"}, {"when": "2018-04-30T20:12:10Z", "changes": [{"removed": "XP Toolkit/Widgets: XUL", "added": "XUL", "field_name": "component"}], "who": "bug-husbandry-bot@mozilla.bugs"}], "comments": [{"count": 0, "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 (.NET CLR 3.5.30729)\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2a1) Gecko/20090806 Namoroka/3.6a1 (.NET CLR 3.5.30729)\n\nIn this situation, after dropmarker clicked, the first two subfields of datepicker box display higher (and partly out of the box) than the third subfield.\nAttachments to show problem.\n\nReproducible: Always\n\nSteps to Reproduce:\n1. Open the attached XUL file in browser\n2. Click the dropmarker\n3.\nActual Results:  \n22 09\n  /  / 2009\n(not quite this pronounced)\n\nExpected Results:  \n22/09/ 2009", "id": 4313328, "creation_time": "2009-09-23T02:57:43Z", "author": "grbradt@gmail.com"}, {"count": 1, "text": "Created attachment 402263\nXUL containing <datepicker> within <grid>", "id": 4313333, "creation_time": "2009-09-23T03:04:15Z", "author": "grbradt@gmail.com"}, {"count": 2, "text": "Created attachment 402264\nImage showing datepicker after popup opened then closed", "id": 4313334, "creation_time": "2009-09-23T03:06:18Z", "author": "grbradt@gmail.com"}, {"count": 3, "text": "Seems caused by bug 481751. Not sure if one of the dependencies is already covering this.", "id": 4313565, "creation_time": "2009-09-23T06:59:53Z", "author": "ria.klaassen@gmail.com"}, {"count": 4, "text": "Looks like the patch in bug 494901 fixes this.", "id": 4314555, "creation_time": "2009-09-23T19:14:31Z", "author": "jmuizelaar@mozilla.com"}, {"count": 5, "text": "That last comment was actually from me. Jeff had secretly logged into my machine.", "id": 4314560, "creation_time": "2009-09-23T19:17:34Z", "author": "enndeakin@gmail.com"}, {"count": 6, "text": "Fixed in 494901.", "id": 4358350, "creation_time": "2009-10-22T04:16:23Z", "author": "karlt@mozbugz.karlt.net"}, {"count": 7, "text": "Moving to Core:XUL per https://bugzilla.mozilla.org/show_bug.cgi?id=1455336", "id": 13244376, "creation_time": "2018-04-30T20:12:10Z", "author": "bug-husbandry-bot@mozilla.bugs"}], "cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2009-10-22T04:16:23Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "enndeakin@gmail.com", "real_name": "Neil Deakin (away march 22 - 31)", "name": "enndeakin@gmail.com", "nick": "enndeakin", "id": 6102}, {"email": "fullmetaljacket.xp+bugmail@gmail.com", "real_name": "-fullmetaljacket-", "name": "fullmetaljacket.xp+bugmail@gmail.com", "nick": "fullmetaljacket.xp+bugmail", "id": 258169}, {"email": "karlt@mozbugz.karlt.net", "real_name": "Karl Tomlinson (:karlt)", "name": "karlt@mozbugz.karlt.net", "nick": "karlt", "id": 274246}, {"email": "ria.klaassen@gmail.com", "real_name": "Ria Klaassen (not reading all bugmail)", "name": "ria.klaassen@gmail.com", "nick": "ria.klaassen", "id": 154309}], "summary": "Namoroka - datepicker (type=popup) within a <grid> not displaying properly after dropmarker clicked", "cf_has_str": "---", "cf_user_story": "", "platform": "x86", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "grbradt@gmail.com", "last_change_time": "2018-04-30T20:12:10Z", "cf_fission_milestone": "---", "creator_detail": {"email": "grbradt@gmail.com", "real_name": "George", "name": "grbradt@gmail.com", "nick": "grbradt", "id": 333249}, "comment_count": 8, "cc": ["enndeakin@gmail.com", "fullmetaljacket.xp+bugmail@gmail.com", "karlt@mozbugz.karlt.net", "ria.klaassen@gmail.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": [], "id": 518272, "whiteboard": "", "creation_time": "2009-09-23T02:57:43Z", "depends_on": [494901], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Windows XP", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "XUL", "product": "Core", "target_milestone": "mozilla1.9.3a1"}
{"attachments": [{"content_type": "image/jpeg", "creator_detail": {"email": "honzab.moz@firemni.cz", "real_name": "Honza Bambas (:mayhemer)", "name": "honzab.moz@firemni.cz", "nick": "mayhemer", "id": 269762}, "creator": "honzab.moz@firemni.cz", "flags": [], "is_patch": 0, "creation_time": "2009-11-16T18:19:21Z", "id": 412633, "is_obsolete": 0}], "history": [{"when": "2009-11-16T18:21:31Z", "changes": [{"removed": "Core", "added": "Firefox", "field_name": "product"}, {"removed": "Security: PSM", "added": "Location Bar and Autocomplete", "field_name": "component"}, {"removed": "kaie@kuix.de", "added": "nobody@mozilla.org", "field_name": "assigned_to"}, {"removed": "psm@security.bugs", "added": "location.bar@firefox.bugs", "field_name": "qa_contact"}, {"removed": "", "added": "bzbarsky@mit.edu, cbiesinger@gmail.com, kaie@kuix.de, nelson@bolyard.me, rrelyea@redhat.com", "field_name": "cc"}], "who": "honzab.moz@firemni.cz"}, {"when": "2009-11-16T18:26:49Z", "changes": [{"removed": "Location Bar and Autocomplete", "added": "Security", "field_name": "component"}, {"removed": "location.bar@firefox.bugs", "added": "firefox@security.bugs", "field_name": "qa_contact"}], "who": "honzab.moz@firemni.cz"}, {"when": "2009-11-16T18:27:55Z", "changes": [{"removed": "", "added": "johnath@mozilla.com", "field_name": "cc"}], "who": "bugzilla@johnath.com"}, {"when": "2009-11-16T18:32:39Z", "changes": [{"removed": "", "added": "samuel.sidler@gmail.com", "field_name": "cc"}], "who": "samuel.sidler+old@gmail.com"}, {"when": "2009-11-16T20:24:38Z", "changes": [{"removed": "", "added": "reed@reedloden.com", "field_name": "cc"}], "who": "reed@reedloden.com"}, {"when": "2009-11-17T01:14:56Z", "changes": [{"removed": "", "added": "jwalden+bmo@mit.edu", "field_name": "cc"}], "who": "jwalden@mit.edu"}, {"when": "2009-11-18T03:19:11Z", "changes": [{"removed": "", "added": "gavin.sharp@gmail.com", "field_name": "cc"}], "who": "gavin.sharp@gmail.com"}, {"when": "2010-02-11T22:36:03Z", "changes": [{"removed": "", "added": "[sg:want] private because bug 370886 is private", "field_name": "whiteboard"}, {"removed": "", "added": "bsterne@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "370886", "field_name": "depends_on"}], "who": "jruderman@gmail.com"}, {"when": "2010-06-16T19:54:14Z", "changes": [{"removed": "[sg:want] private because bug 370886 is private", "added": "[sg:want][psm-padlock] private because bug 370886 is private", "field_name": "whiteboard"}], "who": "kaie@kuix.de"}, {"when": "2012-05-03T19:31:27Z", "changes": [{"removed": "", "added": "sec-want", "field_name": "keywords"}], "who": "curtisk@mozilla.com"}, {"when": "2015-03-17T13:38:39Z", "changes": [{"removed": "johnath@mozilla.com", "added": "", "field_name": "cc"}], "who": "bugzilla@johnath.com"}, {"when": "2015-09-02T07:11:21Z", "changes": [{"removed": "core-security", "added": "firefox-core-security", "field_name": "groups"}], "who": "automation@bmo.tld"}, {"when": "2016-09-23T16:18:23Z", "changes": [{"removed": "cbiesinger@gmail.com", "added": "", "field_name": "cc"}], "who": "cbiesinger@gmail.com"}, {"when": "2017-10-27T01:26:59Z", "changes": [{"removed": "firefox-core-security", "added": "", "field_name": "groups"}, {"removed": "[sg:want][psm-padlock] private because bug 370886 is private", "added": "[sg:want][psm-padlock]", "field_name": "whiteboard"}], "who": "dveditz@mozilla.com"}, {"when": "2018-09-20T18:04:25Z", "changes": [{"removed": "", "added": "honzab.moz@firemni.cz", "field_name": "cc"}, {"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=656343", "field_name": "see_also"}], "who": "honzab.moz@firemni.cz"}], "comments": [{"count": 0, "text": "Created attachment 412633\nscreen shot when user goes directly to the link (e.g. click in an email)\n\nProblem I found is that larry UI is not completely filled with all ssl information at the moment we show the http authentication prompt, see the screen shot. It might lead users to mistakenly read the UI as they would be abused with an attack or actually wouldn't know they are under a real attack at the moment. This is bad mainly in case of EV sites, there will be no EV UI while the prompt is shown and a user might enter the auth information to a spoofing site.\n\nThis is for sure blocked by bug 370886 and probably more work, because when a user clicks link e.g. in the history list, the URL is not replaced at all and the old (current) URL of the page is still appearing in the URL bar, no larry update at all.\n\nKeeping confidential not to reveal bug 370886.", "id": 4401105, "creation_time": "2009-11-16T18:19:21Z", "author": "honzab.moz@firemni.cz"}], "cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["sec-want"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": null, "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "brandon@hackmill.com", "real_name": "Brandon Sterne (:bsterne)", "name": "brandon@hackmill.com", "nick": "bsterne", "id": 296777}, {"email": "bzbarsky@mit.edu", "real_name": "Boris Zbarsky [:bzbarsky, bz on IRC]", "name": "bzbarsky@mit.edu", "nick": "bzbarsky", "id": 20209}, {"email": "gavin.sharp@gmail.com", "real_name": ":Gavin Sharp [email: gavin@gavinsharp.com]", "name": "gavin.sharp@gmail.com", "nick": "Gavin", "id": 103593}, {"email": "honzab.moz@firemni.cz", "real_name": "Honza Bambas (:mayhemer)", "name": "honzab.moz@firemni.cz", "nick": "mayhemer", "id": 269762}, {"email": "jwalden@mit.edu", "real_name": "Jeff Walden [:Waldo]", "name": "jwalden@mit.edu", "nick": "Waldo", "id": 83595}, {"email": "kaie@kuix.de", "real_name": "Kai Engert (:kaie:)", "name": "kaie@kuix.de", "nick": "kaie", "id": 36541}, {"email": "nelson@bolyard.me", "real_name": "Nelson Bolyard (seldom reads bugmail)", "name": "nelson@bolyard.me", "nick": "nelson", "id": 4484}, {"email": "rrelyea@redhat.com", "real_name": "Robert Relyea", "name": "rrelyea@redhat.com", "nick": "rrelyea", "id": 11099}, {"email": "samuel.sidler+old@gmail.com", "real_name": "Samuel Sidler (old account; do not CC)", "name": "samuel.sidler+old@gmail.com", "nick": "samuel.sidler+old", "id": 190622}], "summary": "Larry should be completely updated with all ssl info when an https page requires http authentication", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "honzab.moz@firemni.cz", "last_change_time": "2018-09-20T18:04:25Z", "cf_fission_milestone": "---", "creator_detail": {"email": "honzab.moz@firemni.cz", "real_name": "Honza Bambas (:mayhemer)", "name": "honzab.moz@firemni.cz", "nick": "mayhemer", "id": 269762}, "comment_count": 1, "cc": ["brandon@hackmill.com", "bzbarsky@mit.edu", "gavin.sharp@gmail.com", "honzab.moz@firemni.cz", "jwalden@mit.edu", "kaie@kuix.de", "nelson@bolyard.me", "rrelyea@redhat.com", "samuel.sidler+old@gmail.com"], "duplicates": [], "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=656343"], "id": 528988, "whiteboard": "[sg:want][psm-padlock]", "creation_time": "2009-11-16T18:19:21Z", "depends_on": [370886], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "", "type": "enhancement", "classification": "Client Software", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "NEW", "cf_crash_signature": "", "is_open": true, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "Security", "product": "Firefox", "target_milestone": "---"}
{"attachments": [], "history": [{"when": "2008-07-23T06:11:11Z", "changes": [{"removed": "", "added": "196843", "field_name": "depends_on"}], "who": "sayrer@gmail.com"}, {"when": "2008-07-23T06:13:23Z", "changes": [{"removed": "", "added": "441355", "field_name": "depends_on"}], "who": "sayrer@gmail.com"}, {"when": "2008-07-23T06:14:32Z", "changes": [{"removed": "", "added": "441379", "field_name": "depends_on"}], "who": "sayrer@gmail.com"}, {"when": "2008-07-23T06:16:35Z", "changes": [{"removed": "", "added": "rflint@mozilla.com", "field_name": "cc"}], "who": "rflint@ryanflint.com"}, {"when": "2008-07-23T09:30:04Z", "changes": [{"removed": "", "added": "ria.klaassen@gmail.com", "field_name": "cc"}], "who": "ria.klaassen@gmail.com"}, {"when": "2008-07-23T11:21:54Z", "changes": [{"removed": "", "added": "meta, perf", "field_name": "keywords"}, {"removed": "PC", "added": "All", "field_name": "platform"}, {"removed": "Mac OS X", "added": "All", "field_name": "op_sys"}, {"removed": "", "added": "martijn.martijn@gmail.com", "field_name": "cc"}], "who": "martijn.martijn@gmail.com"}, {"when": "2008-07-23T12:35:42Z", "changes": [{"removed": "", "added": "ryanvm@gmail.com", "field_name": "cc"}], "who": "ryanvm@gmail.com"}, {"when": "2008-07-23T12:44:50Z", "changes": [{"removed": "", "added": "gavin.sharp@gmail.com", "field_name": "cc"}], "who": "gavin.sharp@gmail.com"}, {"when": "2008-07-23T20:36:53Z", "changes": [{"removed": "startup tracking bug", "added": "startup performance tracking bug", "field_name": "summary"}], "who": "jruderman@gmail.com"}, {"when": "2008-09-19T03:02:21Z", "changes": [{"removed": "", "added": "hultmann@gmail.com", "field_name": "cc"}], "who": "hultmann@gmail.com"}, {"when": "2008-12-18T12:55:57Z", "changes": [{"removed": "", "added": "s.chylek@samsung.com", "field_name": "cc"}], "who": "s.chylek@samsung.com"}, {"when": "2008-12-28T19:46:50Z", "changes": [{"removed": "", "added": "xtc4uall@gmail.com", "field_name": "cc"}], "who": "xtc4uall@gmail.com"}, {"when": "2009-05-13T02:40:33Z", "changes": [{"removed": "", "added": "www_blackps_org@yahoo.co.uk", "field_name": "cc"}], "who": "nightsoul.blackps@googlemail.com"}, {"when": "2009-07-29T21:14:56Z", "changes": [{"removed": "", "added": "harmhilvers@zonnet.nl", "field_name": "cc"}], "who": "harmhilvers@gmail.com"}, {"when": "2009-07-31T09:37:18Z", "changes": [{"removed": "", "added": "bugzilla@spray.se", "field_name": "cc"}], "who": "bugzilla@spray.se"}, {"when": "2009-08-14T00:09:28Z", "changes": [{"removed": "", "added": "level@mub.biglobe.ne.jp", "field_name": "cc"}], "who": "u69748@disabled.tld"}, {"when": "2009-11-10T01:08:24Z", "changes": [{"removed": "www_blackps_org@yahoo.co.uk", "added": "", "field_name": "cc"}], "who": "nightsoul.blackps@googlemail.com"}, {"when": "2009-12-12T16:29:28Z", "changes": [{"removed": "", "added": "webmaster@keryx.se", "field_name": "cc"}], "who": "webmaster@keryx.se"}, {"when": "2010-03-02T23:53:57Z", "changes": [{"removed": "", "added": "sdwilsh@forerunnerdesigns.com", "field_name": "cc"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:55:02Z", "changes": [{"removed": "", "added": "491283", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:45Z", "changes": [{"removed": "", "added": "394492", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:47Z", "changes": [{"removed": "", "added": "513132", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:48Z", "changes": [{"removed": "", "added": "523655", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:49Z", "changes": [{"removed": "", "added": "513076", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:50Z", "changes": [{"removed": "", "added": "523429", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:51Z", "changes": [{"removed": "", "added": "512272", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:52Z", "changes": [{"removed": "", "added": "507262", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:53Z", "changes": [{"removed": "", "added": "537857", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:54Z", "changes": [{"removed": "", "added": "524201", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:55Z", "changes": [{"removed": "", "added": "528593", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:56Z", "changes": [{"removed": "", "added": "512650", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:57Z", "changes": [{"removed": "", "added": "510990", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:58Z", "changes": [{"removed": "", "added": "542943", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:56:59Z", "changes": [{"removed": "", "added": "533971", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:01Z", "changes": [{"removed": "", "added": "501563", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:02Z", "changes": [{"removed": "", "added": "533868", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:03Z", "changes": [{"removed": "", "added": "533038", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:04Z", "changes": [{"removed": "", "added": "528884", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:05Z", "changes": [{"removed": "", "added": "531406", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:06Z", "changes": [{"removed": "", "added": "535035", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:07Z", "changes": [{"removed": "", "added": "535623", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:08Z", "changes": [{"removed": "", "added": "484928", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:09Z", "changes": [{"removed": "", "added": "91242", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:11Z", "changes": [{"removed": "", "added": "531492", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:12Z", "changes": [{"removed": "", "added": "516085", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:14Z", "changes": [{"removed": "", "added": "529170", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:15Z", "changes": [{"removed": "", "added": "506812", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:16Z", "changes": [{"removed": "", "added": "493973", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:17Z", "changes": [{"removed": "", "added": "474043", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:18Z", "changes": [{"removed": "", "added": "521264", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:19Z", "changes": [{"removed": "", "added": "522354", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:20Z", "changes": [{"removed": "", "added": "506431", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:21Z", "changes": [{"removed": "", "added": "503483", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:22Z", "changes": [{"removed": "", "added": "520309", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:24Z", "changes": [{"removed": "", "added": "536503", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:25Z", "changes": [{"removed": "", "added": "505907", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:26Z", "changes": [{"removed": "", "added": "528651", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:27Z", "changes": [{"removed": "", "added": "506392", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:28Z", "changes": [{"removed": "", "added": "514275", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:29Z", "changes": [{"removed": "", "added": "506416", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:30Z", "changes": [{"removed": "", "added": "511529", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:32Z", "changes": [{"removed": "", "added": "506128", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:33Z", "changes": [{"removed": "", "added": "55930", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:34Z", "changes": [{"removed": "", "added": "510599", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:35Z", "changes": [{"removed": "", "added": "522375", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:36Z", "changes": [{"removed": "", "added": "510611", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:37Z", "changes": [{"removed": "", "added": "539997", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:38Z", "changes": [{"removed": "", "added": "466877", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:39Z", "changes": [{"removed": "", "added": "512510", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:40Z", "changes": [{"removed": "", "added": "507012", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:41Z", "changes": [{"removed": "", "added": "94199", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:43Z", "changes": [{"removed": "", "added": "506119", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:44Z", "changes": [{"removed": "", "added": "512584", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:45Z", "changes": [{"removed": "", "added": "529173", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:46Z", "changes": [{"removed": "", "added": "516046", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:47Z", "changes": [{"removed": "", "added": "506472", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:48Z", "changes": [{"removed": "", "added": "542144", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:49Z", "changes": [{"removed": "", "added": "480735, 543150", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:51Z", "changes": [{"removed": "", "added": "517569", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:52Z", "changes": [{"removed": "", "added": "496217", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:54Z", "changes": [{"removed": "", "added": "513149", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:56Z", "changes": [{"removed": "", "added": "512588", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:57Z", "changes": [{"removed": "", "added": "311968", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:58Z", "changes": [{"removed": "", "added": "515349", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:57:59Z", "changes": [{"removed": "", "added": "504872", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:00Z", "changes": [{"removed": "", "added": "466739", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:01Z", "changes": [{"removed": "", "added": "525013", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:03Z", "changes": [{"removed": "", "added": "462807", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:04Z", "changes": [{"removed": "", "added": "509755", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:05Z", "changes": [{"removed": "", "added": "506121", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:06Z", "changes": [{"removed": "", "added": "514083", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:07Z", "changes": [{"removed": "", "added": "532150", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:08Z", "changes": [{"removed": "", "added": "484799", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:10Z", "changes": [{"removed": "", "added": "504858", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:11Z", "changes": [{"removed": "", "added": "506841", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:13Z", "changes": [{"removed": "", "added": "534246", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:14Z", "changes": [{"removed": "", "added": "512799", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:15Z", "changes": [{"removed": "", "added": "479078", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:17Z", "changes": [{"removed": "", "added": "222051", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-02T23:58:18Z", "changes": [{"removed": "", "added": "545119", "field_name": "depends_on"}], "who": "autonome@gmail.com"}, {"when": "2010-03-03T00:13:14Z", "changes": [{"removed": "", "added": "zurtex@gmail.com", "field_name": "cc"}], "who": "zurtex@gmail.com"}, {"when": "2010-03-03T00:15:42Z", "changes": [{"removed": "", "added": "silver@warwickcompsoc.co.uk", "field_name": "cc"}], "who": "bugzilla-mozilla-20000923@james-ross.co.uk"}, {"when": "2010-03-03T00:18:05Z", "changes": [{"removed": "General", "added": "Tracking", "field_name": "component"}, {"removed": "general@core.bugs", "added": "chofmann@gmail.com", "field_name": "qa_contact"}], "who": "dao+bmo@mozilla.com"}, {"when": "2010-03-03T00:47:55Z", "changes": [{"removed": "", "added": "dietrich@mozilla.com", "field_name": "cc"}], "who": "autonome@gmail.com"}, {"when": "2010-03-03T01:32:38Z", "changes": [{"removed": "", "added": "asqueella@gmail.com", "field_name": "cc"}], "who": "asqueella@gmail.com"}, {"when": "2010-03-03T02:12:02Z", "changes": [{"removed": "", "added": "kairo@kairo.at", "field_name": "cc"}], "who": "kairo@kairo.at"}, {"when": "2010-03-03T05:07:22Z", "changes": [{"removed": "", "added": "dgk@dking.gen.nz", "field_name": "cc"}], "who": "d_king@xtra.co.nz"}, {"when": "2010-03-03T06:08:08Z", "changes": [{"removed": "", "added": "mehturt@gmail.com", "field_name": "cc"}], "who": "mehturt@pm.me"}, {"when": "2010-03-03T11:40:37Z", "changes": [{"removed": "", "added": "hidenosuke@hidenosuke.org", "field_name": "cc"}], "who": "hidenosuke@hidenosuke.org"}, {"when": "2010-03-04T09:49:19Z", "changes": [{"removed": "", "added": "mozilla@Weilbacher.org", "field_name": "cc"}], "who": "mozilla@Weilbacher.org"}, {"when": "2010-03-07T18:21:28Z", "changes": [{"removed": "", "added": "alex@spamcop.net", "field_name": "cc"}], "who": "alex@spamcop.net"}, {"when": "2010-04-10T01:25:05Z", "changes": [{"removed": "", "added": "dgtb1994@gmail.com", "field_name": "cc"}], "who": "dgtb1994@gmail.com"}, {"when": "2010-04-10T07:07:12Z", "changes": [{"removed": "", "added": "fullmetaljacket.xp+bugmail@gmail.com", "field_name": "cc"}], "who": "fullmetaljacket.xp+bugmail@gmail.com"}, {"when": "2010-04-27T15:37:22Z", "changes": [{"removed": "", "added": "561842", "field_name": "depends_on"}], "who": "ted@mielczarek.org"}, {"when": "2010-04-28T11:02:48Z", "changes": [{"removed": "", "added": "neb1236@hotmail.com", "field_name": "cc"}], "who": "neb1236@hotmail.com"}, {"when": "2010-05-18T16:48:46Z", "changes": [{"removed": "", "added": "worcester12345@yahoo.com", "field_name": "cc"}], "who": "worcester12345@yahoo.com"}, {"when": "2010-05-18T22:55:24Z", "changes": [{"removed": "", "added": "566736", "field_name": "depends_on"}], "who": "asaf@sent.com"}, {"when": "2010-05-19T05:40:22Z", "changes": [{"removed": "", "added": "bugzilla@zirro.se", "field_name": "cc"}], "who": "deprecationmail@gmail.com"}, {"when": "2010-05-19T14:54:22Z", "changes": [{"removed": "", "added": "bugzilla.spam2@grull.com", "field_name": "cc"}], "who": "bugzilla.spam2@grull.com"}, {"when": "2010-05-19T22:29:07Z", "changes": [{"removed": "", "added": "pcvrcek@mozilla.cz", "field_name": "cc"}], "who": "pcvrcek@mozilla.cz"}, {"when": "2010-05-20T06:41:48Z", "changes": [{"removed": "dgk@dking.gen.nz", "added": "", "field_name": "cc"}], "who": "d_king@xtra.co.nz"}, {"when": "2010-07-08T17:15:53Z", "changes": [{"removed": "", "added": "chofmann@gmail.com", "field_name": "cc"}], "who": "sphink@gmail.com"}, {"when": "2010-07-08T17:37:37Z", "changes": [{"removed": "", "added": "matafagafo@yahoo.com", "field_name": "cc"}], "who": "matafagafo@yahoo.com"}, {"when": "2010-07-08T17:42:39Z", "changes": [{"removed": "", "added": "antoine.mechelynck@gmail.com", "field_name": "cc"}], "who": "antoine.mechelynck@gmail.com"}, {"when": "2010-07-08T17:43:41Z", "changes": [{"removed": "", "added": "pawel.worach@gmail.com", "field_name": "cc"}], "who": "pawel.worach@gmail.com"}, {"when": "2010-07-08T18:33:46Z", "changes": [{"removed": "", "added": "vseerror@lehigh.edu", "field_name": "cc"}], "who": "vseerror@lehigh.edu"}, {"when": "2010-07-15T02:37:38Z", "changes": [{"removed": "", "added": "dzbarsky@gmail.com", "field_name": "cc"}], "who": "dzbarsky@gmail.com"}, {"when": "2010-07-15T16:42:24Z", "changes": [{"removed": "", "added": "jwatt@jwatt.org", "field_name": "cc"}], "who": "jwatt@jwatt.org"}, {"when": "2010-08-10T00:38:36Z", "changes": [{"removed": "level@mub.biglobe.ne.jp", "added": "", "field_name": "cc"}], "who": "u69748@disabled.tld"}, {"when": "2010-08-30T02:41:55Z", "changes": [{"removed": "", "added": "bugs-bmo@unknownbrackets.org", "field_name": "cc"}], "who": "bugs-bmo@unknownbrackets.org"}, {"when": "2010-09-30T08:18:30Z", "changes": [{"removed": "", "added": "bugzilla@firehacks.org", "field_name": "cc"}], "who": "bugzilla@firehacks.org"}, {"when": "2010-10-03T07:38:35Z", "changes": [{"removed": "", "added": "bsmith@mozilla.com", "field_name": "cc"}], "who": "brian@briansmith.org"}, {"when": "2010-11-15T22:44:50Z", "changes": [{"removed": "", "added": "487832", "field_name": "blocks"}], "who": "vseerror@lehigh.edu"}, {"when": "2010-11-17T08:43:16Z", "changes": [{"removed": "", "added": "splewako@aviary.pl", "field_name": "cc"}], "who": "splewako@aviary.pl"}, {"when": "2010-12-13T10:11:43Z", "changes": [{"removed": "", "added": "matty_is_a_geek@fastmail.fm", "field_name": "cc"}], "who": "matty_is_a_geek@fastmail.fm"}, {"when": "2010-12-18T14:34:06Z", "changes": [{"removed": "", "added": "kozakcsabi@gmail.com", "field_name": "cc"}], "who": "kozakcsabi@gmail.com"}, {"when": "2010-12-23T20:29:05Z", "changes": [{"removed": "", "added": "dumaat@gmail.com", "field_name": "cc"}], "who": "hjalte@outlook.com"}, {"when": "2011-01-13T20:25:03Z", "changes": [{"removed": "", "added": "dugar.siddhartha@gmail.com", "field_name": "cc"}], "who": "dugar.siddhartha@gmail.com"}, {"when": "2011-01-21T15:30:20Z", "changes": [{"removed": "", "added": "sabret00the@yahoo.co.uk", "field_name": "cc"}], "who": "pwd.mozilla@yahoo.co.uk"}, {"when": "2011-03-17T11:05:51Z", "changes": [{"removed": "", "added": "544402", "field_name": "depends_on"}], "who": "dao+bmo@mozilla.com"}, {"when": "2011-04-25T00:32:08Z", "changes": [{"removed": "", "added": "mailonthego@ymail.com", "field_name": "cc"}], "who": "mardeg@inbox.ru"}, {"when": "2011-05-26T10:28:22Z", "changes": [{"removed": "", "added": "BernesB@gmail.com", "field_name": "cc"}], "who": "Virtual@teknik.io"}, {"when": "2011-06-09T23:22:21Z", "changes": [{"removed": "536503", "added": "", "field_name": "depends_on"}], "who": "geoff@thunderbird.net"}, {"when": "2011-06-18T03:29:12Z", "changes": [{"removed": "", "added": "rjesup@jesup.org", "field_name": "cc"}], "who": "rjesup@jesup.org"}, {"when": "2011-08-18T01:43:26Z", "changes": [{"removed": "", "added": "mar.castelluccio@studenti.unina.it", "field_name": "cc"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2011-08-28T21:29:02Z", "changes": [{"removed": "", "added": "67618", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2011-09-22T11:34:53Z", "changes": [{"removed": "", "added": "611837", "field_name": "depends_on"}], "who": "vseerror@lehigh.edu"}, {"when": "2011-11-06T23:36:17Z", "changes": [{"removed": "", "added": "dbcooper.nz@gmail.com", "field_name": "cc"}], "who": "dbcooper.nz@gmail.com"}, {"when": "2011-11-14T16:38:25Z", "changes": [{"removed": "", "added": "nfroyd@mozilla.com", "field_name": "cc"}], "who": "nfroyd@mozilla.com"}, {"when": "2011-12-12T21:14:50Z", "changes": [{"removed": "", "added": "627208", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2011-12-23T01:30:40Z", "changes": [{"removed": "", "added": "107907", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2012-01-05T17:08:56Z", "changes": [{"removed": "", "added": "582005", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2012-02-06T10:22:33Z", "changes": [{"removed": "", "added": "572459", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2012-02-06T10:23:32Z", "changes": [{"removed": "", "added": "621580", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2012-02-06T10:36:19Z", "changes": [{"removed": "", "added": "468779", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2012-02-06T21:59:39Z", "changes": [{"removed": "startup performance tracking bug", "added": "startup performance tracking bug [meta]", "field_name": "summary"}, {"removed": "", "added": "720856", "field_name": "depends_on"}], "who": "vseerror@lehigh.edu"}, {"when": "2012-02-07T01:45:11Z", "changes": [{"removed": "", "added": "nissan4321@gmail.com", "field_name": "cc"}], "who": "nissan4321@gmail.com"}, {"when": "2012-02-26T10:50:35Z", "changes": [{"removed": "", "added": "piyush_soni@yahoo.com", "field_name": "cc"}], "who": "mardeg@inbox.ru"}, {"when": "2012-02-26T11:12:12Z", "changes": [{"removed": "", "added": "701909", "field_name": "depends_on"}], "who": "mardeg@inbox.ru"}, {"when": "2012-02-26T11:12:21Z", "changes": [{"removed": "", "added": "701872", "field_name": "depends_on"}], "who": "mardeg@inbox.ru"}, {"when": "2012-02-26T11:16:14Z", "changes": [{"removed": "", "added": "bmo@edmorley.co.uk", "field_name": "cc"}], "who": "emorley@mozilla.com"}, {"when": "2012-05-25T06:04:56Z", "changes": [{"removed": "", "added": "bezaleel360@gmail.com", "field_name": "cc"}], "who": "asmodeusme@yahoo.com"}, {"when": "2012-10-09T02:15:06Z", "changes": [{"removed": "", "added": "nightson1988@gmail.com", "field_name": "cc"}], "who": "nightson1988@gmail.com"}, {"when": "2012-11-17T23:59:05Z", "changes": [{"removed": "", "added": "fb+bmo@quantumedia.de", "field_name": "cc"}], "who": "fb+mozdev@quantumedia.de"}, {"when": "2012-11-27T03:46:55Z", "changes": [{"removed": "", "added": "810156", "field_name": "depends_on"}], "who": "vseerror@lehigh.edu"}, {"when": "2013-02-22T22:11:40Z", "changes": [{"removed": "", "added": "681201", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2013-02-24T23:51:22Z", "changes": [{"removed": "", "added": "public@blunet.cc", "field_name": "cc"}], "who": "public@blunet.cc"}, {"when": "2013-02-25T00:18:20Z", "changes": [{"removed": "", "added": "844661", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2013-03-07T12:48:17Z", "changes": [{"removed": "emorley@mozilla.com", "added": "", "field_name": "cc"}], "who": "emorley@mozilla.com"}, {"when": "2013-05-15T10:40:13Z", "changes": [{"removed": "", "added": "579990", "field_name": "depends_on"}], "who": "tbertels+bugzilla@gmail.com"}, {"when": "2013-05-15T10:58:25Z", "changes": [{"removed": "", "added": "dewmigg@gmail.com", "field_name": "cc"}], "who": "dewmigg@gmail.com"}, {"when": "2013-07-04T02:11:25Z", "changes": [{"removed": "", "added": "kxra@riseup.net", "field_name": "cc"}], "who": "kxra@riseup.net"}, {"when": "2013-08-08T20:36:04Z", "changes": [{"removed": "", "added": "662397", "field_name": "depends_on"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2013-11-05T13:38:05Z", "changes": [{"removed": "", "added": "bruant.d@gmail.com", "field_name": "cc"}], "who": "bruant.d@gmail.com"}, {"when": "2013-11-22T12:31:05Z", "changes": [{"removed": "", "added": "Tobias.Besemer@Googlemail.com", "field_name": "cc"}], "who": "Tobias.Besemer@Googlemail.com"}, {"when": "2014-04-23T17:11:00Z", "changes": [{"removed": "", "added": "marvinhk@hotmail.com", "field_name": "cc"}], "who": "marvinhk@hotmail.com"}, {"when": "2014-06-30T00:38:25Z", "changes": [{"removed": "brian@briansmith.org", "added": "", "field_name": "cc"}], "who": "brian@briansmith.org"}, {"when": "2014-08-20T17:38:41Z", "changes": [{"removed": "", "added": "bogofilter+mozilla@gmail.com", "field_name": "cc"}], "who": "bogofilter+mozilla@gmail.com"}, {"when": "2014-10-20T22:09:14Z", "changes": [{"removed": "", "added": "unicorn.consulting@gmail.com", "field_name": "cc"}], "who": "unicorn.consulting@gmail.com"}, {"when": "2015-04-03T22:09:05Z", "changes": [{"removed": "", "added": "roland@simplify.ee", "field_name": "cc"}], "who": "roland@simplify.ee"}, {"when": "2015-11-14T16:52:59Z", "changes": [{"removed": "harmhilvers@gmail.com", "added": "", "field_name": "cc"}], "who": "harmhilvers@gmail.com"}, {"when": "2016-07-05T18:27:52Z", "changes": [{"removed": "", "added": "benjamin@smedbergs.us", "field_name": "cc"}], "who": "benjamin@smedbergs.us"}, {"when": "2016-07-05T18:28:01Z", "changes": [{"removed": "Tracking", "added": "General", "field_name": "component"}, {"removed": "chofmann@gmail.com", "added": "", "field_name": "qa_contact"}], "who": "benjamin@smedbergs.us"}, {"when": "2017-08-03T04:07:48Z", "changes": [{"removed": "", "added": "marsjaninzmarsa@gmail.com", "field_name": "cc"}], "who": "marsjaninzmarsa@gmail.com"}, {"when": "2017-08-18T14:42:19Z", "changes": [{"removed": "benjamin@smedbergs.us", "added": "", "field_name": "cc"}], "who": "benjamin@smedbergs.us"}, {"when": "2017-12-18T01:34:06Z", "changes": [{"removed": "491283", "added": "", "field_name": "depends_on"}], "who": "vseerror@lehigh.edu"}, {"when": "2018-03-04T14:43:34Z", "changes": [{"removed": "", "added": "florian@queze.net", "field_name": "cc"}], "who": "florian@queze.net"}, {"when": "2018-03-16T15:16:49Z", "changes": [{"removed": "", "added": "gandalf@aviary.pl", "field_name": "cc"}], "who": "gandalf@aviary.pl"}, {"when": "2018-04-07T23:15:46Z", "changes": [{"removed": "bruant.d@gmail.com", "added": "", "field_name": "cc"}], "who": "bruant.d@gmail.com"}, {"when": "2018-10-07T05:17:41Z", "changes": [{"removed": "", "added": "mayankleoboy1@gmail.com", "field_name": "cc"}], "who": "mayankleoboy1@gmail.com"}], "comments": [{"count": 0, "text": "This meta bug will track startup performance issues.", "id": 3717020, "creation_time": "2008-07-23T06:10:20Z", "author": "sayrer@gmail.com"}, {"count": 1, "text": "Is this bug only meant for Mac OS X?", "id": 3717159, "creation_time": "2008-07-23T09:30:04Z", "author": "ria.klaassen@gmail.com"}, {"count": 2, "text": "I would think not. Btw, there is also bug 7251, fwiw.", "id": 3717224, "creation_time": "2008-07-23T11:21:54Z", "author": "martijn.martijn@gmail.com"}, {"count": 3, "text": "*** Bug 479078 has been marked as a duplicate of this bug. ***", "id": 4563265, "creation_time": "2010-03-02T23:53:57Z", "author": "autonome@gmail.com"}, {"count": 4, "text": "(In reply to comment #2)\n> I would think not. Btw, there is also bug 7251, fwiw.\n\nI thought this was 7251 until I reread your post. Should they be combined or duped to one another?", "id": 4700463, "creation_time": "2010-05-18T16:48:46Z", "author": "worcester12345@yahoo.com"}, {"count": 5, "text": "*** Bug 7251 has been marked as a duplicate of this bug. ***", "id": 4786199, "creation_time": "2010-07-08T17:15:53Z", "author": "sphink@gmail.com"}, {"count": 6, "text": "*** Bug 652478 has been marked as a duplicate of this bug. ***", "id": 5428821, "creation_time": "2011-04-25T00:32:08Z", "author": "mardeg@inbox.ru"}, {"count": 7, "text": "Maybe there are some bugs tracked here useful for Snappy.", "id": 5890510, "creation_time": "2011-12-03T11:54:58Z", "author": "mcastelluccio@mozilla.com"}, {"count": 8, "text": "*** Bug 730662 has been marked as a duplicate of this bug. ***", "id": 6093674, "creation_time": "2012-02-26T10:50:35Z", "author": "mardeg@inbox.ru"}], "cf_status_firefox68": "---", "blocks": [487832], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["meta", "perf"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": null, "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "alex@spamcop.net", "real_name": "Ashley Bischoff (blog at handcoding.com)", "name": "alex@spamcop.net", "nick": "alex", "id": 31219}, {"email": "antoine.mechelynck@gmail.com", "real_name": "Tony Mechelynck [:tonymec]. (NEEDINFO me if you want my attention)", "name": "antoine.mechelynck@gmail.com", "nick": "tonymec", "id": 104443}, {"email": "asmodeusme@yahoo.com", "real_name": "Willy_ Foo_Foo", "name": "asmodeusme@yahoo.com", "nick": "asmodeusme", "id": 420570}, {"email": "asqueella@gmail.com", "real_name": "Nickolay_Ponomarev", "name": "asqueella@gmail.com", "nick": "asqueella", "id": 126404}, {"email": "autonome@gmail.com", "real_name": "Dietrich Ayala (:dietrich)", "name": "autonome@gmail.com", "nick": "dietrich", "id": 213632}, {"email": "bogofilter+mozilla@gmail.com", "real_name": "Ron Baldwin", "name": "bogofilter+mozilla@gmail.com", "nick": "bogofilter+mozilla", "id": 57954}, {"email": "bugs-bmo@unknownbrackets.org", "real_name": "Unknown W. Brackets", "name": "bugs-bmo@unknownbrackets.org", "nick": "bugs-bmo", "id": 114666}, {"email": "bugzilla-mozilla-20000923@james-ross.co.uk", "real_name": "James Ross", "name": "bugzilla-mozilla-20000923@james-ross.co.uk", "nick": "bugzilla-mozilla-20000923", "id": 18057}, {"email": "bugzilla.spam2@grull.com", "real_name": "Sven Grull", "name": "bugzilla.spam2@grull.com", "nick": "bugzilla.spam2", "id": 36221}, {"email": "bugzilla@firehacks.org", "real_name": "dynamis (Tomoya ASAI)", "name": "bugzilla@firehacks.org", "nick": "bugzilla", "id": 142610}, {"email": "bugzilla@spray.se", "real_name": "Jos\u00e9 Jeria", "name": "bugzilla@spray.se", "nick": "bugzilla", "id": 25585}, {"email": "chofmann@gmail.com", "real_name": "chris hofmann", "name": "chofmann@gmail.com", "nick": "chofmann", "id": 2687}, {"email": "dbcooper.nz@gmail.com", "real_name": "DB Cooper", "name": "dbcooper.nz@gmail.com", "nick": "dbcooper.nz", "id": 310185}, {"email": "deprecationmail@gmail.com", "real_name": "d", "name": "deprecationmail@gmail.com", "nick": "deprecationmail", "id": 346332}, {"email": "dewmigg@gmail.com", "real_name": "Paul [:dew]", "name": "dewmigg@gmail.com", "nick": "dew", "id": 316757}, {"email": "dgtb1994@gmail.com", "real_name": "Donald", "name": "dgtb1994@gmail.com", "nick": "dgtb1994", "id": 333370}, {"email": "dsicore@mozilla.bugs", "real_name": "Damon Sicore (:damons)", "name": "dsicore@mozilla.bugs", "nick": "damons", "id": 269330}, {"email": "dugar.siddhartha@gmail.com", "real_name": "Siddhartha Dugar [:sdrocking]", "name": "dugar.siddhartha@gmail.com", "nick": "sdrocking", "id": 393256}, {"email": "dzbarsky@gmail.com", "real_name": "David Zbarsky (:dzbarsky)", "name": "dzbarsky@gmail.com", "nick": "dzbarsky", "id": 282207}, {"email": "fb+mozdev@quantumedia.de", "real_name": "Florian Bender", "name": "fb+mozdev@quantumedia.de", "nick": "fb+mozdev", "id": 413779}, {"email": "florian@queze.net", "real_name": "Florian Qu\u00e8ze [:florian]", "name": "florian@queze.net", "nick": "florian", "id": 149052}, {"email": "fullmetaljacket.xp+bugmail@gmail.com", "real_name": "-fullmetaljacket-", "name": "fullmetaljacket.xp+bugmail@gmail.com", "nick": "fullmetaljacket.xp+bugmail", "id": 258169}, {"email": "gandalf@aviary.pl", "real_name": "Zibi Braniecki [:gandalf][:zibi]", "name": "gandalf@aviary.pl", "nick": "gandalf", "id": 41270}, {"email": "gavin.sharp@gmail.com", "real_name": ":Gavin Sharp [email: gavin@gavinsharp.com]", "name": "gavin.sharp@gmail.com", "nick": "Gavin", "id": 103593}, {"email": "hidenosuke@hidenosuke.org", "real_name": "Hideo Oshima", "name": "hidenosuke@hidenosuke.org", "nick": "hidenosuke", "id": 31289}, {"email": "hjalte@outlook.com", "real_name": "", "name": "hjalte@outlook.com", "nick": "hjalte", "id": 380934}, {"email": "hultmann@gmail.com", "real_name": "Jeferson Hultmann", "name": "hultmann@gmail.com", "nick": "hultmann", "id": 150960}, {"email": "jwatt@jwatt.org", "real_name": "Jonathan Watt [:jwatt]", "name": "jwatt@jwatt.org", "nick": "jwatt", "id": 32767}, {"email": "kairo@kairo.at", "real_name": "Robert Kaiser", "name": "kairo@kairo.at", "nick": "kairo", "id": 5189}, {"email": "kozakcsabi@gmail.com", "real_name": "Csaba Koz\u00e1k [:WonderCsabo]", "name": "kozakcsabi@gmail.com", "nick": "WonderCsabo", "id": 351073}, {"email": "kxra@riseup.net", "real_name": "", "name": "kxra@riseup.net", "nick": "kxra", "id": 474176}, {"email": "mailonthego@ymail.com", "real_name": "", "name": "mailonthego@ymail.com", "nick": "mailonthego", "id": 413806}, {"email": "marsjaninzmarsa@gmail.com", "real_name": "Kuba Niewiarowski", "name": "marsjaninzmarsa@gmail.com", "nick": "marsjaninzmarsa", "id": 470481}, {"email": "martijn.martijn@gmail.com", "real_name": "Martijn Wargers (zombie)", "name": "martijn.martijn@gmail.com", "nick": "martijn.martijn", "id": 55600}, {"email": "marvinhk@hotmail.com", "real_name": "", "name": "marvinhk@hotmail.com", "nick": "marvinhk", "id": 397479}, {"email": "matafagafo@yahoo.com", "real_name": "Fernando Hartmann", "name": "matafagafo@yahoo.com", "nick": "matafagafo", "id": 60457}, {"email": "matty_is_a_geek@fastmail.fm", "real_name": "Matthew Tuck [:CodeMachine]", "name": "matty_is_a_geek@fastmail.fm", "nick": "CodeMachine", "id": 4412}, {"email": "mayankleoboy1@gmail.com", "real_name": "Mayank Bansal", "name": "mayankleoboy1@gmail.com", "nick": "mayankleoboy1", "id": 440227}, {"email": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]", "name": "mcastelluccio@mozilla.com", "nick": "marco", "id": 420453}, {"email": "mehturt@pm.me", "real_name": "m.", "name": "mehturt@pm.me", "nick": "mehturt", "id": 63692}, {"email": "mozilla@Weilbacher.org", "real_name": "Peter Weilbacher", "name": "mozilla@Weilbacher.org", "nick": "mozilla", "id": 33840}, {"email": "neb1236@hotmail.com", "real_name": "neb1236", "name": "neb1236@hotmail.com", "nick": "neb1236", "id": 330406}, {"email": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj]", "name": "nfroyd@mozilla.com", "nick": "froydnj", "id": 417288}, {"email": "nightson1988@gmail.com", "real_name": "NightsoN Blaze", "name": "nightson1988@gmail.com", "nick": "nightson1988", "id": 415888}, {"email": "nissan4321@gmail.com", "real_name": "Mikel", "name": "nissan4321@gmail.com", "nick": "nissan4321", "id": 414417}, {"email": "pawel.worach@gmail.com", "real_name": "Pawel Worach", "name": "pawel.worach@gmail.com", "nick": "pawel.worach", "id": 33734}, {"email": "pcvrcek@mozilla.cz", "real_name": "Pavel Cvrcek [:JasnaPaka]", "name": "pcvrcek@mozilla.cz", "nick": "JasnaPaka", "id": 134871}, {"email": "piyush_soni@yahoo.com", "real_name": "Piyush Soni", "name": "piyush_soni@yahoo.com", "nick": "piyush_soni", "id": 344534}, {"email": "public@blunet.cc", "real_name": "Claude Nobs", "name": "public@blunet.cc", "nick": "public", "id": 406459}, {"email": "pwd.mozilla@yahoo.co.uk", "real_name": "Paul [pwd]", "name": "pwd.mozilla@yahoo.co.uk", "nick": "pwd.mozilla", "id": 369453}, {"email": "rflint@ryanflint.com", "real_name": "Ryan Flint [:rflint] (ping via IRC for reviews)", "name": "rflint@ryanflint.com", "nick": "rflint", "id": 188489}, {"email": "ria.klaassen@gmail.com", "real_name": "Ria Klaassen (not reading all bugmail)", "name": "ria.klaassen@gmail.com", "nick": "ria.klaassen", "id": 154309}, {"email": "rjesup@jesup.org", "real_name": "Randell Jesup [:jesup] (needinfo me)", "name": "rjesup@jesup.org", "nick": "jesup", "id": 11539}, {"email": "roland@simplify.ee", "real_name": "Roland Pihlakas", "name": "roland@simplify.ee", "nick": "roland", "id": 527343}, {"email": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]", "name": "ryanvm@gmail.com", "nick": "RyanVM", "id": 75935}, {"email": "s.chylek@samsung.com", "real_name": "S\u0142awomir Chy\u0142ek", "name": "s.chylek@samsung.com", "nick": "s.chylek", "id": 322766}, {"email": "sdwilsh@forerunnerdesigns.com", "real_name": "Shawn Wilsher :sdwilsh", "name": "sdwilsh@forerunnerdesigns.com", "nick": "sdwilsh", "id": 233280}, {"email": "splewako@aviary.pl", "real_name": "Stefan Plewako [:stef]", "name": "splewako@aviary.pl", "nick": "stef", "id": 225658}, {"email": "Tobias.Besemer@Googlemail.com", "real_name": "Tobias B. Besemer [:BesTo] (QA)", "name": "Tobias.Besemer@Googlemail.com", "nick": "BesTo", "id": 30393}, {"email": "unicorn.consulting@gmail.com", "real_name": "Matt", "name": "unicorn.consulting@gmail.com", "nick": "unicorn.consulting", "id": 352993}, {"email": "Virtual@teknik.io", "real_name": "Virtual_ManPL [:Virtual] - (please needinfo? me - so I will see your comment/reply/question/etc.)", "name": "Virtual@teknik.io", "nick": "Virtual", "id": 342842}, {"email": "vseerror@lehigh.edu", "real_name": "Wayne Mery (:wsmwk)", "name": "vseerror@lehigh.edu", "nick": "wsmwk", "id": 29811}, {"email": "webmaster@keryx.se", "real_name": "Lars Gunther", "name": "webmaster@keryx.se", "nick": "webmaster", "id": 298919}, {"email": "worcester12345@yahoo.com", "real_name": "Worcester12345", "name": "worcester12345@yahoo.com", "nick": "worcester12345", "id": 141226}, {"email": "xtc4uall@gmail.com", "real_name": "(mostly gone) XtC4UaLL [:xtc4uall]", "name": "xtc4uall@gmail.com", "nick": "xtc4uall", "id": 104905}, {"email": "zurtex@gmail.com", "real_name": "Damian Shaw [Quan]", "name": "zurtex@gmail.com", "nick": "zurtex", "id": 207844}], "summary": "startup performance tracking bug [meta]", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 42, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "sayrer@gmail.com", "last_change_time": "2018-10-07T05:17:41Z", "cf_fission_milestone": "---", "creator_detail": {"email": "sayrer@gmail.com", "real_name": "Robert Sayre", "name": "sayrer@gmail.com", "nick": "sayrer", "id": 180188}, "comment_count": 9, "cc": ["alex@spamcop.net", "antoine.mechelynck@gmail.com", "asmodeusme@yahoo.com", "asqueella@gmail.com", "autonome@gmail.com", "bogofilter+mozilla@gmail.com", "bugs-bmo@unknownbrackets.org", "bugzilla-mozilla-20000923@james-ross.co.uk", "bugzilla.spam2@grull.com", "bugzilla@firehacks.org", "bugzilla@spray.se", "chofmann@gmail.com", "dbcooper.nz@gmail.com", "deprecationmail@gmail.com", "dewmigg@gmail.com", "dgtb1994@gmail.com", "dsicore@mozilla.bugs", "dugar.siddhartha@gmail.com", "dzbarsky@gmail.com", "fb+mozdev@quantumedia.de", "florian@queze.net", "fullmetaljacket.xp+bugmail@gmail.com", "gandalf@aviary.pl", "gavin.sharp@gmail.com", "hidenosuke@hidenosuke.org", "hjalte@outlook.com", "hultmann@gmail.com", "jwatt@jwatt.org", "kairo@kairo.at", "kozakcsabi@gmail.com", "kxra@riseup.net", "mailonthego@ymail.com", "marsjaninzmarsa@gmail.com", "martijn.martijn@gmail.com", "marvinhk@hotmail.com", "matafagafo@yahoo.com", "matty_is_a_geek@fastmail.fm", "mayankleoboy1@gmail.com", "mcastelluccio@mozilla.com", "mehturt@pm.me", "mozilla@Weilbacher.org", "neb1236@hotmail.com", "nfroyd@mozilla.com", "nightson1988@gmail.com", "nissan4321@gmail.com", "pawel.worach@gmail.com", "pcvrcek@mozilla.cz", "piyush_soni@yahoo.com", "public@blunet.cc", "pwd.mozilla@yahoo.co.uk", "rflint@ryanflint.com", "ria.klaassen@gmail.com", "rjesup@jesup.org", "roland@simplify.ee", "ryanvm@gmail.com", "s.chylek@samsung.com", "sdwilsh@forerunnerdesigns.com", "splewako@aviary.pl", "Tobias.Besemer@Googlemail.com", "unicorn.consulting@gmail.com", "Virtual@teknik.io", "vseerror@lehigh.edu", "webmaster@keryx.se", "worcester12345@yahoo.com", "xtc4uall@gmail.com", "zurtex@gmail.com"], "duplicates": [7251, 479078, 652478], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": [], "id": 447581, "whiteboard": "", "creation_time": "2008-07-23T06:10:20Z", "depends_on": [91242, 196843, 222051, 394492, 466739, 466877, 468779, 484799, 484928, 496217, 504858, 506121, 506416, 506472, 506841, 510599, 510611, 512650, 512799, 513076, 513149, 514083, 514275, 515349, 516046, 521264, 523429, 528593, 529173, 531406, 531492, 533971, 535623, 542144, 572459, 579990, 582005, 611837, 627208, 662397, 810156, 844661, 55930, 67618, 94199, 107907, 311968, 441355, 441379, 462807, 474043, 479078, 480735, 493973, 501563, 503483, 504872, 505907, 506119, 506128, 506392, 506431, 506812, 507012, 507262, 509755, 510990, 511529, 512272, 512510, 512584, 512588, 513132, 516085, 517569, 520309, 522354, 522375, 523655, 524201, 525013, 528651, 528884, 529170, 532150, 533038, 533868, 534246, 535035, 537857, 539997, 542943, 543150, 544402, 545119, 561842, 566736, 621580, 681201, 701872, 701909, 720856], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "NEW", "cf_crash_signature": "", "is_open": true, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "General", "product": "Core", "target_milestone": "---"}
{"history": [{"when": "2014-11-19T22:31:40Z", "changes": [{"removed": "", "added": "agibson@mozilla.com", "field_name": "cc"}], "who": "dolske@mozilla.com"}, {"when": "2014-11-20T18:28:51Z", "changes": [{"removed": "", "added": "dao@mozilla.com", "field_name": "cc"}], "who": "dao+bmo@mozilla.com"}, {"when": "2014-11-25T10:22:34Z", "changes": [{"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "---", "added": "5", "field_name": "cf_fx_points"}, {"removed": "nobody@mozilla.org", "added": "bmcbride@mozilla.com", "field_name": "assigned_to"}, {"removed": "", "added": "firefox-backlog+, qe-verify-", "field_name": "flagtypes.name"}], "who": "blair@theunfocused.net"}, {"when": "2014-11-25T11:42:52Z", "changes": [{"removed": "", "added": "mmucci@mozilla.com", "field_name": "cc"}], "who": "mmucci@mozilla.com"}, {"when": "2014-11-25T11:57:41Z", "changes": [{"removed": "---", "added": "37.1", "field_name": "cf_fx_iteration"}], "who": "mmucci@mozilla.com"}, {"when": "2014-11-28T17:11:09Z", "changes": [{"removed": "", "added": "cprice@mozilla.com", "field_name": "cc"}], "who": "cbkprice@gmail.com"}, {"when": "2014-12-01T09:08:46Z", "changes": [{"attachment_id": 8530807, "removed": "", "added": "review?(MattN+bmo@mozilla.com), feedback?(agibson@mozilla.com)", "field_name": "flagtypes.name"}], "who": "blair@theunfocused.net"}, {"when": "2014-12-01T22:44:26Z", "changes": [{"attachment_id": 8530807, "removed": "feedback?(agibson@mozilla.com)", "added": "feedback+", "field_name": "flagtypes.name"}], "who": "agibson@mozilla.com"}, {"when": "2014-12-04T02:11:09Z", "changes": [{"attachment_id": 8530807, "removed": "review?(MattN+bmo@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "MattN+bmo@mozilla.com"}, {"when": "2014-12-05T12:07:15Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "Firefox 37", "field_name": "target_milestone"}, {"removed": "", "added": "2014-12-05T12:07:15Z", "field_name": "cf_last_resolved"}], "who": "cbook@mozilla.com"}, {"when": "2014-12-10T19:36:15Z", "changes": [{"removed": "", "added": "1109812", "field_name": "depends_on"}], "who": "jaws@mozilla.com"}, {"when": "2014-12-19T22:05:18Z", "changes": [{"removed": "", "added": "rjesup@jesup.org", "field_name": "cc"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox35"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox36"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox37"}], "who": "rjesup@jesup.org"}, {"when": "2014-12-19T22:07:44Z", "changes": [{"attachment_id": 8530807, "removed": "", "added": "approval-mozilla-aurora+, approval-mozilla-beta+", "field_name": "flagtypes.name"}], "who": "dolske@mozilla.com"}, {"when": "2014-12-22T17:04:21Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox35"}], "who": "MattN+bmo@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "blair@theunfocused.net", "real_name": "Blair McBride [:Unfocused] (UNAVAILABLE)", "name": "blair@theunfocused.net", "nick": "Unfocused", "id": 292667}, "creator": "blair@theunfocused.net", "flags": [{"modification_date": "2014-12-04T02:11:09Z", "creation_date": "2014-12-01T09:08:46Z", "type_id": 748, "status": "+", "name": "review", "id": 1045653, "setter": "MattN+bmo@mozilla.com"}, {"modification_date": "2014-12-01T22:44:26Z", "creation_date": "2014-12-01T09:08:46Z", "type_id": 607, "status": "+", "name": "feedback", "id": 1045654, "setter": "agibson@mozilla.com"}, {"modification_date": "2014-12-19T22:07:44Z", "creation_date": "2014-12-19T22:07:44Z", "type_id": 720, "status": "+", "name": "approval-mozilla-aurora", "id": 1059072, "setter": "dolske@mozilla.com"}, {"modification_date": "2014-12-19T22:07:44Z", "creation_date": "2014-12-19T22:07:44Z", "type_id": 721, "status": "+", "name": "approval-mozilla-beta", "id": 1059073, "setter": "dolske@mozilla.com"}], "is_patch": 1, "creation_time": "2014-12-01T09:08:46Z", "id": 8530807, "is_obsolete": 0}], "comments": [{"count": 0, "text": "A number of the dependents of bug 1080942 need a new event framework in UITour, to allow parts of Firefox to tell a tour webpage that something happened. Let's use this bug to figure out what that should look like, so it's not spread among those other existing bugs.\n\nThere are basically 3 parts to this:\n\n* Define a content API for tour pages to register and receive events\n* Define a chrome API for Firefox code to easily trigger such events\n* Implement the UITour.jsm / uitour.js code to glue #1 and #2 together\n\nI think it would make sense to base this on something similar to DOM event listeners, especially on the content-exposed side. [But minimally so, no bubbling/capturing/cancelable etc. The intent isn't to exactly clone addEventListener] So, something like:\n\n* addTourListener(eventType, callback)\n\n  e.g. UITour.addTourListener(\"party\", function onParty(event) { ... });\n  where |event| is a JS object with event.type == \"party\" and event.data an\n  arbitrary object supplied from chrome.\n\n* removeTourListener(eventType, callback)\n\n (If we even need it; I'd suspect we don't)\n\n* dispatchTourEvent(eventType, data) [from chrome code]\n  e.g. dispatchTourEvent(\"party\", { likeItIs: 1999 })\n\nThe UITour module would be responsible for routing dispatchTourEvent() calls to any open tour page.\n\nConsider this as starting point for discussion, I'm not beholden to any specifics.", "id": 9613173, "creation_time": "2014-11-19T21:54:14Z", "author": "dolske@mozilla.com"}, {"count": 1, "text": "(In reply to Justin Dolske [:Dolske] from comment #0)\n> I think it would make sense to base this on something similar to DOM event\n> listeners, especially on the content-exposed side. [But minimally so, no\n> bubbling/capturing/cancelable etc. The intent isn't to exactly clone\n> addEventListener] So, something like:\n> \n> * addTourListener(eventType, callback)\n> \n>   e.g. UITour.addTourListener(\"party\", function onParty(event) { ... });\n>   where |event| is a JS object with event.type == \"party\" and event.data an\n>   arbitrary object supplied from chrome.\n> \n> * removeTourListener(eventType, callback)\n> \n>  (If we even need it; I'd suspect we don't)\n\nSomething along these lines sounds good to me, +1", "id": 9616351, "creation_time": "2014-11-20T14:23:54Z", "author": "agibson@mozilla.com"}, {"count": 2, "text": "Created attachment 8530807\nPatch v1\n\nSimplified this quite a bit, to avoid having to track individual listeners.\n\nIn chrome, you can use one of the following to send a notification to Tour pages:\n\n  UITour.notify(\"some-event-happened\");\n  UITour.notify(\"some-event-happened\", \"and this is more info\");\n  UITour.notify(\"some-event-happened\", {data: \"oh my\", moreData: \"beards\"});\n\nThis will send a notification to *all* pages that are using the UITour API. With the usual disclaimer about automatic teardown, and having to use the page visibility API. Such pages will always get a DOM event dispatched to them if UITour.jsm knows about them, and will get events for all notifications - it's up to the JS library to listen to them or not.\n\nIn content, use the JS library like so:\n\n  Mozilla.UITour.observe(function(event, params) {\n    ...\n  });\n\nOr to remove that notification callback:\n\n  Mozilla.UITour.observe(null);\n\nI've also added a \"ping\" action - I needed something like this for testing, and figured it would generally be useful. All it does is make UITour.jsm aware that the page is a Tour page, and fires an event back to the page. Used like:\n\n  Mozilla.UITour.ping(function() { ... });\n\nThis JS library does *not* provide a way to filter notifications, or listen only for specific notifications - it's currently up to the listener to handle that.", "id": 9652532, "creation_time": "2014-12-01T09:08:46Z", "author": "blair@theunfocused.net"}, {"count": 3, "text": "Comment on attachment 8530807\nPatch v1\n\nOverall this looks fine to me - I'm happy to write a generic handleEvent type listener, which can then delegate out to different functions per event. This should do the job nicely.", "id": 9653827, "creation_time": "2014-12-01T22:44:26Z", "author": "agibson@mozilla.com"}, {"count": 4, "text": "Comment on attachment 8530807\nPatch v1\n\nReview of attachment 8530807:\n-----------------------------------------------------------------\n\n::: browser/base/content/content-UITour.js\n@@ +84,4 @@\n>        bubbles: true,\n>        detail: Cu.cloneInto(detail, doc.defaultView)\n>      });\n> +    debugger;\n\nLeftover :P\n\n::: browser/modules/UITour.jsm\n@@ +580,5 @@\n>          }).then(null, Cu.reportError);\n>          break;\n>        }\n> +\n> +      case \"ping\": {\n\nCan you explain more about what ping is for? I think we currently use getConfiguration for something similar.", "id": 9658390, "creation_time": "2014-12-03T21:45:18Z", "author": "MattN+bmo@mozilla.com"}, {"count": 5, "text": "Comment on attachment 8530807\nPatch v1\n\nReview of attachment 8530807:\n-----------------------------------------------------------------\n\n::: browser/modules/test/uitour.js\n@@ +75,5 @@\n> +    var data = {};\n> +    if (callback) {\n> +      data.callbackID = _waitForCallback(callback);\n> +    }\n> +    _sendEvent('ping', data);\n\nNit: double quotes", "id": 9659156, "creation_time": "2014-12-04T02:11:09Z", "author": "MattN+bmo@mozilla.com"}, {"count": 6, "text": "(In reply to Matthew N. [:MattN] from comment #5)\n> Nit: double quotes\n\nHeh, actually, it's the double quotes in that file that are wrong. That file follows the webdev style guide:\nhttp://mozweb.readthedocs.org/en/latest/reference/js-style.html#quotes", "id": 9659237, "creation_time": "2014-12-04T02:54:41Z", "author": "blair@theunfocused.net"}, {"count": 7, "text": "(In reply to Matthew N. [:MattN] from comment #4)\n> Can you explain more about what ping is for? I think we currently use\n> getConfiguration for something similar.\n\nDiscussed this over Vidyo: Basically, yes, that. But specifically for that case, and without doing any work.\n\nThough, I forgot to mention that I think it will become more important with bug 941428.", "id": 9659252, "creation_time": "2014-12-04T03:00:41Z", "author": "blair@theunfocused.net"}, {"count": 8, "text": "(In reply to Blair McBride [:Unfocused] from comment #6)\n> (In reply to Matthew N. [:MattN] from comment #5)\n> > Nit: double quotes\n> \n> Heh, actually, it's the double quotes in that file that are wrong. That file\n> follows the webdev style guide:\n> http://mozweb.readthedocs.org/en/latest/reference/js-style.html#quotes\n\nThat style guide also commands 4-space indents, for instance, which is different from both our common style and what's being done in this very file. Now, I'm actually asking you to use 4-space indents. I'd rather question the usefulness of trying to follow a style guide that was written down from external people who are working on a different code base.", "id": 9660505, "creation_time": "2014-12-04T17:32:24Z", "author": "dao+bmo@mozilla.com"}, {"count": 9, "text": "Comment on attachment 8530807\nPatch v1\n\nReview of attachment 8530807:\n-----------------------------------------------------------------\n\n::: browser/modules/UITour.jsm\n@@ +1554,5 @@\n> +    while (winEnum.hasMoreElements()) {\n> +      let window = winEnum.getNext();\n> +      if (window.closed)\n> +        continue;\n> +debugger;\n\nLeftover `debugger` here too", "id": 9660971, "creation_time": "2014-12-04T19:16:53Z", "author": "MattN+bmo@mozilla.com"}, {"count": 10, "text": "https://hg.mozilla.org/integration/fx-team/rev/6c84bbab2848", "id": 9662446, "creation_time": "2014-12-05T01:53:29Z", "author": "blair@theunfocused.net"}, {"count": 11, "text": "https://hg.mozilla.org/mozilla-central/rev/6c84bbab2848", "id": 9663343, "creation_time": "2014-12-05T12:07:15Z", "author": "cbook@mozilla.com"}, {"count": 12, "text": "One thing I'm not 100% clear on is how the Chrome will know *when* to send an event. For example, a web page might need to know the status of the FTE tour when the page loads, but also when tab visibility changes etc (we need to hide info panels and other things when the tab is not visible).\n\nI can't test this just yet as the first notifications have not yet landed in Nightly, but I wondered if things like this can be handled already (or if they are even in scope).", "id": 9668699, "creation_time": "2014-12-08T16:13:55Z", "author": "agibson@mozilla.com"}, {"count": 13, "text": "The notifications to the page only get sent when they happen. Querying status for anything is outside the scope of this bug - this is just for the framework to send arbitrary notifications.\n\nFor the ability to query the status of anything, we'd need a new bug to hook it up - it'd be using the getConfiguration API we already have.\n\nAs far as the current context of Loop-related things goes, we could add a way to query whether a room is currently open. But I don't think it makes sense for any of the other current Loop UITour event bugs, as they're all stateless events.", "id": 9670321, "creation_time": "2014-12-08T21:50:48Z", "author": "blair@theunfocused.net"}, {"count": 14, "text": "https://hg.mozilla.org/releases/mozilla-aurora/rev/b102e8229c7d", "id": 9717255, "creation_time": "2014-12-19T21:46:27Z", "author": "rjesup@jesup.org"}, {"count": 15, "text": "Comment on attachment 8530807\nPatch v1\n\n[Triage Comment]\n\nNeeded for Fx35 Hello tour, all code is tour-specific.", "id": 9717350, "creation_time": "2014-12-19T22:07:44Z", "author": "dolske@mozilla.com"}, {"count": 16, "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/166360180776", "id": 9723052, "creation_time": "2014-12-22T17:04:21Z", "author": "MattN+bmo@mozilla.com"}], "cf_status_firefox68": "---", "blocks": [1080942], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_status_firefox35": "fixed", "cf_tracking_firefox67": "---", "cf_fx_iteration": "37.1", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-12-05T12:07:15Z", "cf_tracking_firefox66": "---", "cf_fx_points": "5", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "agibson@mozilla.com", "real_name": "Alex Gibson [:agibson]", "name": "agibson@mozilla.com", "nick": "agibson", "id": 468279}, {"email": "blair@theunfocused.net", "real_name": "Blair McBride [:Unfocused] (UNAVAILABLE)", "name": "blair@theunfocused.net", "nick": "Unfocused", "id": 292667}, {"email": "cbkprice@gmail.com", "real_name": "Cory Price [:ckprice] (bugmail disabled, NI me!)", "name": "cbkprice@gmail.com", "nick": "ckprice", "id": 516261}, {"email": "dao+bmo@mozilla.com", "real_name": "D\u00e3o Gottwald [::dao]", "name": "dao+bmo@mozilla.com", "nick": "dao", "id": 219124}, {"email": "MattN+bmo@mozilla.com", "real_name": "Matthew N. [:MattN] (PM me if requests are blocking you)", "name": "MattN+bmo@mozilla.com", "nick": "MattN", "id": 305228}, {"email": "mmucci@mozilla.com", "real_name": "Marco Mucci [:MarcoM]", "name": "mmucci@mozilla.com", "nick": "MarcoM", "id": 458208}, {"email": "rjesup@jesup.org", "real_name": "Randell Jesup [:jesup] (needinfo me)", "name": "rjesup@jesup.org", "nick": "jesup", "id": 11539}], "summary": "Create UITour event framework", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "assigned_to_detail": {"email": "blair@theunfocused.net", "real_name": "Blair McBride [:Unfocused] (UNAVAILABLE)", "name": "blair@theunfocused.net", "nick": "Unfocused", "id": 292667}, "creator": "dolske@mozilla.com", "last_change_time": "2014-12-22T17:04:21Z", "cf_status_firefox36": "fixed", "cf_fission_milestone": "---", "comment_count": 17, "creator_detail": {"email": "dolske@mozilla.com", "real_name": "Justin Dolske [:Dolske]", "name": "dolske@mozilla.com", "nick": "Dolske", "id": 27780}, "cc": ["agibson@mozilla.com", "blair@theunfocused.net", "cbkprice@gmail.com", "dao+bmo@mozilla.com", "MattN+bmo@mozilla.com", "mmucci@mozilla.com", "rjesup@jesup.org"], "duplicates": [], "assigned_to": "blair@theunfocused.net", "groups": [], "see_also": [], "id": 1101825, "whiteboard": "", "creation_time": "2014-11-19T21:54:14Z", "depends_on": [1109812], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Client Software", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [{"modification_date": "2014-11-25T10:22:34Z", "creation_date": "2014-11-25T10:22:34Z", "type_id": 846, "status": "+", "name": "firefox-backlog", "id": 1042119, "setter": "blair@theunfocused.net"}, {"modification_date": "2014-11-25T10:22:34Z", "creation_date": "2014-11-25T10:22:34Z", "type_id": 864, "status": "-", "name": "qe-verify", "id": 1042120, "setter": "blair@theunfocused.net"}], "cf_tracking_firefox68": "---", "cf_status_firefox37": "fixed", "component": "General", "product": "Firefox", "target_milestone": "Firefox 37"}
{"history": [{"when": "2015-09-18T23:17:55Z", "changes": [{"attachment_id": 8663184, "removed": "", "added": "review?(mh+mozilla@glandium.org)", "field_name": "flagtypes.name"}], "who": "dholbert@mozilla.com"}, {"when": "2015-09-21T23:05:16Z", "changes": [{"attachment_id": 8663184, "removed": "review?(mh+mozilla@glandium.org)", "added": "review+", "field_name": "flagtypes.name"}], "who": "mh+mozilla@glandium.org"}, {"when": "2015-09-21T23:37:27Z", "changes": [{"removed": "nobody@mozilla.org", "added": "dholbert@mozilla.com", "field_name": "assigned_to"}], "who": "dholbert@mozilla.com"}, {"when": "2015-09-22T10:49:05Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla44", "field_name": "target_milestone"}, {"removed": "", "added": "2015-09-22T10:49:05Z", "field_name": "cf_last_resolved"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox44"}], "who": "cbook@mozilla.com"}], "comments": [{"count": 0, "text": "Clang 3.5 gives this build warning:\n{\n$SRC/xpcom/build/Omnijar.cpp:62:47: warning: self-comparison always evaluates to true [-Wtautological-compare]\n}\n\nIt includes this (preprocessed) source in the warning output:\n      nsDirectoryService::gService->Get(((GRE == mozilla::Omnijar::GRE) ?\n                                              ^\n\nThis is for this code:\n> 26 #define SPROP(Type) ((Type == mozilla::Omnijar::GRE) ? sProp[GRE] : sProp[APP])\n[...]\n> 62       nsDirectoryService::gService->Get(SPROP(GRE), NS_GET_IID(nsIFile),\n> 63                                         getter_AddRefs(greDir));\nhttp://mxr.mozilla.org/mozilla-central/source/xpcom/build/Omnijar.cpp#62\n\n...which was added here, for bug 620931:\nhttp://hg.mozilla.org/mozilla-central/rev/88caff1a09d0#l12.86\n\nglandium, can we restructure this code such that it doesn't end up expanding to a tautological comparison?  (Alternately, we could use #pragmas to disable the warning, in a targeted way, but that'd probably be the messier choice.)", "id": 9486061, "creation_time": "2014-10-22T18:04:09Z", "author": "dholbert@mozilla.com"}, {"count": 1, "text": "Created attachment 8663184\nstrawman fix\n\nStill seeing this in current builds. glandium, how does this look?\n\n(The patch avoids passing the constant values GRE & APP into this macro, so now we'll only be using the macro when we've actually got a variable with an unknown value.)", "id": 10750251, "creation_time": "2015-09-18T23:17:55Z", "author": "dholbert@mozilla.com"}, {"count": 2, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/d944a4e95bc3", "id": 10758121, "creation_time": "2015-09-21T23:37:13Z", "author": "pulsebot@bots.tld"}, {"count": 3, "text": "(side note: looks like I don't get this build warning reliably. I suspect it happens when I'm building with distcc (as I normally do), because the file gets preprocessed before being compiled remotely, or something like that. The compiler is probably friendlier about tautologies-hidden-behind-macros when building 100% locally.)", "id": 10758136, "creation_time": "2015-09-21T23:39:15Z", "author": "dholbert@mozilla.com"}, {"count": 4, "text": "Yes, building preprocessed files is clearly not helping.", "id": 10758225, "creation_time": "2015-09-22T00:09:18Z", "author": "mh+mozilla@glandium.org"}, {"count": 5, "text": "https://hg.mozilla.org/mozilla-central/rev/d944a4e95bc3", "id": 10759911, "creation_time": "2015-09-22T10:49:05Z", "author": "cbook@mozilla.com"}], "cf_status_firefox68": "---", "blocks": [187528, 620931], "cf_status_geckoview66": "---", "cf_status_firefox44": "fixed", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2015-09-22T10:49:05Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "mh+mozilla@glandium.org", "real_name": "Mike Hommey [:glandium]", "name": "mh+mozilla@glandium.org", "nick": "glandium", "id": 47192}], "summary": "Omnijar.cpp:62:47: warning: self-comparison always evaluates to true [-Wtautological-compare]", "cf_has_str": "---", "cf_user_story": "", "platform": "x86_64", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "dholbert@mozilla.com", "real_name": "Daniel Holbert [:dholbert] (at a conference Tues-Weds Apr 2-3)", "name": "dholbert@mozilla.com", "nick": "dholbert", "id": 278074}, "creator": "dholbert@mozilla.com", "last_change_time": "2015-09-22T10:49:05Z", "cf_fission_milestone": "---", "comment_count": 6, "creator_detail": {"email": "dholbert@mozilla.com", "real_name": "Daniel Holbert [:dholbert] (at a conference Tues-Weds Apr 2-3)", "name": "dholbert@mozilla.com", "nick": "dholbert", "id": 278074}, "cc": ["mh+mozilla@glandium.org"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "dholbert@mozilla.com", "groups": [], "see_also": [], "id": 1087488, "whiteboard": "", "creation_time": "2014-10-22T18:04:09Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Linux", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "General", "product": "Core", "target_milestone": "mozilla44", "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "dholbert@mozilla.com", "real_name": "Daniel Holbert [:dholbert] (at a conference Tues-Weds Apr 2-3)", "name": "dholbert@mozilla.com", "nick": "dholbert", "id": 278074}, "creator": "dholbert@mozilla.com", "flags": [{"modification_date": "2015-09-21T23:05:16Z", "creation_date": "2015-09-18T23:17:55Z", "type_id": 937, "status": "+", "name": "review", "id": 1255625, "setter": "mh+mozilla@glandium.org"}], "is_patch": 1, "creation_time": "2015-09-18T23:17:55Z", "id": 8663184, "is_obsolete": 0}]}
{"history": [{"when": "2014-08-19T13:25:26Z", "changes": [{"removed": "", "added": "firefox-backlog+, qe-verify-", "field_name": "flagtypes.name"}], "who": "mmucci@mozilla.com"}, {"when": "2014-08-19T13:26:40Z", "changes": [{"removed": "", "added": "mmucci@mozilla.com", "field_name": "cc"}], "who": "mmucci@mozilla.com"}, {"when": "2014-08-19T13:33:05Z", "changes": [{"removed": "", "added": "gijskruitbosch+bugs@gmail.com", "field_name": "cc"}, {"removed": "", "added": "1053176", "field_name": "depends_on"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2014-08-19T13:35:10Z", "changes": [{"removed": "", "added": "mstange@themasta.com", "field_name": "cc"}], "who": "mstange@themasta.com"}, {"when": "2014-08-19T14:35:18Z", "changes": [{"removed": "", "added": "Nomis101@web.de", "field_name": "cc"}], "who": "Nomis101@web.de"}, {"when": "2014-10-14T16:09:17Z", "changes": [{"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "---", "added": "5", "field_name": "cf_fx_points"}, {"removed": "---", "added": "36.1", "field_name": "cf_fx_iteration"}, {"removed": "nobody@mozilla.org", "added": "mmaslaney@mozilla.com", "field_name": "assigned_to"}], "who": "mmucci@mozilla.com"}, {"when": "2014-10-22T16:04:37Z", "changes": [{"removed": "", "added": "mmaslaney@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(mmaslaney@mozilla.com)", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2014-10-22T20:48:33Z", "changes": [{"removed": "needinfo?(mmaslaney@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "mmaslaney@mozilla.com"}, {"when": "2014-10-23T17:08:49Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "", "added": "2014-10-23T17:08:49Z", "field_name": "cf_last_resolved"}], "who": "mmaslaney@mozilla.com"}], "attachments": [], "comments": [{"count": 0, "text": "+++ This bug was initially created as a clone of Bug #1053073 +++", "id": 9200475, "creation_time": "2014-08-19T13:25:26Z", "author": "mmucci@mozilla.com"}, {"count": 1, "text": "Below are mocks of the OSX 10.10 Yoesimite theme utilizing our previous 10.9 assets. As you can see, the transparent assets for our previous OSX versions integrate quite nicely with the new theme. Therefore, my recommendation is to continue using tabstrip assets from the previous theme.\n\nExamples\n\nNew tab: http://people.mozilla.org/~mmaslaney/firefox/OSX-Yosemite-newtab\n\nHighlight: http://people.mozilla.org/~mmaslaney/firefox/OSX-Yosemite-highlight", "id": 9485048, "creation_time": "2014-10-22T15:34:49Z", "author": "mmaslaney@mozilla.com"}, {"count": 2, "text": "(In reply to mmaslaney from comment #1)\n> Below are mocks of the OSX 10.10 Yoesimite theme utilizing our previous 10.9\n> assets. As you can see, the transparent assets for our previous OSX versions\n> integrate quite nicely with the new theme. Therefore, my recommendation is\n> to continue using tabstrip assets from the previous theme.\n> \n> Examples\n> \n> New tab: http://people.mozilla.org/~mmaslaney/firefox/OSX-Yosemite-newtab\n> \n> Highlight:\n> http://people.mozilla.org/~mmaslaney/firefox/OSX-Yosemite-highlight\n\nI was more worried about buttons, when moved to the tab bar. They look like this: http://imgur.com/QPMX662\n\nThe transparent grey might not work well on the tab bar?", "id": 9485246, "creation_time": "2014-10-22T16:04:37Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 3, "text": "I would stick with the pre-existing assets.\n\n\nSee mockup: http://people.mozilla.org/~mmaslaney/firefox/OSX-Yosemite-highlight-overflow.png", "id": 9487130, "creation_time": "2014-10-22T20:48:33Z", "author": "mmaslaney@mozilla.com"}], "cf_status_firefox68": "---", "blocks": [1053073], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "36.1", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-10-23T17:08:49Z", "cf_tracking_firefox66": "---", "cf_fx_points": "5", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, {"email": "mmaslaney@mozilla.com", "real_name": "Michael Maslaney [:mmaslaney] (mmaslaney@mozilla.com)", "name": "mmaslaney@mozilla.com", "nick": "mmaslaney", "id": 455531}, {"email": "mmucci@mozilla.com", "real_name": "Marco Mucci [:MarcoM]", "name": "mmucci@mozilla.com", "nick": "MarcoM", "id": 458208}, {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, {"email": "Nomis101@web.de", "real_name": "Nomis101", "name": "Nomis101@web.de", "nick": "Nomis101", "id": 299163}, {"email": "philipp@mozilla.com", "real_name": "(Currently slow to respond) Philipp Sackl [:phlsa] (Firefox UX) please use needinfo", "name": "philipp@mozilla.com", "nick": "phlsa", "id": 485651}], "summary": "[10.10] [UX] Investigate updating hover state for buttons in the tabstrip", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "assigned_to_detail": {"email": "mmaslaney@mozilla.com", "real_name": "Michael Maslaney [:mmaslaney] (mmaslaney@mozilla.com)", "name": "mmaslaney@mozilla.com", "nick": "mmaslaney", "id": 455531}, "creator": "mmucci@mozilla.com", "last_change_time": "2014-10-23T17:08:49Z", "cf_fission_milestone": "---", "creator_detail": {"email": "mmucci@mozilla.com", "real_name": "Marco Mucci [:MarcoM]", "name": "mmucci@mozilla.com", "nick": "MarcoM", "id": 458208}, "comment_count": 4, "cc": ["gijskruitbosch+bugs@gmail.com", "mmaslaney@mozilla.com", "mmucci@mozilla.com", "mstange@themasta.com", "Nomis101@web.de", "philipp@mozilla.com"], "duplicates": [], "assigned_to": "mmaslaney@mozilla.com", "groups": [], "see_also": [], "id": 1055523, "whiteboard": "[ux]", "creation_time": "2014-08-19T13:25:26Z", "depends_on": [1053176], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Client Software", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [{"modification_date": "2014-08-19T13:25:26Z", "creation_date": "2014-08-19T13:25:26Z", "type_id": 846, "status": "+", "name": "firefox-backlog", "id": 954653, "setter": "mmucci@mozilla.com"}, {"modification_date": "2014-08-19T13:25:26Z", "creation_date": "2014-08-19T13:25:26Z", "type_id": 864, "status": "-", "name": "qe-verify", "id": 954654, "setter": "mmucci@mozilla.com"}], "cf_tracking_firefox68": "---", "component": "Theme", "product": "Firefox", "target_milestone": "---"}
{"history": [{"when": "2014-08-19T16:33:20Z", "changes": [{"removed": "", "added": "1055634", "field_name": "blocks"}], "who": "mstange@themasta.com"}, {"when": "2014-08-19T16:52:11Z", "changes": [{"removed": "", "added": "tnikkel@gmail.com", "field_name": "cc"}], "who": "tnikkel@gmail.com"}, {"when": "2014-08-19T17:05:34Z", "changes": [{"removed": "", "added": "Nomis101@web.de", "field_name": "cc"}], "who": "Nomis101@web.de"}, {"when": "2014-10-10T13:38:38Z", "changes": [{"attachment_id": 8499989, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8503136, "removed": "", "added": "review?(bas@basschouten.com)", "field_name": "flagtypes.name"}, {"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "nobody@mozilla.org", "added": "mstange@themasta.com", "field_name": "assigned_to"}], "who": "mstange@themasta.com"}, {"when": "2014-10-10T13:39:31Z", "changes": [{"attachment_id": 8503136, "removed": "", "added": "review?(jmuizelaar@mozilla.com)", "field_name": "flagtypes.name"}], "who": "mstange@themasta.com"}, {"when": "2014-10-10T14:48:23Z", "changes": [{"attachment_id": 8503136, "removed": "review?(jmuizelaar@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "jmuizelaar@mozilla.com"}, {"when": "2014-10-10T16:15:35Z", "changes": [{"attachment_id": 8503244, "removed": "", "added": "review?(bas@basschouten.com)", "field_name": "flagtypes.name"}], "who": "mstange@themasta.com"}, {"when": "2014-10-12T08:36:25Z", "changes": [{"attachment_id": 8503136, "removed": "review?(bas@basschouten.com)", "added": "review-", "field_name": "flagtypes.name"}], "who": "bas@basschouten.com"}, {"when": "2014-10-12T12:59:30Z", "changes": [{"attachment_id": 8503244, "removed": "review?(bas@basschouten.com)", "added": "", "field_name": "flagtypes.name"}], "who": "mstange@themasta.com"}, {"when": "2014-10-15T20:31:40Z", "changes": [{"attachment_id": 8503136, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8503244, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8505725, "removed": "", "added": "review?(bas@basschouten.com)", "field_name": "flagtypes.name"}], "who": "mstange@themasta.com"}, {"when": "2014-10-19T15:13:14Z", "changes": [{"attachment_id": 8505725, "removed": "review?(bas@basschouten.com)", "added": "review+, review?(jmuizelaar@mozilla.com)", "field_name": "flagtypes.name"}], "who": "bas@basschouten.com"}, {"when": "2014-10-24T14:20:06Z", "changes": [{"attachment_id": 8505725, "removed": "review?(jmuizelaar@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "jmuizelaar@mozilla.com"}, {"when": "2014-10-25T01:31:37Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla36", "field_name": "target_milestone"}, {"removed": "", "added": "2014-10-25T01:31:37Z", "field_name": "cf_last_resolved"}], "who": "wkocher@mozilla.com"}, {"when": "2016-03-22T16:43:30Z", "changes": [{"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1258752", "field_name": "see_also"}], "who": "mchang@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, "creator": "mstange@themasta.com", "flags": [], "is_patch": 1, "creation_time": "2014-10-04T11:22:16Z", "id": 8499989, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, "creator": "mstange@themasta.com", "flags": [{"modification_date": "2014-10-12T08:36:25Z", "creation_date": "2014-10-10T13:38:38Z", "type_id": 937, "status": "-", "name": "review", "id": 1001419, "setter": "bas@basschouten.com"}, {"modification_date": "2014-10-10T14:48:23Z", "creation_date": "2014-10-10T13:39:31Z", "type_id": 937, "status": "+", "name": "review", "id": 1001423, "setter": "jmuizelaar@mozilla.com"}], "is_patch": 1, "creation_time": "2014-10-10T13:38:38Z", "id": 8503136, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, "creator": "mstange@themasta.com", "flags": [], "is_patch": 0, "creation_time": "2014-10-10T13:40:41Z", "id": 8503137, "is_obsolete": 0}, {"content_type": "text/plain", "creator_detail": {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, "creator": "mstange@themasta.com", "flags": [], "is_patch": 1, "creation_time": "2014-10-10T16:15:35Z", "id": 8503244, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, "creator": "mstange@themasta.com", "flags": [{"modification_date": "2014-10-19T15:13:14Z", "creation_date": "2014-10-15T20:31:40Z", "type_id": 937, "status": "+", "name": "review", "id": 1005991, "setter": "bas@basschouten.com"}, {"modification_date": "2014-10-24T14:20:06Z", "creation_date": "2014-10-19T15:13:14Z", "type_id": 937, "status": "+", "name": "review", "id": 1008871, "setter": "jmuizelaar@mozilla.com"}], "is_patch": 1, "creation_time": "2014-10-15T20:31:40Z", "id": 8505725, "is_obsolete": 0}], "comments": [{"count": 0, "text": "CoreGraphics has a private API since 10.9 called CGContextSetFontSmoothingBackgroundColor which lets you have subpixel anti-aliased fonts on transparent backgrounds if you roughly know what the final background color is going to be.\n\nWe'll need to call this if we want to have nice text rendering on top of \"vibrant\" widgets on 10.10, like the browser sidebar and context menus. And the cleanest way to support this is probably to start by adding support for it to Moz2D.\n\nProposed API:\n\nclass DrawTarget {\n...\n  bool SupportsFontSmoothingBackgroundColor() const;\n  void SetFontSmoothingBackgroundColor(const Color& aColor);\n...\n}", "id": 9201402, "creation_time": "2014-08-19T16:17:30Z", "author": "mstange@themasta.com"}, {"count": 1, "text": "Created attachment 8499989\nwip", "id": 9402743, "creation_time": "2014-10-04T11:22:16Z", "author": "mstange@themasta.com"}, {"count": 2, "text": "Created attachment 8503136\nv1\n\nr?Bas on the 2d.h changes\n\nI'm not really thrilled to add another bit of state to DrawTarget, but putting the color into GlyphRenderingOptions looks quite tricky to me, especially from the Gecko side.", "id": 9430361, "creation_time": "2014-10-10T13:38:38Z", "author": "mstange@themasta.com"}, {"count": 3, "text": "Comment on attachment 8503136\nv1\n\nr?jrmuizel on the DrawTargetCG changes, especially on the EnsureValidPremultipliedData ugliness", "id": 9430366, "creation_time": "2014-10-10T13:39:31Z", "author": "mstange@themasta.com"}, {"count": 4, "text": "Created attachment 8503137\ntesting app with annotated debugging session\n\nThis sheds some light on what CG is doing.", "id": 9430370, "creation_time": "2014-10-10T13:40:41Z", "author": "mstange@themasta.com"}, {"count": 5, "text": "Comment on attachment 8503136\nv1\n\nReview of attachment 8503136:\n-----------------------------------------------------------------\n\nThis should probably be added to the recording backends as well.\n\n::: gfx/2d/DrawTargetCG.cpp\n@@ +1505,5 @@\n> +    // context into a context that has a different color space throws up on\n> +    // invalid premultiplied data and creates completely wrong colors.\n> +    // Sanitizing the data means that we lose some of the fake component alpha\n> +    // behavior that font rendering tries to give us, but the result still\n> +    // looks good enough to prefer it over grayscale font anti-aliasing.\n\nWhen do we draw into a context with a different color space? We should probably not ever be doing that.\n\n@@ +1698,5 @@\n> +  if (!lookedUpFunc) {\n> +    void* coreGraphicsFramework = dlopen(COREGRAPHICS_FRAMEWORK_PATH, RTLD_LAZY | RTLD_LOCAL);\n> +    if (coreGraphicsFramework) {\n> +      func = (CGContextSetFontSmoothingBackgroundColorFunc)dlsym(\n> +        coreGraphicsFramework, \"CGContextSetFontSmoothingBackgroundColor\");\n\nI think you can just use RTLD_DEFAULT instead of coreGraphicsFramework here. That's what ScaledFontMac::ScaledFontMac does.\n\n@@ +1712,5 @@\n> +{\n> +  DrawTarget::SetFontSmoothingBackgroundColor(aColor);\n> +\n> +  CGContextSetFontSmoothingBackgroundColorFunc func =\n> +    GetCGContextSetFontSmoothingBackgroundColorFunc();\n\nUse a better name than func.\n\nDo you have some idea what this function is actually doing? If you do a description in a comment someplace would be great.", "id": 9430687, "creation_time": "2014-10-10T14:48:23Z", "author": "jmuizelaar@mozilla.com"}, {"count": 6, "text": "(In reply to Jeff Muizelaar [:jrmuizel] from comment #5)\n> Comment on attachment 8503136\n> v1\n> \n> Review of attachment 8503136:\n> -----------------------------------------------------------------\n> \n> This should probably be added to the recording backends as well.\n\nright, thanks\n\n> ::: gfx/2d/DrawTargetCG.cpp\n> @@ +1505,5 @@\n> > +    // context into a context that has a different color space throws up on\n> > +    // invalid premultiplied data and creates completely wrong colors.\n> > +    // Sanitizing the data means that we lose some of the fake component alpha\n> > +    // behavior that font rendering tries to give us, but the result still\n> > +    // looks good enough to prefer it over grayscale font anti-aliasing.\n> \n> When do we draw into a context with a different color space? We should\n> probably not ever be doing that.\n\nWhen drawing into the context we get from drawRect, at least. I saw the bad colors in context menus, which don't use hardware acceleration.\nYou can also see it happening in the test app I attached.\n\n> @@ +1698,5 @@\n> > +  if (!lookedUpFunc) {\n> > +    void* coreGraphicsFramework = dlopen(COREGRAPHICS_FRAMEWORK_PATH, RTLD_LAZY | RTLD_LOCAL);\n> > +    if (coreGraphicsFramework) {\n> > +      func = (CGContextSetFontSmoothingBackgroundColorFunc)dlsym(\n> > +        coreGraphicsFramework, \"CGContextSetFontSmoothingBackgroundColor\");\n> \n> I think you can just use RTLD_DEFAULT instead of coreGraphicsFramework here.\n> That's what ScaledFontMac::ScaledFontMac does.\n\nOh good. \"man dlsym\" says about RTLD_DEFAULT \"This can be a costly search and should be avoided.\", but if we're already doing it then I'll just ignore that warning.\n\n> \n> @@ +1712,5 @@\n> > +{\n> > +  DrawTarget::SetFontSmoothingBackgroundColor(aColor);\n> > +\n> > +  CGContextSetFontSmoothingBackgroundColorFunc func =\n> > +    GetCGContextSetFontSmoothingBackgroundColorFunc();\n> \n> Use a better name than func.\n\nok\n\n> Do you have some idea what this function is actually doing?\n\nAs in, do I know the actual calculation? No, I don't know that. I only know what I wrote in the first paragraph of comment 0.\n\n> If you do a\n> description in a comment someplace would be great.\n\nok", "id": 9430727, "creation_time": "2014-10-10T14:57:27Z", "author": "mstange@themasta.com"}, {"count": 7, "text": "Created attachment 8503244\npart 2: DrawTargetRecording support", "id": 9431128, "creation_time": "2014-10-10T16:15:35Z", "author": "mstange@themasta.com"}, {"count": 8, "text": "Comment on attachment 8503136\nv1\n\nReview of attachment 8503136:\n-----------------------------------------------------------------\n\nThis is so very specific to a certain backend, I feel it should go into a GlyphRenderingOptions object rather than through its own API. These sort of things will really clutter the API.", "id": 9435696, "creation_time": "2014-10-12T08:36:25Z", "author": "bas@basschouten.com"}, {"count": 9, "text": "Created attachment 8505725\nv2", "id": 9452562, "creation_time": "2014-10-15T20:31:40Z", "author": "mstange@themasta.com"}, {"count": 10, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/1d593636d86d", "id": 9497890, "creation_time": "2014-10-24T16:35:07Z", "author": "mstange@themasta.com"}, {"count": 11, "text": "https://hg.mozilla.org/mozilla-central/rev/1d593636d86d", "id": 9500152, "creation_time": "2014-10-25T01:31:37Z", "author": "wkocher@mozilla.com"}], "cf_status_firefox68": "---", "blocks": [1055634], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-10-25T01:31:37Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "bas@basschouten.com", "real_name": "Bas Schouten (:bas.schouten)", "name": "bas@basschouten.com", "nick": "bas.schouten", "id": 272464}, {"email": "jmuizelaar@mozilla.com", "real_name": "Jeff Muizelaar [:jrmuizel]", "name": "jmuizelaar@mozilla.com", "nick": "jrmuizel", "id": 309398}, {"email": "Nomis101@web.de", "real_name": "Nomis101", "name": "Nomis101@web.de", "nick": "Nomis101", "id": 299163}, {"email": "tnikkel@gmail.com", "real_name": "Timothy Nikkel (:tnikkel)", "name": "tnikkel@gmail.com", "nick": "tnikkel", "id": 255010}], "summary": "Add support for specifying the font smoothing background color to Moz2D", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, "creator": "mstange@themasta.com", "last_change_time": "2016-03-22T16:43:30Z", "cf_fission_milestone": "---", "creator_detail": {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, "comment_count": 12, "cc": ["bas@basschouten.com", "jmuizelaar@mozilla.com", "Nomis101@web.de", "tnikkel@gmail.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "mstange@themasta.com", "groups": [], "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1258752"], "id": 1055622, "whiteboard": "", "creation_time": "2014-08-19T16:17:30Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "macOS", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "Graphics", "product": "Core", "target_milestone": "mozilla36"}
{"history": [{"when": "2014-09-04T09:14:27Z", "changes": [{"removed": "", "added": "todorst@yahoo.com", "field_name": "cc"}], "who": "todorst@yahoo.com"}, {"when": "2014-10-01T20:29:56Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "", "added": "2014-10-01T20:29:56Z", "field_name": "cf_last_resolved"}], "who": "docfaraday@gmail.com"}, {"when": "2014-10-10T23:08:06Z", "changes": [{"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1073799", "field_name": "see_also"}], "who": "docfaraday@gmail.com"}], "attachments": [], "comments": [{"count": 0, "text": "Found trickle candidates do not result in the PeerConnection's SDP being updated.", "id": 9203155, "creation_time": "2014-08-19T20:57:20Z", "author": "docfaraday@gmail.com"}, {"count": 1, "text": "Bug 1060625 seems to have fixed this.", "id": 9389356, "creation_time": "2014-10-01T20:29:56Z", "author": "docfaraday@gmail.com"}], "cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2014-10-01T20:29:56Z", "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "todorst@yahoo.com", "real_name": "", "name": "todorst@yahoo.com", "nick": "todorst", "id": 473997}], "summary": "Trickle candidates are not reliably incorporated into local SDP (in the PeerConnection)", "cf_has_str": "---", "cf_user_story": "", "platform": "All", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "docfaraday@gmail.com", "last_change_time": "2014-10-10T23:08:06Z", "cf_fission_milestone": "---", "creator_detail": {"email": "docfaraday@gmail.com", "real_name": "Byron Campen [:bwc]", "name": "docfaraday@gmail.com", "nick": "bwc", "id": 478411}, "comment_count": 2, "cc": ["todorst@yahoo.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1073799"], "id": 1055787, "whiteboard": "", "creation_time": "2014-08-19T20:57:20Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "All", "status": "RESOLVED", "cf_crash_signature": "", "is_open": false, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "WebRTC: Signaling", "product": "Core", "target_milestone": "---"}
{"history": [{"when": "2019-03-05T13:42:19Z", "changes": [{"removed": "", "added": "dev-doc-needed", "field_name": "keywords"}, {"removed": "", "added": "cmills@mozilla.com", "field_name": "cc"}], "who": "cmills@mozilla.com"}], "attachments": [], "comments": [{"count": 0, "text": "Just need to return an empty array.", "id": 13952536, "creation_time": "2019-02-27T18:24:01Z", "author": "docfaraday@gmail.com"}], "cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["dev-doc-needed"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": null, "cf_tracking_firefox66": "---", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "cmills@mozilla.com", "real_name": "Chris Mills (Mozilla, MDN editor) [:cmills]", "name": "cmills@mozilla.com", "nick": "cmills", "id": 475085}], "summary": "Implement RTCPeerConnection.getDefaultIceServers interface", "cf_has_str": "---", "cf_user_story": "", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P4", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "docfaraday@gmail.com", "last_change_time": "2019-03-05T13:42:19Z", "cf_fission_milestone": "---", "creator_detail": {"email": "docfaraday@gmail.com", "real_name": "Byron Campen [:bwc]", "name": "docfaraday@gmail.com", "nick": "bwc", "id": 478411}, "comment_count": 1, "cc": ["cmills@mozilla.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": [], "id": 1531080, "whiteboard": "", "creation_time": "2019-02-27T18:24:01Z", "depends_on": [], "mentors": [], "dupe_of": null, "regressed_by": [], "cf_status_firefox66": "---", "resolution": "", "type": "enhancement", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "NEW", "cf_crash_signature": "", "is_open": true, "severity": "normal", "cf_tracking_firefox_esr60": "---", "flags": [], "cf_tracking_firefox68": "---", "component": "WebRTC: Signaling", "product": "Core", "target_milestone": "---"}
{"cf_status_firefox68": "---", "blocks": [1332914], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "[bugday-20170222]", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_status_firefox52": "verified", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2016-11-25T14:43:20Z", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "andrei.vaida@softvision.ro", "real_name": "Andrei Vaida [:avaida]", "name": "andrei.vaida@softvision.ro", "nick": "avaida", "id": 488993}, {"email": "cornel.ionce@softvision.ro", "real_name": "Cornel Ionce [:cornel_ionce], Desktop Release QA", "name": "cornel.ionce@softvision.ro", "nick": "cornel_ionce", "id": 458186}, {"email": "karlt@mozbugz.karlt.net", "real_name": "Karl Tomlinson (:karlt)", "name": "karlt@mozbugz.karlt.net", "nick": "karlt", "id": 274246}, {"email": "n4sabbir@gmail.com", "real_name": "Nazir Ahmed Sabbir [:NaSb]", "name": "n4sabbir@gmail.com", "nick": "NaSb", "id": 529620}, {"email": "stransky@redhat.com", "real_name": "Martin Str\u00e1nsk\u00fd [:stransky]", "name": "stransky@redhat.com", "nick": "stransky", "id": 263117}], "summary": "don't realize widgets for their style", "cf_has_str": "---", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "karlt@mozbugz.karlt.net", "real_name": "Karl Tomlinson (:karlt)", "name": "karlt@mozbugz.karlt.net", "nick": "karlt", "id": 274246}, "creator": "karlt@mozbugz.karlt.net", "last_change_time": "2017-02-27T12:00:57Z", "cf_fission_milestone": "---", "comment_count": 13, "creator_detail": {"email": "karlt@mozbugz.karlt.net", "real_name": "Karl Tomlinson (:karlt)", "name": "karlt@mozbugz.karlt.net", "nick": "karlt", "id": 274246}, "cc": ["andrei.vaida@softvision.ro", "cornel.ionce@softvision.ro", "karlt@mozbugz.karlt.net", "n4sabbir@gmail.com", "stransky@redhat.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "karlt@mozbugz.karlt.net", "groups": [], "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1280951"], "id": 1319957, "whiteboard": "", "creation_time": "2016-11-24T00:35:23Z", "cf_status_firefox53": "verified", "depends_on": [], "cf_tracking_firefox69": "---", "cf_webcompat_priority": "---", "mentors": [], "dupe_of": null, "cf_tracking_firefox67_0_5": "---", "regressed_by": [], "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "VERIFIED", "cf_status_firefox67_0_5": "---", "cf_crash_signature": "", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "cf_status_firefox_esr52": "fixed", "flags": [], "cf_tracking_firefox68": "---", "component": "Widget: Gtk", "product": "Core", "target_milestone": "mozilla53", "history": [{"when": "2016-11-24T00:46:19Z", "changes": [{"attachment_id": 8813914, "removed": "", "added": "review?(stransky@redhat.com)", "field_name": "flagtypes.name"}, {"removed": "", "added": "stransky@redhat.com", "field_name": "cc"}], "who": "karlt@mozbugz.karlt.net"}, {"when": "2016-11-24T12:46:58Z", "changes": [{"attachment_id": 8813914, "removed": "review?(stransky@redhat.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "stransky@redhat.com"}, {"when": "2016-11-25T14:43:20Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla53", "field_name": "target_milestone"}, {"removed": "", "added": "2016-11-25T14:43:20Z", "field_name": "cf_last_resolved"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox53"}], "who": "cbook@mozilla.com"}, {"when": "2017-02-09T05:18:37Z", "changes": [{"removed": "", "added": "1332914", "field_name": "blocks"}], "who": "karlt@mozbugz.karlt.net"}, {"when": "2017-02-15T01:55:17Z", "changes": [{"attachment_id": 8813914, "removed": "", "added": "approval-mozilla-beta?", "field_name": "flagtypes.name"}], "who": "karlt@mozbugz.karlt.net"}, {"when": "2017-02-15T02:00:06Z", "changes": [{"removed": "", "added": "karlt@mozbugz.karlt.net", "field_name": "cc"}], "who": "karlt@mozbugz.karlt.net"}, {"when": "2017-02-15T19:19:35Z", "changes": [{"removed": "---", "added": "affected", "field_name": "cf_status_firefox52"}], "who": "lhenry@mozilla.com"}, {"when": "2017-02-16T13:38:02Z", "changes": [{"attachment_id": 8813914, "removed": "approval-mozilla-beta?", "added": "approval-mozilla-beta+", "field_name": "flagtypes.name"}], "who": "jcristau@mozilla.com"}, {"when": "2017-02-16T15:27:31Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox52"}], "who": "cbook@mozilla.com"}, {"when": "2017-02-17T07:52:54Z", "changes": [{"removed": "", "added": "andrei.vaida@softvision.ro", "field_name": "cc"}, {"removed": "", "added": "qe-verify+", "field_name": "flagtypes.name"}], "who": "andrei.vaida@softvision.ro"}, {"when": "2017-02-17T14:22:41Z", "changes": [{"removed": "---", "added": "fixed", "field_name": "cf_status_firefox_esr52"}], "who": "ryanvm@gmail.com"}, {"when": "2017-02-23T21:11:07Z", "changes": [{"removed": "", "added": "[bugday-20170222]", "field_name": "cf_qa_whiteboard"}, {"removed": "", "added": "na.sb1151@gmail.com", "field_name": "cc"}], "who": "n4sabbir@gmail.com"}, {"when": "2017-02-27T12:00:57Z", "changes": [{"removed": "RESOLVED", "added": "VERIFIED", "field_name": "status"}, {"removed": "", "added": "cornel.ionce@softvision.ro", "field_name": "cc"}, {"removed": "qe-verify+", "added": "", "field_name": "flagtypes.name"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox52"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox53"}], "who": "cornel.ionce@softvision.ro"}], "comments": [{"count": 0, "text": "Bug 1280951 observed that resource used by cached widgets can be noticeable.\nThe X resource usage can be reduced, or I guess even removed, by not realizing\nthe widgets.  This was needed in GTK2 to get the style of the widget, but\nstyles are almost independent of widgets with GTK3, where realizing is not\nnecessary to get the style context.", "id": 11884217, "creation_time": "2016-11-24T00:35:23Z", "author": "karlt@mozbugz.karlt.net"}, {"count": 1, "text": "Created attachment 8813914\nbug 1319957 don't realize widgets for their style\n\nThis was needed in GTK2 to get the style of the widget, but styles are almost\nindependent of widgets with GTK3, where realizing is not necessary to get the\nstyle context.\n\nReview commit: https://reviewboard.mozilla.org/r/95216/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/95216/", "id": 11884231, "creation_time": "2016-11-24T00:46:19Z", "author": "karlt@mozbugz.karlt.net"}, {"count": 2, "text": "Comment on attachment 8813914\nbug 1319957 don't realize widgets for their style\n\nhttps://reviewboard.mozilla.org/r/95216/#review95512\n\n<Company> I *think* at some point we used to return default values if widgets were unrealized\n<Company> that might have been just during development though and was discarded as a bad idea\n\nSo we should be fine here.", "id": 11885357, "creation_time": "2016-11-24T12:46:58Z", "author": "stransky@redhat.com"}, {"count": 3, "text": "Pushed by ktomlinson@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/99c765086bf4\ndon't realize widgets for their style r=stransky+263117", "id": 11886355, "creation_time": "2016-11-24T20:36:38Z", "author": "pulsebot@bots.tld"}, {"count": 4, "text": "https://hg.mozilla.org/mozilla-central/rev/99c765086bf4", "id": 11887626, "creation_time": "2016-11-25T14:43:20Z", "author": "cbook@mozilla.com"}, {"count": 5, "text": "Comment on attachment 8813914\nbug 1319957 don't realize widgets for their style\n\nApproval Request Comment\n[Feature/Bug causing the regression]:\nThis patch happens to fix bug 1332914, which still exists on 52.\nThe implementation of animations/transitions for GTK themes changed between\nGTK 3.16 and 3.18.  I don't know exactly what GTK change led to the change in\nGecko behavior, but previously Gecko would receive from GTK the style\ncorresponding to completion of the animation; Gecko did not draw animating\nstyles but the content drawn represented the new state of the widget.  Since\n3.18, the style received from GTK is at other points during the animations,\nbut there is no invalidation mechanism to draw the entire animation, and so\nthe final widget state drawn is somewhat random.  Bug 1332914 did not\ndemonstrate before 99c765086bf4 landed for bug 1282753, but that would have\nbeen mostly good luck.\n\n[User impact if declined]:\nText entries often appear focused when not and vice versa.\n[Is this code covered by automated tests?]:\nNo.\n[Has the fix been verified in Nightly?]:\nYes.\n[Needs manual test from QE? If yes, steps to reproduce]:\nYes.\n1. Use recent distribution.\n2. load https://bugzilla.gnome.org/\n3. Click \"Log in\".\n4. Click on and hover over \"Quick Search\", \"Login\", and \"Password\" input boxes in various sequences.\n5. Check that the most recently clicked box is highlighted, and no others.\n\n[List of other uplifts needed for the feature/fix]:\nNone.\n[Is the change risky?]:\nNo.\n[Why is the change risky/not risky?]:\nThis change has been on m-c since late November, without any reported issues.\nIt only removes unnecessary code.\n[String changes made/needed]:\nNone.", "id": 12068015, "creation_time": "2017-02-15T01:55:17Z", "author": "karlt@mozbugz.karlt.net"}, {"count": 6, "text": "(In reply to Karl Tomlinson (:karlt) from comment #5)\n> 1. Use recent distribution.\n\nUse Fedora, or change GTK theme to Adwaita.\n\n> 2. load https://bugzilla.gnome.org/\n> 3. Click \"Log in\".\n> 4. Click on and hover over \"Quick Search\", \"Login\", and \"Password\" input\n> boxes in various sequences.\n> 5. Check that the most recently clicked box is highlighted, and no others.", "id": 12068023, "creation_time": "2017-02-15T02:00:06Z", "author": "karlt@mozbugz.karlt.net"}, {"count": 7, "text": "Comment on attachment 8813914\nbug 1319957 don't realize widgets for their style\n\ngtk widget fix, beta52+", "id": 12072919, "creation_time": "2017-02-16T13:38:02Z", "author": "jcristau@mozilla.com"}, {"count": 8, "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/c05d4fe69117", "id": 12073256, "creation_time": "2017-02-16T15:27:31Z", "author": "cbook@mozilla.com"}, {"count": 9, "text": "Flagging this for verification, instructions in Comment 5.", "id": 12075792, "creation_time": "2017-02-17T07:52:54Z", "author": "andrei.vaida@softvision.ro"}, {"count": 10, "text": "https://hg.mozilla.org/releases/mozilla-esr52/rev/c05d4fe69117", "id": 12077400, "creation_time": "2017-02-17T14:22:41Z", "author": "ryanvm@gmail.com"}, {"count": 11, "text": "Successfully managed to reproduce this bug using 53.0a1 (2016-11-23) (64-bit) (Build ID: 20161123030208) on Ubuntu 16.04.2 x64 by the following Comment 5's instruction!\n\nThis Bug is now Verified as Fixed on Latest Firefox Beta 52.0b8 (64-bit) (Build ID: 20170220070057)\n\nand Also Latest Firefox Developer Edition 53.0a2 (2017-02-23) (64-bit) (Build ID: 20170223084136)\n\nUser Agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0\nUser Agent: Mozilla/5.0 (X11; Linux x86_64; rv:53.0) Gecko/20100101 Firefox/53.0\n\nOS: Linux 4.8.0-36-generic; Ubuntu 16.04.2 (64 Bit)", "id": 12093552, "creation_time": "2017-02-23T21:11:07Z", "author": "n4sabbir@gmail.com"}, {"count": 12, "text": "THanks Nazir! Marking verified based on the above comment.", "id": 12099864, "creation_time": "2017-02-27T12:00:57Z", "author": "cornel.ionce@softvision.ro"}], "attachments": [{"content_type": "text/x-review-board-request", "creator_detail": {"email": "karlt@mozbugz.karlt.net", "real_name": "Karl Tomlinson (:karlt)", "name": "karlt@mozbugz.karlt.net", "nick": "karlt", "id": 274246}, "creator": "karlt@mozbugz.karlt.net", "flags": [{"modification_date": "2016-11-24T12:46:58Z", "creation_date": "2016-11-24T00:46:19Z", "type_id": 937, "status": "+", "name": "review", "id": 1491473, "setter": "stransky@redhat.com"}, {"modification_date": "2017-02-16T13:38:02Z", "creation_date": "2017-02-15T01:55:17Z", "type_id": 721, "status": "+", "name": "approval-mozilla-beta", "id": 1529615, "setter": "jcristau@mozilla.com"}], "is_patch": 0, "creation_time": "2016-11-24T00:46:19Z", "id": 8813914, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["crash"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_status_firefox52": "fixed", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2016-11-30T03:45:18Z", "cf_fx_points": "---", "cf_status_firefox50": "wontfix", "cf_tracking_geckoview66": "---", "cf_status_firefox51": "wontfix", "cc_detail": [{"email": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]", "name": "mcastelluccio@mozilla.com", "nick": "marco", "id": 420453}, {"email": "mcmanus@ducksong.com", "real_name": "Patrick McManus [:mcmanus]", "name": "mcmanus@ducksong.com", "nick": "mcmanus", "id": 32546}, {"email": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]", "name": "ryanvm@gmail.com", "nick": "RyanVM", "id": 75935}, {"email": "sledru@mozilla.com", "real_name": "Sylvestre Ledru [:sylvestre]", "name": "sledru@mozilla.com", "nick": "sylvestre", "id": 495955}, {"email": "u408661@disabled.tld", "real_name": "", "name": "u408661@disabled.tld", "nick": "u408661", "id": 408661}, {"email": "xeonchen@gmail.com", "real_name": "Gary Chen [:xeonchen] (OOO until Jun. 11)", "name": "xeonchen@gmail.com", "nick": "xeonchen", "id": 524060}], "summary": "Crash in mozilla::net::nsHttpConnection::OnSocketWritable", "cf_has_str": "---", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "version": "unspecified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "mcmanus@ducksong.com", "real_name": "Patrick McManus [:mcmanus]", "name": "mcmanus@ducksong.com", "nick": "mcmanus", "id": 32546}, "creator": "swu@mozilla.com", "last_change_time": "2017-01-24T05:41:02Z", "cf_fission_milestone": "---", "comment_count": 15, "creator_detail": {"email": "swu@mozilla.com", "real_name": "Shian-Yow Wu [:swu]", "name": "swu@mozilla.com", "nick": "swu", "id": 427369}, "cc": ["mcastelluccio@mozilla.com", "mcmanus@ducksong.com", "ryanvm@gmail.com", "sledru@mozilla.com", "u408661@disabled.tld", "xeonchen@gmail.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "mcmanus@ducksong.com", "groups": [], "see_also": [], "id": 1319973, "whiteboard": "[necko-active]", "creation_time": "2016-11-24T02:19:25Z", "cf_status_firefox53": "fixed", "depends_on": [], "cf_tracking_firefox69": "---", "cf_webcompat_priority": "---", "mentors": [], "dupe_of": null, "cf_tracking_firefox67_0_5": "---", "regressed_by": [], "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "cf_status_firefox67_0_5": "---", "status": "RESOLVED", "cf_crash_signature": "[@ mozilla::net::nsHttpConnection::OnSocketWritable]", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "critical", "flags": [], "cf_tracking_firefox68": "---", "component": "Networking: HTTP", "product": "Core", "target_milestone": "mozilla53", "history": [{"when": "2016-11-28T16:03:49Z", "changes": [{"removed": "", "added": "mcmanus@ducksong.com", "field_name": "cc"}], "who": "mcmanus@ducksong.com"}, {"when": "2016-11-28T16:12:02Z", "changes": [{"attachment_id": 8814940, "removed": "", "added": "review?(hurley@todesschaf.org)", "field_name": "flagtypes.name"}, {"removed": "", "added": "hurley@todesschaf.org", "field_name": "cc"}], "who": "mcmanus@ducksong.com"}, {"when": "2016-11-28T16:12:04Z", "changes": [{"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "nobody@mozilla.org", "added": "mcmanus@ducksong.com", "field_name": "assigned_to"}], "who": "mcmanus@ducksong.com"}, {"when": "2016-11-28T18:50:56Z", "changes": [{"attachment_id": 8814940, "removed": "review?(hurley@todesschaf.org)", "added": "review+", "field_name": "flagtypes.name"}], "who": "u408661@disabled.tld"}, {"when": "2016-11-29T01:19:13Z", "changes": [{"removed": "", "added": "[necko-active]", "field_name": "whiteboard"}], "who": "swu@mozilla.com"}, {"when": "2016-11-30T03:45:18Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla53", "field_name": "target_milestone"}, {"removed": "", "added": "2016-11-30T03:45:18Z", "field_name": "cf_last_resolved"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox53"}], "who": "philringnalda@gmail.com"}, {"when": "2017-01-03T14:37:31Z", "changes": [{"removed": "", "added": "mcastelluccio@mozilla.com", "field_name": "cc"}, {"removed": "---", "added": "?", "field_name": "cf_status_firefox50"}, {"removed": "---", "added": "?", "field_name": "cf_status_firefox51"}, {"removed": "---", "added": "?", "field_name": "cf_status_firefox52"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2017-01-04T10:40:55Z", "changes": [{"removed": "", "added": "needinfo?(mcmanus@ducksong.com)", "field_name": "flagtypes.name"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2017-01-04T17:14:31Z", "changes": [{"removed": "needinfo?(mcmanus@ducksong.com)", "added": "", "field_name": "flagtypes.name"}], "who": "mcmanus@ducksong.com"}, {"when": "2017-01-04T17:26:50Z", "changes": [{"removed": "?", "added": "affected", "field_name": "cf_status_firefox50"}, {"removed": "?", "added": "affected", "field_name": "cf_status_firefox51"}, {"removed": "?", "added": "affected", "field_name": "cf_status_firefox52"}], "who": "mcastelluccio@mozilla.com"}, {"when": "2017-01-05T16:49:26Z", "changes": [{"removed": "affected", "added": "fix-optional", "field_name": "cf_status_firefox51"}], "who": "lhenry@mozilla.com"}, {"when": "2017-01-06T13:12:39Z", "changes": [{"removed": "", "added": "sledru@mozilla.com", "field_name": "cc"}, {"removed": "affected", "added": "wontfix", "field_name": "cf_status_firefox50"}], "who": "sledru@mozilla.com"}, {"when": "2017-01-20T21:04:09Z", "changes": [{"removed": "", "added": "ryanvm@gmail.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(mcmanus@ducksong.com)", "field_name": "flagtypes.name"}, {"removed": "fix-optional", "added": "wontfix", "field_name": "cf_status_firefox51"}], "who": "ryanvm@gmail.com"}, {"when": "2017-01-23T02:41:54Z", "changes": [{"removed": "needinfo?(mcmanus@ducksong.com)", "added": "", "field_name": "flagtypes.name"}, {"attachment_id": 8814940, "removed": "", "added": "approval-mozilla-aurora?", "field_name": "flagtypes.name"}], "who": "mcmanus@ducksong.com"}, {"when": "2017-01-23T16:53:05Z", "changes": [{"attachment_id": 8814940, "removed": "approval-mozilla-aurora?", "added": "approval-mozilla-beta+", "field_name": "flagtypes.name"}], "who": "jcristau@mozilla.com"}, {"when": "2017-01-24T05:41:02Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox52"}], "who": "ryanvm@gmail.com"}], "comments": [{"count": 0, "text": "This bug was filed from the Socorro interface and is \nreport bp-076a63af-5afa-40db-afe6-8a6512161123.\n=============================================================\n\nInformation provided by NaN from irc:\n\nmy fx is crashing everytime and I suspect is because \"Automatic proxy configuration\", can someone please help me with this crash >> https://crash-stats.mozilla.com/report/index/bp-076a63af-5afa-40db-afe6-8a6512161123", "id": 11884359, "creation_time": "2016-11-24T02:19:25Z", "author": "swu@mozilla.com"}, {"count": 1, "text": "It will be very helpful if someone can enable HTTP log, and provide the log when crash issue reproduced.\nhttps://developer.mozilla.org/en-US/docs/Mozilla/Debugging/HTTP_logging", "id": 11884479, "creation_time": "2016-11-24T03:40:36Z", "author": "swu@mozilla.com"}, {"count": 2, "text": "timer calling connection after transaction has closed.", "id": 11891445, "creation_time": "2016-11-28T16:03:49Z", "author": "mcmanus@ducksong.com"}, {"count": 3, "text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=1e225251fd18", "id": 11891462, "creation_time": "2016-11-28T16:07:35Z", "author": "mcmanus@ducksong.com"}, {"count": 4, "text": "Created attachment 8814940\ntls proxy null in  nshttpconnection::onsocketwritable after timer", "id": 11891475, "creation_time": "2016-11-28T16:12:02Z", "author": "mcmanus@ducksong.com"}, {"count": 5, "text": "Comment on attachment 8814940\ntls proxy null in  nshttpconnection::onsocketwritable after timer\n\nReview of attachment 8814940:\n-----------------------------------------------------------------\n\nNull checks gooooooooooood", "id": 11892055, "creation_time": "2016-11-28T18:50:56Z", "author": "u408661@disabled.tld"}, {"count": 6, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/334758dabe03d652b633736f71c8544c9c9d19cc\nBug 1319973 - tls proxy null in nshttpconnection::onsocketwritable after timer r=hurley", "id": 11895102, "creation_time": "2016-11-29T17:10:57Z", "author": "mcmanus@ducksong.com"}, {"count": 7, "text": "https://hg.mozilla.org/mozilla-central/rev/334758dabe03", "id": 11896798, "creation_time": "2016-11-30T03:45:18Z", "author": "philringnalda@gmail.com"}, {"count": 8, "text": "Are 51 and/or 52 affected? Should we uplift?", "id": 11952847, "creation_time": "2017-01-03T14:37:31Z", "author": "mcastelluccio@mozilla.com"}, {"count": 9, "text": "low volume null crash doesn't generally meet uplift criteria, though older versions are affected.", "id": 11956552, "creation_time": "2017-01-04T17:14:31Z", "author": "mcmanus@ducksong.com"}, {"count": 10, "text": "It's a very simple patch, so I could see it being uplifted to Aurora.", "id": 11956587, "creation_time": "2017-01-04T17:26:50Z", "author": "mcastelluccio@mozilla.com"}, {"count": 11, "text": "Please nominate this for Aurora approval.", "id": 11998954, "creation_time": "2017-01-20T21:04:09Z", "author": "ryanvm@gmail.com"}, {"count": 12, "text": "Comment on attachment 8814940\ntls proxy null in  nshttpconnection::onsocketwritable after timer\n\nApproval Request Comment\n[Feature/Bug causing the regression]: http/2 proxying (very old)\n[User impact if declined]: potential null crash\n[Is this code covered by automated tests?]: no\n[Has the fix been verified in Nightly?]: yes\n[Needs manual test from QE? If yes, steps to reproduce]: no\n[List of other uplifts needed for the feature/fix]: none\n[Is the change risky?]: no\n[Why is the change risky/not risky?]: simple null check\n[String changes made/needed]: none", "id": 12001416, "creation_time": "2017-01-23T02:41:54Z", "author": "mcmanus@ducksong.com"}, {"count": 13, "text": "Comment on attachment 8814940\ntls proxy null in  nshttpconnection::onsocketwritable after timer\n\nfix potential crash with http/2 proxying, beta52+", "id": 12002756, "creation_time": "2017-01-23T16:53:05Z", "author": "jcristau@mozilla.com"}, {"count": 14, "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/fa38e34faf4a", "id": 12004959, "creation_time": "2017-01-24T05:41:02Z", "author": "ryanvm@gmail.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "mcmanus@ducksong.com", "real_name": "Patrick McManus [:mcmanus]", "name": "mcmanus@ducksong.com", "nick": "mcmanus", "id": 32546}, "creator": "mcmanus@ducksong.com", "flags": [{"modification_date": "2016-11-28T18:50:56Z", "creation_date": "2016-11-28T16:12:02Z", "type_id": 937, "status": "+", "name": "review", "id": 1492898, "setter": "u408661@disabled.tld"}, {"modification_date": "2017-01-23T16:53:05Z", "creation_date": "2017-01-23T16:53:05Z", "type_id": 721, "status": "+", "name": "approval-mozilla-beta", "id": 1516123, "setter": "jcristau@mozilla.com"}], "is_patch": 1, "creation_time": "2016-11-28T16:12:02Z", "id": 8814940, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "cf_status_firefox_esr45": "verified", "is_cc_accessible": true, "keywords": ["csectype-priv-escalation", "sec-moderate"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox50": "+", "cf_tracking_firefox67": "---", "cf_status_firefox52": "verified", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2016-11-30T14:16:47Z", "cf_fx_points": "---", "cf_status_firefox50": "verified", "cf_tracking_geckoview66": "---", "cf_status_firefox51": "verified", "cc_detail": [{"email": "abillings@mozilla.com", "real_name": "Al Billings [:abillings]", "name": "abillings@mozilla.com", "nick": "abillings", "id": 280903}, {"email": "andrei.vaida@softvision.ro", "real_name": "Andrei Vaida [:avaida]", "name": "andrei.vaida@softvision.ro", "nick": "avaida", "id": 488993}, {"email": "cristian.comorasu@softvision.ro", "real_name": "Cristian Comorasu, QA [:ccomorasu], Release Desktop QA", "name": "cristian.comorasu@softvision.ro", "nick": "ccomorasu", "id": 572409}, {"email": "dveditz@mozilla.com", "real_name": "Daniel Veditz [:dveditz]", "name": "dveditz@mozilla.com", "nick": "dveditz", "id": 1689}, {"email": "florin.mezei@softvisioninc.eu", "real_name": "Florin Mezei, QA (:FlorinMezei)", "name": "florin.mezei@softvisioninc.eu", "nick": "FlorinMezei", "id": 500713}, {"email": "gchang@mozilla.com", "real_name": "Gerry Chang [:gchang]", "name": "gchang@mozilla.com", "nick": "gchang", "id": 506302}, {"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, {"email": "hugo@readitlater.com", "real_name": "Hugo Romano", "name": "hugo@readitlater.com", "nick": "hugo", "id": 579130}, {"email": "iulia.cristescu@softvision.ro", "real_name": "Iulia Cristescu, QA [:JuliaC] (away, please needinfo? cornel.ionce@softvision.ro)", "name": "iulia.cristescu@softvision.ro", "nick": "JuliaC", "id": 565219}, {"email": "joel@readitlater.com", "real_name": "Joel Kelly", "name": "joel@readitlater.com", "nick": "joel", "id": 584229}, {"email": "kmaglione+bmo@mozilla.com", "real_name": "Kris Maglione [:kmag]", "name": "kmaglione+bmo@mozilla.com", "nick": "kmag", "id": 106098}, {"email": "mark@wolfbeast.com", "real_name": "Mark Straver", "name": "mark@wolfbeast.com", "nick": "mark", "id": 364942}, {"email": "mixedpuppy@gmail.com", "real_name": "Shane Caraveo (:mixedpuppy)", "name": "mixedpuppy@gmail.com", "nick": "mixedpuppy", "id": 372685}, {"email": "mozilla@kaply.com", "real_name": "Mike Kaply [:mkaply]", "name": "mozilla@kaply.com", "nick": "mkaply", "id": 7313}, {"email": "nate@getpocket.com", "real_name": "Nate Weiner", "name": "nate@getpocket.com", "nick": "nate", "id": 447998}, {"email": "paul.silaghi@softvision.ro", "real_name": "Paul Silaghi, QA [:pauly]", "name": "paul.silaghi@softvision.ro", "nick": "pauly", "id": 428011}, {"email": "rkothari@mozilla.com", "real_name": "Ritu Kothari (:ritu)", "name": "rkothari@mozilla.com", "nick": "ritu", "id": 538805}], "summary": "Pocket extension unnecessarily exposes its messaging interface to web pages", "cf_has_str": "---", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "cf_tracking_firefox_esr45": "50+", "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_tracking_firefox53": "+", "assigned_to_detail": {"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, "creator": "gaubugzilla@palant.de", "last_change_time": "2017-03-29T07:52:22Z", "cf_fission_milestone": "---", "comment_count": 34, "creator_detail": {"email": "gaubugzilla@palant.de", "real_name": "Wladimir Palant", "name": "gaubugzilla@palant.de", "nick": "gaubugzilla", "id": 109976}, "cc": ["abillings@mozilla.com", "andrei.vaida@softvision.ro", "cristian.comorasu@softvision.ro", "dveditz@mozilla.com", "florin.mezei@softvisioninc.eu", "gchang@mozilla.com", "gijskruitbosch+bugs@gmail.com", "hugo@readitlater.com", "iulia.cristescu@softvision.ro", "joel@readitlater.com", "kmaglione+bmo@mozilla.com", "mark@wolfbeast.com", "mixedpuppy@gmail.com", "mozilla@kaply.com", "nate@getpocket.com", "paul.silaghi@softvision.ro", "rkothari@mozilla.com"], "duplicates": [], "assigned_to": "gijskruitbosch+bugs@gmail.com", "groups": [], "see_also": [], "id": 1320039, "whiteboard": "[adv-main50.1+][adv-esr45.6+]", "creation_time": "2016-11-24T10:21:58Z", "cf_status_firefox53": "verified", "depends_on": [], "cf_tracking_firefox69": "---", "cf_webcompat_priority": "---", "mentors": [], "cf_tracking_firefox67_0_5": "---", "dupe_of": null, "regressed_by": [], "resolution": "FIXED", "cf_tracking_firefox52": "+", "type": "defect", "classification": "Client Software", "alias": "CVE-2016-9902", "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "VERIFIED", "cf_status_firefox67_0_5": "---", "cf_crash_signature": "", "cf_tracking_firefox51": "+", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "flags": [{"modification_date": "2016-12-19T19:02:05Z", "creation_date": "2016-11-29T00:29:06Z", "type_id": 803, "status": "+", "name": "sec-bounty", "id": 1493294, "setter": "dveditz@mozilla.com"}], "cf_tracking_firefox68": "---", "component": "Pocket", "product": "Firefox", "target_milestone": "Firefox 53", "history": [{"when": "2016-11-24T10:39:41Z", "changes": [{"removed": "", "added": "gijskruitbosch+bugs@gmail.com, mixedpuppy@gmail.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(mixedpuppy@gmail.com)", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-24T10:43:56Z", "changes": [{"removed": "", "added": "mozilla@kaply.com", "field_name": "cc"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-24T11:22:52Z", "changes": [{"attachment_id": 8814048, "removed": "", "added": "review?(mozilla@kaply.com)", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-24T13:38:20Z", "changes": [{"attachment_id": 8814048, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8814048, "removed": "review?(mozilla@kaply.com)", "added": "", "field_name": "flagtypes.name"}, {"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "nobody@mozilla.org", "added": "gijskruitbosch+bugs@gmail.com", "field_name": "assigned_to"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-24T13:49:24Z", "changes": [{"attachment_id": 8814074, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8814076, "removed": "", "added": "review?(mozilla@kaply.com), review?(trev.moz@adblockplus.org)", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-24T16:45:00Z", "changes": [{"removed": "", "added": "kmaglione+bmo@mozilla.com", "field_name": "cc"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-24T16:48:50Z", "changes": [{"removed": "", "added": "nate@readitlater.com", "field_name": "cc"}, {"removed": "needinfo?(mixedpuppy@gmail.com)", "added": "", "field_name": "flagtypes.name"}], "who": "mixedpuppy@gmail.com"}, {"when": "2016-11-24T16:52:05Z", "changes": [{"removed": "", "added": "hugo@readitlater.com", "field_name": "cc"}], "who": "mixedpuppy@gmail.com"}, {"when": "2016-11-24T18:43:42Z", "changes": [{"attachment_id": 8814076, "removed": "", "added": "review+", "field_name": "flagtypes.name"}], "who": "kmaglione+bmo@mozilla.com"}, {"when": "2016-11-24T21:38:55Z", "changes": [{"attachment_id": 8814076, "removed": "review?(trev.moz@adblockplus.org)", "added": "review+", "field_name": "flagtypes.name"}], "who": "gaubugzilla@palant.de"}, {"when": "2016-11-28T20:00:25Z", "changes": [{"removed": "", "added": "joel@readitlater.com", "field_name": "cc"}], "who": "hugo@readitlater.com"}, {"when": "2016-11-28T21:19:54Z", "changes": [{"attachment_id": 8814076, "removed": "review?(mozilla@kaply.com)", "added": "", "field_name": "flagtypes.name"}], "who": "mozilla@kaply.com"}, {"when": "2016-11-29T00:29:06Z", "changes": [{"removed": "", "added": "csectype-priv-escalation, sec-moderate", "field_name": "keywords"}, {"removed": "", "added": "sec-bounty?", "field_name": "flagtypes.name"}], "who": "dveditz@mozilla.com"}, {"when": "2016-11-30T14:16:47Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "Firefox 53", "field_name": "target_milestone"}, {"removed": "", "added": "2016-11-30T14:16:47Z", "field_name": "cf_last_resolved"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-30T14:17:40Z", "changes": [{"removed": "---", "added": "affected", "field_name": "cf_status_firefox50"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox51"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox52"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox53"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-30T14:18:54Z", "changes": [{"removed": "---", "added": "affected", "field_name": "cf_status_firefox_esr45"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-11-30T22:39:50Z", "changes": [{"removed": "", "added": "rkothari@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(rkothari@mozilla.com)", "field_name": "flagtypes.name"}], "who": "mixedpuppy@gmail.com"}, {"when": "2016-12-01T11:06:35Z", "changes": [{"removed": "", "added": "qe-verify?", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-12-01T11:14:17Z", "changes": [{"attachment_id": 8814076, "removed": "", "added": "approval-mozilla-aurora?, approval-mozilla-beta?, approval-mozilla-release?, approval-mozilla-esr45?", "field_name": "flagtypes.name"}], "who": "gijskruitbosch+bugs@gmail.com"}, {"when": "2016-12-01T13:21:45Z", "changes": [{"attachment_id": 8814076, "removed": "approval-mozilla-aurora?, approval-mozilla-beta?", "added": "approval-mozilla-aurora+, approval-mozilla-beta+", "field_name": "flagtypes.name"}], "who": "gchang@mozilla.com"}, {"when": "2016-12-01T13:26:41Z", "changes": [{"removed": "", "added": "florin.mezei@softvisioninc.eu, gchang@mozilla.com", "field_name": "cc"}], "who": "gchang@mozilla.com"}, {"when": "2016-12-01T15:33:16Z", "changes": [{"removed": "---", "added": "?", "field_name": "cf_tracking_firefox50"}, {"removed": "---", "added": "?", "field_name": "cf_tracking_firefox51"}, {"removed": "---", "added": "?", "field_name": "cf_tracking_firefox52"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox52"}, {"removed": "---", "added": "?", "field_name": "cf_tracking_firefox53"}, {"removed": "---", "added": "?", "field_name": "cf_tracking_firefox_esr45"}], "who": "ryanvm@gmail.com"}, {"when": "2016-12-01T15:46:55Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox51"}], "who": "ryanvm@gmail.com"}, {"when": "2016-12-01T19:56:41Z", "changes": [{"removed": "needinfo?(rkothari@mozilla.com)", "added": "", "field_name": "flagtypes.name"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox50"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox51"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox52"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox53"}, {"removed": "?", "added": "51+", "field_name": "cf_tracking_firefox_esr45"}], "who": "rkothari@mozilla.com"}, {"when": "2016-12-01T19:57:23Z", "changes": [{"attachment_id": 8814076, "removed": "approval-mozilla-release?, approval-mozilla-esr45?", "added": "approval-mozilla-release+, approval-mozilla-esr45+", "field_name": "flagtypes.name"}], "who": "rkothari@mozilla.com"}, {"when": "2016-12-01T20:22:31Z", "changes": [{"removed": "51+", "added": "-", "field_name": "cf_tracking_firefox_esr45"}, {"removed": "affected", "added": "unaffected", "field_name": "cf_status_firefox_esr45"}], "who": "lhenry@mozilla.com"}, {"when": "2016-12-01T20:22:51Z", "changes": [{"attachment_id": 8814076, "removed": "approval-mozilla-esr45+", "added": "approval-mozilla-esr45-", "field_name": "flagtypes.name"}], "who": "lhenry@mozilla.com"}, {"when": "2016-12-02T01:23:42Z", "changes": [{"removed": "-", "added": "?", "field_name": "cf_tracking_firefox_esr45"}, {"removed": "unaffected", "added": "affected", "field_name": "cf_status_firefox_esr45"}], "who": "ryanvm@gmail.com"}, {"when": "2016-12-02T02:20:35Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox50"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox_esr45"}], "who": "ryanvm@gmail.com"}, {"when": "2016-12-05T09:37:36Z", "changes": [{"removed": "", "added": "paul.silaghi@softvision.ro", "field_name": "cc"}], "who": "florin.mezei@softvisioninc.eu"}, {"when": "2016-12-05T12:45:34Z", "changes": [{"removed": "", "added": "cristian.comorasu@softvision.ro, iulia.cristescu@softvision.ro", "field_name": "cc"}], "who": "paul.silaghi@softvision.ro"}, {"when": "2016-12-06T14:52:55Z", "changes": [{"removed": "RESOLVED", "added": "VERIFIED", "field_name": "status"}, {"removed": "qe-verify?", "added": "", "field_name": "flagtypes.name"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox50"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox51"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox52"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox53"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox_esr45"}], "who": "paul.silaghi@softvision.ro"}, {"when": "2016-12-07T20:17:13Z", "changes": [{"removed": "", "added": "abillings@mozilla.com, dveditz@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(abillings@mozilla.com), needinfo?(dveditz@mozilla.com)", "field_name": "flagtypes.name"}], "who": "abillings@mozilla.com"}, {"when": "2016-12-07T20:44:40Z", "changes": [{"removed": "", "added": "[adv-main50.1+][adv-esr45.6+]", "field_name": "whiteboard"}, {"removed": "needinfo?(abillings@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "abillings@mozilla.com"}, {"when": "2016-12-08T01:14:51Z", "changes": [{"removed": "", "added": "andrei.vaida@softvision.ro", "field_name": "cc"}], "who": "rkothari@mozilla.com"}, {"when": "2016-12-08T20:59:17Z", "changes": [{"removed": "", "added": "CVE-2016-9902", "field_name": "alias"}], "who": "abillings@mozilla.com"}, {"when": "2016-12-12T21:33:48Z", "changes": [{"removed": "", "added": "mark@wolfbeast.com", "field_name": "cc"}], "who": "dveditz@mozilla.com"}, {"when": "2016-12-12T22:55:26Z", "changes": [{"removed": "needinfo?(dveditz@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "dveditz@mozilla.com"}, {"when": "2016-12-15T07:17:27Z", "changes": [{"removed": "firefox-core-security", "added": "core-security-release", "field_name": "groups"}], "who": "dveditz@mozilla.com"}, {"when": "2016-12-19T19:02:05Z", "changes": [{"removed": "sec-bounty?", "added": "sec-bounty+", "field_name": "flagtypes.name"}, {"removed": "?", "added": "50+", "field_name": "cf_tracking_firefox_esr45"}], "who": "dveditz@mozilla.com"}, {"when": "2017-02-09T16:02:59Z", "changes": [{"removed": "core-security-release", "added": "", "field_name": "groups"}], "who": "dveditz@mozilla.com"}], "comments": [{"count": 0, "text": "Created attachment 8814034\nProof of concept webpage\n\nNote: I am reporting this issue here rather than to Pocket because Pocket is an integral part of Firefox and cannot be disabled or removed by regular means.\n\nThe bubble displayed by the Pocket toolbar button is actually an <iframe> loading from either about:pocket-signup or about:pocket-saved. In order to communicate with that frame the Pocket extension registers event listeners on browser.xul's document, accepting untrusted events. The event listeners don't do anything to verify the origin of the event so that events bubbling up from the browser's content area will be processed as well.\n\nSteps to reproduce (I tested with Firefox 53.0a1 nightly 2016-11-23 on macOS 10.12):\n\n1. Make sure that E10S is disabled (with E10S events from content won't bubble up to the browser).\n2. Click the Pocket button to make sure that the extension is initialized. It doesn't matter whether anything happens after that, you don't need to sign up with Pocket.\n3. Now open the attached webpage in Firefox and click the \"Open about:preferences with Sync tab selected\".\n\nThis button will open about:preferences#sync page, something that web pages normally cannot do. Pop-up blocker doesn't affect this, so websites can open any number of pop-ups at any time this way. Security checks don't apply either so opening arbitrary file:///, chrome:// or about: URLs is possible.\n\nNote that this only abuses \"openTabWithUrl\" message that Pocket listens to. There is a number of other message listeners which might also have abuse potential - e.g. \"deleteItem\" message allows deleting items from Pocket. Note also that the website can detect when its attack was successful because the Pocket extension will remove the event target from the page.\n\nAlso, this issue is completely avoidable. There is only one Pocket frame in the browser document, the event listeners could be registered directly on that iframe element rather than on the document - this would make sure that no events from other sources will be received.", "id": 11885096, "creation_time": "2016-11-24T10:21:58Z", "author": "gaubugzilla@palant.de"}, {"count": 1, "text": "(In reply to Wladimir Palant from comment #0)\n> Created attachment 8814034\n> Proof of concept webpage\n> \n> Note: I am reporting this issue here rather than to Pocket because Pocket is\n> an integral part of Firefox and cannot be disabled or removed by regular\n> means.\n\nEh, fairly sure that you can just right click the pocket button, click 'remove from toolbar', and that should stop all of this (if not immediately, certainly on the next restart). Also, most of this code was still written by pocket...\n\nShane, can you make sure we CC whoever needs to be CC'd from the pocket side on this?\n\n> The bubble displayed by the Pocket toolbar button is actually an <iframe>\n> loading from either about:pocket-signup or about:pocket-saved. In order to\n> communicate with that frame the Pocket extension registers event listeners\n> on browser.xul's document, accepting untrusted events. The event listeners\n> don't do anything to verify the origin of the event so that events bubbling\n> up from the browser's content area will be processed as well.\n\nUgggh.", "id": 11885142, "creation_time": "2016-11-24T10:39:41Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 2, "text": "Well, if you never click the Pocket button it will never initialize and my PoC won't work. But if you click it, and be it out of curiosity - removing it from the toolbar will no longer help you, for the current session you will be vulnerable.", "id": 11885218, "creation_time": "2016-11-24T11:20:28Z", "author": "gaubugzilla@palant.de"}, {"count": 3, "text": "Created attachment 8814048\nPatch v0.1\n\nThis time, actual origin principal checks against about:pocket-signup/saved *and* restricting the message listeners to the iframe. Mike, can you check that this is sufficient and that I haven't broken anything (looking briefly, it seems OK to me, but...).", "id": 11885222, "creation_time": "2016-11-24T11:22:52Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 4, "text": "(In reply to :Gijs Kruitbosch from comment #3)\n> Created attachment 8814048\n> Patch v0.1\n> \n> This time, actual origin principal checks against about:pocket-signup/saved\n> *and* restricting the message listeners to the iframe. Mike, can you check\n> that this is sufficient and that I haven't broken anything (looking briefly,\n> it seems OK to me, but...).\n\nI'm assuming I don't need to touch messages.js because it only runs *inside* the iframes for messages/events going in the other direction. That said, I wonder if you could frame those documents using their chrome URIs and then manipulate them that way :| .", "id": 11885230, "creation_time": "2016-11-24T11:26:08Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 5, "text": "(In reply to :Gijs Kruitbosch from comment #4)\n> That said, I\n> wonder if you could frame those documents using their chrome URIs and then\n> manipulate them that way :| .\n\nGiven bug 1320057 it's probably a good thing that they are accessed via about: URIs that drop all privileges.\n\nNote that changing removeMessageListener() is pointless - it is dead code not being called anywhere and it wouldn't work anyway (it removes the wrong function, not the closure added in addMessageListener). There is also quite a bit of unnecessary complexity in the surrounding code but that's irrelevant for this security issue.", "id": 11885318, "creation_time": "2016-11-24T12:20:13Z", "author": "gaubugzilla@palant.de"}, {"count": 6, "text": "Created attachment 8814074\nPatch v0.2\n\nWe might as well make it impossible for it to open URLs it couldn't otherwise open itself in its own iframe, for defense in depth purposes.", "id": 11885431, "creation_time": "2016-11-24T13:38:20Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 7, "text": "(In reply to Wladimir Palant from comment #5)\n> (In reply to :Gijs Kruitbosch from comment #4)\n> > That said, I\n> > wonder if you could frame those documents using their chrome URIs and then\n> > manipulate them that way :| .\n> \n> Given bug 1320057 it's probably a good thing that they are accessed via\n> about: URIs that drop all privileges.\n\nThey are in the iframe we use for the actual UI. But the pages have chrome:// URLs, e.g. chrome://pocket/content/panels/saved.html . They're contentaccessible too, presumably in order for the about: pages to be able to load all the other gunk. That still doesn't let you link to them, fortunately, and AIUI this vulnerability doesn't let you open URLs into arbitrary subframes - \"just\" in new tabs, which at least avoids then being able to spoof the messages back to these pages (like, say, the suggested tags) which you could then exploit to go other places in the now-system-privileged page you just opened. :|", "id": 11885442, "creation_time": "2016-11-24T13:46:31Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 8, "text": "(though also, I think/hope that we don't allow system-privileged frames inside content-privileged documents)", "id": 11885445, "creation_time": "2016-11-24T13:47:22Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 9, "text": "Created attachment 8814076\nPatch v0.3\n\nIf it's unused, let's just take it out, then.", "id": 11885451, "creation_time": "2016-11-24T13:49:24Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 10, "text": "(In reply to :Gijs Kruitbosch from comment #8)\n> (though also, I think/hope that we don't allow system-privileged frames\n> inside content-privileged documents)\n\nI'm pretty sure that this is possible as long as a system-privileged script sets location.href.", "id": 11885626, "creation_time": "2016-11-24T14:52:10Z", "author": "gaubugzilla@palant.de"}, {"count": 11, "text": "Comment on attachment 8814076\nPatch v0.3\n\nReview of attachment 8814076:\n-----------------------------------------------------------------\n\n::: browser/extensions/pocket/content/main.js\n@@ +364,5 @@\n>          // Open a new tab with a given url and activate if\n>          var _openTabWithUrlMessageId = \"openTabWithUrl\";\n> +        pktUIMessaging.addMessageListener(iframe, _openTabWithUrlMessageId, function(panelId, data, contentPrincipal) {\n> +            try {\n> +              urlSecurityCheck(data.url, contentPrincipal, Services.scriptSecurityManager.DISALLOW_INHERIT_PRINCIPAL);\n\nGiven that this is technically an extension and that the code is probably upstreamed to Pocket, is it a good idea to rely on implementation details like the global urlSecurityCheck function? Besides, just calling scriptSecurityManager directly wouldn't be significantly longer:\n\n  var secMan = Services.scriptSecurityManager;\n  secMan.checkLoadURIStrWithPrincipal(data.url, contentPrincipal, secMan.DISALLOW_INHERIT_PRINCIPAL);", "id": 11885658, "creation_time": "2016-11-24T15:03:33Z", "author": "gaubugzilla@palant.de"}, {"count": 12, "text": "(In reply to Wladimir Palant from comment #10)\n> (In reply to :Gijs Kruitbosch from comment #8)\n> > (though also, I think/hope that we don't allow system-privileged frames\n> > inside content-privileged documents)\n> \n> I'm pretty sure that this is possible as long as a system-privileged script\n> sets location.href.\n\nHrmpf. Will file an orthogonal bug about that.", "id": 11885866, "creation_time": "2016-11-24T15:46:56Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 13, "text": "(In reply to Wladimir Palant from comment #11)\n> Comment on attachment 8814076\n> Patch v0.3\n> \n> Review of attachment 8814076:\n> -----------------------------------------------------------------\n> \n> ::: browser/extensions/pocket/content/main.js\n> @@ +364,5 @@\n> >          // Open a new tab with a given url and activate if\n> >          var _openTabWithUrlMessageId = \"openTabWithUrl\";\n> > +        pktUIMessaging.addMessageListener(iframe, _openTabWithUrlMessageId, function(panelId, data, contentPrincipal) {\n> > +            try {\n> > +              urlSecurityCheck(data.url, contentPrincipal, Services.scriptSecurityManager.DISALLOW_INHERIT_PRINCIPAL);\n> \n> Given that this is technically an extension and that the code is probably\n> upstreamed to Pocket, is it a good idea to rely on implementation details\n> like the global urlSecurityCheck function?\n\nIt also relies on openUILink / openLinkIn, I think? Which is in the same file. So I don't think that relying on this as well is fine.", "id": 11886051, "creation_time": "2016-11-24T17:19:20Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 14, "text": "(In reply to :Gijs Kruitbosch from comment #13)\n> It also relies on openUILink / openLinkIn, I think? Which is in the same\n> file. So I don't think that relying on this as well is fine.\n\nEh, too many negations. But yeah, I think this is fine, tbh.", "id": 11886099, "creation_time": "2016-11-24T17:40:54Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 15, "text": "(In reply to :Gijs Kruitbosch from comment #13)\n> It also relies on openUILink / openLinkIn, I think? Which is in the same\n> file. So I don't think that relying on this as well is fine.\n\nNot actually the same thing - it's in the same file now because it moved there. This is documented API (https://developer.mozilla.org/de/docs/Codeschnipsel/Tabbed_browser#Opening_a_URL_in_the_correct_window.2Ftab) and has been stable for a long time. Quite a few extensions rely on it already which is probably why it is still around in that form. urlSecurityCheck() is neither old nor documented.", "id": 11886253, "creation_time": "2016-11-24T19:18:33Z", "author": "gaubugzilla@palant.de"}, {"count": 16, "text": "It's documented to the extent that someone wrote a code snippet that uses it, but that says nothing about it being supported, or its use being good practice. In fact, the en-US version of that page was marked as obsolete because it suggested a lot of bad practices.\n\nI don't think this is worth worrying about. checkLoadURIStrWithPrincipal is no more of a public API than urlSecurityCheck, and it would be much easier to make changes to the latter (which is already used by many add-ons) without breaking compatibility than it would the former.", "id": 11886297, "creation_time": "2016-11-24T19:53:36Z", "author": "kmaglione+bmo@mozilla.com"}, {"count": 17, "text": "Comment on attachment 8814076\nPatch v0.3\n\nReview of attachment 8814076:\n-----------------------------------------------------------------\n\nWell, if everybody agrees that this function is safe to use from an extension...", "id": 11886425, "creation_time": "2016-11-24T21:38:55Z", "author": "gaubugzilla@palant.de"}, {"count": 18, "text": "Comment on attachment 8814076\nPatch v0.3\n\nOther folks have reviewed.", "id": 11892546, "creation_time": "2016-11-28T21:19:54Z", "author": "mozilla@kaply.com"}, {"count": 19, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/12c2619098c3", "id": 11894105, "creation_time": "2016-11-29T10:46:06Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 20, "text": "This was merged yesterday but somehow the merge didn't comment here:\n\nhttps://hg.mozilla.org/mozilla-central/rev/12c2619098c3", "id": 11897780, "creation_time": "2016-11-30T14:16:47Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 21, "text": "This and bug 1320057 for 50.1?", "id": 11899229, "creation_time": "2016-11-30T22:39:50Z", "author": "mixedpuppy@gmail.com"}, {"count": 22, "text": "Comment on attachment 8814076\nPatch v0.3\n\n[Approval Request Comment]\nIf this is not a sec:{high,crit} bug, please state case for ESR consideration: sec-moderate, obvious html injection issue that might be remotely exploitable, trivial patch. I would be more sanguine about not having this on ESR if we weren't about to roll it into 50.1 giving adversaries 4 months to figure out how to exploit this together with 1320057 and other addon bugs into something higher severity (before it'll ship as part of 52esr)\nUser impact if declined: see above\nFix Landed on Version: 53\nRisk to taking this patch (and alternatives if risky): pretty low. The changes are straightforward. We should make sure they get tested on release/beta/aurora, of course.\n\nApproval Request Comment\n[Is this code covered by automated tests?]: Some basic automated tests cover stuff this code changes, but not in any great deapth, sadly.\n[Has the fix been verified in Nightly?]: not yet...\n[Needs manual test from QE? If yes, steps to reproduce]:\n\nfrom comment #1:\n\n> Steps to reproduce (I tested with Firefox 53.0a1 nightly 2016-11-23 on macOS\n> 10.12):\n> \n> 1. Make sure that E10S is disabled (with E10S events from content won't\n> bubble up to the browser).\n> 2. Click the Pocket button to make sure that the extension is initialized.\n> It doesn't matter whether anything happens after that, you don't need to\n> sign up with Pocket.\n> 3. Now open the attached webpage in Firefox and click the \"Open\n> about:preferences with Sync tab selected\".\n> \n> This button will open about:preferences#sync page, something that web pages\n> normally cannot do.\n\nIn builds without the patch, the page will open. In builds with the patch, it shouldn't open.\n\nThe patch changes how some of the pocket internals function. The basic verification steps would amount to checking:\n\na) you can still successfully save pages in pocket\nb) you can still tag them as you like\nc) you can still remove pages once saved in pocket, as you would before.\n\n[List of other uplifts needed for the feature/fix]: bug 1320057 is not necessary for this fix to work, but because both affect pocket and how easy it is to run code in its code, I would suggest both need uplift.\n[Is the change risky?]: not very\n[Why is the change risky/not risky?]: well, the worst that could happen is that we break pocket's tagging system. Manual tests by me suggests this patch doesn't do that. It's also pretty straightforward.", "id": 11900588, "creation_time": "2016-12-01T11:14:17Z", "author": "gijskruitbosch+bugs@gmail.com"}, {"count": 23, "text": "Comment on attachment 8814076\nPatch v0.3\n\nFix a sec-moderate related to pocket. Beta51+ and Auror52+. Should be in 51 beta 6.", "id": 11900728, "creation_time": "2016-12-01T13:21:45Z", "author": "gchang@mozilla.com"}, {"count": 24, "text": "https://hg.mozilla.org/releases/mozilla-aurora/rev/c1681c600fd1", "id": 11901059, "creation_time": "2016-12-01T15:33:16Z", "author": "ryanvm@gmail.com"}, {"count": 25, "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/51a5f11b6d66", "id": 11901075, "creation_time": "2016-12-01T15:46:55Z", "author": "ryanvm@gmail.com"}, {"count": 26, "text": "Comment on attachment 8814076\nPatch v0.3\n\nThis meets the 50.1.0 bar, approving for esr45.6 as well.", "id": 11901754, "creation_time": "2016-12-01T19:57:23Z", "author": "rkothari@mozilla.com"}, {"count": 27, "text": "I don't think Pocket shipped with ESR45 (I don't see it in the extensions code)", "id": 11901801, "creation_time": "2016-12-01T20:22:31Z", "author": "lhenry@mozilla.com"}, {"count": 28, "text": "Created attachment 8816258\nesr45 patch", "id": 11901900, "creation_time": "2016-12-01T21:12:17Z", "author": "mixedpuppy@gmail.com"}, {"count": 29, "text": "ESR45 is affected after all.", "id": 11902468, "creation_time": "2016-12-02T01:23:42Z", "author": "ryanvm@gmail.com"}, {"count": 30, "text": "https://hg.mozilla.org/releases/mozilla-release/rev/7e87ed92ad46911d4668e60ea02055c196ad75e5\nhttps://hg.mozilla.org/releases/mozilla-esr45/rev/21c615b650488bac52afd15e55bd201ce53ac75e", "id": 11902540, "creation_time": "2016-12-02T02:20:35Z", "author": "ryanvm@gmail.com"}, {"count": 31, "text": "We verified this along with some spot checks on the affected areas on the following builds:\nFx 50.1.0 tinderbox, 45.5.2 ESR tinderbox, 51b6, 52.0a2 (2016-12-05), 53.0a1 (2016-12-06).\nMore details here: https://public.etherpad-mozilla.org/p/pocket-security-testing\nNo issues were found, marking as verified fixed.", "id": 11907425, "creation_time": "2016-12-06T14:52:55Z", "author": "paul.silaghi@softvision.ro"}, {"count": 32, "text": "This needs to be added to the 50.1 Firefox advisory and ESR 45.5.2 (or 45.6 since I don't think there is a 45.5.2 ESR release) after it ships in ESR.", "id": 11908977, "creation_time": "2016-12-07T20:17:13Z", "author": "abillings@mozilla.com"}, {"count": 33, "text": "Ok. My mistake, there is a 45.6 release so this can be added once that ships.", "id": 11909014, "creation_time": "2016-12-07T20:32:46Z", "author": "abillings@mozilla.com"}], "attachments": [{"content_type": "text/html", "creator_detail": {"email": "gaubugzilla@palant.de", "real_name": "Wladimir Palant", "name": "gaubugzilla@palant.de", "nick": "gaubugzilla", "id": 109976}, "creator": "gaubugzilla@palant.de", "flags": [], "is_patch": 0, "creation_time": "2016-11-24T10:21:58Z", "id": 8814034, "is_obsolete": 0}, {"content_type": "text/plain", "creator_detail": {"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, "creator": "gijskruitbosch+bugs@gmail.com", "flags": [], "is_patch": 1, "creation_time": "2016-11-24T11:22:52Z", "id": 8814048, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, "creator": "gijskruitbosch+bugs@gmail.com", "flags": [], "is_patch": 1, "creation_time": "2016-11-24T13:38:20Z", "id": 8814074, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "gijskruitbosch+bugs@gmail.com", "real_name": ":Gijs (he/him)", "name": "gijskruitbosch+bugs@gmail.com", "nick": "Gijs", "id": 159069}, "creator": "gijskruitbosch+bugs@gmail.com", "flags": [{"modification_date": "2016-11-24T21:38:55Z", "creation_date": "2016-11-24T13:49:24Z", "type_id": 748, "status": "+", "name": "review", "id": 1491742, "setter": "gaubugzilla@palant.de"}, {"modification_date": "2016-11-24T18:43:42Z", "creation_date": "2016-11-24T18:43:42Z", "type_id": 748, "status": "+", "name": "review", "id": 1491887, "setter": "kmaglione+bmo@mozilla.com"}, {"modification_date": "2016-12-01T13:21:45Z", "creation_date": "2016-12-01T11:14:17Z", "type_id": 720, "status": "+", "name": "approval-mozilla-aurora", "id": 1494855, "setter": "gchang@mozilla.com"}, {"modification_date": "2016-12-01T13:21:45Z", "creation_date": "2016-12-01T11:14:17Z", "type_id": 721, "status": "+", "name": "approval-mozilla-beta", "id": 1494856, "setter": "gchang@mozilla.com"}, {"modification_date": "2016-12-01T19:57:23Z", "creation_date": "2016-12-01T11:14:17Z", "type_id": 737, "status": "+", "name": "approval-mozilla-release", "id": 1494857, "setter": "rkothari@mozilla.com"}, {"modification_date": "2016-12-01T20:22:51Z", "creation_date": "2016-12-01T11:14:17Z", "type_id": 905, "status": "-", "name": "approval-mozilla-esr45", "id": 1494858, "setter": "lhenry@mozilla.com"}], "is_patch": 1, "creation_time": "2016-11-24T13:49:24Z", "id": 8814076, "is_obsolete": 0}, {"content_type": "text/plain", "creator_detail": {"email": "mixedpuppy@gmail.com", "real_name": "Shane Caraveo (:mixedpuppy)", "name": "mixedpuppy@gmail.com", "nick": "mixedpuppy", "id": 372685}, "creator": "mixedpuppy@gmail.com", "flags": [], "is_patch": 1, "creation_time": "2016-12-01T21:12:17Z", "id": 8816258, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["perf", "testcase", "triage-deferred"], "cf_qa_whiteboard": "", "url": "https://alexvincent.us/temp/intersect-test/perfTest.html", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": null, "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cc_detail": [{"email": "lhansen@mozilla.com", "real_name": "Lars T Hansen [:lth]", "name": "lhansen@mozilla.com", "nick": "lth", "id": 499633}, {"email": "nicolas.b.pierron@mozilla.com", "real_name": "Nicolas B. Pierron [:nbp]", "name": "nicolas.b.pierron@mozilla.com", "nick": "nbp", "id": 422187}], "summary": "Performance issue vs Google Chrome computing union or intersection of two JS arrays", "cf_has_str": "---", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "x86", "cf_status_firefox_esr60": "---", "votes": 0, "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P3", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "ajvincent@gmail.com", "last_change_time": "2017-09-23T01:06:10Z", "cf_fission_milestone": "---", "comment_count": 2, "creator_detail": {"email": "ajvincent@gmail.com", "real_name": "Alex Vincent [:WeirdAl]", "name": "ajvincent@gmail.com", "nick": "WeirdAl", "id": 16665}, "cc": ["lhansen@mozilla.com", "nicolas.b.pierron@mozilla.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": [], "id": 1320195, "whiteboard": "", "creation_time": "2016-11-24T22:17:56Z", "cf_status_firefox53": "affected", "depends_on": [], "cf_webcompat_priority": "---", "cf_tracking_firefox69": "---", "mentors": [], "dupe_of": null, "cf_tracking_firefox67_0_5": "---", "regressed_by": [], "resolution": "", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "macOS", "status": "NEW", "cf_status_firefox67_0_5": "---", "cf_crash_signature": "", "is_open": true, "cf_tracking_firefox_esr60": "---", "severity": "normal", "flags": [], "cf_tracking_firefox68": "---", "component": "JavaScript Engine", "product": "Core", "target_milestone": "---", "history": [{"when": "2016-11-25T08:18:19Z", "changes": [{"removed": "", "added": "lhansen@mozilla.com", "field_name": "cc"}], "who": "lhansen@mozilla.com"}, {"when": "2016-11-25T18:28:39Z", "changes": [{"removed": "", "added": "nicolas.b.pierron@mozilla.com", "field_name": "cc"}], "who": "nicolas.b.pierron@mozilla.com"}, {"when": "2017-09-23T01:06:10Z", "changes": [{"removed": "", "added": "triage-deferred", "field_name": "keywords"}, {"removed": "--", "added": "P3", "field_name": "priority"}], "who": "bug-husbandry-bot@mozilla.bugs"}], "comments": [{"count": 0, "text": "Steps to reproduce:\n(1) In Firefox, set the preference dom.max_script_run_time to 0.\n(2) Open the URL.\n(3) Open the Web Console.\n(4) Click on the \"Run test\" button.\n\nIn Google Chrome, the test takes about ten minutes to run.  In Mozilla Firefox, three to four hours.\n\nThe code exercises two different ways to generate intersections between two arrays of objects, and likewise two different ways to generate unions of the arrays.  I was looking for criteria to form a tipping point from one algorithm to another.", "id": 11886460, "creation_time": "2016-11-24T22:17:56Z", "author": "ajvincent@gmail.com"}, {"count": 1, "text": "On evilpie's advice, I reduced the number of tests and dropped the largest tests (those which test 65,536 elements in an array).  In the revised test, Google Chrome clocks in at about 16 seconds, while Mozilla Firefox trunk takes about 50 seconds, three times as long.", "id": 11892237, "creation_time": "2016-11-28T19:45:29Z", "author": "ajvincent@gmail.com"}], "attachments": []}
{"cf_status_firefox68": "---", "blocks": [1286041, 1325148, 1332283], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["memory-leak", "regression"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": "12", "regressions": [], "cf_tracking_firefox67": "---", "cf_status_firefox52": "fixed", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-01-18T22:19:50Z", "cf_fx_points": "---", "cf_status_firefox50": "unaffected", "cf_tracking_geckoview66": "---", "cf_status_firefox51": "unaffected", "cc_detail": [{"email": "achronop@gmail.com", "real_name": "Alex Chronopoulos [:achronop]", "name": "achronop@gmail.com", "nick": "achronop", "id": 441856}, {"email": "andrei.vaida@softvision.ro", "real_name": "Andrei Vaida [:avaida]", "name": "andrei.vaida@softvision.ro", "nick": "avaida", "id": 488993}, {"email": "bzbarsky@mit.edu", "real_name": "Boris Zbarsky [:bzbarsky, bz on IRC]", "name": "bzbarsky@mit.edu", "nick": "bzbarsky", "id": 20209}, {"email": "continuation@gmail.com", "real_name": "Andrew McCreight [:mccr8]", "name": "continuation@gmail.com", "nick": "mccr8", "id": 406194}, {"email": "d@domenic.me", "real_name": "Domenic Denicola", "name": "d@domenic.me", "nick": "d", "id": 308714}, {"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, {"email": "erahm@mozilla.com", "real_name": "Eric Rahm [:erahm] (Away until June 3rd)", "name": "erahm@mozilla.com", "nick": "erahm", "id": 496127}, {"email": "karlt@mozbugz.karlt.net", "real_name": "Karl Tomlinson (:karlt)", "name": "karlt@mozbugz.karlt.net", "nick": "karlt", "id": 274246}, {"email": "mozillamarcia.knous@gmail.com", "real_name": "Marcia Knous [:marcia - needinfo? me]", "name": "mozillamarcia.knous@gmail.com", "nick": "marcia", "id": 8519}, {"email": "mreavy@mozilla.com", "real_name": "Maire Reavy [:mreavy] Plz needinfo", "name": "mreavy@mozilla.com", "nick": "mreavy", "id": 74434}, {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot) (Off until the 10th of June)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, {"email": "rjesup@jesup.org", "real_name": "Randell Jesup [:jesup] (needinfo me)", "name": "rjesup@jesup.org", "nick": "jesup", "id": 11539}, {"email": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]", "name": "ryanvm@gmail.com", "nick": "RyanVM", "id": 75935}, {"email": "sunfish@mozilla.com", "real_name": "Dan Gohman [:sunfish]", "name": "sunfish@mozilla.com", "nick": "sunfish", "id": 468136}, {"email": "VYV03354@nifty.ne.jp", "real_name": "Masatoshi Kimura [:emk]", "name": "VYV03354@nifty.ne.jp", "nick": "emk", "id": 5842}], "summary": "Linux32 crashtests perma leaking the world", "cf_has_str": "---", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "version": "52 Branch", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P1", "cf_status_thunderbird_esr60": "---", "cf_tracking_firefox53": "+", "assigned_to_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot) (Off until the 10th of June)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "creator": "ahal@mozilla.com", "last_change_time": "2017-01-31T06:27:52Z", "cf_fission_milestone": "---", "comment_count": 56, "creator_detail": {"email": "ahal@mozilla.com", "real_name": "Andrew Halberstadt [:ahal]", "name": "ahal@mozilla.com", "nick": "ahal", "id": 382067}, "cc": ["achronop@gmail.com", "andrei.vaida@softvision.ro", "bzbarsky@mit.edu", "continuation@gmail.com", "d@domenic.me", "ehsan@mozilla.com", "erahm@mozilla.com", "karlt@mozbugz.karlt.net", "mozillamarcia.knous@gmail.com", "mreavy@mozilla.com", "padenot@mozilla.com", "rjesup@jesup.org", "ryanvm@gmail.com", "sunfish@mozilla.com", "VYV03354@nifty.ne.jp"], "duplicates": [1330372], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "padenot@mozilla.com", "groups": [], "see_also": [], "id": 1325215, "whiteboard": "[MemShrink:P1]", "creation_time": "2016-12-21T22:04:51Z", "cf_status_firefox53": "fixed", "depends_on": [], "cf_tracking_firefox69": "---", "cf_webcompat_priority": "---", "mentors": [], "dupe_of": null, "cf_tracking_firefox67_0_5": "---", "regressed_by": [], "resolution": "FIXED", "cf_tracking_firefox52": "+", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Linux", "status": "RESOLVED", "cf_status_firefox67_0_5": "---", "cf_crash_signature": "", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "flags": [{"modification_date": "2017-01-25T17:09:20Z", "creation_date": "2017-01-25T17:09:20Z", "type_id": 37, "status": "+", "name": "in-testsuite", "id": 1517688, "setter": "ryanvm@gmail.com"}, {"modification_date": "2017-01-31T06:27:52Z", "creation_date": "2017-01-31T06:27:52Z", "type_id": 864, "status": "-", "name": "qe-verify", "id": 1520455, "setter": "andrei.vaida@softvision.ro"}], "cf_tracking_firefox68": "---", "component": "Web Audio", "product": "Core", "target_milestone": "mozilla53", "history": [{"when": "2016-12-22T03:02:13Z", "changes": [{"removed": "Unspecified", "added": "Linux", "field_name": "op_sys"}], "who": "ahal@mozilla.com"}, {"when": "2016-12-29T17:19:20Z", "changes": [{"removed": "", "added": "ryanvm@gmail.com", "field_name": "cc"}, {"removed": "unspecified", "added": "52 Branch", "field_name": "version"}], "who": "ahal@mozilla.com"}, {"when": "2016-12-29T17:50:20Z", "changes": [{"removed": "", "added": "luke@mozilla.com, sunfish@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(luke@mozilla.com), needinfo?(sunfish@mozilla.com)", "field_name": "flagtypes.name"}], "who": "ahal@mozilla.com"}, {"when": "2016-12-29T17:54:16Z", "changes": [{"removed": "needinfo?(luke@mozilla.com), needinfo?(sunfish@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "ahal@mozilla.com"}, {"when": "2016-12-29T18:36:04Z", "changes": [{"removed": "", "added": "achronop@gmail.com", "field_name": "cc"}, {"removed": "Linux crashtests perma leaking the world", "added": "Linux32 crashtests perma leaking the world", "field_name": "summary"}, {"removed": "", "added": "needinfo?(achronop@gmail.com)", "field_name": "flagtypes.name"}], "who": "ahal@mozilla.com"}, {"when": "2016-12-29T18:37:50Z", "changes": [{"removed": "", "added": "1286041", "field_name": "blocks"}], "who": "ahal@mozilla.com"}, {"when": "2016-12-29T18:39:15Z", "changes": [{"removed": "", "added": "mlk, regression", "field_name": "keywords"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox50"}, {"removed": "---", "added": "unaffected", "field_name": "cf_status_firefox51"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox52"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox53"}], "who": "ryanvm@gmail.com"}, {"when": "2016-12-29T19:17:09Z", "changes": [{"removed": "---", "added": "?", "field_name": "cf_tracking_firefox52"}, {"removed": "---", "added": "?", "field_name": "cf_tracking_firefox53"}], "who": "bzbarsky@mit.edu"}, {"when": "2016-12-29T19:26:05Z", "changes": [{"removed": "", "added": "ehsan@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(ehsan@mozilla.com)", "field_name": "flagtypes.name"}], "who": "bzbarsky@mit.edu"}, {"when": "2016-12-29T19:26:18Z", "changes": [{"removed": "", "added": "bzbarsky@mit.edu", "field_name": "cc"}], "who": "bzbarsky@mit.edu"}, {"when": "2016-12-29T19:44:48Z", "changes": [{"removed": "General", "added": "Web Audio", "field_name": "component"}, {"removed": "nobody@mozilla.org", "added": "ehsan@mozilla.com", "field_name": "assigned_to"}, {"removed": "needinfo?(ehsan@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "ehsan@mozilla.com"}, {"when": "2016-12-29T19:45:12Z", "changes": [{"removed": "", "added": "needinfo?(ahalberstadt@mozilla.com)", "field_name": "flagtypes.name"}], "who": "ehsan@mozilla.com"}, {"when": "2016-12-29T19:54:16Z", "changes": [{"attachment_id": 8822500, "removed": "", "added": "review?(bzbarsky@mit.edu)", "field_name": "flagtypes.name"}], "who": "ehsan@mozilla.com"}, {"when": "2016-12-29T19:56:41Z", "changes": [{"attachment_id": 8822500, "removed": "review?(bzbarsky@mit.edu)", "added": "review+", "field_name": "flagtypes.name"}], "who": "bzbarsky@mit.edu"}, {"when": "2016-12-29T20:05:59Z", "changes": [{"removed": "", "added": "karlt@mozbugz.karlt.net", "field_name": "cc"}, {"attachment_id": 8822500, "removed": "", "added": "review?(karlt@mozbugz.karlt.net)", "field_name": "flagtypes.name"}], "who": "ehsan@mozilla.com"}, {"when": "2016-12-29T20:08:21Z", "changes": [{"removed": "needinfo?(ahalberstadt@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "ahal@mozilla.com"}, {"when": "2016-12-29T22:58:02Z", "changes": [{"removed": "luke@mozilla.com", "added": "", "field_name": "cc"}], "who": "luke@mozilla.com"}, {"when": "2016-12-30T06:31:56Z", "changes": [{"attachment_id": 8822500, "removed": "review?(karlt@mozbugz.karlt.net)", "added": "review-", "field_name": "flagtypes.name"}], "who": "karlt@mozbugz.karlt.net"}, {"when": "2016-12-30T11:53:21Z", "changes": [{"removed": "needinfo?(achronop@gmail.com)", "added": "", "field_name": "flagtypes.name"}], "who": "achronop@gmail.com"}, {"when": "2017-01-03T19:00:29Z", "changes": [{"removed": "", "added": "mozillamarcia.knous@gmail.com", "field_name": "cc"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox52"}, {"removed": "?", "added": "+", "field_name": "cf_tracking_firefox53"}], "who": "mozillamarcia.knous@gmail.com"}, {"when": "2017-01-03T20:32:49Z", "changes": [{"attachment_id": 8823403, "removed": "", "added": "review?(padenot@mozilla.com)", "field_name": "flagtypes.name"}, {"removed": "", "added": "padenot@mozilla.com", "field_name": "cc"}], "who": "ehsan@mozilla.com"}, {"when": "2017-01-03T20:32:51Z", "changes": [{"attachment_id": 8822500, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "ehsan@mozilla.com"}, {"when": "2017-01-04T04:00:55Z", "changes": [{"removed": "", "added": "needinfo?(ehsan@mozilla.com)", "field_name": "flagtypes.name"}], "who": "bzbarsky@mit.edu"}, {"when": "2017-01-04T14:16:50Z", "changes": [{"removed": "", "added": "21", "field_name": "cf_rank"}, {"removed": "--", "added": "P2", "field_name": "priority"}], "who": "mfroman@nostrum.com"}, {"when": "2017-01-04T15:25:33Z", "changes": [{"removed": "needinfo?(ehsan@mozilla.com)", "added": "needinfo?(bzbarsky@mit.edu)", "field_name": "flagtypes.name"}], "who": "ehsan@mozilla.com"}, {"when": "2017-01-04T17:22:30Z", "changes": [{"removed": "needinfo?(bzbarsky@mit.edu)", "added": "", "field_name": "flagtypes.name"}], "who": "bzbarsky@mit.edu"}, {"when": "2017-01-04T17:31:24Z", "changes": [{"removed": "ehsan@mozilla.com", "added": "nobody@mozilla.org", "field_name": "assigned_to"}], "who": "ehsan@mozilla.com"}, {"when": "2017-01-06T22:47:47Z", "changes": [{"removed": "", "added": "continuation@gmail.com", "field_name": "cc"}, {"removed": "", "added": "[MemShrink]", "field_name": "whiteboard"}], "who": "continuation@gmail.com"}, {"when": "2017-01-09T17:19:59Z", "changes": [{"removed": "", "added": "needinfo?(ehsan@mozilla.com), needinfo?(bzbarsky@mit.edu)", "field_name": "flagtypes.name"}], "who": "padenot@mozilla.com"}, {"when": "2017-01-09T19:57:56Z", "changes": [{"removed": "", "added": "d@domenic.me", "field_name": "cc"}, {"removed": "needinfo?(bzbarsky@mit.edu)", "added": "needinfo?(d@domenic.me)", "field_name": "flagtypes.name"}], "who": "bzbarsky@mit.edu"}, {"when": "2017-01-09T23:25:51Z", "changes": [{"removed": "", "added": "needinfo?(achronop@gmail.com)", "field_name": "flagtypes.name"}], "who": "ryanvm@gmail.com"}, {"when": "2017-01-10T00:52:58Z", "changes": [{"removed": "needinfo?(d@domenic.me)", "added": "", "field_name": "flagtypes.name"}], "who": "d@domenic.me"}, {"when": "2017-01-10T10:25:49Z", "changes": [{"removed": "needinfo?(achronop@gmail.com)", "added": "", "field_name": "flagtypes.name"}], "who": "achronop@gmail.com"}, {"when": "2017-01-10T22:24:41Z", "changes": [{"removed": "", "added": "VYV03354@nifty.ne.jp", "field_name": "cc"}], "who": "VYV03354@nifty.ne.jp"}, {"when": "2017-01-12T00:51:57Z", "changes": [{"removed": "", "added": "erahm@mozilla.com", "field_name": "cc"}, {"removed": "[MemShrink]", "added": "[MemShrink:P1]", "field_name": "whiteboard"}, {"removed": "", "added": "needinfo?(ryanvm@gmail.com)", "field_name": "flagtypes.name"}], "who": "erahm@mozilla.com"}, {"when": "2017-01-12T00:57:41Z", "changes": [{"removed": "needinfo?(ryanvm@gmail.com)", "added": "", "field_name": "flagtypes.name"}], "who": "ryanvm@gmail.com"}, {"when": "2017-01-12T01:35:19Z", "changes": [{"removed": "", "added": "rjesup@jesup.org", "field_name": "cc"}, {"removed": "", "added": "needinfo?(padenot@mozilla.com)", "field_name": "flagtypes.name"}], "who": "rjesup@jesup.org"}, {"when": "2017-01-12T14:03:46Z", "changes": [{"removed": "needinfo?(padenot@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "padenot@mozilla.com"}, {"when": "2017-01-12T16:21:46Z", "changes": [{"removed": "nobody@mozilla.org", "added": "padenot@mozilla.com", "field_name": "assigned_to"}], "who": "padenot@mozilla.com"}, {"when": "2017-01-13T14:30:21Z", "changes": [{"removed": "21", "added": "12", "field_name": "cf_rank"}, {"removed": "P2", "added": "P1", "field_name": "priority"}, {"removed": "", "added": "mreavy@mozilla.com", "field_name": "cc"}], "who": "mreavy@mozilla.com"}, {"when": "2017-01-17T15:10:15Z", "changes": [{"attachment_id": 8827467, "removed": "", "added": "review?(ehsan@mozilla.com)", "field_name": "flagtypes.name"}], "who": "padenot@mozilla.com"}, {"when": "2017-01-17T16:10:58Z", "changes": [{"attachment_id": 8823403, "removed": "review?(padenot@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "padenot@mozilla.com"}, {"when": "2017-01-17T18:40:59Z", "changes": [{"attachment_id": 8827467, "removed": "review?(ehsan@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "ehsan@mozilla.com"}, {"when": "2017-01-17T18:41:08Z", "changes": [{"removed": "needinfo?(ehsan@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "ehsan@mozilla.com"}, {"when": "2017-01-18T22:19:50Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla53", "field_name": "target_milestone"}, {"removed": "", "added": "2017-01-18T22:19:50Z", "field_name": "cf_last_resolved"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox53"}], "who": "wkocher@mozilla.com"}, {"when": "2017-01-18T22:59:15Z", "changes": [{"removed": "", "added": "needinfo?(padenot@mozilla.com)", "field_name": "flagtypes.name"}], "who": "ryanvm@gmail.com"}, {"when": "2017-01-18T23:04:28Z", "changes": [{"attachment_id": 8823403, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}], "who": "ryanvm@gmail.com"}, {"when": "2017-01-19T14:28:07Z", "changes": [{"removed": "", "added": "1332283", "field_name": "blocks"}], "who": "ahal@mozilla.com"}, {"when": "2017-01-24T12:21:32Z", "changes": [{"removed": "needinfo?(padenot@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "padenot@mozilla.com"}, {"when": "2017-01-24T16:06:50Z", "changes": [{"attachment_id": 8827465, "removed": "", "added": "approval-mozilla-aurora?, approval-mozilla-beta?", "field_name": "flagtypes.name"}], "who": "padenot@mozilla.com"}, {"when": "2017-01-24T16:16:38Z", "changes": [{"attachment_id": 8827465, "removed": "approval-mozilla-aurora?", "added": "", "field_name": "flagtypes.name"}], "who": "ryanvm@gmail.com"}, {"when": "2017-01-25T10:57:16Z", "changes": [{"attachment_id": 8827465, "removed": "approval-mozilla-beta?", "added": "approval-mozilla-beta+", "field_name": "flagtypes.name"}], "who": "jcristau@mozilla.com"}, {"when": "2017-01-25T17:09:20Z", "changes": [{"removed": "", "added": "in-testsuite+", "field_name": "flagtypes.name"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox52"}], "who": "ryanvm@gmail.com"}, {"when": "2017-01-31T06:27:52Z", "changes": [{"removed": "", "added": "andrei.vaida@softvision.ro", "field_name": "cc"}, {"removed": "", "added": "qe-verify-", "field_name": "flagtypes.name"}], "who": "andrei.vaida@softvision.ro"}], "comments": [{"count": 0, "text": "https://archive.mozilla.org/pub/firefox/try-builds/ahalberstadt@mozilla.com-46239c8ae40ed066d6ed784a1d91a0811c71f7df/try-linux-debug/try_ubuntu32_vm-debug_test-crashtest-bm04-tests1-linux32-build295.txt.gz\n\nA bug was recently found for suites using both structured logs and mozleak where leaks failed to turn jobs orange. In the meantime, a leak slipped in causing linux crashtests to leak the world (see above log). This is currently permafail on both central and aurora (but not yet beta).\n\nThe fix to the test infrastructure is landing in bug 1325148. As part of that bug, I will be temporarily disabling leak checks for crashtest. This will allow us to land the fix sooner and prevent further leaks from slipping past reftest and jsreftest.\n\nOnce this bug is fixed, leak checking in crashtests can be turned back on.", "id": 11936106, "creation_time": "2016-12-21T22:04:51Z", "author": "ahal@mozilla.com"}, {"count": 1, "text": "The leak was introduced somewhere in this push:\nhttps://hg.mozilla.org/mozilla-central/pushloghtml?changeset=38fcc30d818f99f3798865d551acce5681b0a3c0", "id": 11936116, "creation_time": "2016-12-21T22:08:40Z", "author": "ahal@mozilla.com"}, {"count": 2, "text": "This also exists on aurora, it is not on beta.", "id": 11946801, "creation_time": "2016-12-29T17:19:20Z", "author": "ahal@mozilla.com"}, {"count": 3, "text": "Because this is permafail, I was able to bisect this to this push:\nhttps://treeherder.mozilla.org/#/jobs?repo=mozilla-inbound&revision=06baf9c96c5b2f45df49941ef00f190c79445295\n\nSo either bug 1303079 or bug 1287220 caused the leak. Luke and Dan, sorry this went uncaught for so long. The test harnesses have been failing to report leaks for a long time (see my firefox-dev post or bug 1325148). But I believe one of the above bugs introduced a memory leak into the crastest suite on linux (see linked log in comment 0).\n\nIf you'd like to see the failure on a try push, simply backout https://hg.mozilla.org/mozilla-central/rev/90dd139d7578 alongside your push. Please let me know if you need more information.", "id": 11946851, "creation_time": "2016-12-29T17:50:20Z", "author": "ahal@mozilla.com"}, {"count": 4, "text": "Crap, sorry I messed up the bisection. I didn't realize this leak was only happening on linux32 (not linux64), and the linux32 crashtests need to be backfilled. So you guys are likely off the hook, and I'll post again when the backfill has finished running.", "id": 11946856, "creation_time": "2016-12-29T17:54:16Z", "author": "ahal@mozilla.com"}, {"count": 5, "text": "The real culprit is:\nhttps://treeherder.mozilla.org/#/jobs?repo=mozilla-inbound&revision=ace491cb598e8767a76e817f111e534fda405518&filter-searchStr=linux%20debug%20crashtest\n\nAlex, sorry this went uncaught for so long. The test harnesses have been failing to report leaks for a long time (see my firefox-dev post or bug 1325148). But I believe one of your patches in this push introduced this memory leak (see linked log in comment 0).\n\nIf you'd like to see the failure on a try push, simply backout https://hg.mozilla.org/mozilla-central/rev/90dd139d7578 alongside your push. Please let me know if you need more information.", "id": 11946943, "creation_time": "2016-12-29T18:36:04Z", "author": "ahal@mozilla.com"}, {"count": 6, "text": "[Tracking Requested - why for this release]: Leaks are bad.", "id": 11947038, "creation_time": "2016-12-29T19:17:09Z", "author": "bzbarsky@mit.edu"}, {"count": 7, "text": "Hmm.  Looking at AudioContext, it's got all sorts of strong-ref members it's not cycle-collecting (e.g. mDecodeJobs, mPromiseGripArray, mBasicWaveFormCache).\n\nThe early return added in the push above in OnStateChanged may be preventing us from reaching the mPromiseGripArray.RemoveElement() call, and then the lack of cycle collection could be causing us to leak...\n\nIs there a reason those various things are not cycle collected?", "id": 11947055, "creation_time": "2016-12-29T19:26:05Z", "author": "bzbarsky@mit.edu"}, {"count": 8, "text": "(In reply to Boris Zbarsky [:bz] (still a bit busy) from comment #7)\n> Hmm.  Looking at AudioContext, it's got all sorts of strong-ref members it's\n> not cycle-collecting (e.g. mDecodeJobs, mPromiseGripArray,\n> mBasicWaveFormCache).\n\nmBasicWaveFormCache holds an object that cannot participate in cycles, but the other two are definitely bugs.\n\n> The early return added in the push above in OnStateChanged may be preventing\n> us from reaching the mPromiseGripArray.RemoveElement() call, and then the\n> lack of cycle collection could be causing us to leak...\n\nGiven that push, this is indeed the most plausible reason.  I'll write a patch.", "id": 11947100, "creation_time": "2016-12-29T19:44:48Z", "author": "ehsan@mozilla.com"}, {"count": 9, "text": "Andrew, what's the process for testing a patch for one of these bugs?", "id": 11947101, "creation_time": "2016-12-29T19:45:12Z", "author": "ehsan@mozilla.com"}, {"count": 10, "text": "Probably back out https://hg.mozilla.org/mozilla-central/rev/90dd139d7578 and see if things fail with/without the patch?", "id": 11947120, "creation_time": "2016-12-29T19:51:26Z", "author": "bzbarsky@mit.edu"}, {"count": 11, "text": "Created attachment 8822500\nEnsure that all AudioContext members that need to participate in cycle collection do so", "id": 11947126, "creation_time": "2016-12-29T19:54:16Z", "author": "ehsan@mozilla.com"}, {"count": 12, "text": "Comment on attachment 8822500\nEnsure that all AudioContext members that need to participate in cycle collection do so\n\nr=me but I have low confidence that I'd catch issues like someone on another thread having a ref to something in mPromiseGripArray (its ostensible job is to enable that, right?) and us pulling the rug out from under it.  At the very least, it's worth a comment for mPromiseGripArray explaining what the ownership model is and why clearing it is safe....", "id": 11947129, "creation_time": "2016-12-29T19:56:41Z", "author": "bzbarsky@mit.edu"}, {"count": 13, "text": "Comment on attachment 8822500\nEnsure that all AudioContext members that need to participate in cycle collection do so\n\nWhen we transfer the promise to another thread, we cast it to void* and then cast it back to Promise* when we receive it again on the main thread.  But I'll ask another review from karlt.", "id": 11947159, "creation_time": "2016-12-29T20:05:59Z", "author": "ehsan@mozilla.com"}, {"count": 14, "text": "https://treeherder.mozilla.org/#/jobs?repo=try&revision=608191d559885134ede4dfdb8fbe082b2f481128", "id": 11947160, "creation_time": "2016-12-29T20:06:10Z", "author": "ehsan@mozilla.com"}, {"count": 15, "text": "Yes, backout https://hg.mozilla.org/mozilla-central/rev/90dd139d7578 to test it. This is also the only leak I've seen in reftests, so you can also push the backout along with this patch (or just land this and I'll do it later).", "id": 11947192, "creation_time": "2016-12-29T20:07:44Z", "author": "ahal@mozilla.com"}, {"count": 16, "text": "(In reply to :Ehsan Akhgari from comment #14)\n> https://treeherder.mozilla.org/#/\n> jobs?repo=try&revision=608191d559885134ede4dfdb8fbe082b2f481128\n\nThe patch fixes the leak! \\o/", "id": 11947354, "creation_time": "2016-12-29T21:30:47Z", "author": "ehsan@mozilla.com"}, {"count": 17, "text": "Comment on attachment 8822500\nEnsure that all AudioContext members that need to participate in cycle collection do so\n\nAsyncDecodeWebAudio creates a MediaDecodeTask with a unaccounted/bare reference\nto a WebAudioDecodeJob in mDecodeJobs.  The MediaDecodeTask is dispatched to\nanother thread and then passed back to the main thread.\nI don't see anything else keeping the WebAudioDecodeJob alive and so AFAICS\nthe reference in mDecodeJobs cannot be cleared by CC.\n\nSimilarly, allowing the AudioContext and WebAudioDecodeJob to be CCed could\nmean the callback and promise are not called.  Is there a reference I'm\nmissing?\n\nThe MediaDecodeTask should complete in finite time and call\nWebAudioDecodeJob::OnSuccess/Failure(), which will clear the reference in\nmDecodeJobs.  That means there should be no need to traverse this link, but I\ndon't know why WebAudioDecodeJob is a CCed class and I don't know what stops\nthe script running while the page is in BF cache.\n\nI've run out of time to look at mPromiseGripArray, sorry.  Does it have similar\nissues?  Feel free to ask padenot to review that as I won't be back for a few\ndays and I'm not familiar with this code.  Similarly, if you can convince\nsomeone else that there is another untraversed reference to the\nWebAudioDecodeJob somewhere.", "id": 11948001, "creation_time": "2016-12-30T06:31:56Z", "author": "karlt@mozbugz.karlt.net"}, {"count": 18, "text": "Tracking 52/53+ since this is a perma leak.", "id": 11953731, "creation_time": "2017-01-03T19:00:29Z", "author": "mozillamarcia.knous@gmail.com"}, {"count": 19, "text": "(In reply to Karl Tomlinson (:karlt) from comment #17)\n> Comment on attachment 8822500\n> Ensure that all AudioContext members that need to participate in cycle\n> collection do so\n> \n> AsyncDecodeWebAudio creates a MediaDecodeTask with a unaccounted/bare\n> reference\n> to a WebAudioDecodeJob in mDecodeJobs.  The MediaDecodeTask is dispatched to\n> another thread and then passed back to the main thread.\n> I don't see anything else keeping the WebAudioDecodeJob alive and so AFAICS\n> the reference in mDecodeJobs cannot be cleared by CC.\n> \n> Similarly, allowing the AudioContext and WebAudioDecodeJob to be CCed could\n> mean the callback and promise are not called.  Is there a reference I'm\n> missing?\n\nNo, you're completely right.\n\n> The MediaDecodeTask should complete in finite time and call\n> WebAudioDecodeJob::OnSuccess/Failure(), which will clear the reference in\n> mDecodeJobs.  That means there should be no need to traverse this link, but I\n> don't know why WebAudioDecodeJob is a CCed class and I don't know what stops\n> the script running while the page is in BF cache.\n\nThe reason why this class is CCed is that it used to have a |JS::Heap<JSObject*>| member (see bug 891986) but that seems unnecessary now.  I think we should probably consider removing the CC stuff and just hold on to it using a UniquePtr.\n\n> I've run out of time to look at mPromiseGripArray, sorry.  Does it have\n> similar\n> issues?  Feel free to ask padenot to review that as I won't be back for a few\n> days and I'm not familiar with this code.  Similarly, if you can convince\n> someone else that there is another untraversed reference to the\n> WebAudioDecodeJob somewhere.\n\nFor mPromiseGripArray, we use this array to keep the promises alive, but that's not crucial for our observable behavior, that is, it will only be observable that a promise is resolved or rejected if the consumer is already holding a reference to the promise and therefore keeping it alive.  Otherwise it's find for us to not resolve the promise and nobody will notice.  We should probably detect and handle that case correctly in AudioContext::OnStateChanged though.", "id": 11954036, "creation_time": "2017-01-03T20:26:39Z", "author": "ehsan@mozilla.com"}, {"count": 20, "text": "Created attachment 8823403\nEnsure that all AudioContext members that need to participate in cycle collection do so", "id": 11954060, "creation_time": "2017-01-03T20:32:49Z", "author": "ehsan@mozilla.com"}, {"count": 21, "text": "(In reply to :Ehsan Akhgari from comment #19)\n> > The MediaDecodeTask should complete in finite time and call\n> > WebAudioDecodeJob::OnSuccess/Failure(), which will clear the reference in\n> > mDecodeJobs.  That means there should be no need to traverse this link, but I\n> > don't know why WebAudioDecodeJob is a CCed class and I don't know what stops\n> > the script running while the page is in BF cache.\n> \n> The reason why this class is CCed is that it used to have a\n> |JS::Heap<JSObject*>| member (see bug 891986) but that seems unnecessary\n> now.  I think we should probably consider removing the CC stuff and just\n> hold on to it using a UniquePtr.\n\nI did that in bug 1328422.", "id": 11954288, "creation_time": "2017-01-03T21:57:21Z", "author": "ehsan@mozilla.com"}, {"count": 22, "text": "> that is, it will only be observable that a promise is resolved or rejected\n> if the consumer is already holding a reference to the promise and therefore keeping it alive.\n\nThat is not true at all.  Say the consumer does:\n\n  yourObject.getPromise().then(f1, f2);\n\nThe consumer is not holding a reference to the promise returned by getPromise.  But it _can_ tell whether the promise is resolved or rejected by which of f1 and f2 is called.  The thing keeping the promise alive is whatever is planning to resolve or reject it.\n\n> Otherwise it's find for us to not resolve the promise and nobody will notice\n\nThe people whose callbacks don't get called will notice!", "id": 11954981, "creation_time": "2017-01-04T04:00:45Z", "author": "bzbarsky@mit.edu"}, {"count": 23, "text": "This can only happen in a window that has FreeInnerObjects called on it, no?  Are such callbacks expected to be called in that situation?", "id": 11956163, "creation_time": "2017-01-04T15:25:33Z", "author": "ehsan@mozilla.com"}, {"count": 24, "text": "> This can only happen in a window that has FreeInnerObjects called on it, no? \n\nWhich \"this\"?\n\n> Are such callbacks expected to be called in that situation?\n\nUnclear.  Per spec, yes, but the spec is bonkers.  In Gecko, we avoid calling callbacks for a promise whose global IsDying(), but call them otherwise, I believe.", "id": 11956570, "creation_time": "2017-01-04T17:22:30Z", "author": "bzbarsky@mit.edu"}, {"count": 25, "text": "(In reply to Boris Zbarsky [:bz] (still a bit busy) from comment #24)\n> > This can only happen in a window that has FreeInnerObjects called on it, no? \n> \n> Which \"this\"?\n\nThe callbacks not getting called.\n\n> > Are such callbacks expected to be called in that situation?\n> \n> Unclear.  Per spec, yes, but the spec is bonkers.  In Gecko, we avoid\n> calling callbacks for a promise whose global IsDying(), but call them\n> otherwise, I believe.\n\nHmm, so it's _possible_ for this to happen after FreeInnerObjects.  :(\n\nI don't have a good idea on what to do any more then.", "id": 11956608, "creation_time": "2017-01-04T17:31:24Z", "author": "ehsan@mozilla.com"}, {"count": 26, "text": "Note that putting promises in mPromiseGripArray isn't the only way to keep them alive, but still the problem of us having a reference that creates a cycle but we cannot declare to the cycle collector remains, even if we resort to manual AddRefs/Releases...", "id": 11956618, "creation_time": "2017-01-04T17:33:20Z", "author": "ehsan@mozilla.com"}, {"count": 27, "text": "> The callbacks not getting called.\n\nAh, because that's the only way to get into the \"mAudioContextState == AudioContextState::Closed\" state?  \n\nWould it make sense to just reject all the promises when entering that state, and block more promises being added to the list?", "id": 11956673, "creation_time": "2017-01-04T17:49:31Z", "author": "bzbarsky@mit.edu"}, {"count": 28, "text": "More to the point, shouldn't the web audio spec define the behavior for what happens with these promises on navigation?", "id": 11956675, "creation_time": "2017-01-04T17:50:19Z", "author": "bzbarsky@mit.edu"}, {"count": 29, "text": "Yes, I think this is definitely underdefined right now.", "id": 11956745, "creation_time": "2017-01-04T18:17:08Z", "author": "ehsan@mozilla.com"}, {"count": 30, "text": "(In reply to Boris Zbarsky [:bz] (still a bit busy) from comment #27)\n> > The callbacks not getting called.\n> \n> Ah, because that's the only way to get into the \"mAudioContextState ==\n> AudioContextState::Closed\" state?  \n\nYou can enter \"AudioContextState::Closed\" when calling `close` on the `AudioContext`. This is also called from FreeInnerObject (FreeInnerObject -> AudioContext::Shutdown -> AudioContext::Close), but the promise returned is ignored.\n\n> Would it make sense to just reject all the promises when entering that\n> state, and block more promises being added to the list?\n\nWe already do the second part: per spec, calling `close` on an `AudioContext` set a main thread flag on the `AudioContext` so that authors cannot call `suspend`, `resume` or `close` again on it (it throws). This blocks more promise from being added to the list.\n\nThen in theory, all requests and their associated promises are being processed linearly on the other thread, until processing the `close`, which is the last one in the queue, since no other `Promise` can be queue after (apart from an implementation detail in bug 1285290). When a request has been processed on the other thread, a runnable is posted to the main thread, we find the promise associated with it, and resolve it.\n\nHowever in this context (Calling `close` on an `AudioContext` that has other promises in fligh), it is probably reasonable to reject all  promises that are in flight (we would store them on the AudioContext) and proceed with closing the context, resolving the `Promise` returned by the `close` method last.\n\nThis would require a spec change but not too crazy, and is what Chromium is doing apparently. I don't quite know for sure what we would do with the pointers we sent to the other thread, we can probably check if there are still registered as \"in-flight promise\", and if not, do nothing. We can also send something else that are not pointers if we want extra safety (probably using CoatCheck [0]).\n\nNow, if we are navigating away from the page, what usually happens with `Promise`s that are in flight? Do usually we drop them? There is no time to execute the `then()` functions, right ? Maybe we can just spec that navigating away from a page that has active (i.e. non already closed) `AudioContext` close them, but drops the promise instead of rejecting them. Is that legal?\n\nIs there a precedent on the web platform to write prose like this? I tried to have a look at fetch (that I know is promise heavy), but I haven't managed to find a behaviour I could use as an inspiration, but I must be looking in the wrong location.\n\n\n[0]: https://dxr.mozilla.org/mozilla-central/source/dom/media/systemservices/MediaUtils.h?q=CoatCheck&redirect_type=direct#208", "id": 11967516, "creation_time": "2017-01-09T17:19:59Z", "author": "padenot@mozilla.com"}, {"count": 31, "text": "> what usually happens with `Promise`s that are in flight?\n\nUnclear.\n\n> There is no time to execute the `then()` functions, right ?\n\nUnclear.  Per spec, the interaction of promise processing with navigation is somewhere between \"batshit crazy\" (i.e. everything is alive forever, navigation can't clean anything up) and \"not defined\", depending on how you choose to look at it...\n\n> Is there a precedent on the web platform to write prose like this?\n\nI'm not sure.  Paging Domenic, who's been more involved in promisy bits...", "id": 11968106, "creation_time": "2017-01-09T19:57:56Z", "author": "bzbarsky@mit.edu"}, {"count": 32, "text": "I'm wondering if we should consider backing out bug 1286041 from Aurora at this point. I checked and it nearly does so cleanly, so hopefully Alex could cook that up with minimal effort. This bug doesn't seem to be moving in a \"We're going to have a safe to uplift fix\" direction :(", "id": 11968711, "creation_time": "2017-01-09T23:25:51Z", "author": "ryanvm@gmail.com"}, {"count": 33, "text": "(In reply to Paul Adenot (:padenot) from comment #30)\n> > Would it make sense to just reject all the promises when entering that\n> > state, and block more promises being added to the list?\n> \n> We already do the second part: per spec, calling `close` on an\n> `AudioContext` set a main thread flag on the `AudioContext` so that authors\n> cannot call `suspend`, `resume` or `close` again on it (it throws). This\n> blocks more promise from being added to the list.\n> \n> Then in theory, all requests and their associated promises are being\n> processed linearly on the other thread, until processing the `close`, which\n> is the last one in the queue, since no other `Promise` can be queue after\n> (apart from an implementation detail in bug 1285290). When a request has\n> been processed on the other thread, a runnable is posted to the main thread,\n> we find the promise associated with it, and resolve it.\n\nThat sounds reasonable to me, and that is not the cause of this bug IIUC.\n\n> However in this context (Calling `close` on an `AudioContext` that has other\n> promises in fligh), it is probably reasonable to reject all  promises that\n> are in flight (we would store them on the AudioContext) and proceed with\n> closing the context, resolving the `Promise` returned by the `close` method\n> last.\n\nI prefer the model of resolving promises in a way that depends only on the\nstate of the AudioContext at the time the promise is created, rather than\nhaving the resolution depend on subsequent async operations, leading to races.\n\n> Now, if we are navigating away from the page, what usually happens with\n> `Promise`s that are in flight? Do usually we drop them? There is no time to\n> execute the `then()` functions, right ? Maybe we can just spec that\n> navigating away from a page that has active (i.e. non already closed)\n> `AudioContext` close them, but drops the promise instead of rejecting them.\n> Is that legal?\n\nThat sound fine to me, if others think it is reasonable.", "id": 11968758, "creation_time": "2017-01-09T23:38:36Z", "author": "karlt@mozbugz.karlt.net"}, {"count": 34, "text": "I was summoned to talk about promises and navigation, so here goes:\n\nIn general, the platform allows code from navigated-away-from frames to run, as long as the event loop still exists. (For example, you can save a closure from an iframe, then navigate that iframe, and the closure will still work when called.) Conceptually, that's how promises work too. A closure is saved to the event loop, and can still be executed even after navigation. Only tearing down the entire event loop will stop it from executing. So, you can definitely execute then() callbacks after navigation; there's no issue there.\n\nFor specific cases, the platform will prevent certain closures from executing on navigation. This is often done in the \"unloading document cleanup steps\". HTML itself uses these to clear the \"list of active timers\", thus stopping any setTimeout-enqueued closures from executing after navigation.\n\nAnother example is Fetch. Although it is currently buggy (per https://github.com/whatwg/fetch/issues/416) and I believe underdefined (in that nothing on the platform actually uses https://fetch.spec.whatwg.org/#concept-fetch-group-terminate from what I can tell), the intent is that navigating will reject all in-flight promises. This will immediately run their rejection handlers. (Although it's possible that they might execute after the actual document destruction due to event loop vagaries; I'm not sure.)\n\nSo in general, you first need to ask whether you actually want to prevent these promises from settling after navigation or not. If an AudioContext is usable even in a navigated-away-from document in general, then there's no reason to prematurely cease any ongoing promise activity. I don't see \"active document\" anywhere Ctrl+Fing through https://webaudio.github.io/web-audio-api/, or any \"unloading document cleanup steps\" that would close an AudioContext when the documents unloads, so maybe this is the case you've landed in here.\n\nIf you *do* want to prevent web audio from working after navigation, then you'll probably want to insert a bunch of \"active document\" checks throughout the web audio spec, and then add \"unloading document cleanup steps\" that reject any in-flight promises and perform any necessary shutdown.\n\nHope this helps...", "id": 11969001, "creation_time": "2017-01-10T00:52:58Z", "author": "d@domenic.me"}, {"count": 35, "text": "To avoid spamming this thread, I will follow up Ryan's request in the original bug (1286041).", "id": 11969936, "creation_time": "2017-01-10T10:25:49Z", "author": "achronop@gmail.com"}, {"count": 36, "text": "P1, this has disabled leak checking on crash tests. Is there a reason we're only backing out on Aurora?", "id": 11975985, "creation_time": "2017-01-12T00:51:57Z", "author": "erahm@mozilla.com"}, {"count": 37, "text": "I wanted to leave the door open for a \"real\" fix based on the work already done in this bug once the spec-related questions get sorted out. And the leak checking disabling is only on Linux, so we're not completely devoid of coverage. That said, I'm not opposed to bug 1330372 landing on trunk too to stop the bleeding and repurposing this bug for a \"real\" fix if that's what the media folks prefer.", "id": 11975998, "creation_time": "2017-01-12T00:57:41Z", "author": "ryanvm@gmail.com"}, {"count": 38, "text": "Paul - please see comment 34.  And what's your opinion on backing out, or leaving it disabled (on linux)?\n\nIn any case, you know more about this than I.", "id": 11976112, "creation_time": "2017-01-12T01:35:19Z", "author": "rjesup@jesup.org"}, {"count": 39, "text": "(In reply to Karl Tomlinson (:karlt) from comment #33)\n\n> I prefer the model of resolving promises in a way that depends only on the\n> state of the AudioContext at the time the promise is created, rather than\n> having the resolution depend on subsequent async operations, leading to\n> races.\n\nI agree. Let's continue doing that, then.\n\n> > Now, if we are navigating away from the page, what usually happens with\n> > `Promise`s that are in flight? Do usually we drop them? There is no time to\n> > execute the `then()` functions, right ? Maybe we can just spec that\n> > navigating away from a page that has active (i.e. non already closed)\n> > `AudioContext` close them, but drops the promise instead of rejecting them.\n> > Is that legal?\n> \n> That sound fine to me, if others think it is reasonable.\n\nI think we will settle on rejecting the promise on navigation.", "id": 11977412, "creation_time": "2017-01-12T14:03:46Z", "author": "padenot@mozilla.com"}, {"count": 40, "text": "Thanks all, this is much clearer now.\n\n(In reply to Domenic Denicola from comment #34)\n> If you *do* want to prevent web audio from working after navigation, then\n> you'll probably want to insert a bunch of \"active document\" checks\n> throughout the web audio spec, and then add \"unloading document cleanup\n> steps\" that reject any in-flight promises and perform any necessary shutdown.\n\nThe behaviour here is that if we're navigating away from a document, all sound should be stopped and we should stop everything as far as web audio is concerned. I've filed an issue [0] against the spec, and I've assigned myself.\n\nNow, the plan of action to solve this is as follow:\n1. Wait for a rough consensus from the WG (we'll probably settle on rejecting the promises when navigating away from the doc, so we can start doing step 2 now).\n2. Write a gecko patch that rejects the promises when the AudioContext is being shutdown. It will do the following:\n  1. Reject all the promises when the document is unloaded.\n  2. Whenever we want to resolve a promise on the main thread because we've just finished an operation on the audio thread, don't panic if we can't find it in the `mPromiseGripArray`, since it can be that it has already been rejected.\n  3. Land something along the lines of ehsan's patch (since I think step 2.2 will bitrot it) and restore checking for leaks\n  4. Clean up all this, using `CoatCheck` [1] instead of our `void*` hack so it's less dangerous, and add comments about all this more.\n\nI'll probably do 2.4 in a separate bug so we can close this bug and restore leak checking as soon as possible.\n\n[0]: https://github.com/WebAudio/web-audio-api/issues/1139\n[2]: http://searchfox.org/mozilla-central/source/dom/media/systemservices/MediaUtils.h#271", "id": 11977575, "creation_time": "2017-01-12T14:50:21Z", "author": "padenot@mozilla.com"}, {"count": 41, "text": "Created attachment 8827465\nEnsure that all AudioContext members that need to participate in cycle collection do so\n\nEhsan's patch, without the promise rejection bit, that comes in the next patch,\nbecause it was bitrot.", "id": 11987234, "creation_time": "2017-01-17T15:08:24Z", "author": "padenot@mozilla.com"}, {"count": 42, "text": "Created attachment 8827467\nReject promises in flight when shutting down AudioContexts\n\nThis rejects the promises on shutdown, and has the part about your other patch,\nbut rebased on top of the rest.", "id": 11987238, "creation_time": "2017-01-17T15:10:15Z", "author": "padenot@mozilla.com"}, {"count": 43, "text": "This is green on try when re-triggering a number of times, and with the leak-check restored.", "id": 11987452, "creation_time": "2017-01-17T16:11:27Z", "author": "padenot@mozilla.com"}, {"count": 44, "text": "Comment on attachment 8827467\nReject promises in flight when shutting down AudioContexts\n\nReview of attachment 8827467:\n-----------------------------------------------------------------\n\n::: dom/media/webaudio/AudioContext.cpp\n@@ +638,5 @@\n>    }\n>  \n> +  for (auto p : mPromiseGripArray) {\n> +    p->MaybeReject(NS_ERROR_DOM_INVALID_STATE_ERR);\n> +  }\n\nI think you also need to clear the whole array here.  r=me with that.", "id": 11987949, "creation_time": "2017-01-17T18:40:59Z", "author": "ehsan@mozilla.com"}, {"count": 45, "text": "Pushed by paul@paul.cx:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/c01f7957ff52\nEnsure that all AudioContext members that need to participate in cycle collection do so; r=padenot\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/353266dd63ed\nReject promises in flight when shutting down AudioContexts.  r=ehsan", "id": 11990079, "creation_time": "2017-01-18T09:52:09Z", "author": "pulsebot@bots.tld"}, {"count": 46, "text": "Pushed by paul@paul.cx:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/3f73c8d5bb4d\nFix bustage.", "id": 11990113, "creation_time": "2017-01-18T10:04:43Z", "author": "pulsebot@bots.tld"}, {"count": 47, "text": "*** Bug 1330372 has been marked as a duplicate of this bug. ***", "id": 11991133, "creation_time": "2017-01-18T15:59:17Z", "author": "achronop@gmail.com"}, {"count": 48, "text": "https://hg.mozilla.org/mozilla-central/rev/c01f7957ff52\nhttps://hg.mozilla.org/mozilla-central/rev/353266dd63ed\nhttps://hg.mozilla.org/mozilla-central/rev/3f73c8d5bb4d", "id": 11992617, "creation_time": "2017-01-18T22:19:50Z", "author": "wkocher@mozilla.com"}, {"count": 49, "text": "Please request Aurora approval on this when you're comfortable doing so.", "id": 11992777, "creation_time": "2017-01-18T22:59:15Z", "author": "ryanvm@gmail.com"}, {"count": 50, "text": "(In reply to Ryan VanderMeulen [:RyanVM] from comment #49)\n> Please request Aurora approval on this when you're comfortable doing so.\n\nBeta, now. Quite an easy patch, though.", "id": 12005519, "creation_time": "2017-01-24T12:21:32Z", "author": "padenot@mozilla.com"}, {"count": 51, "text": "Comment on attachment 8827465\nEnsure that all AudioContext members that need to participate in cycle collection do so\n\nApproval Request Comment\n[Feature/Bug causing the regression]: bug 1286041\n[User impact if declined]: unnecessary test failure, inability to monitor leak count\n[Is this code covered by automated tests?]: yes, this allows us to restore leak checking\n[Has the fix been verified in Nightly?]: yes, RyanVM tells us it's better\n[Needs manual test from QE? If yes, steps to reproduce]: No\n[List of other uplifts needed for the feature/fix]: All three revision pushed in this bug\n[Is the change risky?]: No\n[Why is the change risky/not risky?]: ehsan has looked at the CC stuff, and I've look at the promise stuff, we believe we got it right. The leak is now gone with this patch, and we've restored the leak check, that is still green.\n[String changes made/needed]: none", "id": 12006078, "creation_time": "2017-01-24T16:06:50Z", "author": "padenot@mozilla.com"}, {"count": 52, "text": "Comment on attachment 8827465\nEnsure that all AudioContext members that need to participate in cycle collection do so\n\nThis landed before the uplift, so only Beta needs it.", "id": 12006111, "creation_time": "2017-01-24T16:16:38Z", "author": "ryanvm@gmail.com"}, {"count": 53, "text": "Comment on attachment 8827465\nEnsure that all AudioContext members that need to participate in cycle collection do so\n\nfix memory leak, beta52+ (all three patches), should be in b2", "id": 12008990, "creation_time": "2017-01-25T10:57:16Z", "author": "jcristau@mozilla.com"}, {"count": 54, "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/0eff29d27930\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/9be555475ce9", "id": 12010080, "creation_time": "2017-01-25T17:09:20Z", "author": "ryanvm@gmail.com"}, {"count": 55, "text": "Setting qe-verify- per Comment 51.", "id": 12023652, "creation_time": "2017-01-31T06:27:52Z", "author": "andrei.vaida@softvision.ro"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, "creator": "ehsan@mozilla.com", "flags": [{"modification_date": "2016-12-29T19:56:41Z", "creation_date": "2016-12-29T19:54:16Z", "type_id": 937, "status": "+", "name": "review", "id": 1504516, "setter": "bzbarsky@mit.edu"}, {"modification_date": "2016-12-30T06:31:56Z", "creation_date": "2016-12-29T20:05:59Z", "type_id": 937, "status": "-", "name": "review", "id": 1504523, "setter": "karlt@mozbugz.karlt.net"}], "is_patch": 1, "creation_time": "2016-12-29T19:54:16Z", "id": 8822500, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "ehsan@mozilla.com", "real_name": ":Ehsan Akhgari", "name": "ehsan@mozilla.com", "nick": "Ehsan", "id": 251051}, "creator": "ehsan@mozilla.com", "flags": [{"modification_date": "2017-01-17T16:10:58Z", "creation_date": "2017-01-03T20:32:49Z", "type_id": 937, "status": "+", "name": "review", "id": 1505874, "setter": "padenot@mozilla.com"}], "is_patch": 1, "creation_time": "2017-01-03T20:32:49Z", "id": 8823403, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot) (Off until the 10th of June)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "creator": "padenot@mozilla.com", "flags": [{"modification_date": "2017-01-25T10:57:16Z", "creation_date": "2017-01-24T16:06:50Z", "type_id": 721, "status": "+", "name": "approval-mozilla-beta", "id": 1516839, "setter": "jcristau@mozilla.com"}], "is_patch": 1, "creation_time": "2017-01-17T15:08:24Z", "id": 8827465, "is_obsolete": 0}, {"content_type": "text/plain", "creator_detail": {"email": "padenot@mozilla.com", "real_name": "Paul Adenot (:padenot) (Off until the 10th of June)", "name": "padenot@mozilla.com", "nick": "padenot", "id": 404637}, "creator": "padenot@mozilla.com", "flags": [{"modification_date": "2017-01-17T18:40:59Z", "creation_date": "2017-01-17T15:10:15Z", "type_id": 937, "status": "+", "name": "review", "id": 1512767, "setter": "ehsan@mozilla.com"}], "is_patch": 1, "creation_time": "2017-01-17T15:10:15Z", "id": 8827467, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [], "cf_status_geckoview66": "---", "is_cc_accessible": true, "keywords": ["crash", "steps-wanted", "testcase-wanted"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2018-10-01T12:23:37Z", "cf_fx_points": "---", "cf_tracking_geckoview66": "---", "cf_status_firefox58": "affected", "cc_detail": [{"email": "jan@ikenmeyer.eu", "real_name": "Jan Andre Ikenmeyer [:darkspirit]", "name": "jan@ikenmeyer.eu", "nick": "darkspirit", "id": 580271}, {"email": "lsalzman@mozilla.com", "real_name": "Lee Salzman [:lsalzman]", "name": "lsalzman@mozilla.com", "nick": "lsalzman", "id": 536714}, {"email": "marcus.husar@gmail.com", "real_name": "Marcus Husar", "name": "marcus.husar@gmail.com", "nick": "marcus.husar", "id": 303966}, {"email": "milaninbugzilla@gmail.com", "real_name": "Milan Sreckovic [:milan] (needinfo for best results)", "name": "milaninbugzilla@gmail.com", "nick": "milan", "id": 456486}, {"email": "nical.bugzilla@gmail.com", "real_name": "Nicolas Silva [:nical]", "name": "nical.bugzilla@gmail.com", "nick": "nical", "id": 438998}], "summary": "Crash in libX11.so.6.3.0@0x41d5b", "cf_has_str": "no", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "cf_status_firefox55": "wontfix", "version": "55 Branch", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P3", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "name": "nobody@mozilla.org", "nick": "nobody", "id": 1}, "creator": "mozillamarcia.knous@gmail.com", "last_change_time": "2018-10-01T12:23:37Z", "cf_fission_milestone": "---", "comment_count": 11, "creator_detail": {"email": "mozillamarcia.knous@gmail.com", "real_name": "Marcia Knous [:marcia - needinfo? me]", "name": "mozillamarcia.knous@gmail.com", "nick": "marcia", "id": 8519}, "cc": ["jan@ikenmeyer.eu", "lsalzman@mozilla.com", "marcus.husar@gmail.com", "milaninbugzilla@gmail.com", "nical.bugzilla@gmail.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "nobody@mozilla.org", "groups": [], "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1415020"], "id": 1372243, "whiteboard": "[gfx-noted]", "creation_time": "2017-06-12T15:03:02Z", "depends_on": [], "cf_status_firefox56": "wontfix", "cf_tracking_firefox69": "---", "cf_webcompat_priority": "---", "mentors": [], "dupe_of": null, "cf_tracking_firefox67_0_5": "---", "regressed_by": [], "resolution": "WONTFIX", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Linux", "status": "RESOLVED", "cf_status_firefox67_0_5": "---", "cf_crash_signature": "[@ libX11.so.6.3.0@0x41d5b]\r\n[@ libX11.so.6.3.0@0x4259b]", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "flags": [], "cf_tracking_firefox68": "---", "cf_status_firefox57": "wontfix", "component": "Graphics", "product": "Core", "target_milestone": "---", "history": [{"when": "2017-06-12T20:01:41Z", "changes": [{"removed": "", "added": "steps-wanted, testcase-wanted", "field_name": "keywords"}, {"removed": "--", "added": "P3", "field_name": "priority"}, {"removed": "", "added": "lsalzman@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "[gfx-noted]", "field_name": "whiteboard"}, {"removed": "critical", "added": "normal", "field_name": "severity"}], "who": "lsalzman@mozilla.com"}, {"when": "2017-06-12T20:30:47Z", "changes": [{"removed": "", "added": "nical.bugzilla@gmail.com", "field_name": "cc"}], "who": "lsalzman@mozilla.com"}, {"when": "2017-06-15T14:49:06Z", "changes": [{"removed": "", "added": "bugzilla@terrax.net", "field_name": "cc"}], "who": "jan@ikenmeyer.eu"}, {"when": "2017-06-20T15:34:46Z", "changes": [{"removed": "", "added": "marcus.husar@gmail.com", "field_name": "cc"}], "who": "marcus.husar@gmail.com"}, {"when": "2017-09-15T17:08:27Z", "changes": [{"removed": "", "added": "milan@mozilla.com", "field_name": "cc"}, {"removed": "affected", "added": "wontfix", "field_name": "cf_status_firefox55"}, {"removed": "---", "added": "wontfix", "field_name": "cf_status_firefox56"}, {"removed": "---", "added": "wontfix", "field_name": "cf_status_firefox57"}], "who": "milaninbugzilla@gmail.com"}, {"when": "2017-11-04T22:44:42Z", "changes": [{"removed": "---", "added": "no", "field_name": "cf_has_str"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox58"}], "who": "jan@ikenmeyer.eu"}, {"when": "2017-11-09T10:27:44Z", "changes": [{"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1415020", "field_name": "see_also"}], "who": "sotaro.ikeda.g@gmail.com"}, {"when": "2018-10-01T12:23:37Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "WONTFIX", "field_name": "resolution"}, {"removed": "", "added": "2018-10-01T12:23:37Z", "field_name": "cf_last_resolved"}], "who": "sledru@mozilla.com"}], "comments": [{"count": 0, "text": "This bug was filed from the Socorro interface and is \nreport bp-89c29ea2-95ec-444d-a90c-a2b7b0170514.\n=============================================================\n\nSeen while looking at crash stats - these Linux crashes seem to go back to 20170511133312: http://bit.ly/2rneewr\n\nMaybe the correlations tab can help here, didn't see any URLs yet.", "id": 12390839, "creation_time": "2017-06-12T15:03:02Z", "author": "mozillamarcia.knous@gmail.com"}, {"count": 1, "text": "At a minimum, this seems to be only occurring with OpenGL layers being used, which is not enabled by default.\n\nAlso, unless I'm interpreting the reports wrong, it looks like they're all coming from the same user.\n\nI did a cursory glance of the teardown code therein, and I couldn't spot anything obvious going wrong. It would help if we could find some STR or testcase for this.", "id": 12391819, "creation_time": "2017-06-12T20:01:41Z", "author": "lsalzman@mozilla.com"}, {"count": 2, "text": "Socorro shows 9 installs/17 crashes on one of the 2 signatures, so I think it is more than 1 user crashing.", "id": 12391908, "creation_time": "2017-06-12T20:24:38Z", "author": "mozillamarcia.knous@gmail.com"}, {"count": 3, "text": "Created attachment 8879587\nCore dump of Firefox GPU process\n\nI beg your pardon that I generated so many crash reports (between 90 and 100). I will disable the GPU process after I have sent this message.\n\nTo help you out I compiled a nightly Firefox with debug symbols. Today I was finally lucky to catch a core dump of the crashing GPU process. The attached file has information about the core dump, a backtrace and a full backtrace. If it helps, I can try to upload the complete core dump to bugzilla (4.9M, lz4 compressed).\n\nHere\u2019s the crash report that was automatically generated: https://crash-stats.mozilla.com/report/index/43be6b3c-1d43-4981-b447-ade511170620\n\nHow to reproduce:\n * Install Fedora 26\n * Download and unpack Firefox nightly\n * Start Firefox\n * Force-enable the GPU process\n * Restart Firefox\n\nThe GPU process crashes within the first 30 seconds which is not visible for the user. The browser works as expected, it just generates crash reports. It doesn\u2019t happen on every browser start.\n\nJust ask if you need any information.", "id": 12414731, "creation_time": "2017-06-20T15:34:24Z", "author": "marcus.husar@gmail.com"}, {"count": 4, "text": "Hello, I am the one with the most [@ libX11.so.6.3.0@0x4259b ] crashes.\n\nThe cause: I opened a pdf with pdfium and network.disable.ipc.security;false\n\nFor example:\nbp-11665dc6-7488-4ee8-903f-231b40170615 15.06.17 11:20 [@ libX11.so.6.3.0@0x4259b ]\n= this bug\nbp-0a1275b3-d959-40cf-9080-07caa0170615 15.06.17 11:20 [@ mozilla::net::NeckoParent::GetValidatedOriginAttributes ]\n= bug 1322610\n\n\nbp-f4b851c9-c940-4e2e-8058-622e30170609 09.06.17 17:50 [@ libX11.so.6.3.0@0x4259b ]\n= this bug\nbp-5a09146a-9cb4-40e3-b831-04d5e0170609 09.06.17 17:50 [@ mozilla::net::NeckoParent::GetValidatedOriginAttributes ]\n= bug 1322610\n\n\n(Darkspirit from bug 1322610 comment #9)\n> network.disable.ipc.security;false (default=true)\n> \n> https://gopherproxy.meulie.net/ygrex.ru/h/debian/firefox-security.html\n> > Interprocess security checks (disabled by default per bug 820712):\n> > network.disable.ipc.security=false\n> \n> I just thought that \"disabling\" \"security\" is needed for some old addons or\n> plugins, so I set it to false. \"Security checks\" sounded good.", "id": 12414897, "creation_time": "2017-06-20T16:21:41Z", "author": "jan@ikenmeyer.eu"}, {"count": 5, "text": "(In reply to Darkspirit from comment #4)\n> pdfium\nNo, sorry, I meant pdfjs.", "id": 12414910, "creation_time": "2017-06-20T16:24:40Z", "author": "jan@ikenmeyer.eu"}, {"count": 6, "text": "No user should change network.disable.ipc.security and it will get deleted in the future (post-57). See bug 1322610 comment 6.", "id": 12414919, "creation_time": "2017-06-20T16:27:45Z", "author": "jan@ikenmeyer.eu"}, {"count": 7, "text": "(In reply to Marcus Husar from comment #3)\n> How to reproduce:\n>  * Install Fedora 26\n>  * Download and unpack Firefox nightly\n>  * Start Firefox\n>  * Force-enable the GPU process\n>  * Restart Firefox\n> \n> The GPU process crashes within the first 30 seconds which is not visible for\n> the user. The browser works as expected, it just generates crash reports. It\n> doesn\u2019t happen on every browser start.\n\nThe GPU Process does not crash on my Debian Testing x64. It runs perfectly.\nThere, I have the best experience accross all systems with \"hardware accelleration (Radeon RX480) + gpu-process + webrender + webrendest\". macOS is fine without gpu-process. Windows 10 has some flickering/green elements problem with Webrender, but it is getting better.\n\nMaybe I should try Fedora (I don't want to xD) to test if it's Nightly, a bad driver or something else.\n\nbrowser.tabs.remote.force-enable;true\ndom.ipc.processCount;100\ngfx.webrender.enabled;true\ngfx.webrendest.enabled;true\nlayers.acceleration.force-enabled;true\nlayers.gpu-process.enabled;true\nlayers.gpu-process.force-enabled;true\nlayers.gpu-process.max_restarts;50\nmedia.hardware-video-decoding.force-enabled;true\nplugin.allowed_types;\nplugin.default.state;0\nplugin.disable;true\nplugin.state.flash;0\nplugin.state.java;0\nprivacy.popups.disable_from_plugins;3", "id": 12414944, "creation_time": "2017-06-20T16:35:32Z", "author": "jan@ikenmeyer.eu"}, {"count": 8, "text": "bp-27ebdab1-395f-4f88-8a7c-4343d0170621 [@ libX11.so.6.3.0@0x4259b ] a standalone crash from today. can't remember if I noticed a crash. but network.disable.ipc.security is default now and does not longer appear along to a [@ mozilla::net::NeckoParent::GetValidatedOriginAttributes ].\n\nOther crashs I had today and often:\nbp-a9a63a95-1c06-4004-b989-0a0b70170620 [@ mozalloc_abort | abort | webrender::texture_cache::TextureCache::insert ] \n= bug 1352092\n\nbp-d037725b-bb02-45be-a090-8061d0170621 [@ mozilla::gfx::DrawTarget::PushLayer ] \n= bug 1373304\n\nIn the last days I also had similar crashes which do not have a bug yet.\nbp-b677272d-61a9-46b3-a0ea-e797f0170614 [@ @0x405b17 ]\nbp-34fa4b5f-b52c-4e84-980f-27a040170614 [@ @0x405ab7 ]\nbp-36de30f3-93b8-4d90-998c-2fe990170610 [@ @0x405ab7 ]\nbp-dda82670-04c9-4d8a-9706-2887b0170610 [@ libX11.so.6.3.0@0x4259b ]\n\nbp-253ed072-8f9f-48c0-bfb6-54eee0170610 [@ libxul.so@0x10f0cf9 | gfxPlatform::GetPlatform ]\nbp-ef9b5b14-5010-460a-9699-0e68d0170610 [@ libxul.so@0x10fbe19 | gfxPlatform::GetPlatform ]\nthose two have: MOZ_RELEASE_ASSERT(!XRE_IsGPUProcess()) (GFX: Not allowed in GPU process.)", "id": 12418125, "creation_time": "2017-06-21T14:36:30Z", "author": "jan@ikenmeyer.eu"}, {"count": 9, "text": "Nightly 58 x64 20171104100412 de_DE @ Debian Testing (KDE, Radeon RX480)\ngpu process, layers force accel, no webrender (forgot it), blob-images (wihout effect), omtp, stylo-chrome\n\nMeldungs-ID \tSendedatum\nbp-8300d544-3031-417a-a01a-093090171104 04.11.17 23:32 [@ libX11.so.6.3.0@0x4259b ]\nbp-f5bc9099-2c37-420a-8535-5195a0171104 04.11.17 22:45 [@ libX11.so.6.3.0@0x4259b ]\n\nMy perception is that I can get this crash signature - with and without WebRender - when closing Nightly (and when WebRender crashs).\nThe crash stack has changed a bit over time. Especially this line is 'new':\n\n> 5 \tlibxul.so \tmozilla::layers::CompositorManagerParent::DeallocPCompositorBridgeParent \tgfx/layers/ipc/CompositorManagerParent.cpp:272", "id": 12817771, "creation_time": "2017-11-04T22:44:42Z", "author": "jan@ikenmeyer.eu"}, {"count": 10, "text": "Closing because no crash reported since 12 weeks.", "id": 13653256, "creation_time": "2018-10-01T12:23:37Z", "author": "sledru@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "marcus.husar@gmail.com", "real_name": "Marcus Husar", "name": "marcus.husar@gmail.com", "nick": "marcus.husar", "id": 303966}, "creator": "marcus.husar@gmail.com", "flags": [], "is_patch": 0, "creation_time": "2017-06-20T15:34:24Z", "id": 8879587, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [1257116], "is_cc_accessible": true, "keywords": ["regression"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-05-19T16:17:09Z", "cf_fx_points": "---", "cc_detail": [{"email": "andrei.vaida@softvision.ro", "real_name": "Andrei Vaida [:avaida]", "name": "andrei.vaida@softvision.ro", "nick": "avaida", "id": 488993}, {"email": "blakewu0205@gmail.com", "real_name": "Blake Wu [:bwu][:blakewu]", "name": "blakewu0205@gmail.com", "nick": "bwu", "id": 488943}, {"email": "brindusa.tot@softvision.ro", "real_name": "Brindusa Tot[:brindusat]", "name": "brindusa.tot@softvision.ro", "nick": "brindusat", "id": 553429}, {"email": "gchang@mozilla.com", "real_name": "Gerry Chang [:gchang]", "name": "gchang@mozilla.com", "nick": "gchang", "id": 506302}, {"email": "gsquelart@mozilla.com", "real_name": "Gerald Squelart [:gerald]", "name": "gsquelart@mozilla.com", "nick": "gerald", "id": 515575}, {"email": "jwilliams@softvision.com", "real_name": "Justin [:JW_SoftvisionQA]", "name": "jwilliams@softvision.com", "nick": "jwilliams", "id": 554370}, {"email": "kilik.kuo@gmail.com", "real_name": "Kilik Kuo [:kikuo] (inactive)", "name": "kilik.kuo@gmail.com", "nick": "kikuo", "id": 505627}, {"email": "nfroyd@mozilla.com", "real_name": "Nathan Froyd [:froydnj] [out until 17 June 2019]", "name": "nfroyd@mozilla.com", "nick": "froydnj", "id": 417288}, {"email": "petruta.rasa@softvision.ro", "real_name": "Petruta Rasa [Away. Please needinfo? bogdan.maris@softvision.ro]", "name": "petruta.rasa@softvision.ro", "nick": "petruta.rasa", "id": 475155}, {"email": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]", "name": "ryanvm@gmail.com", "nick": "RyanVM", "id": 75935}], "summary": "ffmpeg decoder returning errors if no frame decoded.", "cf_has_str": "---", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "cf_status_firefox55": "verified", "version": "52 Branch", "cf_status_firefox54": "verified", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P1", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "jyavenard@mozilla.com", "last_change_time": "2017-07-07T14:49:33Z", "cf_fission_milestone": "---", "comment_count": 21, "creator_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "cc": ["andrei.vaida@softvision.ro", "blakewu0205@gmail.com", "brindusa.tot@softvision.ro", "gchang@mozilla.com", "gsquelart@mozilla.com", "jwilliams@softvision.com", "kilik.kuo@gmail.com", "nfroyd@mozilla.com", "petruta.rasa@softvision.ro", "ryanvm@gmail.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "jyavenard@mozilla.com", "groups": [], "see_also": [], "id": 1364870, "whiteboard": "", "creation_time": "2017-05-15T12:06:56Z", "cf_status_firefox53": "wontfix", "depends_on": [], "cf_tracking_firefox69": "---", "cf_webcompat_priority": "---", "mentors": [], "dupe_of": null, "cf_tracking_firefox67_0_5": "---", "regressed_by": [], "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "VERIFIED", "cf_status_firefox67_0_5": "---", "cf_crash_signature": "", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "cf_status_firefox_esr52": "fixed", "flags": [], "cf_tracking_firefox68": "---", "component": "Audio/Video: Playback", "product": "Core", "target_milestone": "mozilla55", "history": [{"when": "2017-05-16T15:36:23Z", "changes": [{"removed": "", "added": "jwilliams@softvision.com", "field_name": "cc"}, {"removed": "unspecified", "added": "52 Branch", "field_name": "version"}, {"removed": "---", "added": "wontfix", "field_name": "cf_status_firefox53"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox54"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox55"}], "who": "jwilliams@softvision.com"}, {"when": "2017-05-17T01:34:44Z", "changes": [{"removed": "--", "added": "P3", "field_name": "priority"}, {"removed": "", "added": "bwu@mozilla.com", "field_name": "cc"}], "who": "blakewu0205@gmail.com"}, {"when": "2017-05-19T07:47:56Z", "changes": [{"removed": "mochitest short media files are invalid", "added": "ffmpeg decoder returning errors if no frame decoded.", "field_name": "summary"}], "who": "jyavenard@mozilla.com"}, {"when": "2017-05-19T07:49:47Z", "changes": [{"removed": "P3", "added": "P1", "field_name": "priority"}], "who": "jyavenard@mozilla.com"}, {"when": "2017-05-19T07:54:40Z", "changes": [{"attachment_id": 8869350, "removed": "", "added": "review?(gsquelart@mozilla.com)", "field_name": "flagtypes.name"}, {"removed": "", "added": "gsquelart@mozilla.com", "field_name": "cc"}], "who": "jyavenard@mozilla.com"}, {"when": "2017-05-19T08:40:23Z", "changes": [{"removed": "nobody@mozilla.org", "added": "jyavenard@mozilla.com", "field_name": "assigned_to"}], "who": "gsquelart@mozilla.com"}, {"when": "2017-05-19T08:42:23Z", "changes": [{"attachment_id": 8869350, "removed": "review?(gsquelart@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "gsquelart@mozilla.com"}, {"when": "2017-05-19T16:17:09Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla55", "field_name": "target_milestone"}, {"removed": "", "added": "2017-05-19T16:17:09Z", "field_name": "cf_last_resolved"}, {"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox55"}], "who": "ryanvm@gmail.com"}, {"when": "2017-05-19T20:15:18Z", "changes": [{"removed": "", "added": "ryanvm@gmail.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(jyavenard@mozilla.com)", "field_name": "flagtypes.name"}, {"removed": "---", "added": "affected", "field_name": "cf_status_firefox_esr52"}], "who": "ryanvm@gmail.com"}, {"when": "2017-05-20T05:40:16Z", "changes": [{"removed": "needinfo?(jyavenard@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "jyavenard@mozilla.com"}, {"when": "2017-05-23T19:39:08Z", "changes": [{"removed": "", "added": "nfroyd@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(jyavenard@mozilla.com)", "field_name": "flagtypes.name"}], "who": "nfroyd@mozilla.com"}, {"when": "2017-05-23T20:21:50Z", "changes": [{"removed": "needinfo?(jyavenard@mozilla.com)", "added": "", "field_name": "flagtypes.name"}, {"attachment_id": 8869350, "removed": "", "added": "approval-mozilla-beta?", "field_name": "flagtypes.name"}], "who": "jyavenard@mozilla.com"}, {"when": "2017-05-24T09:43:35Z", "changes": [{"removed": "", "added": "brindusa.tot@softvision.ro, gchang@mozilla.com", "field_name": "cc"}, {"removed": "", "added": "needinfo?(brindusa.tot@softvision.ro)", "field_name": "flagtypes.name"}], "who": "gchang@mozilla.com"}, {"when": "2017-05-25T15:34:32Z", "changes": [{"removed": "RESOLVED", "added": "VERIFIED", "field_name": "status"}, {"removed": "needinfo?(brindusa.tot@softvision.ro)", "added": "", "field_name": "flagtypes.name"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox55"}], "who": "brindusa.tot@softvision.ro"}, {"when": "2017-05-26T02:37:16Z", "changes": [{"attachment_id": 8869350, "removed": "approval-mozilla-beta?", "added": "approval-mozilla-beta+", "field_name": "flagtypes.name"}], "who": "gchang@mozilla.com"}, {"when": "2017-05-26T17:17:22Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox54"}], "who": "ryanvm@gmail.com"}, {"when": "2017-05-30T04:29:28Z", "changes": [{"removed": "", "added": "andrei.vaida@softvision.ro", "field_name": "cc"}, {"removed": "", "added": "qe-verify+", "field_name": "flagtypes.name"}], "who": "andrei.vaida@softvision.ro"}, {"when": "2017-05-31T12:39:17Z", "changes": [{"removed": "", "added": "petruta.rasa@softvision.ro", "field_name": "cc"}, {"removed": "qe-verify+", "added": "", "field_name": "flagtypes.name"}, {"removed": "fixed", "added": "verified", "field_name": "cf_status_firefox54"}], "who": "petruta.rasa@softvision.ro"}, {"when": "2017-06-20T22:51:48Z", "changes": [{"removed": "", "added": "needinfo?(jyavenard@mozilla.com)", "field_name": "flagtypes.name"}], "who": "ryanvm@gmail.com"}, {"when": "2017-06-21T06:27:54Z", "changes": [{"removed": "needinfo?(jyavenard@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "jyavenard@mozilla.com"}, {"when": "2017-06-21T06:28:06Z", "changes": [{"removed": "", "added": "needinfo?(jyavenard@mozilla.com)", "field_name": "flagtypes.name"}], "who": "jyavenard@mozilla.com"}, {"when": "2017-07-06T09:29:26Z", "changes": [{"removed": "needinfo?(jyavenard@mozilla.com)", "added": "", "field_name": "flagtypes.name"}, {"attachment_id": 8883881, "removed": "", "added": "approval-mozilla-esr52?", "field_name": "flagtypes.name"}], "who": "jyavenard@mozilla.com"}, {"when": "2017-07-07T07:35:17Z", "changes": [{"attachment_id": 8883881, "removed": "approval-mozilla-esr52?", "added": "approval-mozilla-esr52+", "field_name": "flagtypes.name"}], "who": "gchang@mozilla.com"}, {"when": "2017-07-07T14:49:33Z", "changes": [{"removed": "affected", "added": "fixed", "field_name": "cf_status_firefox_esr52"}], "who": "ryanvm@gmail.com"}], "comments": [{"count": 0, "text": "In bug 1257116, many media files use in mochitests were shortened.\n\nHowever, those files are invalid and start with data that can't be decoded.\n\nThey happen to work because we skip data with error.\n\nThose files should be remade so that they don't contain errors.", "id": 12318619, "creation_time": "2017-05-15T12:06:56Z", "author": "jyavenard@mozilla.com"}, {"count": 1, "text": "The problem is in FFmpeg MediaDataDecoder...", "id": 12332050, "creation_time": "2017-05-19T07:47:56Z", "author": "jyavenard@mozilla.com"}, {"count": 2, "text": "Created attachment 8869350\nBug 1364870: [ffmpeg] only check format if frame has been decoded.\n\nThe format member isn't set when an audio frame hasn't been decoded yet.\n\nReview commit: https://reviewboard.mozilla.org/r/140988/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/140988/", "id": 12332061, "creation_time": "2017-05-19T07:54:40Z", "author": "jyavenard@mozilla.com"}, {"count": 3, "text": "Comment on attachment 8869350\nBug 1364870: [ffmpeg] only check format if frame has been decoded.\n\nhttps://reviewboard.mozilla.org/r/140988/#review144514", "id": 12332172, "creation_time": "2017-05-19T08:42:23Z", "author": "gsquelart@mozilla.com"}, {"count": 4, "text": "Pushed by jyavenard@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0333314aa0e9\n[ffmpeg] only check format if frame has been decoded. r=gerald", "id": 12332398, "creation_time": "2017-05-19T10:24:49Z", "author": "pulsebot@bots.tld"}, {"count": 5, "text": "https://hg.mozilla.org/mozilla-central/rev/0333314aa0e9", "id": 12333233, "creation_time": "2017-05-19T16:17:09Z", "author": "ryanvm@gmail.com"}, {"count": 6, "text": "Can this ride the 55 train or should it be considered for backport?", "id": 12333997, "creation_time": "2017-05-19T20:15:18Z", "author": "ryanvm@gmail.com"}, {"count": 7, "text": "I'd like this backported. Yes.", "id": 12334837, "creation_time": "2017-05-20T05:40:16Z", "author": "jyavenard@mozilla.com"}, {"count": 8, "text": "(In reply to Jean-Yves Avenard [:jya] from comment #7)\n> I'd like this backported. Yes.\n\nCan you request uplift, then, please? :)", "id": 12342074, "creation_time": "2017-05-23T19:39:08Z", "author": "nfroyd@mozilla.com"}, {"count": 9, "text": "Comment on attachment 8869350\nBug 1364870: [ffmpeg] only check format if frame has been decoded.\n\nApproval Request Comment\n[Feature/Bug causing the regression]: 1270016\n[User impact if declined]: audio decoding error with some contents. \n[Is this code covered by automated tests?]: yes. Though as errors are ignored, the regression didn't get spotted. This is being worked out. \n[Has the fix been verified in Nightly?]: manually tested\n[Needs manual test from QE? If yes, steps to reproduce]: create/set the pref media.audio-max-decode-error and set it to 0. Attempt to play the gizmo.mp4 in dom/media/test on Linux. Without the fix, the file won't play\n[List of other uplifts needed for the feature/fix]: no\n[Is the change risky?]: no\n[Why is the change risky/not risky?]: we only check the file format once decoded. \n[String changes made/needed]: None", "id": 12342210, "creation_time": "2017-05-23T20:21:50Z", "author": "jyavenard@mozilla.com"}, {"count": 10, "text": "Hi Brindusa, could you help find someone to verify if this issue was fixed as expected on a latest Nightly build? Thanks!", "id": 12343855, "creation_time": "2017-05-24T09:43:35Z", "author": "gchang@mozilla.com"}, {"count": 11, "text": "Reproduced the issue on Nightly 55.0a1, on a build from 05/06/2017 on Ubuntu 16.04 x64.\n\nVerified as fixed on the latest Nightly, 55.0a1, build ID 20170525100253 on Ubuntu 16.04 x64.", "id": 12348356, "creation_time": "2017-05-25T15:34:32Z", "author": "brindusa.tot@softvision.ro"}, {"count": 12, "text": "Comment on attachment 8869350\nBug 1364870: [ffmpeg] only check format if frame has been decoded.\n\nFix a regression and was verified. Beta54+. Should be in 54 beta 12.", "id": 12350028, "creation_time": "2017-05-26T02:37:16Z", "author": "gchang@mozilla.com"}, {"count": 13, "text": "https://hg.mozilla.org/releases/mozilla-beta/rev/808da66ef9e2", "id": 12351869, "creation_time": "2017-05-26T17:17:22Z", "author": "ryanvm@gmail.com"}, {"count": 14, "text": "Reproduced on Firefox 54 beta 11 under Ubuntu 16.04 LTS 64-bit.\nVerified as fixed on Firefox 54 beta 12.", "id": 12360939, "creation_time": "2017-05-31T12:39:17Z", "author": "petruta.rasa@softvision.ro"}, {"count": 15, "text": "Is this something we should consider for ESR52 too? If so, it'll need a rebased patch.", "id": 12416160, "creation_time": "2017-06-20T22:51:48Z", "author": "ryanvm@gmail.com"}, {"count": 16, "text": "Yes, we should....\n\nI'll wrap a patch (though I'm surprised the current one wouldn't apply)", "id": 12416979, "creation_time": "2017-06-21T06:27:54Z", "author": "jyavenard@mozilla.com"}, {"count": 17, "text": "Created attachment 8883881\n[ffmpeg] only check format if frame has been decoded. r=gerald, a=gchang\n\nThe format member isn't set when an audio frame hasn't been decoded yet.\n\nMozReview-Commit-ID: IgUj6bjVzdF", "id": 12450829, "creation_time": "2017-07-06T09:28:04Z", "author": "jyavenard@mozilla.com"}, {"count": 18, "text": "Comment on attachment 8883881\n[ffmpeg] only check format if frame has been decoded. r=gerald, a=gchang\n\n[Approval Request Comment]\nIf this is not a sec:{high,crit} bug, please state case for ESR consideration:\nUser impact if declined: Decoding error with some audio files\nFix Landed on Version: 54\nRisk to taking this patch (and alternatives if risky): no risk\nString or UUID changes made by this patch:  none", "id": 12450832, "creation_time": "2017-07-06T09:29:26Z", "author": "jyavenard@mozilla.com"}, {"count": 19, "text": "Comment on attachment 8883881\n[ffmpeg] only check format if frame has been decoded. r=gerald, a=gchang\n\nFix an audio playback issue. Let's uplift this to ESR52.3.", "id": 12453779, "creation_time": "2017-07-07T07:35:17Z", "author": "gchang@mozilla.com"}, {"count": 20, "text": "https://hg.mozilla.org/releases/mozilla-esr52/rev/de8deecbcb02", "id": 12454550, "creation_time": "2017-07-07T14:49:33Z", "author": "ryanvm@gmail.com"}], "attachments": [{"content_type": "text/x-review-board-request", "creator_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "jyavenard@mozilla.com", "flags": [{"modification_date": "2017-05-19T08:42:23Z", "creation_date": "2017-05-19T07:54:40Z", "type_id": 937, "status": "+", "name": "review", "id": 1583923, "setter": "gsquelart@mozilla.com"}, {"modification_date": "2017-05-26T02:37:16Z", "creation_date": "2017-05-23T20:21:50Z", "type_id": 721, "status": "+", "name": "approval-mozilla-beta", "id": 1585959, "setter": "gchang@mozilla.com"}], "is_patch": 0, "creation_time": "2017-05-19T07:54:40Z", "id": 8869350, "is_obsolete": 0}, {"content_type": "text/plain", "creator_detail": {"email": "jyavenard@mozilla.com", "real_name": "Jean-Yves Avenard [:jya]", "name": "jyavenard@mozilla.com", "nick": "jya", "id": 512198}, "creator": "jyavenard@mozilla.com", "flags": [{"modification_date": "2017-07-07T07:35:17Z", "creation_date": "2017-07-06T09:29:26Z", "type_id": 914, "status": "+", "name": "approval-mozilla-esr52", "id": 1607324, "setter": "gchang@mozilla.com"}], "is_patch": 1, "creation_time": "2017-07-06T09:28:04Z", "id": 8883881, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [1358055, 1368234], "is_cc_accessible": true, "keywords": [], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-05-27T08:05:52Z", "cf_fx_points": "---", "cc_detail": [{"email": "bmo@upshifts.org", "real_name": "Astley Chen (inactive)", "name": "bmo@upshifts.org", "nick": "bmo", "id": 549002}, {"email": "dbaron@dbaron.org", "real_name": "David Baron :dbaron: \ud83c\udde8\ud83c\udde6 \u231aUTC-4 (busy June 4-7)", "name": "dbaron@dbaron.org", "nick": "dbaron", "id": 3881}, {"email": "gchang@mozilla.com", "real_name": "Gerry Chang [:gchang]", "name": "gchang@mozilla.com", "nick": "gchang", "id": 506302}, {"email": "mephisto41@gmail.com", "real_name": "Morris Tseng [:mtseng] [:Morris] (Inactive)", "name": "mephisto41@gmail.com", "nick": "mtseng", "id": 473875}, {"email": "mstange@themasta.com", "real_name": "Markus Stange [:mstange]", "name": "mstange@themasta.com", "nick": "mstange", "id": 293943}, {"email": "percyley@qq.com", "real_name": "yisibl", "name": "percyley@qq.com", "nick": "percyley", "id": 543470}, {"email": "u459114@disabled.tld", "real_name": "", "name": "u459114@disabled.tld", "nick": "u459114", "id": 459114}, {"email": "wisniewskit@gmail.com", "real_name": "Thomas Wisniewski", "name": "wisniewskit@gmail.com", "nick": "wisniewskit", "id": 471096}], "summary": "[css-mask] mask-image failure at position: fixed", "cf_has_str": "---", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "cf_status_firefox55": "fixed", "version": "55 Branch", "cf_status_firefox54": "wontfix", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "--", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "u459114@disabled.tld", "real_name": "", "name": "u459114@disabled.tld", "nick": "u459114", "id": 459114}, "creator": "percyley@qq.com", "last_change_time": "2017-06-08T13:30:55Z", "cf_fission_milestone": "---", "comment_count": 26, "creator_detail": {"email": "percyley@qq.com", "real_name": "yisibl", "name": "percyley@qq.com", "nick": "percyley", "id": 543470}, "cc": ["bmo@upshifts.org", "dbaron@dbaron.org", "gchang@mozilla.com", "mephisto41@gmail.com", "mstange@themasta.com", "percyley@qq.com", "u459114@disabled.tld", "wisniewskit@gmail.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "u459114@disabled.tld", "groups": [], "see_also": ["https://bugzilla.mozilla.org/show_bug.cgi?id=1363855", "https://bugzilla.mozilla.org/show_bug.cgi?id=1300864", "https://webcompat.com/issues/7009"], "id": 1350663, "whiteboard": "", "creation_time": "2017-03-26T05:49:36Z", "depends_on": [], "cf_webcompat_priority": "---", "cf_tracking_firefox69": "---", "mentors": [], "dupe_of": null, "cf_tracking_firefox67_0_5": "---", "regressed_by": [], "resolution": "FIXED", "type": "defect", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "RESOLVED", "cf_status_firefox67_0_5": "---", "cf_crash_signature": "", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "flags": [], "cf_tracking_firefox68": "---", "component": "Layout", "product": "Core", "target_milestone": "mozilla55", "history": [{"when": "2017-03-26T05:50:06Z", "changes": [{"removed": "", "added": "cku@mozilla.com", "field_name": "cc"}], "who": "percyley@qq.com"}, {"when": "2017-03-26T05:51:59Z", "changes": [{"removed": "", "added": "dbaron@dbaron.org", "field_name": "cc"}], "who": "percyley@qq.com"}, {"when": "2017-03-26T05:52:19Z", "changes": [{"removed": "", "added": "aschen@mozilla.com", "field_name": "cc"}], "who": "percyley@qq.com"}, {"when": "2017-03-27T09:03:57Z", "changes": [{"removed": "", "added": "percyley@qq.com", "field_name": "cc"}], "who": "percyley@qq.com"}, {"when": "2017-03-27T09:04:04Z", "changes": [{"removed": "percyley@qq.com", "added": "", "field_name": "cc"}], "who": "percyley@qq.com"}, {"when": "2017-03-27T09:09:57Z", "changes": [{"removed": "", "added": "percyley@qq.com", "field_name": "cc"}], "who": "percyley@qq.com"}, {"when": "2017-03-29T06:36:27Z", "changes": [{"removed": "nobody@mozilla.org", "added": "cku@mozilla.com", "field_name": "assigned_to"}], "who": "u459114@disabled.tld"}, {"when": "2017-03-30T06:16:59Z", "changes": [{"removed": "UNCONFIRMED", "added": "NEW", "field_name": "status"}, {"removed": "0", "added": "1", "field_name": "is_confirmed"}], "who": "u459114@disabled.tld"}, {"when": "2017-05-11T13:09:56Z", "changes": [{"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1363855", "field_name": "see_also"}], "who": "u459114@disabled.tld"}, {"when": "2017-05-14T18:13:29Z", "changes": [{"attachment_id": 8867523, "removed": "Bug 1350663 -WIP.", "added": "Bug 1350663 - Repaint mask layer when the offset fr0m mask region to  mask layer changed.", "field_name": "attachments.description"}], "who": "u459114@disabled.tld"}, {"when": "2017-05-14T18:30:46Z", "changes": [{"attachment_id": 8867523, "removed": "", "added": "review?(mstange@themasta.com)", "field_name": "flagtypes.name"}, {"removed": "", "added": "mstange@themasta.com", "field_name": "cc"}], "who": "u459114@disabled.tld"}, {"when": "2017-05-15T14:42:18Z", "changes": [{"attachment_id": 8867523, "removed": "review?(mstange@themasta.com)", "added": "", "field_name": "flagtypes.name"}], "who": "u459114@disabled.tld"}, {"when": "2017-05-15T15:19:49Z", "changes": [{"attachment_id": 8867523, "removed": "Bug 1350663 - Repaint mask layer when the offset fr0m mask region to  mask layer changed.", "added": "Bug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.", "field_name": "attachments.description"}], "who": "u459114@disabled.tld"}, {"when": "2017-05-15T15:24:23Z", "changes": [{"attachment_id": 8867523, "removed": "", "added": "review?(mstange@themasta.com)", "field_name": "flagtypes.name"}], "who": "u459114@disabled.tld"}, {"when": "2017-05-22T05:56:25Z", "changes": [{"removed": "", "added": "1358055", "field_name": "blocks"}], "who": "mephisto41@gmail.com"}, {"when": "2017-05-22T05:56:37Z", "changes": [{"removed": "", "added": "mtseng@mozilla.com", "field_name": "cc"}], "who": "mephisto41@gmail.com"}, {"when": "2017-05-26T17:16:38Z", "changes": [{"removed": "", "added": "https://bugzilla.mozilla.org/show_bug.cgi?id=1300864", "field_name": "see_also"}], "who": "u459114@disabled.tld"}, {"when": "2017-05-26T17:27:08Z", "changes": [{"attachment_id": 8867523, "removed": "review?(mstange@themasta.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "mstange@themasta.com"}, {"when": "2017-05-27T08:05:52Z", "changes": [{"removed": "NEW", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla55", "field_name": "target_milestone"}, {"removed": "", "added": "2017-05-27T08:05:52Z", "field_name": "cf_last_resolved"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox55"}], "who": "aryx.bugmail@gmx-topmail.de"}, {"when": "2017-05-27T09:12:35Z", "changes": [{"removed": "", "added": "1368234", "field_name": "blocks"}], "who": "u459114@disabled.tld"}, {"when": "2017-06-07T18:18:06Z", "changes": [{"removed": "", "added": "wisniewskit@gmail.com", "field_name": "cc"}, {"removed": "", "added": "https://webcompat.com/issues/7009", "field_name": "see_also"}, {"removed": "", "added": "needinfo?(cku@mozilla.com)", "field_name": "flagtypes.name"}], "who": "wisniewskit@gmail.com"}, {"when": "2017-06-08T12:45:12Z", "changes": [{"removed": "needinfo?(cku@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "u459114@disabled.tld"}, {"when": "2017-06-08T12:55:00Z", "changes": [{"attachment_id": 8867523, "removed": "", "added": "approval-mozilla-beta?", "field_name": "flagtypes.name"}], "who": "u459114@disabled.tld"}, {"when": "2017-06-08T13:30:42Z", "changes": [{"attachment_id": 8867523, "removed": "approval-mozilla-beta?", "added": "approval-mozilla-beta-", "field_name": "flagtypes.name"}], "who": "gchang@mozilla.com"}, {"when": "2017-06-08T13:30:55Z", "changes": [{"removed": "", "added": "gchang@mozilla.com", "field_name": "cc"}, {"removed": "---", "added": "wontfix", "field_name": "cf_status_firefox54"}], "who": "gchang@mozilla.com"}], "comments": [{"count": 0, "text": "User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.110 Safari/537.36\n\nSteps to reproduce:\n\nOpen http://razvancaliman.com/cssmasking/ and scroll down page\n\n\nActual results:\n\n \"Trekking\" text is not hidden.\n\n\nExpected results:\n\nChrome will hide text.", "id": 12178377, "creation_time": "2017-03-26T05:49:36Z", "author": "percyley@qq.com"}, {"count": 1, "text": "Created attachment 8851514\nfirefox.png", "id": 12179992, "creation_time": "2017-03-27T09:09:07Z", "author": "percyley@qq.com"}, {"count": 2, "text": "Created attachment 8851515\nchrome.png", "id": 12179993, "creation_time": "2017-03-27T09:09:26Z", "author": "percyley@qq.com"}, {"count": 3, "text": "Patch in bug 1362000 fix invalidation check for svg-mask.\nThis bug is another case - invalid test for image mask is not sufficien as well.\nBy removing the if statment at [1], we won't see this bug again.\n\nStill working on it.\n\n[1] https://hg.mozilla.org/mozilla-central/file/a2832968581c/layout/painting/FrameLayerBuilder.cpp#l3884", "id": 12316417, "creation_time": "2017-05-13T09:39:23Z", "author": "u459114@disabled.tld"}, {"count": 4, "text": "we probably should skip cache if there is any outflow element under the mask.", "id": 12316729, "creation_time": "2017-05-13T18:01:43Z", "author": "u459114@disabled.tld"}, {"count": 5, "text": "Created attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nReview commit: https://reviewboard.mozilla.org/r/139076/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/139076/", "id": 12317018, "creation_time": "2017-05-14T11:32:19Z", "author": "u459114@disabled.tld"}, {"count": 6, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/139076/diff/1-2/", "id": 12317236, "creation_time": "2017-05-14T18:13:29Z", "author": "u459114@disabled.tld"}, {"count": 7, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/139076/diff/2-3/", "id": 12317237, "creation_time": "2017-05-14T18:16:32Z", "author": "u459114@disabled.tld"}, {"count": 8, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/139076/diff/3-4/", "id": 12317243, "creation_time": "2017-05-14T18:28:07Z", "author": "u459114@disabled.tld"}, {"count": 9, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/139076/diff/4-5/", "id": 12319137, "creation_time": "2017-05-15T15:19:49Z", "author": "u459114@disabled.tld"}, {"count": 10, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/139076/diff/5-6/", "id": 12347772, "creation_time": "2017-05-25T12:18:56Z", "author": "u459114@disabled.tld"}, {"count": 11, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/139076/diff/6-7/", "id": 12347908, "creation_time": "2017-05-25T13:20:13Z", "author": "u459114@disabled.tld"}, {"count": 12, "text": "When e10 is turning off, this patch can fix this bug totally. Unforunately, when e10s is on, this patch fix only part of it.\nWhen e10s turns on, we do not have a change to repatin mask while scrolling, so the content of mask keep wrong until scroll finished.\n\nBut I still think we should land this patch first, since it can fix a reftest failure in bug 1358055.", "id": 12351052, "creation_time": "2017-05-26T12:56:03Z", "author": "u459114@disabled.tld"}, {"count": 13, "text": "Created attachment 8871705\nscroll-this-page.html\n\nA test page to verify the patch.", "id": 12351106, "creation_time": "2017-05-26T13:25:50Z", "author": "u459114@disabled.tld"}, {"count": 14, "text": "I need to figure out when we have a out-of-flow element inside mask, why mask layer does not scroll with scroll frame.", "id": 12351804, "creation_time": "2017-05-26T17:02:13Z", "author": "u459114@disabled.tld"}, {"count": 15, "text": "Hi CJ, sorry I'm taking so long to review this. I was aware of a problem with APZ and mask layers that wrap fixed position frames, and since this patch didn't seem to touch anything related to APZ, I wanted to test whether it actually helps when APZ is used. But I hadn't got around to doing that.\n\nSo now that we know that it's not going to fix the problem with APZ, I'm less confused about what the patch is doing.", "id": 12351838, "creation_time": "2017-05-26T17:10:03Z", "author": "mstange@themasta.com"}, {"count": 16, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nhttps://reviewboard.mozilla.org/r/139076/#review147046\n\n::: commit-message-68d7a:46\n(Diff revision 7)\n> +   rejected.\n> +\n> +It's difficult to create a reftest for this bug as well. With scrollTo, we may\n> +mimic an environment of this error, but since reftest harness will trigger\n> +whole viewport repaint while taking a snapshot, we actually can not repro this\n> +issue on it.\n\nI think it should be quite possible to write a test for this. See 1155828-1.html or 1025914-1.html for examples.", "id": 12351915, "creation_time": "2017-05-26T17:27:08Z", "author": "mstange@themasta.com"}, {"count": 17, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nhttps://reviewboard.mozilla.org/r/139076/#review147046\n\n> I think it should be quite possible to write a test for this. See 1155828-1.html or 1025914-1.html for examples.\n\nYou are right, write a reftest for this is possible, but make it failed is not easy.\nWhen we take a snapshot in reftest harness, we will \"repaint\". When we repaint, make layer repaint; if mask layer repaint, test case pass.", "id": 12352006, "creation_time": "2017-05-26T17:56:15Z", "author": "u459114@disabled.tld"}, {"count": 18, "text": "Keep chatting log on IRC:\nmstange> CJKu: the position:fixed inside mask layer with APZ problem is a bit tricky, I think\nCJKu: I think we should fix it in a different bug\nI was trying to fix it a few weeks ago but ran into some problems, and then I mostly forgot what I had done\nI will try to find my patch and explain the problems I ran into\n<CJKu> mstange: I notice, even I turn off mask layer, use indirect paint(nsDispalyMask::PaintAsLayer), the result is still wrong  \n<mstange> CJKu: oh, that's surprising\nor no, it's not actually that surprising\nCJKu: so with APZ we use \"paint skipping\" to avoid painting at all if all we did was scroll\nCJKu: http://searchfox.org/mozilla-central/source/layout/generic/nsGfxScrollFrame.cpp#2827\nCJKu: and position:fixed inside masks is something that APZ can't handle, so paint skipping is technically wrong for this case\nCJKu: we have a very similar problem with filters, let me find the bug about that\nmstange> CJKu: https://bugzilla.mozilla.org/show_bug.cgi?id=1300864", "id": 12352065, "creation_time": "2017-05-26T18:15:28Z", "author": "u459114@disabled.tld"}, {"count": 19, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/139076/diff/7-8/", "id": 12352105, "creation_time": "2017-05-26T18:26:44Z", "author": "u459114@disabled.tld"}, {"count": 20, "text": "Pushed by cku@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/b761b30ea910\nRepaint mask layer when the offset between mask region and mask layer changed. r=mstange", "id": 12352122, "creation_time": "2017-05-26T18:30:11Z", "author": "pulsebot@bots.tld"}, {"count": 21, "text": "https://hg.mozilla.org/mozilla-central/rev/b761b30ea910", "id": 12353110, "creation_time": "2017-05-27T08:05:52Z", "author": "aryx.bugmail@gmx-topmail.de"}, {"count": 22, "text": "Is there any chance of this fix being uplifted to 54? It seems to fix an issue on at least one site using CSS clip-paths to achieve a fancy scrolling effect, as can be seen in the webcompat issue: https://webcompat.com/issues/7009\n\nThat is, on my Macbook with Intel Iris Pro, there are black/invalidated regions while/after scrolling, in builds before the mozregression range including this bug: https://hg.mozilla.org/mozilla-central/pushloghtml?fromchange=bce03a8eac301bcd9408b22333b1a67c3eaed057&tochange=1c1bf54915bbf8cda82dbf7985e87b1c0ff30e4c\n\nMozregression also tells me that the issue started with the fix in bug 1325550.\n\nAlso note that this fix doesn't seem to help completely on the affected page. There are still black/invalid regions while the page is scrolling until it stops, at which point they finally vanish.", "id": 12380069, "creation_time": "2017-06-07T18:18:06Z", "author": "wisniewskit@gmail.com"}, {"count": 23, "text": "(In reply to Thomas Wisniewski from comment #22)\n> Is there any chance of this fix being uplifted to 54? It seems to fix an\n> issue on at least one site using CSS clip-paths to achieve a fancy scrolling\n> effect, as can be seen in the webcompat issue:\n> https://webcompat.com/issues/7009\n> \n> That is, on my Macbook with Intel Iris Pro, there are black/invalidated\n> regions while/after scrolling, in builds before the mozregression range\n> including this bug:\n> https://hg.mozilla.org/mozilla-central/\n> pushloghtml?fromchange=bce03a8eac301bcd9408b22333b1a67c3eaed057&tochange=1c1b\n> f54915bbf8cda82dbf7985e87b1c0ff30e4c\n> \n> Mozregression also tells me that the issue started with the fix in bug\n> 1325550.\n> \n> Also note that this fix doesn't seem to help completely on the affected\n> page. There are still black/invalid regions while the page is scrolling\n> until it stops, at which point they finally vanish.\n\nIt's a little bit late for ride it on 54... but since this fix is simple. Let's ask for uplift and see what Sheriff think", "id": 12382429, "creation_time": "2017-06-08T12:45:12Z", "author": "u459114@disabled.tld"}, {"count": 24, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nApproval Request Comment\n[Feature/Bug causing the regression]: bug 1325550\n[User impact if declined]: mask content can be wrong with out-of-flow masked content.\n[Is this code covered by automated tests?]: no\n[Has the fix been verified in Nightly?]: yes\n[Needs manual test from QE? If yes, steps to reproduce]: no\n[List of other uplifts needed for the feature/fix]: NA\n[Is the change risky?]: no\n[Why is the change risky/not risky?]: very simple change and landed on central for two weeks.\n[String changes made/needed]: N/A\n\nI know this is a little bit late for uplift it to 54, but since this patch is simple and can fix a webcompact issue, I do suggest we should do it.", "id": 12382456, "creation_time": "2017-06-08T12:55:00Z", "author": "u459114@disabled.tld"}, {"count": 25, "text": "Comment on attachment 8867523\nBug 1350663 - Repaint mask layer when the offset between mask region and mask layer changed.\n\nIt's too late for 54. Beta54-.", "id": 12382554, "creation_time": "2017-06-08T13:30:42Z", "author": "gchang@mozilla.com"}], "attachments": [{"content_type": "image/png", "creator_detail": {"email": "percyley@qq.com", "real_name": "yisibl", "name": "percyley@qq.com", "nick": "percyley", "id": 543470}, "creator": "percyley@qq.com", "flags": [], "is_patch": 0, "creation_time": "2017-03-27T09:09:07Z", "id": 8851514, "is_obsolete": 0}, {"content_type": "image/png", "creator_detail": {"email": "percyley@qq.com", "real_name": "yisibl", "name": "percyley@qq.com", "nick": "percyley", "id": 543470}, "creator": "percyley@qq.com", "flags": [], "is_patch": 0, "creation_time": "2017-03-27T09:09:26Z", "id": 8851515, "is_obsolete": 0}, {"content_type": "text/x-review-board-request", "creator_detail": {"email": "u459114@disabled.tld", "real_name": "", "name": "u459114@disabled.tld", "nick": "u459114", "id": 459114}, "creator": "u459114@disabled.tld", "flags": [{"modification_date": "2017-05-26T17:27:08Z", "creation_date": "2017-05-15T15:24:23Z", "type_id": 937, "status": "+", "name": "review", "id": 1581178, "setter": "mstange@themasta.com"}, {"modification_date": "2017-06-08T13:30:42Z", "creation_date": "2017-06-08T12:55:00Z", "type_id": 721, "status": "-", "name": "approval-mozilla-beta", "id": 1594389, "setter": "gchang@mozilla.com"}], "is_patch": 0, "creation_time": "2017-05-14T11:32:19Z", "id": 8867523, "is_obsolete": 0}, {"content_type": "text/html", "creator_detail": {"email": "u459114@disabled.tld", "real_name": "", "name": "u459114@disabled.tld", "nick": "u459114", "id": 459114}, "creator": "u459114@disabled.tld", "flags": [], "is_patch": 0, "creation_time": "2017-05-26T13:25:50Z", "id": 8871705, "is_obsolete": 0}]}
{"cf_status_firefox68": "---", "blocks": [1369672], "is_cc_accessible": true, "keywords": ["feature"], "cf_qa_whiteboard": "", "url": "", "qa_contact": "", "cf_rank": null, "regressions": [], "cf_tracking_firefox67": "---", "cf_fx_iteration": "---", "cf_tracking_firefox_relnote": "---", "cf_last_resolved": "2017-07-27T22:47:04Z", "cf_fx_points": "---", "cc_detail": [{"email": "bas@basschouten.com", "real_name": "Bas Schouten (:bas.schouten)", "name": "bas@basschouten.com", "nick": "bas.schouten", "id": 272464}, {"email": "fred.wang@free.fr", "real_name": "Fr\u00e9d\u00e9ric Wang (:fredw)", "name": "fred.wang@free.fr", "nick": "fredw", "id": 292681}, {"email": "hwine@mozilla.com", "real_name": "Hal Wine [:hwine] (use NI, please)", "name": "hwine@mozilla.com", "nick": "hwine", "id": 429623}, {"email": "jcristau@mozilla.com", "real_name": "Julien Cristau [:jcristau]", "name": "jcristau@mozilla.com", "nick": "jcristau", "id": 580382}, {"email": "jfkthame@gmail.com", "real_name": "Jonathan Kew (:jfkthame)", "name": "jfkthame@gmail.com", "nick": "jfkthame", "id": 329583}, {"email": "kevin.hsieh@ucla.edu", "real_name": "Kevin Hsieh", "name": "kevin.hsieh@ucla.edu", "nick": "kevin.hsieh", "id": 597269}, {"email": "milaninbugzilla@gmail.com", "real_name": "Milan Sreckovic [:milan] (needinfo for best results)", "name": "milaninbugzilla@gmail.com", "nick": "milan", "id": 456486}, {"email": "ryanvm@gmail.com", "real_name": "Ryan VanderMeulen [:RyanVM]", "name": "ryanvm@gmail.com", "nick": "RyanVM", "id": 75935}], "summary": "Update OTS to 5.2.0", "cf_has_str": "---", "cf_user_story": "", "cf_status_firefox69": "---", "platform": "Unspecified", "cf_status_firefox_esr60": "---", "votes": 0, "cf_status_firefox55": "wontfix", "version": "Trunk", "mentors_detail": [], "cf_status_firefox67": "---", "is_creator_accessible": true, "is_confirmed": true, "priority": "P3", "cf_status_thunderbird_esr60": "---", "assigned_to_detail": {"email": "jfkthame@gmail.com", "real_name": "Jonathan Kew (:jfkthame)", "name": "jfkthame@gmail.com", "nick": "jfkthame", "id": 329583}, "creator": "tom@mozilla.com", "last_change_time": "2017-08-30T11:31:14Z", "cf_fission_milestone": "---", "comment_count": 7, "creator_detail": {"email": "tom@mozilla.com", "real_name": "Tom Ritter [:tjr]", "name": "tom@mozilla.com", "nick": "tjr", "id": 578488}, "cc": ["bas@basschouten.com", "fred.wang@free.fr", "hwine@mozilla.com", "jcristau@mozilla.com", "jfkthame@gmail.com", "kevin.hsieh@ucla.edu", "milaninbugzilla@gmail.com", "ryanvm@gmail.com"], "duplicates": [], "cf_tracking_thunderbird_esr60": "---", "assigned_to": "jfkthame@gmail.com", "groups": [], "see_also": [], "id": 1348788, "whiteboard": " [third-party-lib-audit] [gfx-noted]", "creation_time": "2017-03-20T11:56:52Z", "depends_on": [1305944], "cf_status_firefox56": "fixed", "cf_webcompat_priority": "---", "cf_tracking_firefox69": "---", "mentors": [], "dupe_of": null, "cf_tracking_firefox67_0_5": "---", "regressed_by": [], "resolution": "FIXED", "type": "enhancement", "classification": "Components", "alias": null, "cf_has_regression_range": "---", "op_sys": "Unspecified", "status": "RESOLVED", "cf_status_firefox67_0_5": "---", "cf_crash_signature": "", "is_open": false, "cf_tracking_firefox_esr60": "---", "severity": "normal", "flags": [], "cf_tracking_firefox68": "---", "component": "Graphics: Text", "product": "Core", "target_milestone": "mozilla56", "history": [{"when": "2017-03-20T14:01:43Z", "changes": [{"removed": "", "added": "fred.wang@free.fr, ryanvm@gmail.com", "field_name": "cc"}, {"removed": "", "added": "1305944", "field_name": "depends_on"}], "who": "ryanvm@gmail.com"}, {"when": "2017-03-24T20:54:06Z", "changes": [{"removed": "", "added": "hwine@mozilla.com", "field_name": "cc"}], "who": "jvehent@mozilla.com"}, {"when": "2017-04-04T05:27:21Z", "changes": [{"removed": "", "added": "feature", "field_name": "keywords"}, {"removed": "--", "added": "P3", "field_name": "priority"}, {"removed": "", "added": "bas@basschouten.com, jfkthame@gmail.com", "field_name": "cc"}, {"removed": "", "added": "[gfx-noted]", "field_name": "whiteboard"}, {"removed": "", "added": "needinfo?(jfkthame@gmail.com)", "field_name": "flagtypes.name"}], "who": "bas@basschouten.com"}, {"when": "2017-05-03T15:02:36Z", "changes": [{"removed": "1325608", "added": "", "field_name": "blocks"}], "who": "tom@mozilla.com"}, {"when": "2017-06-16T15:27:52Z", "changes": [{"removed": "[gfx-noted]", "added": " [third-party-lib-audit] [gfx-noted]", "field_name": "whiteboard"}], "who": "tom@mozilla.com"}, {"when": "2017-07-26T20:28:32Z", "changes": [{"attachment_id": 8890532, "removed": "", "added": "review?(milan@mozilla.com)", "field_name": "flagtypes.name"}, {"removed": "", "added": "milan@mozilla.com", "field_name": "cc"}], "who": "jfkthame@gmail.com"}, {"when": "2017-07-26T20:28:39Z", "changes": [{"removed": "NEW", "added": "ASSIGNED", "field_name": "status"}, {"removed": "nobody@mozilla.org", "added": "jfkthame@gmail.com", "field_name": "assigned_to"}], "who": "jfkthame@gmail.com"}, {"when": "2017-07-26T20:32:05Z", "changes": [{"attachment_id": 8890536, "removed": "", "added": "review?(milan@mozilla.com)", "field_name": "flagtypes.name"}], "who": "jfkthame@gmail.com"}, {"when": "2017-07-26T20:32:11Z", "changes": [{"attachment_id": 8890532, "removed": "0", "added": "1", "field_name": "attachments.isobsolete"}, {"attachment_id": 8890532, "removed": "review?(milan@mozilla.com)", "added": "", "field_name": "flagtypes.name"}], "who": "jfkthame@gmail.com"}, {"when": "2017-07-26T20:34:06Z", "changes": [{"removed": "needinfo?(jfkthame@gmail.com)", "added": "", "field_name": "flagtypes.name"}], "who": "jfkthame@gmail.com"}, {"when": "2017-07-26T20:58:02Z", "changes": [{"attachment_id": 8890536, "removed": "review?(milan@mozilla.com)", "added": "review+", "field_name": "flagtypes.name"}], "who": "milaninbugzilla@gmail.com"}, {"when": "2017-07-26T21:24:22Z", "changes": [{"removed": "", "added": "kevin.hsieh@ucla.edu", "field_name": "cc"}, {"removed": "", "added": "1369672", "field_name": "blocks"}], "who": "kevin.hsieh@ucla.edu"}, {"when": "2017-07-27T22:47:04Z", "changes": [{"removed": "ASSIGNED", "added": "RESOLVED", "field_name": "status"}, {"removed": "", "added": "FIXED", "field_name": "resolution"}, {"removed": "---", "added": "mozilla56", "field_name": "target_milestone"}, {"removed": "", "added": "2017-07-27T22:47:04Z", "field_name": "cf_last_resolved"}, {"removed": "---", "added": "fixed", "field_name": "cf_status_firefox56"}], "who": "wkocher@mozilla.com"}, {"when": "2017-07-28T10:08:38Z", "changes": [{"removed": "", "added": "jcristau@mozilla.com", "field_name": "cc"}, {"removed": "affected", "added": "wontfix", "field_name": "cf_status_firefox55"}], "who": "jcristau@mozilla.com"}, {"when": "2017-08-30T05:24:16Z", "changes": [{"removed": "", "added": "1395053", "field_name": "depends_on"}], "who": "tom@mozilla.com"}, {"when": "2017-08-30T11:31:14Z", "changes": [{"removed": "1395053", "added": "", "field_name": "depends_on"}], "who": "ryanvm@gmail.com"}], "comments": [{"count": 0, "text": "This is a (semi-)automated bug making you aware that there is an available upgrade for an embedded third-party library. You can leave this bug open, and it will be updated if a newer version of the library becomes available. If you close it as WONTFIX, please indicate if you do not wish to receive any future bugs upon new releases of the library.\n\nOTS is currently at version 5.1.0 in mozilla-central, and the latest version of the library released is 5.2.0. \n\nI fetched the latest version of the library from https://github.com/khaledhosny/ots/.", "id": 12158887, "creation_time": "2017-03-20T11:56:52Z", "author": "tom@mozilla.com"}, {"count": 1, "text": "No changelog for this release yet AFAICT.", "id": 12159255, "creation_time": "2017-03-20T14:01:43Z", "author": "ryanvm@gmail.com"}, {"count": 2, "text": "Created attachment 8890532\nUpdate OTS to release 5.2.0 + latest upstream fixes, prior to addition of Graphite support\n\nIn bug 1369672, we'll update to a version of OTS that adds support for the Graphite tables, which has just merged from Kevin's fork to the mainline OTS repository. However, I think we should first take an update to the latest OTS *prior* to that merge, for easier tracking in case of any regressions, etc.; so this patch pulls the code from master immediately prior to merging the Graphite-tables PR from Kevin.", "id": 12509546, "creation_time": "2017-07-26T20:28:32Z", "author": "jfkthame@gmail.com"}, {"count": 3, "text": "Created attachment 8890536\nUpdate OTS to release 5.2.0 + latest upstream fixes, prior to addition of Graphite support\n\nOops, forgot to 'hg add' a file; now fixed.", "id": 12509555, "creation_time": "2017-07-26T20:32:05Z", "author": "jfkthame@gmail.com"}, {"count": 4, "text": "Comment on attachment 8890536\nUpdate OTS to release 5.2.0 + latest upstream fixes, prior to addition of Graphite support\n\nReview of attachment 8890536:\n-----------------------------------------------------------------\n\nI read every single file.", "id": 12509638, "creation_time": "2017-07-26T20:58:02Z", "author": "milaninbugzilla@gmail.com"}, {"count": 5, "text": "https://hg.mozilla.org/integration/mozilla-inbound/rev/de7d3afbe971ea3e26d019d855d6d74d38f5d9ca\nBug 1348788 - Update OTS to release 5.2.0 + latest upstream fixes, prior to addition of Graphite support. r=milan", "id": 12511055, "creation_time": "2017-07-27T08:03:38Z", "author": "jfkthame@gmail.com"}, {"count": 6, "text": "https://hg.mozilla.org/mozilla-central/rev/de7d3afbe971", "id": 12513809, "creation_time": "2017-07-27T22:47:04Z", "author": "wkocher@mozilla.com"}], "attachments": [{"content_type": "text/plain", "creator_detail": {"email": "jfkthame@gmail.com", "real_name": "Jonathan Kew (:jfkthame)", "name": "jfkthame@gmail.com", "nick": "jfkthame", "id": 329583}, "creator": "jfkthame@gmail.com", "flags": [], "is_patch": 1, "creation_time": "2017-07-26T20:28:32Z", "id": 8890532, "is_obsolete": 1}, {"content_type": "text/plain", "creator_detail": {"email": "jfkthame@gmail.com", "real_name": "Jonathan Kew (:jfkthame)", "name": "jfkthame@gmail.com", "nick": "jfkthame", "id": 329583}, "creator": "jfkthame@gmail.com", "flags": [{"modification_date": "2017-07-26T20:58:02Z", "creation_date": "2017-07-26T20:32:05Z", "type_id": 937, "status": "+", "name": "review", "id": 1618620, "setter": "milaninbugzilla@gmail.com"}], "is_patch": 1, "creation_time": "2017-07-26T20:32:05Z", "id": 8890536, "is_obsolete": 0}]}
{"priority":"--","assigned_to_detail":{"email":"nobody@mozilla.org","real_name":"Nobody; OK to take it and work on it","name":"nobody@mozilla.org","nick":"nobody","id":1},"blocks":[],"creator":"ehumphries@mozilla.com","last_change_time":"2019-04-03T16:55:16Z","is_cc_accessible":true,"keywords":[],"creator_detail":{"email":"ehumphries@mozilla.com","real_name":"Emma Humphries, Bugmaster  (she/her) [:emceeaich] (UTC-8) needinfo? me","name":"ehumphries@mozilla.com","nick":"emceeaich","id":554394},"comment_count":2,"cf_qa_whiteboard":"","cc":[],"duplicates":[],"url":"","assigned_to":"nobody@mozilla.org","groups":[],"see_also":[],"id":1541482,"whiteboard":"","creation_time":"2019-04-03T16:52:55Z","qa_contact":"","depends_on":[],"regressions":[],"mentors":[],"dupe_of":null,"regressed_by":[],"cf_fx_iteration":"---","resolution":"INVALID","type":"task","classification":"Graveyard","alias":null,"op_sys":"Unspecified","cf_last_resolved":"2019-04-03T16:55:16Z","cf_fx_points":"---","status":"RESOLVED","cc_detail":[],"summary":"Test Bug Ignore Will Close","cf_user_story":"","is_open":false,"platform":"Unspecified","severity":"normal","votes":0,"flags":[],"version":"unspecified","mentors_detail":[],"component":"General","is_creator_accessible":true,"is_confirmed":true,"target_milestone":"---","product":"Invalid Bugs","history":[{"when":"2019-04-03T16:55:16Z","changes":[{"removed":"NEW","added":"RESOLVED","field_name":"status"},{"removed":"Consultation","added":"General","field_name":"component"},{"removed":"","added":"INVALID","field_name":"resolution"},{"removed":"User Research","added":"Invalid Bugs","field_name":"product"},{"removed":"","added":"2019-04-03T16:55:16Z","field_name":"cf_last_resolved"}],"who":"ehumphries@mozilla.com"}],"comments":[{"count":0,"text":"**Request Description** \n(What question are you trying to answer?)\n\n**Deadline** \n(Is there a specific date you need the results by? FYI - We may not be able to meet this deadline.) \n\n**Priority Level** \n(1 = High 2 = Medium, 3 = Low):\n\n**Priority Level Description** \n(Please provide information on how you chose the priority level above, which product management OKR(s) this work supports, or any other details that will help us triage and prioritize this request.) \n\n**Supporting Information**\n(Links to any assets or previous research relevant to this project.)","id":14030899,"creation_time":"2019-04-03T16:52:55Z","author":"ehumphries@mozilla.com"},{"count":1,"text":"Closing.","id":14030911,"creation_time":"2019-04-03T16:55:16Z","author":"ehumphries@mozilla.com"}],"attachments":[]}
{"priority":"--","assigned_to_detail":{"email":"nobody@mozilla.org","real_name":"Nobody; OK to take it and work on it","name":"nobody@mozilla.org","nick":"nobody","id":1},"blocks":[],"creator":"arturb1981@gmail.com","last_change_time":"2019-06-16T10:15:10Z","is_cc_accessible":true,"keywords":[],"creator_detail":{"email":"arturb1981@gmail.com","real_name":"artur","name":"arturb1981@gmail.com","nick":"arturb1981","id":641052},"comment_count":1,"cf_qa_whiteboard":"","cc":[],"duplicates":[],"url":"","assigned_to":"nobody@mozilla.org","groups":[],"see_also":[],"id":1559674,"whiteboard":"","creation_time":"2019-06-16T08:35:47Z","qa_contact":"","depends_on":[],"regressions":[],"mentors":[],"dupe_of":null,"regressed_by":[],"cf_fx_iteration":"---","resolution":"INVALID","type":"enhancement","classification":"Graveyard","alias":null,"op_sys":"Unspecified","cf_last_resolved":"2019-06-16T09:49:19Z","cf_fx_points":"---","status":"VERIFIED","cc_detail":[],"summary":"komputery","cf_user_story":"","is_open":false,"platform":"Unspecified","severity":"normal","votes":0,"flags":[],"version":"unspecified","mentors_detail":[],"component":"General","is_creator_accessible":true,"is_confirmed":false,"target_milestone":"---","product":"Invalid Bugs","history":[{"when":"2019-06-16T09:49:19Z","changes":[{"removed":"UNCONFIRMED","added":"RESOLVED","field_name":"status"},{"removed":"","added":"INVALID","field_name":"resolution"},{"removed":"","added":"2019-06-16T09:49:19Z","field_name":"cf_last_resolved"}],"who":"madperson@gmx.at"},{"when":"2019-06-16T10:15:06Z","changes":[{"comment_id":14183042,"comment_count":0,"removed":"","added":"spam","field_name":"comment_tag"}],"who":"gingerbread_man@live.com"},{"when":"2019-06-16T10:15:10Z","changes":[{"removed":"RESOLVED","added":"VERIFIED","field_name":"status"},{"removed":"Untriaged","added":"General","field_name":"component"},{"removed":"8 Branch","added":"unspecified","field_name":"version"},{"removed":"defect","added":"enhancement","field_name":"type"},{"removed":"Firefox","added":"Invalid Bugs","field_name":"product"}],"who":"gingerbread_man@live.com"}],"comments":[{"count":0,"text":"User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.1 Safari/605.1.15","id":14183042,"creation_time":"2019-06-16T08:35:47Z","author":"arturb1981@gmail.com"}],"attachments":[]}
{"priority":"--","assigned_to_detail":{"email":"nobody@mozilla.org","real_name":"Nobody; OK to take it and work on it","name":"nobody@mozilla.org","nick":"nobody","id":1},"blocks":[],"creator":"ssainath2172@gmail.com","last_change_time":"2019-05-06T07:17:28Z","is_cc_accessible":true,"keywords":[],"creator_detail":{"email":"ssainath2172@gmail.com","real_name":"sainath","name":"ssainath2172@gmail.com","nick":"ssainath2172","id":638387},"comment_count":2,"cf_qa_whiteboard":"","cc":["francesco.lodolo@gmail.com"],"duplicates":[],"url":"","assigned_to":"nobody@mozilla.org","groups":[],"see_also":[],"id":1549207,"whiteboard":"","creation_time":"2019-05-05T18:44:19Z","qa_contact":"rtucker@mozilla.com","depends_on":[],"regressions":[],"mentors":["a@uva.nl"],"dupe_of":null,"regressed_by":[],"cf_fx_iteration":"---","qa_contact_detail":{"email":"rtucker@mozilla.com","real_name":"Rob Tucker [:rtucker]","name":"rtucker@mozilla.com","nick":"rtucker","id":402826},"resolution":"INVALID","type":"task","classification":"Graveyard","alias":null,"op_sys":"Unspecified","cf_last_resolved":"2019-05-05T18:51:42Z","cf_fx_points":"---","status":"RESOLVED","cc_detail":[{"email":"francesco.lodolo@gmail.com","real_name":"Francesco Lodolo [:flod]","name":"francesco.lodolo@gmail.com","nick":"flod","id":130462}],"summary":"test","cf_user_story":"","is_open":false,"platform":"Unspecified","severity":"normal","votes":0,"flags":[],"version":"unspecified","mentors_detail":[{"email":"a@uva.nl","real_name":"Test Test","name":"a@uva.nl","nick":"a","id":19222}],"component":"General","is_creator_accessible":true,"is_confirmed":false,"target_milestone":"---","product":"Invalid Bugs","history":[{"when":"2019-05-05T18:51:40Z","changes":[{"comment_id":14097773,"comment_count":0,"removed":"","added":"spam","field_name":"comment_tag"}],"who":"francesco.lodolo@gmail.com"},{"when":"2019-05-05T18:51:42Z","changes":[{"removed":"UNCONFIRMED","added":"RESOLVED","field_name":"status"},{"removed":"mozilla-employee-confidential","added":"","field_name":"groups"},{"removed":"","added":"francesco.lodolo@gmail.com","field_name":"cc"},{"removed":"Consultation","added":"General","field_name":"component"},{"removed":"","added":"INVALID","field_name":"resolution"},{"removed":"User Research","added":"Invalid Bugs","field_name":"product"},{"removed":"","added":"2019-05-05T18:51:42Z","field_name":"cf_last_resolved"}],"who":"francesco.lodolo@gmail.com"},{"when":"2019-05-06T07:14:06Z","changes":[{"removed":"General","added":"Infrastructure: Backups","field_name":"component"},{"removed":"unspecified","added":"Production","field_name":"version"},{"removed":"Invalid Bugs","added":"Infrastructure & Operations","field_name":"product"}],"who":"ssainath2172@gmail.com"},{"when":"2019-05-06T07:17:28Z","changes":[{"removed":"Infrastructure: Backups","added":"General","field_name":"component"},{"removed":"Production","added":"unspecified","field_name":"version"},{"removed":"Infrastructure & Operations","added":"Invalid Bugs","field_name":"product"},{"removed":"","added":"rtucker@mozilla.com","field_name":"qa_contact"}],"who":"francesco.lodolo@gmail.com"}],"comments":[{"count":0,"text":"**Request Description** \n(What question are you trying to answer?)\n\n**Deadline** \n(Is there a specific date you need the results by? FYI - We may not be able to meet this deadline.) \n\n**Priority Level** \n(1 = High 2 = Medium, 3 = Low):\n\n**Priority Level Description** \n(Please provide information on how you chose the priority level above, which product management OKR(s) this work supports, or any other details that will help us triage and prioritize this request.) \n\n**Supporting Information**\n(Links to any assets or previous research relevant to this project.)","id":14097773,"creation_time":"2019-05-05T18:44:19Z","author":"ssainath2172@gmail.com"},{"count":1,"text":"Stop this, unless you want your account disabled. This is a production instance, not a playground. P","id":14099817,"creation_time":"2019-05-06T07:17:28Z","author":"francesco.lodolo@gmail.com"}],"attachments":[]}
{"cf_status_firefox68":"---","blocks":[],"cf_status_firefox71":"---","is_cc_accessible":true,"keywords":[],"cf_qa_whiteboard":"","url":"https://github.com/web-platform-tests/wpt/pull/18342","qa_contact":"","cf_rank":null,"regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-08-15T09:50:04Z","cf_tracking_firefox70":"---","cf_fx_points":"---","cc_detail":[],"summary":"[wpt-sync] Sync PR 18342 - Make backdrop-filter a containing block for fixed/absolute","cf_has_str":"---","cf_user_story":"","cf_status_firefox69":"---","platform":"All","cf_status_firefox_esr60":"---","votes":0,"version":"unspecified","mentors_detail":[],"cf_status_firefox67":"---","is_creator_accessible":true,"cf_tracking_firefox71":"---","is_confirmed":true,"priority":"P4","cf_status_thunderbird_esr60":"---","assigned_to_detail":{"email":"wptsync@mozilla.bugs","real_name":"Web Platform Test Sync Bot (IRC #interop)","name":"wptsync@mozilla.bugs","nick":"wptsync","id":611017},"creator":"wptsync@mozilla.bugs","cf_status_firefox70":"fixed","last_change_time":"2019-08-15T09:50:04Z","cf_fission_milestone":"---","comment_count":6,"creator_detail":{"email":"wptsync@mozilla.bugs","real_name":"Web Platform Test Sync Bot (IRC #interop)","name":"wptsync@mozilla.bugs","nick":"wptsync","id":611017},"cc":[],"duplicates":[],"cf_tracking_thunderbird_esr60":"---","cf_tracking_firefox_esr68":"---","assigned_to":"wptsync@mozilla.bugs","groups":[],"see_also":[],"id":1572747,"whiteboard":"[wptsync downstream]","creation_time":"2019-08-09T14:32:59Z","cf_status_firefox_esr68":"---","depends_on":[],"cf_webcompat_priority":"---","cf_tracking_firefox69":"---","mentors":[],"dupe_of":null,"regressed_by":[],"resolution":"FIXED","type":"task","classification":"Components","alias":null,"cf_has_regression_range":"---","op_sys":"All","status":"RESOLVED","cf_tracking_thunderbird_esr68":"---","cf_crash_signature":"","is_open":false,"cf_tracking_firefox_esr60":"---","severity":"normal","flags":[],"component":"CSS Parsing and Computation","product":"Core","target_milestone":"mozilla70","cf_status_thunderbird_esr68":"---","history":[{"when":"2019-08-09T14:34:02Z","changes":[{"removed":"web-platform-tests","added":"CSS Parsing and Computation","field_name":"component"},{"removed":"Testing","added":"Core","field_name":"product"}],"who":"wptsync@mozilla.bugs"},{"when":"2019-08-15T09:50:04Z","changes":[{"removed":"NEW","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"mozilla70","field_name":"target_milestone"},{"removed":"","added":"2019-08-15T09:50:04Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox70"},{"comment_id":14301715,"comment_count":5,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"cbrindusan@mozilla.com"}],"comments":[{"count":0,"text":"Sync web-platform-tests PR 18342 into mozilla-central (this bug is closed when the sync is complete).\n\nPR: https://github.com/web-platform-tests/wpt/pull/18342\nDetails from upstream follow.\n\nMason Freed <masonfreed@chromium.org> wrote:\n>  Make backdrop-filter a containing block for fixed/absolute\n>  \n>  Prior to this CL, the behavior of backdrop-filter did not match\n>  the spec. According to [1], backdrop-filter creates a containing\n>  block for fixed and absolute positioned elements. Now, it does.\n>  \n>  [1] https://drafts.fxtf.org/filter-effects-2/#backdrop-filter-operation\n>  \n>  Bug: 991678\n>  Change-Id: I7a1140929e12e55097a3d2bcad2dbd63ea61a0b5\n>  Reviewed-on: https://chromium-review.googlesource.com/1745587\n>  WPT-Export-Revision: e5be3cd6a7a4cc5ea0d797755ef09ecc91ea508f","id":14290523,"creation_time":"2019-08-09T14:32:59Z","author":"wptsync@mozilla.bugs"},{"count":1,"text":"Pushed to try https://treeherder.mozilla.org/#/jobs?repo=try&revision=a3c509af9af660b394ed3e2874d80f27c71b8e2a","id":14294391,"creation_time":"2019-08-12T10:27:44Z","author":"wptsync@mozilla.bugs"},{"count":2,"text":"Pushed to try (stability) https://treeherder.mozilla.org/#/jobs?repo=try&revision=b6dc3332124c7a5956e9a6fb21843e3eefe396ca","id":14296635,"creation_time":"2019-08-13T09:55:49Z","author":"wptsync@mozilla.bugs"},{"count":3,"text":"Ran 1 tests\nFAIL   : 1\n\nNew tests that have failures or other problems:\n/css/filter-effects/backdrop-filter-containing-block.html: FAIL","id":14296644,"creation_time":"2019-08-13T09:59:41Z","author":"wptsync@mozilla.bugs"},{"count":4,"text":"Pushed by wptsync@mozilla.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/35851bbd834f\n[wpt PR 18342] - Make backdrop-filter a containing block for fixed/absolute, a=testonly\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/2391aec40f5d\n[wpt PR 18342] - Update wpt metadata, a=testonly","id":14301276,"creation_time":"2019-08-15T02:20:05Z","author":"pulsebot@bots.tld"},{"count":5,"text":"https://hg.mozilla.org/mozilla-central/rev/35851bbd834f\nhttps://hg.mozilla.org/mozilla-central/rev/2391aec40f5d","id":14301715,"creation_time":"2019-08-15T09:50:04Z","author":"cbrindusan@mozilla.com"}],"attachments":[]}
{"history":[{"when":"2019-08-19T10:18:51Z","changes":[{"removed":"NEW","added":"ASSIGNED","field_name":"status"},{"removed":"nobody@mozilla.org","added":"jdescottes@mozilla.com","field_name":"assigned_to"}],"who":"jdescottes@mozilla.com"},{"when":"2019-08-19T14:31:21Z","changes":[{"removed":"","added":"pbrosset@mozilla.com","field_name":"cc"},{"removed":"","added":"needinfo?(pbrosset@mozilla.com)","field_name":"flagtypes.name"}],"who":"aciure@mozilla.com"},{"when":"2019-08-19T14:51:30Z","changes":[{"removed":"needinfo?(pbrosset@mozilla.com)","added":"","field_name":"flagtypes.name"}],"who":"jdescottes@mozilla.com"},{"when":"2019-08-19T22:04:41Z","changes":[{"removed":"ASSIGNED","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"Firefox 70","field_name":"target_milestone"},{"removed":"","added":"2019-08-19T22:04:41Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox70"},{"comment_id":14310110,"comment_count":7,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"opoprus@mozilla.com"},{"when":"2019-08-20T14:54:55Z","changes":[{"removed":"","added":"in-testsuite+","field_name":"flagtypes.name"},{"removed":"---","added":"unaffected","field_name":"cf_status_firefox_esr60"},{"removed":"---","added":"unaffected","field_name":"cf_status_firefox_esr68"},{"removed":"---","added":"unaffected","field_name":"cf_status_firefox68"},{"removed":"---","added":"unaffected","field_name":"cf_status_firefox69"}],"who":"ryanvm@gmail.com"},{"when":"2019-08-20T14:59:57Z","changes":[{"removed":"unaffected","added":"affected","field_name":"cf_status_firefox_esr68"},{"removed":"unaffected","added":"affected","field_name":"cf_status_firefox68"},{"removed":"unaffected","added":"affected","field_name":"cf_status_firefox69"}],"who":"tdsmith@mozilla.com"},{"when":"2019-08-20T15:42:30Z","changes":[{"removed":"","added":"ryanvm@gmail.com","field_name":"cc"},{"removed":"","added":"needinfo?(jdescottes@mozilla.com)","field_name":"flagtypes.name"},{"removed":"affected","added":"wontfix","field_name":"cf_status_firefox68"}],"who":"ryanvm@gmail.com"},{"when":"2019-08-21T07:35:33Z","changes":[{"removed":"needinfo?(jdescottes@mozilla.com)","added":"","field_name":"flagtypes.name"}],"who":"jdescottes@mozilla.com"},{"when":"2019-08-21T08:16:09Z","changes":[{"attachment_id":9085177,"removed":"","added":"approval-mozilla-beta?","field_name":"flagtypes.name"}],"who":"jdescottes@mozilla.com"},{"when":"2019-08-21T08:51:32Z","changes":[{"removed":"","added":"needinfo?(hkirschner@mozilla.com)","field_name":"flagtypes.name"},{"attachment_id":9086948,"removed":"","added":"review+","field_name":"flagtypes.name"}],"who":"jdescottes@mozilla.com"},{"when":"2019-08-21T14:13:23Z","changes":[{"attachment_id":9085177,"removed":"approval-mozilla-beta?","added":"approval-mozilla-beta+","field_name":"flagtypes.name"}],"who":"ryanvm@gmail.com"},{"when":"2019-08-21T21:19:31Z","changes":[{"removed":"affected","added":"fixed","field_name":"cf_status_firefox69"}],"who":"rmaries@mozilla.com"},{"when":"2019-08-21T21:19:32Z","changes":[{"comment_id":14314600,"comment_count":14,"removed":"","added":"bugherder","field_name":"comment_tag"},{"comment_id":14314600,"comment_count":14,"removed":"","added":"uplift","field_name":"comment_tag"}],"who":"rmaries@mozilla.com"},{"when":"2019-08-26T13:30:31Z","changes":[{"removed":"needinfo?(hkirschner@mozilla.com)","added":"","field_name":"flagtypes.name"}],"who":"hkirschner@mozilla.com"},{"when":"2019-08-26T13:31:00Z","changes":[{"removed":"affected","added":"wontfix","field_name":"cf_status_firefox_esr68"}],"who":"ryanvm@gmail.com"}],"cf_status_firefox68":"wontfix","blocks":[1415976],"is_cc_accessible":true,"keywords":["regression"],"cf_qa_whiteboard":"","url":"","qa_contact":"","regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-08-19T22:04:41Z","cf_fx_points":"---","cc_detail":[{"email":"jdescottes@mozilla.com","real_name":"Julian Descottes [:jdescottes]","name":"jdescottes@mozilla.com","nick":"jdescottes","id":559949},{"email":"mratcliffe@mozilla.com","real_name":"Mike Ratcliffe [:miker] [:mratcliffe] [:mikeratcliffe]","name":"mratcliffe@mozilla.com","nick":"miker","id":313697},{"email":"pbrosset@mozilla.com","real_name":"Patrick Brosset <:pbro>","name":"pbrosset@mozilla.com","nick":"pbro","id":478661},{"email":"ryanvm@gmail.com","real_name":"Ryan VanderMeulen [:RyanVM]","name":"ryanvm@gmail.com","nick":"RyanVM","id":75935},{"email":"tdsmith@mozilla.com","real_name":"Tim Smith  [:tdsmith]","name":"tdsmith@mozilla.com","nick":"tdsmith","id":600911}],"summary":"Toolbox open event telemetry is no longer firing because of this.win.top usage","cf_has_str":"---","cf_user_story":"","cf_status_firefox69":"fixed","platform":"Unspecified","cf_status_firefox_esr60":"unaffected","votes":0,"cf_tracking_firefox74":"---","version":"unspecified","mentors_detail":[],"cf_status_firefox74":"---","is_creator_accessible":true,"is_confirmed":true,"priority":"P2","assigned_to_detail":{"email":"jdescottes@mozilla.com","real_name":"Julian Descottes [:jdescottes]","name":"jdescottes@mozilla.com","nick":"jdescottes","id":559949},"creator":"hkirschner@mozilla.com","cf_status_firefox70":"fixed","last_change_time":"2019-08-27T18:33:13Z","cf_fission_milestone":"---","comment_count":17,"creator_detail":{"email":"hkirschner@mozilla.com","real_name":":Harald Kirschner :digitarald","name":"hkirschner@mozilla.com","nick":"Harald","id":427798},"cc":["jdescottes@mozilla.com","mratcliffe@mozilla.com","pbrosset@mozilla.com","ryanvm@gmail.com","tdsmith@mozilla.com"],"duplicates":[1572518],"cf_tracking_firefox_esr68":"---","assigned_to":"jdescottes@mozilla.com","groups":[],"see_also":[],"id":1572867,"whiteboard":"","creation_time":"2019-08-09T21:30:33Z","cf_status_firefox_esr68":"wontfix","cf_tracking_firefox72":"---","depends_on":[],"cf_status_firefox73":"---","cf_webcompat_priority":"---","mentors":[],"dupe_of":null,"regressed_by":[1539979],"resolution":"FIXED","type":"defect","classification":"Components","alias":null,"cf_has_regression_range":"---","op_sys":"Unspecified","status":"RESOLVED","cf_crash_signature":"","is_open":false,"severity":"normal","cf_status_firefox72":"---","flags":[{"modification_date":"2019-08-20T14:54:55Z","creation_date":"2019-08-20T14:54:55Z","type_id":37,"status":"+","name":"in-testsuite","id":1903592,"setter":"ryanvm@gmail.com"}],"component":"Framework","cf_tracking_firefox73":"---","product":"DevTools","target_milestone":"Firefox 70","comments":[{"count":0,"text":"Analysis per :tdsmith from bug 1571483.\n\nhttps://hg.mozilla.org/mozilla-central/rev/20f11a17eace01fdcf67352222a458b3b493ce0d\n\n> it looks like the pending event is still associated with this.win.top, and the properties are now being collected on this.win, so the pending event never fires?","id":14291236,"creation_time":"2019-08-09T21:30:33Z","author":"hkirschner@mozilla.com"},{"count":1,"text":"Created attachment 9085177\nBug 1572867 - Use toolbox topWindow to prepare telemetry \"open\" event","id":14297783,"creation_time":"2019-08-13T18:19:13Z","author":"jdescottes@mozilla.com"},{"count":2,"text":"Pushed by jdescottes@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/3f0cde4a61e5\nUse toolbox topWindow to prepare telemetry \"open\" event r=nchevobbe","id":14308844,"creation_time":"2019-08-19T13:19:55Z","author":"pulsebot@bots.tld"},{"count":3,"text":"Backed out changeset 3f0cde4a61e5 (bug 1572867) for causing browser_toolbox_telemetry_open_event.js to perma fail\n\nfailures: https://treeherder.mozilla.org/#/jobs?repo=autoland&group_state=expanded&selectedJob=262265890&resultStatus=testfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunning%2Cpending%2Crunnable&revision=3f0cde4a61e52233075952e95f955eaa372452ae\n\nbackout: https://hg.mozilla.org/integration/autoland/rev/494e151853d11572d4b8276aa27bdde4c822ed31","id":14308997,"creation_time":"2019-08-19T14:31:21Z","author":"aciure@mozilla.com"},{"count":4,"text":"I am not sure this is a permafail, I see the test running fine in the test-verify jobs. I guess there is a race, maybe the telemetry event is registered only after toolbox-ready in some cases.","id":14309051,"creation_time":"2019-08-19T14:52:44Z","author":"jdescottes@mozilla.com"},{"count":5,"text":"Ah it might be because it's running in isolation in test-verify, maybe the event is not fired when running after another test.","id":14309094,"creation_time":"2019-08-19T15:08:25Z","author":"jdescottes@mozilla.com"},{"count":6,"text":"Pushed by jdescottes@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/0b09473d4c74\nUse toolbox topWindow to prepare telemetry \"open\" event r=nchevobbe","id":14309322,"creation_time":"2019-08-19T16:20:48Z","author":"pulsebot@bots.tld"},{"count":7,"text":"https://hg.mozilla.org/mozilla-central/rev/0b09473d4c74","id":14310110,"creation_time":"2019-08-19T22:04:41Z","author":"opoprus@mozilla.com"},{"count":8,"text":"I guess this was regressed in the timeframe of https://bugzilla.mozilla.org/show_bug.cgi?id=1539979#c19. FWIW, this is why we generally try to avoid having work land across that long of a period of time - it really makes tracking a pain when changes are landing across a 4 month span in a single bug.\n\nPlease nominate this for Beta and ESR68 approval, I guess...","id":14311406,"creation_time":"2019-08-20T15:42:30Z","author":"ryanvm@gmail.com"},{"count":9,"text":"Sorry about that, I usually avoid using leave-open bugs for the same reason.","id":14312888,"creation_time":"2019-08-21T07:35:33Z","author":"jdescottes@mozilla.com"},{"count":10,"text":"Comment on attachment 9085177\nBug 1572867 - Use toolbox topWindow to prepare telemetry \"open\" event\n\n### Beta/Release Uplift Approval Request\n* **User impact if declined**: No user impact, but we will miss part of the telemetry data we record for DevTools\n* **Is this code covered by automated tests?**: Yes\n* **Has the fix been verified in Nightly?**: No\n* **Needs manual test from QE?**: No\n* **If yes, steps to reproduce**: \n* **List of other uplifts needed**: None\n* **Risk to taking this patch**: Low\n* **Why is the change risky/not risky? (and alternatives if risky)**: Small javascript fix, covered by automated tests\n* **String changes made/needed**:","id":14312932,"creation_time":"2019-08-21T08:16:09Z","author":"jdescottes@mozilla.com"},{"count":11,"text":"(needs a different version of the patch for ESR68)","id":14312934,"creation_time":"2019-08-21T08:16:29Z","author":"jdescottes@mozilla.com"},{"count":12,"text":"Created attachment 9086948\nbug1572867.esr68.patch\n\nHarald, do you think this is worth asking for a 68 ESR uplift? I am not sure how critical this data is for us on ESR?","id":14312986,"creation_time":"2019-08-21T08:51:32Z","author":"jdescottes@mozilla.com"},{"count":13,"text":"Comment on attachment 9085177\nBug 1572867 - Use toolbox topWindow to prepare telemetry \"open\" event\n\nFixes broken Telemetry collection for Devtools in some cases. Approved for 69.0b16.","id":14313576,"creation_time":"2019-08-21T14:13:23Z","author":"ryanvm@gmail.com"},{"count":14,"text":"https://hg.mozilla.org/releases/mozilla-beta/rev/a1f197071162","id":14314600,"creation_time":"2019-08-21T21:19:31Z","author":"rmaries@mozilla.com"},{"count":15,"text":"ESR should not be needed (not sure how high this bar is to uplift there, but not having this telemetry has not hurt our tracking so far as other telemetry can fill it in).","id":14322765,"creation_time":"2019-08-26T13:30:31Z","author":"hkirschner@mozilla.com"},{"count":16,"text":"*** Bug 1572518 has been marked as a duplicate of this bug. ***","id":14325877,"creation_time":"2019-08-27T18:33:13Z","author":"hkirschner@mozilla.com"}],"attachments":[{"content_type":"text/x-phabricator-request","creator_detail":{"email":"jdescottes@mozilla.com","real_name":"Julian Descottes [:jdescottes]","name":"jdescottes@mozilla.com","nick":"jdescottes","id":559949},"creator":"jdescottes@mozilla.com","flags":[{"modification_date":"2019-08-21T14:13:23Z","creation_date":"2019-08-21T08:16:09Z","type_id":721,"status":"+","name":"approval-mozilla-beta","id":1903864,"setter":"ryanvm@gmail.com"}],"is_patch":0,"creation_time":"2019-08-13T18:19:13Z","id":9085177,"is_obsolete":0},{"content_type":"text/plain","creator_detail":{"email":"jdescottes@mozilla.com","real_name":"Julian Descottes [:jdescottes]","name":"jdescottes@mozilla.com","nick":"jdescottes","id":559949},"creator":"jdescottes@mozilla.com","flags":[{"modification_date":"2019-08-21T08:51:32Z","creation_date":"2019-08-21T08:51:32Z","type_id":748,"status":"+","name":"review","id":1903874,"setter":"jdescottes@mozilla.com"}],"is_patch":1,"creation_time":"2019-08-21T08:51:32Z","id":9086948,"is_obsolete":0}]}
{"history":[{"when":"2019-08-09T21:41:08Z","changes":[{"removed":"","added":"1316755","field_name":"depends_on"}],"who":"jld@mozilla.com"},{"when":"2019-08-10T21:36:49Z","changes":[{"removed":"NEW","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"mozilla70","field_name":"target_milestone"},{"removed":"","added":"2019-08-10T21:36:49Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox70"},{"comment_id":14291884,"comment_count":5,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"ncsoregi@mozilla.com"}],"blocks":[],"is_cc_accessible":true,"keywords":[],"cf_qa_whiteboard":"","url":"","qa_contact":"","cf_rank":null,"regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-08-10T21:36:49Z","cf_fx_points":"---","cc_detail":[],"summary":"ChannelOpened and related code is dead and can be deleted","cf_has_str":"---","cf_user_story":"","platform":"Unspecified","votes":0,"cf_tracking_firefox74":"---","version":"unspecified","mentors_detail":[],"cf_status_firefox74":"---","is_creator_accessible":true,"is_confirmed":true,"priority":"--","cf_status_thunderbird_esr60":"---","assigned_to_detail":{"email":"jld@mozilla.com","real_name":"Jed Davis [:jld] |UTC-7 he/him","name":"jld@mozilla.com","nick":"jld","id":462836},"creator":"jld@mozilla.com","cf_status_firefox70":"fixed","last_change_time":"2019-08-10T21:36:49Z","cf_fission_milestone":"---","comment_count":6,"creator_detail":{"email":"jld@mozilla.com","real_name":"Jed Davis [:jld] |UTC-7 he/him","name":"jld@mozilla.com","nick":"jld","id":462836},"cc":[],"duplicates":[],"cf_tracking_thunderbird_esr60":"---","cf_tracking_firefox_esr68":"---","assigned_to":"jld@mozilla.com","groups":[],"see_also":[],"id":1572868,"whiteboard":"","creation_time":"2019-08-09T21:36:37Z","cf_status_firefox_esr68":"---","cf_tracking_firefox72":"---","depends_on":[1316755],"cf_status_firefox73":"---","cf_webcompat_priority":"---","mentors":[],"dupe_of":null,"regressed_by":[],"resolution":"FIXED","type":"task","classification":"Components","alias":null,"cf_has_regression_range":"---","op_sys":"Unspecified","status":"RESOLVED","cf_tracking_thunderbird_esr68":"---","cf_crash_signature":"","is_open":false,"severity":"normal","cf_status_firefox72":"---","flags":[],"component":"IPC","cf_tracking_firefox73":"---","product":"Core","target_milestone":"mozilla70","cf_status_thunderbird_esr68":"---","comments":[{"count":0,"text":"I found some dead code in `ProcessUtils.cpp` from a quick look at the new(?) [report on code with no test coverage][zero], and a build-everything Try run passes with it deleted, so let's do that.\n\n[zero]: https://coverage.moz.tools/#zero","id":14291249,"creation_time":"2019-08-09T21:36:37Z","author":"jld@mozilla.com"},{"count":1,"text":"This also removes some code that cares about what a `TransportDescriptor` is, which might come in handy for future refactoring.","id":14291256,"creation_time":"2019-08-09T21:38:37Z","author":"jld@mozilla.com"},{"count":2,"text":"Created attachment 9084434\nBug 1572868 - Remove ChannelOpened and related dead code.","id":14291257,"creation_time":"2019-08-09T21:39:02Z","author":"jld@mozilla.com"},{"count":3,"text":"It looks like this became dead code in bug 1316755.","id":14291261,"creation_time":"2019-08-09T21:41:08Z","author":"jld@mozilla.com"},{"count":4,"text":"Pushed by jedavis@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/462d2d4ba051\nRemove ChannelOpened and related dead code. r=nika","id":14291700,"creation_time":"2019-08-10T17:34:42Z","author":"pulsebot@bots.tld"},{"count":5,"text":"https://hg.mozilla.org/mozilla-central/rev/462d2d4ba051","id":14291884,"creation_time":"2019-08-10T21:36:49Z","author":"ncsoregi@mozilla.com"}],"attachments":[{"content_type":"text/x-phabricator-request","creator_detail":{"email":"jld@mozilla.com","real_name":"Jed Davis [:jld] |UTC-7 he/him","name":"jld@mozilla.com","nick":"jld","id":462836},"creator":"jld@mozilla.com","flags":[],"is_patch":0,"creation_time":"2019-08-09T21:39:02Z","id":9084434,"is_obsolete":0}]}
{"history":[{"when":"2019-08-09T21:56:41Z","changes":[{"removed":"","added":"1478034","field_name":"blocks"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-08-09T22:02:38Z","changes":[{"removed":"Use bytecode interface classes `BytecodeLocation` and `BytecodeIterator` to encapsulate bytecode manipulation in VerifyGlobalNames","added":"Use bytecode interface classes BytecodeLocation and BytecodeIterator to encapsulate bytecode manipulation in VerifyGlobalNames","field_name":"summary"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-08-09T22:02:42Z","changes":[{"removed":"","added":"asorholm@email.arizona.edu","field_name":"cc"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-08-09T22:19:05Z","changes":[{"removed":"UNCONFIRMED","added":"NEW","field_name":"status"},{"removed":"nobody@mozilla.org","added":"asorholm@email.arizona.edu","field_name":"assigned_to"},{"removed":"0","added":"1","field_name":"is_confirmed"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-08-12T13:46:17Z","changes":[{"removed":"--","added":"P2","field_name":"priority"},{"removed":"","added":"sdetar@mozilla.com","field_name":"cc"}],"who":"sdetar@mozilla.com"},{"when":"2019-09-28T19:26:53Z","changes":[{"removed":"NEW","added":"ASSIGNED","field_name":"status"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-10-11T00:14:26Z","changes":[{"removed":"","added":"checkin-needed","field_name":"keywords"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-10-11T00:41:42Z","changes":[{"removed":"checkin-needed","added":"","field_name":"keywords"},{"removed":"","added":"apavel@mozilla.com","field_name":"cc"}],"who":"apavel@mozilla.com"},{"when":"2019-10-11T00:51:13Z","changes":[{"removed":"","added":"needinfo?(asorholm@email.arizona.edu)","field_name":"flagtypes.name"}],"who":"apavel@mozilla.com"},{"when":"2019-10-11T20:53:28Z","changes":[{"removed":"needinfo?(asorholm@email.arizona.edu)","added":"","field_name":"flagtypes.name"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-10-11T20:53:42Z","changes":[{"removed":"","added":"checkin-needed","field_name":"keywords"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-10-11T21:05:06Z","changes":[{"removed":"","added":"1572504","field_name":"blocks"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-10-11T21:05:30Z","changes":[{"removed":"1572504","added":"","field_name":"blocks"},{"removed":"","added":"1572504","field_name":"depends_on"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-10-11T23:28:42Z","changes":[{"removed":"checkin-needed","added":"","field_name":"keywords"},{"removed":"","added":"needinfo?(asorholm@email.arizona.edu)","field_name":"flagtypes.name"}],"who":"nbeleuzu@mozilla.com"},{"when":"2019-10-15T19:35:35Z","changes":[{"removed":"","added":"mgaudet@mozilla.com","field_name":"cc"}],"who":"mgaudet@mozilla.com"},{"when":"2019-10-17T05:17:20Z","changes":[{"removed":"needinfo?(asorholm@email.arizona.edu)","added":"","field_name":"flagtypes.name"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-10-21T21:32:35Z","changes":[{"removed":"","added":"checkin-needed","field_name":"keywords"}],"who":"asorholm@email.arizona.edu"},{"when":"2019-10-22T01:11:41Z","changes":[{"removed":"checkin-needed","added":"","field_name":"keywords"}],"who":"pulsebot@bots.tld"},{"when":"2019-10-22T09:54:20Z","changes":[{"removed":"ASSIGNED","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"mozilla72","field_name":"target_milestone"},{"removed":"","added":"2019-10-22T09:54:20Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox72"},{"comment_id":14438701,"comment_count":12,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"ncsoregi@mozilla.com"},{"when":"2019-12-06T13:06:36Z","changes":[{"removed":"","added":"wtds.trabalho@gmail.com","field_name":"cc"}],"who":"wtds.trabalho@gmail.com"}],"blocks":[1478034],"is_cc_accessible":true,"keywords":[],"cf_qa_whiteboard":"","url":"","qa_contact":"","cf_rank":null,"regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-10-22T09:54:20Z","cf_fx_points":"---","cc_detail":[{"email":"apavel@mozilla.com","real_name":"Andreea Pavel [:apavel]","name":"apavel@mozilla.com","nick":"apavel","id":600553},{"email":"asorholm@email.arizona.edu","real_name":"Adam Holm","name":"asorholm@email.arizona.edu","nick":"asorholm","id":624985},{"email":"mgaudet@mozilla.com","real_name":"Matthew Gaudet (he/him) [:mgaudet]","name":"mgaudet@mozilla.com","nick":"mgaudet","id":607045},{"email":"sdetar@mozilla.com","real_name":"Steven DeTar [:sdetar]","name":"sdetar@mozilla.com","nick":"sdetar","id":607698},{"email":"tcampbell@mozilla.com","real_name":"Ted Campbell [:tcampbell]","name":"tcampbell@mozilla.com","nick":"tcampbell","id":586681},{"email":"wtds.trabalho@gmail.com","real_name":"Wellington Torrejais da Silva","name":"wtds.trabalho@gmail.com","nick":"wtds.trabalho","id":392178}],"summary":"Use bytecode interface classes BytecodeLocation and BytecodeIterator to encapsulate bytecode manipulation in VerifyGlobalNames","cf_has_str":"---","cf_user_story":"","platform":"Unspecified","votes":0,"cf_tracking_firefox74":"---","version":"unspecified","mentors_detail":[],"cf_status_firefox74":"---","is_creator_accessible":true,"is_confirmed":true,"priority":"P2","cf_status_thunderbird_esr60":"---","assigned_to_detail":{"email":"asorholm@email.arizona.edu","real_name":"Adam Holm","name":"asorholm@email.arizona.edu","nick":"asorholm","id":624985},"creator":"asorholm@email.arizona.edu","last_change_time":"2019-12-06T13:06:36Z","cf_fission_milestone":"---","comment_count":13,"creator_detail":{"email":"asorholm@email.arizona.edu","real_name":"Adam Holm","name":"asorholm@email.arizona.edu","nick":"asorholm","id":624985},"cc":["apavel@mozilla.com","asorholm@email.arizona.edu","mgaudet@mozilla.com","sdetar@mozilla.com","tcampbell@mozilla.com","wtds.trabalho@gmail.com"],"duplicates":[],"cf_tracking_thunderbird_esr60":"---","cf_tracking_firefox_esr68":"---","assigned_to":"asorholm@email.arizona.edu","groups":[],"see_also":[],"id":1572870,"whiteboard":"","creation_time":"2019-08-09T21:55:55Z","cf_status_firefox_esr68":"---","cf_tracking_firefox72":"---","depends_on":[1572504],"cf_status_firefox73":"---","cf_webcompat_priority":"---","mentors":[],"dupe_of":null,"regressed_by":[],"resolution":"FIXED","type":"enhancement","classification":"Components","alias":null,"cf_has_regression_range":"---","op_sys":"Unspecified","status":"RESOLVED","cf_tracking_thunderbird_esr68":"---","cf_crash_signature":"","is_open":false,"severity":"normal","cf_status_firefox72":"fixed","flags":[],"component":"JavaScript Engine","cf_tracking_firefox73":"---","product":"Core","target_milestone":"mozilla72","cf_status_thunderbird_esr68":"---","comments":[{"count":0,"text":"Currently in [`VerifyGlobalNames`](https://searchfox.org/mozilla-central/source/js/src/vm/SelfHosting.cpp#2719-2753), bytecode is manipulated directly with the use of [`jsbytecode*`](https://searchfox.org/mozilla-central/source/js/public/TypeDecls.h#25) and [`pcToOffset`](https://searchfox.org/mozilla-central/source/js/src/vm/JSScript.h#2330). The goal of this bug is to encapsulate that manipulation with the bytecode interface classes [`BytecodeLocation`](https://searchfox.org/mozilla-central/source/js/src/vm/BytecodeLocation.h#31) and [`BytecodeIterator`](https://searchfox.org/mozilla-central/source/js/src/vm/BytecodeIterator.h#14).","id":14291277,"creation_time":"2019-08-09T21:55:55Z","author":"asorholm@email.arizona.edu"},{"count":1,"text":"Created attachment 9084540\nBug 1572870 - Use bytecode interface classes BytecodeLocation and BytecodeIterator to encapsulate bytecode manipulation in VerifyGlobalNames. r=tcampbell,jandem\n\nReplacing jsbytecode and pcToOffset with BytecodeLocation and BytecodeIterator.","id":14292067,"creation_time":"2019-08-11T07:19:14Z","author":"asorholm@email.arizona.edu"},{"count":2,"text":"try build: https://treeherder.mozilla.org/#/jobs?repo=try&revision=637de0b90f1a7dfaba3cd9dc483b1f47de7307f6","id":14417251,"creation_time":"2019-10-10T19:12:51Z","author":"asorholm@email.arizona.edu"},{"count":3,"text":"Landing failed: \n\n\nOn Fri, October 11, 2019, 3:25 AM GMT+3, by apavel@mozilla.com.\nRevisions: D48112 diff 174490  D41326 diff 175479  D41485 diff 166153\nDetails: We're sorry, Autoland could not rebase your commits for you automatically. Please manually rebase your commits and try again. applying /tmp/tmpNahp62 js/src/vm/BytecodeLocation.h Hunk #1 FAILED at 69. 1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation.h.rej js/src/vm/BytecodeLocation-inl.h Hunk #2 FAILED at 23. 1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation-inl.h.rej js/src/jit/BytecodeAnalysis.cpp Hunk #1 FAILED at 7. 1 out of 10 hunks FAILED -- saving rejects to file js/src/jit/BytecodeAnalysis.cpp.rej abort: patch command failed: exited with status 256","id":14417848,"creation_time":"2019-10-11T00:41:42Z","author":"apavel@mozilla.com"},{"count":4,"text":"(In reply to Andreea Pavel [:apavel] from comment #3)\n> Landing failed: \n> \n> \n> On Fri, October 11, 2019, 3:25 AM GMT+3, by apavel@mozilla.com.\n> Revisions: D48112 diff 174490  D41326 diff 175479  D41485 diff 166153\n> Details: We're sorry, Autoland could not rebase your commits for you automatically. Please manually rebase your commits and try again. applying /tmp/tmpNahp62 js/src/vm/BytecodeLocation.h Hunk #1 FAILED at 69. 1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation.h.rej js/src/vm/BytecodeLocation-inl.h Hunk #2 FAILED at 23. 1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation-inl.h.rej js/src/jit/BytecodeAnalysis.cpp Hunk #1 FAILED at 7. 1 out of 10 hunks FAILED -- saving rejects to file js/src/jit/BytecodeAnalysis.cpp.rej abort: patch command failed: exited with status 256\n\nI rebased onto the current tip of mozilla-central (https://hg.mozilla.org/mozilla-central/rev/6660bc0d1b23ae45dc3c952b6e21c0335e9739e9). I built the shell and ran some test cases and everything passed. I'm going to set `checkin-needed` again, but if you'd like me to create a new try build before checking this in, let me know, I'd be glad to do so. Thanks!","id":14419527,"creation_time":"2019-10-11T20:53:28Z","author":"asorholm@email.arizona.edu"},{"count":5,"text":"Tried to land but failed again with message:\n\nOn Sat, October 12, 2019, 1:55 AM GMT+3, by nbeleuzu@mozilla.com.\nRevisions: D48112 diff 174490  D41326 diff 175479  D41485 diff 176015\nDetails: We're sorry, Autoland could not rebase your commits for you automatically. Please manually rebase your commits and try again. applying /tmp/tmpfo8VBv js/src/vm/BytecodeLocation.h Hunk #1 FAILED at 69. 1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation.h.rej js/src/vm/BytecodeLocation-inl.h Hunk #2 FAILED at 23. 1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation-inl.h.rej js/src/jit/BytecodeAnalysis.cpp Hunk #1 FAILED at 7. 1 out of 10 hunks FAILED -- saving rejects to file js/src/jit/BytecodeAnalysis.cpp.rej abort: patch command failed: exited with status 256","id":14419760,"creation_time":"2019-10-11T23:28:42Z","author":"nbeleuzu@mozilla.com"},{"count":6,"text":"Adam: The problem is that you're trying to land the stack, but seem to have only rebased the top-most commit (which raises the question of how / why this is a stack) \n\nHere's how I reproduced locally: \n\n```\nmatthew@xtower:~/unified2$ hg up autoland --clean\n3858 files updated, 0 files merged, 274 files removed, 0 files unresolved\n(leaving bookmark D48479)\nmatthew@xtower:~/unified2$ moz-phab patch https://phabricator.services.mozilla.com/D48112 --apply-to . \nRevision D48112 has child commits.  Would you like to patch the full stack?. (YES/No/Always)? y\nPatching revisions: D48112 D41326 D41485\nChecked out .\nBookmark set to D41485\nD48112 applied\npatching file js/src/vm/BytecodeLocation.h\nHunk #1 FAILED at 68\n1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation.h.rej\npatching file js/src/vm/BytecodeLocation-inl.h\nHunk #2 FAILED at 22\n1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation-inl.h.rej\npatching file js/src/jit/BytecodeAnalysis.cpp\nHunk #1 FAILED at 6\n1 out of 10 hunks FAILED -- saving rejects to file js/src/jit/BytecodeAnalysis.cpp.rej\nabort: patch failed to apply\nPatch failed to apply\n```\n\nSo, you'll want to re-jigger the stack, or at least rebase and re-upload all the commits, not just the top most; for lando to work correctly, you should be able to use `moz-phab patch` to apply the commits to whatever autoland is near when you're submitting.","id":14426566,"creation_time":"2019-10-15T19:35:35Z","author":"mgaudet@mozilla.com"},{"count":7,"text":"(In reply to Narcis Beleuzu [:NarcisB] from comment #5)\n> Tried to land but failed again with message:\n> \n> On Sat, October 12, 2019, 1:55 AM GMT+3, by nbeleuzu@mozilla.com.\n> Revisions: D48112 diff 174490  D41326 diff 175479  D41485 diff 176015\n> Details: We're sorry, Autoland could not rebase your commits for you automatically. Please manually rebase your commits and try again. applying /tmp/tmpfo8VBv js/src/vm/BytecodeLocation.h Hunk #1 FAILED at 69. 1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation.h.rej js/src/vm/BytecodeLocation-inl.h Hunk #2 FAILED at 23. 1 out of 3 hunks FAILED -- saving rejects to file js/src/vm/BytecodeLocation-inl.h.rej js/src/jit/BytecodeAnalysis.cpp Hunk #1 FAILED at 7. 1 out of 10 hunks FAILED -- saving rejects to file js/src/jit/BytecodeAnalysis.cpp.rej abort: patch command failed: exited with status 256\n\nOops! I'll take a look at this and see if I can address it in a way that I don't just repeat the same mistake. :-P\n\n(In reply to Matthew Gaudet (he/him) [:mgaudet] from comment #6)\n> So, you'll want to re-jigger the stack, or at least rebase and re-upload all the commits, not just the top most; for lando to work correctly, you should be able to use `moz-phab patch` to apply the commits to whatever autoland is near when you're submitting.\n\nThanks for the explanation :) So `moz-phab patch` the method for locally checking that my fix worked?","id":14429466,"creation_time":"2019-10-17T05:17:20Z","author":"asorholm@email.arizona.edu"},{"count":8,"text":"(In reply to Matthew Gaudet (he/him) [:mgaudet] from comment #6)\n\nI rebased the patches and updated their phabricator revisions. `moz-phab patch` ran successfully, here's the output:\n\n```\n[~/src/mozilla-central]$ moz-phab patch https://phabricator.services.mozilla.com/D48112 --apply-to .                                                                        \nInstalling arc\nCloning into '/home/ash/.mozbuild/moz-phab/arcanist'...\nremote: Enumerating objects: 1129, done.\nremote: Counting objects: 100% (1129/1129), done.\nremote: Compressing objects: 100% (876/876), done.\nremote: Total 1129 (delta 191), reused 818 (delta 154), pack-reused 0\nReceiving objects: 100% (1129/1129), 762.83 KiB | 0 bytes/s, done.\nResolving deltas: 100% (191/191), done.\nChecking connectivity... done.\nCloning into '/home/ash/.mozbuild/moz-phab/libphutil'...\nremote: Enumerating objects: 784, done.\nremote: Counting objects: 100% (784/784), done.\nremote: Compressing objects: 100% (678/678), done.\nremote: Total 784 (delta 73), reused 398 (delta 44), pack-reused 0\nReceiving objects: 100% (784/784), 1.63 MiB | 0 bytes/s, done.\nResolving deltas: 100% (73/73), done.\nChecking connectivity... done.\nmoz-phab is now distributed via PyPI. Please run `moz-phab self-update`.\nRevision D48112 has child commits.  Would you like to patch the full stack?. (YES/No/Always)? y\nPatching revisions: D48112 D41326 D41485\nChecked out .\nBookmark set to D41485\nD48112 applied\nD41326 applied\nD41485 applied\n```\nShould I flag `checkin-needed` now, or are there some other ways to check my fix before setting `checkin-needed` so I can be sure I'm not checking in the same bad patch again?","id":14431460,"creation_time":"2019-10-18T03:35:46Z","author":"asorholm@email.arizona.edu"},{"count":9,"text":"I think that's about as good as it gets for pre-flight checks; I'd double check that your try build is still good, but then go for it.","id":14432799,"creation_time":"2019-10-18T15:47:31Z","author":"mgaudet@mozilla.com"},{"count":10,"text":"(In reply to Matthew Gaudet (he/him) [:mgaudet] from comment #9)\n> I think that's about as good as it gets for pre-flight checks; I'd double check that your try build is still good, but then go for it.\n\nSounds good. I just rebased onto the current tip of m-c and reran `moz-phab patch...`, which passed. Here's the try build: https://treeherder.mozilla.org/#/jobs?repo=try&revision=9387ef971f49436fc71db4bf7103c4f674e56d57","id":14434740,"creation_time":"2019-10-21T02:53:55Z","author":"asorholm@email.arizona.edu"},{"count":11,"text":"Pushed by nbeleuzu@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/723659cc5b85\nUse bytecode interface classes BytecodeLocation and BytecodeIterator to encapsulate bytecode manipulation in VerifyGlobalNames. r=jandem","id":14438306,"creation_time":"2019-10-22T01:11:41Z","author":"pulsebot@bots.tld"},{"count":12,"text":"https://hg.mozilla.org/mozilla-central/rev/723659cc5b85","id":14438701,"creation_time":"2019-10-22T09:54:20Z","author":"ncsoregi@mozilla.com"}],"attachments":[{"content_type":"text/x-phabricator-request","creator_detail":{"email":"asorholm@email.arizona.edu","real_name":"Adam Holm","name":"asorholm@email.arizona.edu","nick":"asorholm","id":624985},"creator":"asorholm@email.arizona.edu","flags":[],"is_patch":0,"creation_time":"2019-08-11T07:19:14Z","id":9084540,"is_obsolete":0}]}
{"history":[{"when":"2019-08-11T09:59:43Z","changes":[{"removed":"NEW","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"mozilla70","field_name":"target_milestone"},{"removed":"","added":"2019-08-11T09:59:43Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox70"},{"comment_id":14292101,"comment_count":3,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"rmaries@mozilla.com"},{"when":"2019-08-19T18:00:27Z","changes":[{"removed":"---","added":"M4","field_name":"cf_fission_milestone"}],"who":"nkochar@mozilla.com"}],"blocks":[1561972],"is_cc_accessible":true,"keywords":[],"cf_qa_whiteboard":"","url":"","qa_contact":"","cf_rank":null,"regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-08-11T09:59:43Z","cf_fx_points":"---","cc_detail":[{"email":"bugs@pettay.fi","real_name":"Olli Pettay [:smaug]","name":"bugs@pettay.fi","nick":"smaug","id":39966},{"email":"kmadan@mozilla.com","real_name":":kashav","name":"kmadan@mozilla.com","nick":"kashav","id":608768},{"email":"kmaglione+bmo@mozilla.com","real_name":"Kris Maglione [:kmag]","name":"kmaglione+bmo@mozilla.com","nick":"kmag","id":106098}],"summary":"Return NS_ERROR_NOT_INITIALIZED instead of NS_ERROR_ILLEGAL_VALUE when the message manager isn't initialized","cf_has_str":"---","cf_user_story":"","platform":"Unspecified","votes":0,"cf_tracking_firefox74":"---","version":"unspecified","mentors_detail":[],"cf_status_firefox74":"---","is_creator_accessible":true,"is_confirmed":true,"priority":"--","cf_status_thunderbird_esr60":"---","assigned_to_detail":{"email":"continuation@gmail.com","real_name":"Andrew McCreight [:mccr8]","name":"continuation@gmail.com","nick":"mccr8","id":406194},"creator":"continuation@gmail.com","cf_status_firefox70":"fixed","last_change_time":"2019-08-19T18:00:27Z","cf_fission_milestone":"M4","comment_count":4,"creator_detail":{"email":"continuation@gmail.com","real_name":"Andrew McCreight [:mccr8]","name":"continuation@gmail.com","nick":"mccr8","id":406194},"cc":["bugs@pettay.fi","kmadan@mozilla.com","kmaglione+bmo@mozilla.com"],"duplicates":[],"cf_tracking_thunderbird_esr60":"---","cf_tracking_firefox_esr68":"---","assigned_to":"continuation@gmail.com","groups":[],"see_also":["https://bugzilla.mozilla.org/show_bug.cgi?id=1572781"],"id":1572872,"whiteboard":"","creation_time":"2019-08-09T22:09:24Z","cf_status_firefox_esr68":"---","cf_tracking_firefox72":"---","depends_on":[],"cf_status_firefox73":"---","cf_webcompat_priority":"---","mentors":[],"dupe_of":null,"regressed_by":[],"resolution":"FIXED","type":"task","classification":"Components","alias":null,"cf_has_regression_range":"---","op_sys":"Unspecified","status":"RESOLVED","cf_tracking_thunderbird_esr68":"---","cf_crash_signature":"","is_open":false,"severity":"normal","cf_status_firefox72":"---","flags":[],"component":"DOM: Core & HTML","cf_tracking_firefox73":"---","product":"Core","target_milestone":"mozilla70","cf_status_thunderbird_esr68":"---","comments":[{"count":0,"text":"If the mMessageManager field is null, then various message manager functions return NS_ERROR_NULL_POINTER, which gets printed out as NS_ERROR_ILLEGAL_VALUE. When I came across this in bug 1572781, I thought it meant that an invalid argument was being passed in. I think NS_ERROR_NOT_INITIALIZED better reflects that the message manager global isn't actually set up properly. In this particular case, it was actually after it was shutdown instead of before it was initialized, but I think that's close enough.","id":14291335,"creation_time":"2019-08-09T22:09:24Z","author":"continuation@gmail.com"},{"count":1,"text":"Created attachment 9084441\nBug 1572872 - Return NS_ERROR_NOT_INITIALIZED if the message manager isn't initialized.\n\nIf the mMessageManager field is null, then various message manager\nfunctions return NS_ERROR_NULL_POINTER, which gets printed out as\nNS_ERROR_ILLEGAL_VALUE, which is confusing. NS_ERROR_NOT_INITIALIZED\nwill better indicate the problem is that that the message manager\nitself isn't set up correctly, rather than that the arguments are\ninvalid.","id":14291354,"creation_time":"2019-08-09T22:29:31Z","author":"continuation@gmail.com"},{"count":2,"text":"Pushed by amccreight@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/1815f6ac0dd2\nReturn NS_ERROR_NOT_INITIALIZED if the message manager isn't initialized. r=smaug","id":14291704,"creation_time":"2019-08-10T17:36:25Z","author":"pulsebot@bots.tld"},{"count":3,"text":"https://hg.mozilla.org/mozilla-central/rev/1815f6ac0dd2","id":14292101,"creation_time":"2019-08-11T09:59:43Z","author":"rmaries@mozilla.com"}],"attachments":[{"content_type":"text/x-phabricator-request","creator_detail":{"email":"continuation@gmail.com","real_name":"Andrew McCreight [:mccr8]","name":"continuation@gmail.com","nick":"mccr8","id":406194},"creator":"continuation@gmail.com","flags":[],"is_patch":0,"creation_time":"2019-08-09T22:29:31Z","id":9084441,"is_obsolete":0}]}
{"history":[{"when":"2019-09-13T19:18:54Z","changes":[{"removed":"NEW","added":"ASSIGNED","field_name":"status"},{"removed":"","added":"sfoster@mozilla.com","field_name":"cc"},{"removed":"nobody@mozilla.org","added":"sfoster@mozilla.com","field_name":"assigned_to"}],"who":"sfoster@mozilla.com"},{"when":"2019-10-24T03:55:53Z","changes":[{"removed":"ASSIGNED","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"mozilla72","field_name":"target_milestone"},{"removed":"","added":"2019-10-24T03:55:53Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox72"},{"comment_id":14443152,"comment_count":4,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"aiakab@mozilla.com"}],"blocks":[],"is_cc_accessible":true,"keywords":[],"cf_qa_whiteboard":"","url":"","qa_contact":"","cf_rank":null,"regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-10-24T03:55:53Z","cf_fx_points":"---","cc_detail":[{"email":"sfoster@mozilla.com","real_name":"Sam Foster [:sfoster] (he/him) (Out until Jan 6th)","name":"sfoster@mozilla.com","nick":"sfoster","id":430165}],"summary":"Rename password manager doorhanger b-c tests with a consistent prefix and sort browser.ini","cf_has_str":"---","cf_user_story":"","platform":"All","votes":0,"cf_tracking_firefox74":"---","version":"unspecified","mentors_detail":[],"cf_status_firefox74":"---","is_creator_accessible":true,"is_confirmed":true,"priority":"P5","cf_status_thunderbird_esr60":"---","assigned_to_detail":{"email":"sfoster@mozilla.com","real_name":"Sam Foster [:sfoster] (he/him) (Out until Jan 6th)","name":"sfoster@mozilla.com","nick":"sfoster","id":430165},"creator":"MattN+bmo@mozilla.com","last_change_time":"2019-10-24T03:55:53Z","cf_fission_milestone":"---","comment_count":5,"creator_detail":{"email":"MattN+bmo@mozilla.com","real_name":"Matthew N. [:MattN] (PM me if request are blocking you)","name":"MattN+bmo@mozilla.com","nick":"MattN","id":305228},"cc":["sfoster@mozilla.com"],"duplicates":[],"cf_tracking_thunderbird_esr60":"---","cf_tracking_firefox_esr68":"---","assigned_to":"sfoster@mozilla.com","groups":[],"see_also":[],"id":1572876,"whiteboard":"[passwords:tech-debt]","creation_time":"2019-08-09T22:19:08Z","cf_status_firefox_esr68":"---","cf_tracking_firefox72":"---","depends_on":[],"cf_status_firefox73":"---","cf_webcompat_priority":"---","mentors":[],"dupe_of":null,"regressed_by":[],"resolution":"FIXED","type":"task","classification":"Components","alias":null,"cf_has_regression_range":"---","op_sys":"All","status":"RESOLVED","cf_tracking_thunderbird_esr68":"---","cf_crash_signature":"","is_open":false,"severity":"normal","cf_status_firefox72":"fixed","flags":[],"component":"Password Manager","cf_tracking_firefox73":"---","product":"Toolkit","target_milestone":"mozilla72","cf_status_thunderbird_esr68":"---","comments":[{"count":0,"text":"We have 3 different prefixes for doorhanger tests which makes it harder to find tests:\n* browser_capture_doorhanger*\n* browser_doorhanger_*\n* browser_notifications*\n\nhttps://searchfox.org/mozilla-central/rev/ab6f4c453d15ab82147c630a8b886b40240ca72b/toolkit/components/passwordmgr/test/browser/browser.ini#23,38,40,44,55,83,85,87,89\n\nbrowser.ini has also become unsorted and should be fixed.","id":14291347,"creation_time":"2019-08-09T22:19:08Z","author":"MattN+bmo@mozilla.com"},{"count":1,"text":"Created attachment 9103085\nBug 1572876 - Rename password manager doorhanger/autofill/autocomplete b-c tests with a consistent prefix. r?MattN","id":14437795,"creation_time":"2019-10-21T19:53:25Z","author":"sfoster@mozilla.com"},{"count":2,"text":"Created attachment 9103373\nBug 1572876 - Sort passwordmgr's browser.ini. r?MattN\n\nDepends on D49984","id":14440225,"creation_time":"2019-10-22T20:45:56Z","author":"sfoster@mozilla.com"},{"count":3,"text":"Pushed by sfoster@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/50618838999b\nRename password manager doorhanger/autofill/autocomplete b-c tests with a consistent prefix. r=MattN\nhttps://hg.mozilla.org/integration/autoland/rev/6504ce263c29\nSort passwordmgr's browser.ini. r=MattN","id":14442736,"creation_time":"2019-10-23T21:42:43Z","author":"pulsebot@bots.tld"},{"count":4,"text":"https://hg.mozilla.org/mozilla-central/rev/50618838999b\nhttps://hg.mozilla.org/mozilla-central/rev/6504ce263c29","id":14443152,"creation_time":"2019-10-24T03:55:53Z","author":"aiakab@mozilla.com"}],"attachments":[{"content_type":"text/x-phabricator-request","creator_detail":{"email":"sfoster@mozilla.com","real_name":"Sam Foster [:sfoster] (he/him) (Out until Jan 6th)","name":"sfoster@mozilla.com","nick":"sfoster","id":430165},"creator":"sfoster@mozilla.com","flags":[],"is_patch":0,"creation_time":"2019-10-21T19:53:25Z","id":9103085,"is_obsolete":0},{"content_type":"text/x-phabricator-request","creator_detail":{"email":"sfoster@mozilla.com","real_name":"Sam Foster [:sfoster] (he/him) (Out until Jan 6th)","name":"sfoster@mozilla.com","nick":"sfoster","id":430165},"creator":"sfoster@mozilla.com","flags":[],"is_patch":0,"creation_time":"2019-10-22T20:45:56Z","id":9103373,"is_obsolete":0}]}
{"history":[{"when":"2019-08-09T22:34:18Z","changes":[{"removed":"","added":"wingo@igalia.com","field_name":"cc"}],"who":"asumu@igalia.com"},{"when":"2019-08-09T22:35:34Z","changes":[{"removed":"enhancement","added":"task","field_name":"type"}],"who":"asumu@igalia.com"},{"when":"2019-08-09T22:36:42Z","changes":[{"attachment_id":9084442,"removed":"application/vnd.ms-publisher","added":"text/plain","field_name":"attachments.mimetype"}],"who":"asumu@igalia.com"},{"when":"2019-08-12T07:45:57Z","changes":[{"removed":"","added":"jdemooij@mozilla.com","field_name":"cc"}],"who":"wingo@igalia.com"},{"when":"2019-08-12T07:46:53Z","changes":[{"removed":"","added":"mozillamarcia.knous@gmail.com","field_name":"cc"},{"removed":"","added":"needinfo?(mozillamarcia.knous@gmail.com)","field_name":"flagtypes.name"}],"who":"wingo@igalia.com"},{"when":"2019-08-12T13:34:04Z","changes":[{"removed":"UNCONFIRMED","added":"NEW","field_name":"status"},{"removed":"","added":"htusiime@mozilla.com, mpoessy@mozilla.com, nli@mozilla.com","field_name":"cc"},{"removed":"Repository Account Requests","added":"Infrastructure: LDAP","field_name":"component"},{"removed":"mozillamarcia.knous@gmail.com","added":"infra@infra-ops.bugs","field_name":"assigned_to"},{"removed":"mozilla.org","added":"Infrastructure & Operations","field_name":"product"},{"removed":"","added":"jdow@mozilla.com","field_name":"qa_contact"},{"removed":"0","added":"1","field_name":"is_confirmed"},{"removed":"needinfo?(mozillamarcia.knous@gmail.com)","added":"needinfo?(mpoessy@mozilla.com), needinfo?(htusiime@mozilla.com), needinfo?(nli@mozilla.com)","field_name":"flagtypes.name"}],"who":"mozillamarcia.knous@gmail.com"},{"when":"2019-08-12T16:14:28Z","changes":[{"removed":"needinfo?(mpoessy@mozilla.com), needinfo?(htusiime@mozilla.com), needinfo?(nli@mozilla.com)","added":"needinfo?(asumu@igalia.com)","field_name":"flagtypes.name"}],"who":"mpoessy@mozilla.com"},{"when":"2019-08-12T20:39:14Z","changes":[{"removed":"needinfo?(asumu@igalia.com)","added":"","field_name":"flagtypes.name"}],"who":"asumu@igalia.com"},{"when":"2019-08-12T20:59:46Z","changes":[{"removed":"NEW","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"","added":"2019-08-12T20:59:46Z","field_name":"cf_last_resolved"}],"who":"mpoessy@mozilla.com"}],"priority":"--","cf_due_date":null,"assigned_to_detail":{"email":"infra@infra-ops.bugs","real_name":"","name":"infra@infra-ops.bugs","nick":"infra","id":472678},"blocks":[],"creator":"asumu@igalia.com","last_change_time":"2019-08-12T20:59:46Z","is_cc_accessible":true,"keywords":[],"creator_detail":{"email":"asumu@igalia.com","real_name":"Asumu Takikawa","name":"asumu@igalia.com","nick":"asumu","id":640839},"cf_qa_whiteboard":"","comment_count":7,"cc":["htusiime@mozilla.com","jdemooij@mozilla.com","mozillamarcia.knous@gmail.com","mpoessy@mozilla.com","nli@mozilla.com","wingo@igalia.com"],"duplicates":[],"url":"","assigned_to":"infra@infra-ops.bugs","groups":[],"see_also":[],"id":1572877,"whiteboard":"","creation_time":"2019-08-09T22:33:15Z","qa_contact":"jdow@mozilla.com","depends_on":[],"regressions":[],"mentors":[],"dupe_of":null,"regressed_by":[],"cf_fx_iteration":"---","qa_contact_detail":{"email":"jdow@mozilla.com","real_name":"Justin Dow [:jabba]","name":"jdow@mozilla.com","nick":"jabba","id":371147},"resolution":"FIXED","type":"task","classification":"Other","alias":null,"op_sys":"Unspecified","cf_last_resolved":"2019-08-12T20:59:46Z","cf_fx_points":"---","status":"RESOLVED","cc_detail":[{"email":"htusiime@mozilla.com","real_name":"Hamilton Tusiime","name":"htusiime@mozilla.com","nick":"htusiime","id":592180},{"email":"jdemooij@mozilla.com","real_name":"Jan de Mooij [:jandem]","name":"jdemooij@mozilla.com","nick":"jandem","id":375297},{"email":"mozillamarcia.knous@gmail.com","real_name":"Marcia Knous [:marcia - needinfo? me]","name":"mozillamarcia.knous@gmail.com","nick":"marcia","id":8519},{"email":"mpoessy@mozilla.com","real_name":"Mike Poessy [:mpoessy]","name":"mpoessy@mozilla.com","nick":"mpoessy","id":482964},{"email":"nli@mozilla.com","real_name":"Linear Ni-Ya Li [:nli]","name":"nli@mozilla.com","nick":"nli","id":434250},{"email":"wingo@igalia.com","real_name":"Andy Wingo [:wingo]","name":"wingo@igalia.com","nick":"wingo","id":470949}],"summary":"Commit Access (Level 1) for Asumu Takikawa (asumu@igalia.com): try commit","cf_user_story":"","is_open":false,"platform":"Unspecified","severity":"normal","votes":0,"flags":[],"version":"other","mentors_detail":[],"cf_cab_review":"---","component":"Infrastructure: LDAP","is_creator_accessible":true,"is_confirmed":true,"target_milestone":"---","product":"Infrastructure & Operations","comments":[{"count":0,"text":"Created attachment 9084442\nid_rsa.pub\n\nUser Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101 Firefox/68.0","id":14291356,"creation_time":"2019-08-09T22:33:15Z","author":"asumu@igalia.com"},{"count":1,"text":"I have read, and agree to abide by, the Commit Access Requirements. (CCed Andy Wingo for Voucher)","id":14291357,"creation_time":"2019-08-09T22:34:47Z","author":"asumu@igalia.com"},{"count":2,"text":"I vouch for Asumu!  He is going to start by finishing up bug 1536404 and then move on to other wasm/JS pieces.","id":14294199,"creation_time":"2019-08-12T07:45:57Z","author":"wingo@igalia.com"},{"count":3,"text":"setting ni? as :marcia's nick indicates","id":14294201,"creation_time":"2019-08-12T07:46:53Z","author":"wingo@igalia.com"},{"count":4,"text":"Moving over to Infra for account creation.","id":14294730,"creation_time":"2019-08-12T13:34:04Z","author":"mozillamarcia.knous@gmail.com"},{"count":5,"text":"Hello,\n\nPassword has been sent via provided email. +LDAP, +SSH key, +HG, +level_1.\n\nPlease confirm when you have access so we can resolve this bug.\n\nThank you.","id":14295130,"creation_time":"2019-08-12T16:14:28Z","author":"mpoessy@mozilla.com"},{"count":6,"text":"Confirming that I have access now. Thanks!","id":14295742,"creation_time":"2019-08-12T20:39:14Z","author":"asumu@igalia.com"}],"attachments":[{"content_type":"text/plain","creator_detail":{"email":"asumu@igalia.com","real_name":"Asumu Takikawa","name":"asumu@igalia.com","nick":"asumu","id":640839},"creator":"asumu@igalia.com","flags":[],"is_patch":0,"creation_time":"2019-08-09T22:33:15Z","id":9084442,"is_obsolete":0}]}
{"history":[{"when":"2019-08-10T19:33:24Z","changes":[{"removed":"","added":"Virtual@teknik.io","field_name":"cc"},{"removed":"Untriaged","added":"Audio/Video","field_name":"component"},{"removed":"Firefox","added":"Core","field_name":"product"}],"who":"Virtual@teknik.io"},{"when":"2019-08-12T09:32:13Z","changes":[{"removed":"--","added":"P1","field_name":"priority"},{"removed":"UNCONFIRMED","added":"ASSIGNED","field_name":"status"},{"removed":"","added":"regression","field_name":"keywords"},{"removed":"","added":"apehrson@mozilla.com","field_name":"cc"},{"removed":"---","added":"yes","field_name":"cf_has_str"},{"removed":"nobody@mozilla.org","added":"apehrson@mozilla.com","field_name":"assigned_to"},{"removed":"0","added":"1","field_name":"is_confirmed"},{"removed":"---","added":"no","field_name":"cf_has_regression_range"},{"removed":"---","added":"unaffected","field_name":"cf_status_firefox_esr60"},{"removed":"---","added":"unaffected","field_name":"cf_status_firefox_esr68"},{"removed":"---","added":"unaffected","field_name":"cf_status_firefox68"},{"removed":"---","added":"unaffected","field_name":"cf_status_firefox69"},{"removed":"---","added":"?","field_name":"cf_tracking_firefox70"},{"removed":"---","added":"affected","field_name":"cf_status_firefox70"}],"who":"apehrson@mozilla.com"},{"when":"2019-08-12T14:40:30Z","changes":[{"removed":"P1","added":"P2","field_name":"priority"},{"removed":"ASSIGNED","added":"NEW","field_name":"status"},{"removed":"70 Branch","added":"69 Branch","field_name":"version"},{"removed":"","added":"1429847","field_name":"regressed_by"},{"removed":"","added":"padenot@mozilla.com","field_name":"cc"},{"removed":"apehrson@mozilla.com","added":"nobody@mozilla.org","field_name":"assigned_to"},{"removed":"Unspecified","added":"Linux","field_name":"op_sys"},{"removed":"","added":"needinfo?(padenot@mozilla.com)","field_name":"flagtypes.name"},{"removed":"unaffected","added":"affected","field_name":"cf_status_firefox69"}],"who":"apehrson@mozilla.com"},{"when":"2019-08-12T16:46:17Z","changes":[{"removed":"?","added":"+","field_name":"cf_tracking_firefox70"}],"who":"lhenry@mozilla.com"},{"when":"2019-08-14T21:13:04Z","changes":[{"removed":"","added":"mozillamarcia.knous@gmail.com","field_name":"cc"}],"who":"mozillamarcia.knous@gmail.com"},{"when":"2019-08-19T15:37:51Z","changes":[{"removed":"nobody@mozilla.org","added":"padenot@mozilla.com","field_name":"assigned_to"},{"removed":"needinfo?(padenot@mozilla.com)","added":"","field_name":"flagtypes.name"}],"who":"padenot@mozilla.com"},{"when":"2019-08-20T13:56:55Z","changes":[{"comment_id":14311178,"comment_count":5,"removed":"Ok this is because this page creates a convolver, and then sets an impulse that is 16 seconds long. This is about 120ms of computation on my i9-7940X. We set a max real-time quantum of 50ms.\n\nI'm going to do two things:\n- In this bug, I'm going to move this computation to another thread\n- In another bug, I'm going to implement something to be able to handle this more gracefully","added":"Ok this is because this page creates a convolver, and then sets an impulse that is 16 seconds long. This is about 120ms of computation on my i9-7940X. We set a max real-time quantum of 50ms on the real-time audio thread.\n\nI'm going to do two things:\n- In this bug, I'm going to move this computation to another thread\n- In another bug, I'm going to implement something to be able to handle this more gracefully","field_name":"comment_revision"}],"who":"padenot@mozilla.com"},{"when":"2019-08-21T15:21:36Z","changes":[{"removed":"","added":"khudson@mozilla.com","field_name":"cc"},{"removed":"affected","added":"wontfix","field_name":"cf_status_firefox69"}],"who":"khudson@mozilla.com"},{"when":"2019-08-23T05:48:17Z","changes":[{"removed":"","added":"https://bugzilla.mozilla.org/show_bug.cgi?id=1576059","field_name":"see_also"}],"who":"karlt@mozbugz.karlt.net"},{"when":"2019-08-26T16:29:43Z","changes":[{"attachment_id":9087092,"removed":"0","added":"1","field_name":"attachments.isobsolete"}],"who":"phab-bot@bmo.tld"},{"when":"2019-09-02T21:41:27Z","changes":[{"removed":"NEW","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"mozilla71","field_name":"target_milestone"},{"removed":"","added":"2019-09-02T21:41:27Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox71"},{"comment_id":14337753,"comment_count":11,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"dluca@mozilla.com"},{"when":"2019-09-06T18:11:41Z","changes":[{"removed":"","added":"needinfo?(padenot@mozilla.com)","field_name":"flagtypes.name"}],"who":"lhenry@mozilla.com"},{"when":"2019-09-06T18:12:05Z","changes":[{"removed":"","added":"needinfo?(vicenzi.alexandre@gmail.com)","field_name":"flagtypes.name"}],"who":"lhenry@mozilla.com"},{"when":"2019-09-07T16:09:07Z","changes":[{"removed":"needinfo?(vicenzi.alexandre@gmail.com)","added":"","field_name":"flagtypes.name"}],"who":"vicenzi.alexandre@gmail.com"},{"when":"2019-09-08T18:25:19Z","changes":[{"removed":"fixed","added":"verified","field_name":"cf_status_firefox71"}],"who":"lhenry@mozilla.com"},{"when":"2019-09-09T08:03:15Z","changes":[{"removed":"needinfo?(padenot@mozilla.com)","added":"","field_name":"flagtypes.name"},{"attachment_id":9088191,"removed":"","added":"approval-mozilla-beta?","field_name":"flagtypes.name"}],"who":"padenot@mozilla.com"},{"when":"2019-09-09T08:03:18Z","changes":[{"attachment_id":9087091,"removed":"","added":"approval-mozilla-beta?","field_name":"flagtypes.name"}],"who":"padenot@mozilla.com"},{"when":"2019-09-11T19:45:37Z","changes":[{"attachment_id":9088191,"removed":"approval-mozilla-beta?","added":"approval-mozilla-beta+","field_name":"flagtypes.name"}],"who":"lhenry@mozilla.com"},{"when":"2019-09-11T21:24:11Z","changes":[{"removed":"affected","added":"fixed","field_name":"cf_status_firefox70"},{"comment_id":14355842,"comment_count":17,"removed":"","added":"bugherder","field_name":"comment_tag"},{"comment_id":14355842,"comment_count":17,"removed":"","added":"uplift","field_name":"comment_tag"}],"who":"cbrindusan@mozilla.com"},{"when":"2019-09-11T21:42:13Z","changes":[{"attachment_id":9087091,"removed":"approval-mozilla-beta?","added":"approval-mozilla-beta+","field_name":"flagtypes.name"}],"who":"lhenry@mozilla.com"},{"when":"2019-09-11T22:46:53Z","changes":[{"comment_id":14356026,"comment_count":18,"removed":"","added":"bugherder","field_name":"comment_tag"},{"comment_id":14356026,"comment_count":18,"removed":"","added":"uplift","field_name":"comment_tag"}],"who":"cbrindusan@mozilla.com"},{"when":"2019-09-12T00:39:42Z","changes":[{"removed":"","added":"needinfo?(padenot@mozilla.com)","field_name":"flagtypes.name"}],"who":"nbeleuzu@mozilla.com"},{"when":"2019-09-12T17:49:45Z","changes":[{"removed":"","added":"cbrindusan@mozilla.com, nbeleuzu@mozilla.com","field_name":"cc"},{"removed":"needinfo?(padenot@mozilla.com)","added":"needinfo?(nbeleuzu@mozilla.com), needinfo?(cbrindusan@mozilla.com)","field_name":"flagtypes.name"}],"who":"padenot@mozilla.com"},{"when":"2019-09-13T05:51:01Z","changes":[{"removed":"","added":"bogdan.maris@softvision.ro","field_name":"cc"},{"removed":"","added":"qe-verify+","field_name":"flagtypes.name"}],"who":"bogdan.maris@softvision.ro"},{"when":"2019-09-13T06:53:30Z","changes":[{"removed":"","added":"[qa-triaged]","field_name":"cf_qa_whiteboard"},{"removed":"","added":"brindusa.tot@softvision.ro","field_name":"cc"}],"who":"brindusa.tot@softvision.ro"},{"when":"2019-09-13T10:38:26Z","changes":[{"removed":"","added":"aflorinescu@mozilla.com","field_name":"cc"},{"removed":"","added":"needinfo?(padenot@mozilla.com)","field_name":"flagtypes.name"}],"who":"aflorinescu@mozilla.com"},{"when":"2019-09-13T11:15:27Z","changes":[{"removed":"needinfo?(padenot@mozilla.com)","added":"","field_name":"flagtypes.name"}],"who":"padenot@mozilla.com"},{"when":"2019-09-13T16:59:45Z","changes":[{"removed":"fixed","added":"affected","field_name":"cf_status_firefox70"}],"who":"apehrson@mozilla.com"},{"when":"2019-09-14T19:40:28Z","changes":[{"removed":"affected","added":"fixed","field_name":"cf_status_firefox70"},{"comment_id":14361375,"comment_count":25,"removed":"","added":"bugherder","field_name":"comment_tag"},{"comment_id":14361375,"comment_count":25,"removed":"","added":"uplift","field_name":"comment_tag"}],"who":"btara@mozilla.com"},{"when":"2019-09-15T05:58:16Z","changes":[{"removed":"needinfo?(cbrindusan@mozilla.com)","added":"","field_name":"flagtypes.name"}],"who":"cbrindusan@mozilla.com"},{"when":"2019-10-02T13:31:53Z","changes":[{"attachment_id":9092414,"removed":"0","added":"1","field_name":"attachments.isobsolete"}],"who":"phab-bot@bmo.tld"},{"when":"2019-10-04T05:50:18Z","changes":[{"removed":"needinfo?(nbeleuzu@mozilla.com)","added":"","field_name":"flagtypes.name"}],"who":"nbeleuzu@mozilla.com"},{"when":"2019-10-10T13:27:07Z","changes":[{"attachment_id":9088191,"removed":"0","added":"1","field_name":"attachments.isobsolete"}],"who":"phab-bot@bmo.tld"},{"when":"2019-10-10T13:27:21Z","changes":[{"attachment_id":9087091,"removed":"0","added":"1","field_name":"attachments.isobsolete"}],"who":"phab-bot@bmo.tld"},{"when":"2019-10-11T13:17:51Z","changes":[{"removed":"RESOLVED","added":"VERIFIED","field_name":"status"},{"removed":"[qa-triaged]","added":"","field_name":"cf_qa_whiteboard"},{"removed":"qe-verify+","added":"","field_name":"flagtypes.name"},{"removed":"fixed","added":"verified","field_name":"cf_status_firefox70"}],"who":"aflorinescu@mozilla.com"}],"cf_status_firefox68":"unaffected","blocks":[],"cf_status_firefox71":"verified","is_cc_accessible":true,"keywords":["regression"],"cf_qa_whiteboard":"","url":"","qa_contact":"","cf_rank":null,"regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-09-02T21:41:27Z","cf_tracking_firefox70":"+","cf_fx_points":"---","cc_detail":[{"email":"aflorinescu@mozilla.com","real_name":"Adrian Florinescu [:aflorinescu]","name":"aflorinescu@mozilla.com","nick":"aflorinescu","id":556562},{"email":"apehrson@mozilla.com","real_name":"Andreas Pehrson [:pehrsons] (On leave; back Aug 1st 2020)","name":"apehrson@mozilla.com","nick":"pehrsons","id":489889},{"email":"bogdan.maris@softvision.ro","real_name":"Bogdan Maris [:bogdan_maris], Release Desktop QA","name":"bogdan.maris@softvision.ro","nick":"bogdan_maris","id":458188},{"email":"brindusa.tot@softvision.ro","real_name":"Brindusa Tot[:brindusat]","name":"brindusa.tot@softvision.ro","nick":"brindusat","id":553429},{"email":"cbrindusan@mozilla.com","real_name":"Cristian Brindusan [:cbrindusan]","name":"cbrindusan@mozilla.com","nick":"cbrindusan","id":600663},{"email":"khudson@mozilla.com","real_name":"Kate Hudson :k88hudson","name":"khudson@mozilla.com","nick":"k88hudson","id":556482},{"email":"mozillamarcia.knous@gmail.com","real_name":"Marcia Knous [:marcia - needinfo? me]","name":"mozillamarcia.knous@gmail.com","nick":"marcia","id":8519},{"email":"nbeleuzu@mozilla.com","real_name":"Narcis Beleuzu [:NarcisB]","name":"nbeleuzu@mozilla.com","nick":"NarcisB","id":600627},{"email":"padenot@mozilla.com","real_name":"Paul Adenot (:padenot)","name":"padenot@mozilla.com","nick":"padenot","id":404637},{"email":"Virtual@teknik.io","real_name":"Virtual_ManPL [:Virtual]  - (please needinfo? me - so I will see your comment/reply/question/etc.)","name":"Virtual@teknik.io","nick":"Virtual","id":342842}],"summary":"Voice-change-O-matic crashes tab","cf_has_str":"yes","cf_user_story":"","cf_status_firefox69":"wontfix","platform":"Unspecified","cf_status_firefox_esr60":"unaffected","votes":1,"cf_tracking_firefox74":"---","version":"69 Branch","mentors_detail":[],"cf_status_firefox74":"---","is_creator_accessible":true,"is_confirmed":true,"priority":"P2","cf_status_thunderbird_esr60":"---","assigned_to_detail":{"email":"padenot@mozilla.com","real_name":"Paul Adenot (:padenot)","name":"padenot@mozilla.com","nick":"padenot","id":404637},"creator":"vicenzi.alexandre@gmail.com","cf_status_firefox70":"verified","last_change_time":"2019-10-11T13:17:51Z","cf_fission_milestone":"---","comment_count":27,"creator_detail":{"email":"vicenzi.alexandre@gmail.com","real_name":"Alexandre Vicenzi","name":"vicenzi.alexandre@gmail.com","nick":"vicenzi.alexandre","id":499100},"cc":["aflorinescu@mozilla.com","apehrson@mozilla.com","bogdan.maris@softvision.ro","brindusa.tot@softvision.ro","cbrindusan@mozilla.com","khudson@mozilla.com","mozillamarcia.knous@gmail.com","nbeleuzu@mozilla.com","padenot@mozilla.com","Virtual@teknik.io"],"duplicates":[],"cf_tracking_thunderbird_esr60":"---","cf_tracking_firefox_esr68":"---","assigned_to":"padenot@mozilla.com","groups":[],"see_also":["https://bugzilla.mozilla.org/show_bug.cgi?id=1576059"],"id":1572878,"whiteboard":"","creation_time":"2019-08-09T22:36:50Z","cf_status_firefox_esr68":"unaffected","cf_tracking_firefox72":"---","depends_on":[],"cf_status_firefox73":"---","cf_webcompat_priority":"---","mentors":[],"dupe_of":null,"regressed_by":[1429847],"resolution":"FIXED","type":"defect","classification":"Components","alias":null,"cf_has_regression_range":"no","op_sys":"Linux","status":"VERIFIED","cf_tracking_thunderbird_esr68":"---","cf_crash_signature":"","is_open":false,"severity":"normal","cf_status_firefox72":"---","flags":[],"component":"Audio/Video","cf_tracking_firefox73":"---","product":"Core","target_milestone":"mozilla71","cf_status_thunderbird_esr68":"---","comments":[{"count":0,"text":"User Agent: Mozilla/5.0 (X11; Linux x86_64; rv:70.0) Gecko/20100101 Firefox/70.0\n\nSteps to reproduce:\n\n1. Visit https://mdn.github.io/voice-change-o-matic/\n2. Try to play something (select something on combo box or click somewhere in the page)\n\n\nActual results:\n\nTab crashes.\n\n\nExpected results:\n\nNot crash.\n\nCan reproduce on Ubuntu 18 under NIghtly 70.0a1 (2019-08-09).\nIt crashes when asking for Mic permission.\nTested under clean profile.\nNo crash report is available on about:crashes.","id":14291358,"creation_time":"2019-08-09T22:36:50Z","author":"vicenzi.alexandre@gmail.com"},{"count":1,"text":"Thanks for the report! I can reproduce.\n\n[Tracking Requested - why for this release]:\ngetUserMedia crash regression","id":14294326,"creation_time":"2019-08-12T09:32:13Z","author":"apehrson@mozilla.com"},{"count":2,"text":"I'm only able to reproduce this in firefox-trunk on the profile I use daily. If I hook it up with a fresh profile, or run another build with mozregression, it doesn't repro. Under rr it doesn't repro either.\n\nI managed to repro with gdb attached to the child process - it gets a SIGKILL. But who kills it?","id":14294747,"creation_time":"2019-08-12T13:43:32Z","author":"apehrson@mozilla.com"},{"count":3,"text":"With some profile fiddling and mozregression I tracked this down to bug 1429847.\n\nThat makes sense -- we overshoot the hard realtime limit for some reason, and rtkit gives us the SIGKILL.\nThis does work in most cases. I'm not sure what this page is doing that is special. That - and the fact that only linux is affected makes this lower priority. Changing to P2.\n\nPaul, can you take a look when you're back?","id":14294855,"creation_time":"2019-08-12T14:40:30Z","author":"apehrson@mozilla.com"},{"count":4,"text":"Discussed during triage today. I missed the fact that this is Linux only. I agree that it can wait until Paul comes back to be addressed.","id":14300795,"creation_time":"2019-08-14T21:13:04Z","author":"mozillamarcia.knous@gmail.com"},{"count":5,"text":"Ok this is because this page creates a convolver, and then sets an impulse that is 16 seconds long. This is about 120ms of computation on my i9-7940X. We set a max real-time quantum of 50ms on the real-time audio thread.\n\nI'm going to do two things:\n- In this bug, I'm going to move this computation to another thread\n- In another bug, I'm going to implement something to be able to handle this more gracefully","id":14311178,"creation_time":"2019-08-20T13:56:34Z","author":"padenot@mozilla.com"},{"count":6,"text":"Created attachment 9087091\nBug 1572878 - Add a new method on AudioNodeStream, to be able to set a Reverb object on a ConvolverNode, from the main thread, using a ControlMessage. r?karlt","id":14313790,"creation_time":"2019-08-21T15:27:17Z","author":"padenot@mozilla.com"},{"count":7,"text":"Created attachment 9087092\nBug 1572878 - Initialize the Reverb object of ConvovlerNodes asynchronously to avoid blocking the audio rendering thread, when running on a real-time AudioContext. r?karlt\n\nThis is using the MediaDecoding thread pool because it is expected that it has\nalready been started shortly before creating the ConvolverNode, because the\nimpulse itself had to be decoded.\n\nThis is bouncing the data from the main thread to a media thread pool thread,\nwhere the reverb object is initialized (this is the expensive part), then back\nto the main thread, and then to the MSG thread.\n\nWhen this process is finished, the reference on the task queue is dropped,\nattempting to free the threads.\n\nOn an OfflineAudioContext, the behaviour is largely unchanged.","id":14313791,"creation_time":"2019-08-21T15:27:26Z","author":"padenot@mozilla.com"},{"count":8,"text":"Created attachment 9088080\nConvolverNode instantaneous start testcase\n\nTestcase for https://phabricator.services.mozilla.com/D42901?id=151346","id":14322459,"creation_time":"2019-08-26T10:07:56Z","author":"karlt@mozbugz.karlt.net"},{"count":9,"text":"Created attachment 9088191\nBug 1572878 - Compute the reverb on the main thread. r?karlt\n\nThis is necessary to keep the invariant that once the setter returns, the reverb\nis ready to process.","id":14323182,"creation_time":"2019-08-26T16:26:31Z","author":"padenot@mozilla.com"},{"count":10,"text":"Pushed by padenot@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/af6f58a90573\nAdd a new method on AudioNodeStream, to be able to set a Reverb object on a ConvolverNode, from the main thread, using a ControlMessage. r=karlt\nhttps://hg.mozilla.org/integration/autoland/rev/3291687c7cf7\nCompute the reverb on the main thread. r=karlt","id":14337235,"creation_time":"2019-09-02T13:06:07Z","author":"pulsebot@bots.tld"},{"count":11,"text":"https://hg.mozilla.org/mozilla-central/rev/af6f58a90573\nhttps://hg.mozilla.org/mozilla-central/rev/3291687c7cf7","id":14337753,"creation_time":"2019-09-02T21:41:27Z","author":"dluca@mozilla.com"},{"count":12,"text":"Can you request uplift to beta? Thanks!","id":14346398,"creation_time":"2019-09-06T18:11:41Z","author":"lhenry@mozilla.com"},{"count":13,"text":"Would you mind testing with the latest Nightly to verify the issue is fixed?","id":14346400,"creation_time":"2019-09-06T18:12:05Z","author":"lhenry@mozilla.com"},{"count":14,"text":"(In reply to Liz Henry (:lizzard) from comment #13)\n> Would you mind testing with the latest Nightly to verify the issue is fixed?\n\nIssue is fixed in 71.0a1 (2019-09-07).\n\nhttps://mdn.github.io/voice-change-o-matic works as expected.","id":14347486,"creation_time":"2019-09-07T16:09:07Z","author":"vicenzi.alexandre@gmail.com"},{"count":15,"text":"Comment on attachment 9088191\nBug 1572878 - Compute the reverb on the main thread. r?karlt\n\n### Beta/Release Uplift Approval Request\n* **User impact if declined**: Crash with SIGKILL of the content process.\n* **Is this code covered by automated tests?**: No\n* **Has the fix been verified in Nightly?**: Yes\n* **Needs manual test from QE?**: No\n* **If yes, steps to reproduce**: Load https://mdn.github.io/voice-change-o-matic/, accept the prompt\n* **List of other uplifts needed**: None\n* **Risk to taking this patch**: Low\n* **Why is the change risky/not risky? (and alternatives if risky)**: This is making Firefox behave like Chrome. Not a complicated patch.\n* **String changes made/needed**:","id":14349767,"creation_time":"2019-09-09T08:03:15Z","author":"padenot@mozilla.com"},{"count":16,"text":"Comment on attachment 9088191\nBug 1572878 - Compute the reverb on the main thread. r?karlt\n\nCrash fix, verified in nightly, let's take this for beta 6.","id":14355649,"creation_time":"2019-09-11T19:45:37Z","author":"lhenry@mozilla.com"},{"count":17,"text":"https://hg.mozilla.org/releases/mozilla-beta/rev/bebd155150c8","id":14355842,"creation_time":"2019-09-11T21:24:11Z","author":"cbrindusan@mozilla.com"},{"count":18,"text":"https://hg.mozilla.org/releases/mozilla-beta/rev/f0c0707cc365","id":14356026,"creation_time":"2019-09-11T22:46:53Z","author":"cbrindusan@mozilla.com"},{"count":19,"text":"Backed out for mda failures on test_convolverNodeOOM.html\n\nBackout link: https://hg.mozilla.org/releases/mozilla-beta/rev/2228823d219f25bef2c69de9c58760a85f42a973\nLog link: https://treeherder.mozilla.org/logviewer.html#/jobs?job_id=266204400&repo=mozilla-beta&lineNumber=74629","id":14356494,"creation_time":"2019-09-12T00:39:42Z","author":"nbeleuzu@mozilla.com"},{"count":20,"text":"Created attachment 9092414\nBug 1572878 - Take a test fix from 1576656.","id":14358049,"creation_time":"2019-09-12T17:46:50Z","author":"padenot@mozilla.com"},{"count":21,"text":"Narcis, Cristian, this is a bit of a test fix that is missing. It was landed in bug 1576656 (originally landed at the same time), but I attached just the required bit here if that's helpful. You can re-land the three together and it will work, or uplift bug 1576656 as well (it's not very big: a spec fix and an added test), to get the exact state in which central is right now. Thanks!","id":14358058,"creation_time":"2019-09-12T17:49:45Z","author":"padenot@mozilla.com"},{"count":22,"text":"Tried to verify the fix on Ubuntu 16.04 x64, assuming that what's left to uplift shouldn't affect the crash. However, seems that I still get a tab crash without the remaining patch uplifted:\n\n- 71.0a1 20190912215412    - problem is fixed\n- 70.0b5 20190909162732  - problem reproduces, tab crashes (expected, fix not uplifted to b5)\n- 70.0b6 20190912160217   - problem still reproduces, tab crashes\n\nPaul, is this expected? Is the remaining patch needed for this fix on b6? Also, is this affecting and should be verified on the rest of OS'es (windows/mac)?","id":14359491,"creation_time":"2019-09-13T10:38:26Z","author":"aflorinescu@mozilla.com"},{"count":23,"text":"it's been backed out, can you try again when this has re-landed ?","id":14359515,"creation_time":"2019-09-13T11:15:27Z","author":"padenot@mozilla.com"},{"count":24,"text":"Let's update the flags accordingly.","id":14360167,"creation_time":"2019-09-13T16:59:45Z","author":"apehrson@mozilla.com"},{"count":25,"text":"https://hg.mozilla.org/releases/mozilla-beta/rev/cf977ea491dd\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/bb72b1c4113e\nhttps://hg.mozilla.org/releases/mozilla-beta/rev/b76c6c0285e0","id":14361375,"creation_time":"2019-09-14T19:40:28Z","author":"btara@mozilla.com"},{"count":26,"text":"No idea how this uplift skipped between the cracks of the uplift verification, but verified in b14 anyways on Ubuntu 16.04 using Firefox 70.0b14 20191010142853 and double checked Firefox 71.0a1 20191010214019, just to be sure.","id":14418664,"creation_time":"2019-10-11T13:17:51Z","author":"aflorinescu@mozilla.com"}],"attachments":[{"content_type":"text/x-phabricator-request","creator_detail":{"email":"padenot@mozilla.com","real_name":"Paul Adenot (:padenot)","name":"padenot@mozilla.com","nick":"padenot","id":404637},"creator":"padenot@mozilla.com","flags":[{"modification_date":"2019-09-11T21:42:13Z","creation_date":"2019-09-09T08:03:18Z","type_id":721,"status":"+","name":"approval-mozilla-beta","id":1908688,"setter":"lhenry@mozilla.com"}],"is_patch":0,"creation_time":"2019-08-21T15:27:17Z","id":9087091,"is_obsolete":1},{"content_type":"text/x-phabricator-request","creator_detail":{"email":"padenot@mozilla.com","real_name":"Paul Adenot (:padenot)","name":"padenot@mozilla.com","nick":"padenot","id":404637},"creator":"padenot@mozilla.com","flags":[],"is_patch":0,"creation_time":"2019-08-21T15:27:26Z","id":9087092,"is_obsolete":1},{"content_type":"text/html","creator_detail":{"email":"karlt@mozbugz.karlt.net","real_name":"Karl Tomlinson (back Jan 28 :karlt)","name":"karlt@mozbugz.karlt.net","nick":"karlt","id":274246},"creator":"karlt@mozbugz.karlt.net","flags":[],"is_patch":0,"creation_time":"2019-08-26T10:07:56Z","id":9088080,"is_obsolete":0},{"content_type":"text/x-phabricator-request","creator_detail":{"email":"padenot@mozilla.com","real_name":"Paul Adenot (:padenot)","name":"padenot@mozilla.com","nick":"padenot","id":404637},"creator":"padenot@mozilla.com","flags":[{"modification_date":"2019-09-11T19:45:37Z","creation_date":"2019-09-09T08:03:15Z","type_id":721,"status":"+","name":"approval-mozilla-beta","id":1908687,"setter":"lhenry@mozilla.com"}],"is_patch":0,"creation_time":"2019-08-26T16:26:31Z","id":9088191,"is_obsolete":1},{"content_type":"text/x-phabricator-request","creator_detail":{"email":"padenot@mozilla.com","real_name":"Paul Adenot (:padenot)","name":"padenot@mozilla.com","nick":"padenot","id":404637},"creator":"padenot@mozilla.com","flags":[],"is_patch":0,"creation_time":"2019-09-12T17:46:50Z","id":9092414,"is_obsolete":1}]}
{"history":[{"when":"2019-08-14T09:09:41Z","changes":[{"removed":"NEW","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"mozilla70","field_name":"target_milestone"},{"removed":"","added":"2019-08-14T09:09:41Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox70"},{"comment_id":14299194,"comment_count":3,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"aryx.bugmail@gmx-topmail.de"},{"when":"2019-08-14T23:04:20Z","changes":[{"removed":"","added":"cpeterson@mozilla.com","field_name":"cc"},{"removed":"---","added":"wontfix","field_name":"cf_status_firefox69"}],"who":"cpeterson@mozilla.com"}],"blocks":[],"is_cc_accessible":true,"keywords":[],"cf_qa_whiteboard":"","url":"","qa_contact":"","cf_rank":null,"regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-08-14T09:09:41Z","cf_fx_points":"---","cc_detail":[{"email":"cpeterson@mozilla.com","real_name":"Chris Peterson [:cpeterson]","name":"cpeterson@mozilla.com","nick":"cpeterson","id":430528}],"summary":"Add bug information to the CHANGELOG","cf_has_str":"---","cf_user_story":"","cf_status_firefox69":"wontfix","platform":"Unspecified","votes":0,"cf_tracking_firefox74":"---","version":"unspecified","mentors_detail":[],"cf_status_firefox74":"---","is_creator_accessible":true,"is_confirmed":true,"priority":"P3","assigned_to_detail":{"email":"agi@sferro.dev","real_name":":Agi |  PST | he/him","name":"agi@sferro.dev","nick":"Agi","id":421286},"creator":"agi@sferro.dev","cf_status_firefox70":"fixed","last_change_time":"2019-08-14T23:04:20Z","cf_fission_milestone":"---","creator_detail":{"email":"agi@sferro.dev","real_name":":Agi |  PST | he/him","name":"agi@sferro.dev","nick":"Agi","id":421286},"comment_count":5,"cc":["cpeterson@mozilla.com"],"duplicates":[],"cf_tracking_firefox_esr68":"---","assigned_to":"agi@sferro.dev","groups":[],"see_also":[],"id":1572879,"whiteboard":"","creation_time":"2019-08-09T22:44:41Z","cf_status_firefox_esr68":"---","cf_tracking_firefox72":"---","depends_on":[],"cf_status_firefox73":"---","cf_webcompat_priority":"---","mentors":[],"dupe_of":null,"regressed_by":[],"resolution":"FIXED","type":"task","classification":"Components","alias":null,"cf_has_regression_range":"---","op_sys":"All","status":"RESOLVED","cf_crash_signature":"","is_open":false,"severity":"normal","cf_status_firefox72":"---","flags":[],"component":"General","cf_tracking_firefox73":"---","product":"GeckoView","target_milestone":"mozilla70","comments":[{"count":0,"text":"We talked about it many times, let's add a bug link for every line in the changelog. I'll back fill this for v70.","id":14291363,"creation_time":"2019-08-09T22:44:41Z","author":"agi@sferro.dev"},{"count":1,"text":"Created attachment 9084444\nBug 1572879 - [geckoview] Add bug links to the CHANGELOG.","id":14291364,"creation_time":"2019-08-09T22:45:27Z","author":"agi@sferro.dev"},{"count":2,"text":"Pushed by asferro@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/f1b8cf08d048\n[geckoview] Add bug links to the CHANGELOG. r=snorp","id":14297564,"creation_time":"2019-08-13T16:53:23Z","author":"pulsebot@bots.tld"},{"count":3,"text":"https://hg.mozilla.org/mozilla-central/rev/f1b8cf08d048","id":14299194,"creation_time":"2019-08-14T09:09:41Z","author":"aryx.bugmail@gmx-topmail.de"},{"count":4,"text":"69=wontfix because we don't need to uplift changelog fixes.","id":14301040,"creation_time":"2019-08-14T23:04:20Z","author":"cpeterson@mozilla.com"}],"attachments":[{"content_type":"text/x-phabricator-request","creator_detail":{"email":"agi@sferro.dev","real_name":":Agi |  PST | he/him","name":"agi@sferro.dev","nick":"Agi","id":421286},"creator":"agi@sferro.dev","flags":[],"is_patch":0,"creation_time":"2019-08-09T22:45:27Z","id":9084444,"is_obsolete":0}]}
{"history":[{"when":"2019-08-27T21:48:56Z","changes":[{"removed":"nobody@mozilla.org","added":"cmanchester@mozilla.com","field_name":"assigned_to"}],"who":"cmanchester@mozilla.com"},{"when":"2019-08-27T23:34:05Z","changes":[{"comment_id":14291371,"comment_count":0,"removed":"The way we specify custom toolchains means to need a path to the binary in the archive, and the way we package them means we get absolute paths. We should make sure these are resilient to changes in automation so people don't need to keep updating their local configs.","added":"The way we specify custom toolchains means we need a path to the binary in the archive, and the way we package them means we get absolute paths. We should make sure these are resilient to changes in automation so people don't need to keep updating their local configs.","field_name":"comment_revision"}],"who":"cmanchester@mozilla.com"},{"when":"2019-08-29T04:12:02Z","changes":[{"removed":"NEW","added":"RESOLVED","field_name":"status"},{"removed":"","added":"FIXED","field_name":"resolution"},{"removed":"---","added":"mozilla70","field_name":"target_milestone"},{"removed":"","added":"2019-08-29T04:12:02Z","field_name":"cf_last_resolved"},{"removed":"---","added":"fixed","field_name":"cf_status_firefox70"},{"comment_id":14329489,"comment_count":3,"removed":"","added":"bugherder","field_name":"comment_tag"}],"who":"ccoroiu@mozilla.com"}],"blocks":[1499147],"is_cc_accessible":true,"keywords":[],"cf_qa_whiteboard":"","url":"","qa_contact":"","regressions":[],"cf_fx_iteration":"---","cf_tracking_firefox_relnote":"---","cf_last_resolved":"2019-08-29T04:12:02Z","cf_fx_points":"---","cc_detail":[],"summary":"Pin paths in distributed sccache toolchain archives produced in automation","cf_has_str":"---","cf_user_story":"","platform":"Unspecified","votes":0,"cf_tracking_firefox74":"---","version":"unspecified","mentors_detail":[],"cf_status_firefox74":"---","is_creator_accessible":true,"is_confirmed":true,"priority":"--","cf_status_thunderbird_esr60":"---","assigned_to_detail":{"email":"cmanchester@mozilla.com","real_name":"Chris Manchester (:chmanchester)","name":"cmanchester@mozilla.com","nick":"chmanchester","id":432261},"creator":"cmanchester@mozilla.com","cf_status_firefox70":"fixed","last_change_time":"2019-08-29T04:12:02Z","cf_fission_milestone":"---","creator_detail":{"email":"cmanchester@mozilla.com","real_name":"Chris Manchester (:chmanchester)","name":"cmanchester@mozilla.com","nick":"chmanchester","id":432261},"comment_count":4,"cc":[],"duplicates":[],"cf_tracking_thunderbird_esr60":"---","cf_tracking_firefox_esr68":"---","assigned_to":"cmanchester@mozilla.com","groups":[],"see_also":[],"id":1572880,"whiteboard":"","creation_time":"2019-08-09T22:48:10Z","cf_status_firefox_esr68":"---","cf_tracking_firefox72":"---","depends_on":[],"cf_status_firefox73":"---","mentors":[],"dupe_of":null,"regressed_by":[],"resolution":"FIXED","type":"enhancement","classification":"Developer Infrastructure","alias":null,"cf_has_regression_range":"---","op_sys":"Unspecified","status":"RESOLVED","cf_tracking_thunderbird_esr68":"---","is_open":false,"severity":"normal","cf_status_firefox72":"---","flags":[],"component":"General","cf_tracking_firefox73":"---","product":"Firefox Build System","target_milestone":"mozilla70","cf_status_thunderbird_esr68":"---","comments":[{"count":0,"text":"The way we specify custom toolchains means we need a path to the binary in the archive, and the way we package them means we get absolute paths. We should make sure these are resilient to changes in automation so people don't need to keep updating their local configs.","id":14291371,"creation_time":"2019-08-09T22:48:10Z","author":"cmanchester@mozilla.com"},{"count":1,"text":"Created attachment 9088590\nBug 1572880 - Package dist-toolchains from a specific directory.","id":14327104,"creation_time":"2019-08-27T22:19:44Z","author":"cmanchester@mozilla.com"},{"count":2,"text":"Pushed by cmanchester@mozilla.com:\nhttps://hg.mozilla.org/integration/autoland/rev/f3741f2b3382\nPackage dist-toolchains from a specific directory. r=froydnj","id":14328755,"creation_time":"2019-08-28T18:35:55Z","author":"pulsebot@bots.tld"},{"count":3,"text":"https://hg.mozilla.org/mozilla-central/rev/f3741f2b3382","id":14329489,"creation_time":"2019-08-29T04:12:02Z","author":"ccoroiu@mozilla.com"}],"attachments":[{"content_type":"text/x-phabricator-request","creator_detail":{"email":"cmanchester@mozilla.com","real_name":"Chris Manchester (:chmanchester)","name":"cmanchester@mozilla.com","nick":"chmanchester","id":432261},"creator":"cmanchester@mozilla.com","flags":[],"is_patch":0,"creation_time":"2019-08-27T22:19:44Z","id":9088590,"is_obsolete":0}]}
{"history":[{"who":"intermittent-bug-filer@mozilla.bugs","changes":[{"removed":"","field_name":"comment_tag","comment_count":0,"comment_id":14291343,"added":"treeherder"}],"when":"2019-08-09T22:17:08Z"},{"who":"nerli@mozilla.com","changes":[{"field_name":"cc","removed":"","added":"nerli@mozilla.com"}],"when":"2019-08-09T22:17:14Z"},{"who":"dvarga@mozilla.com","changes":[{"field_name":"cc","removed":"","added":"bdahl@mozilla.com, dvarga@mozilla.com"},{"added":"needinfo?(bdahl@mozilla.com)","field_name":"flagtypes.name","removed":""}],"when":"2019-08-11T02:29:12Z"},{"who":"bdahl@mozilla.com","changes":[{"removed":"needinfo?(bdahl@mozilla.com)","field_name":"flagtypes.name","added":""}],"when":"2019-08-12T18:01:38Z"},{"who":"dvarga@mozilla.com","when":"2019-08-14T02:14:29Z","changes":[{"field_name":"status","removed":"NEW","added":"RESOLVED"},{"removed":"","field_name":"resolution","added":"DUPLICATE"},{"removed":"","field_name":"cf_last_resolved","added":"2019-08-14T02:14:29Z"}]}],"version":"unspecified","mentors_detail":[],"cf_crash_signature":"","cf_status_firefox74":"---","is_creator_accessible":true,"regressed_by":[],"assigned_to":"nobody@mozilla.org","cf_tracking_firefox74":"---","duplicates":[],"summary":"Intermittent A content process crashed and MOZ_CRASHREPORTER_SHUTDOWN is set, shutting down after ReferenceError: must call super constructor before using 'this' in derived class constructor","creator_detail":{"nick":"intermittent-bug-filer","real_name":"Treeherder Bug Filer","id":573381,"email":"intermittent-bug-filer@mozilla.bugs","name":"intermittent-bug-filer@mozilla.bugs"},"is_confirmed":true,"regressions":[],"cf_tracking_firefox_relnote":"---","url":"","resolution":"DUPLICATE","cf_tracking_firefox_esr68":"---","comment_count":8,"cc":["bdahl@mozilla.com","dvarga@mozilla.com","nerli@mozilla.com"],"cf_fx_points":"---","qa_contact":"","classification":"Components","cf_fx_iteration":"---","id":1572874,"keywords":["intermittent-failure","regression"],"status":"RESOLVED","cf_webcompat_priority":"---","creation_time":"2019-08-09T22:17:08Z","cf_status_firefox_esr68":"---","cf_status_thunderbird_esr68":"---","cf_last_resolved":"2019-08-14T02:14:29Z","target_milestone":"---","mentors":[],"priority":"P5","cf_has_str":"---","blocks":[],"op_sys":"Unspecified","depends_on":[],"see_also":[],"cf_has_regression_range":"---","flags":[],"product":"Core","is_open":false,"cf_status_firefox73":"---","cf_status_thunderbird_esr60":"---","cc_detail":[{"name":"bdahl@mozilla.com","nick":"bdahl","real_name":"Brendan Dahl [:bdahl]","id":425126,"email":"bdahl@mozilla.com"},{"id":619117,"real_name":"Daniel Varga [:dvarga]","email":"dvarga@mozilla.com","nick":"dvarga","name":"dvarga@mozilla.com"},{"name":"nerli@mozilla.com","nick":"noemi_erli","email":"nerli@mozilla.com","real_name":"Noemi Erli[:noemi_erli]","id":600656}],"creator":"intermittent-bug-filer@mozilla.bugs","cf_rank":null,"cf_user_story":"","votes":0,"severity":"normal","is_cc_accessible":true,"cf_tracking_firefox73":"---","last_change_time":"2019-08-19T12:40:14Z","cf_status_firefox75":"---","groups":[],"whiteboard":"","cf_fission_milestone":"---","dupe_of":1573281,"cf_qa_whiteboard":"","type":"defect","assigned_to_detail":{"name":"nobody@mozilla.org","nick":"nobody","email":"nobody@mozilla.org","real_name":"Nobody; OK to take it and work on it","id":1},"cf_tracking_thunderbird_esr68":"---","component":"DOM: Core & HTML","cf_tracking_thunderbird_esr60":"---","alias":null,"cf_tracking_firefox75":"---","platform":"Unspecified","comments":[{"id":14291343,"count":0,"text":"**Filed by:** nerli [at] mozilla.com\n**Parsed log:** https://treeherder.mozilla.org/logviewer.html#?job_id=260858927&repo=autoland\n**Full log:** https://queue.taskcluster.net/v1/task/Isue7cuhQmiLwg-hpW5k_A/runs/0/artifacts/public/logs/live_backing.log\n**Reftest URL:** https://hg.mozilla.org/mozilla-central/raw-file/tip/layout/tools/reftest/reftest-analyzer.xhtml#logurl=https://queue.taskcluster.net/v1/task/Isue7cuhQmiLwg-hpW5k_A/runs/0/artifacts/public/logs/live_backing.log&only_show_unexpected=1\n\n---\n\n[task 2019-08-09T21:23:02.030Z] 21:23:02     INFO - REFTEST TEST-START | file:///Z:/task_1565383908/build/tests/reftest/tests/dom/base/crashtests/1419902.html\n[task 2019-08-09T21:23:02.030Z] 21:23:02     INFO - REFTEST INFO | SET PREFERENCE pref(dom.disable_open_during_load,false)\n[task 2019-08-09T21:23:02.030Z] 21:23:02     INFO - REFTEST TEST-LOAD | file:///Z:/task_1565383908/build/tests/reftest/tests/dom/base/crashtests/1419902.html | 312 / 3786 (8%)\n[task 2019-08-09T21:23:02.060Z] 21:23:02     INFO - JavaScript error: file:///Z:/task_1565383908/build/tests/reftest/tests/dom/base/crashtests/1419902.html, line 7: too much recursion\n[task 2019-08-09T21:23:02.062Z] 21:23:02     INFO - JavaScript error: file:///Z:/task_1565383908/build/tests/reftest/tests/dom/base/crashtests/1419902.html, line 8: ReferenceError: must call super constructor before using 'this' in derived class constructor\n[task 2019-08-09T21:23:02.072Z] 21:23:02     INFO - JavaScript error: file:///Z:/task_1565383908/build/tests/reftest/tests/dom/base/crashtests/1419902.html, line 8: ReferenceError: must call super constructor before using 'this' in derived class constructor\n[task 2019-08-09T21:23:02.115Z] 21:23:02    ERROR - A content process crashed and MOZ_CRASHREPORTER_SHUTDOWN is set, shutting down\n[task 2019-08-09T21:23:02.344Z] 21:23:02     INFO - [Parent 608, Gecko_IOThread] WARNING: file z:/build/build/src/ipc/chromium/src/base/process_util_win.cc, line 160\n[task 2019-08-09T21:23:02.363Z] 21:23:02     INFO - [Parent 608, Gecko_IOThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.363Z] 21:23:02     INFO - [Child 7880, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.363Z] 21:23:02     INFO - [Child 7880, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.368Z] 21:23:02     INFO - [GPU 11228, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.369Z] 21:23:02     INFO - [GPU 11228, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.369Z] 21:23:02     INFO - ###!!! [Parent][RunMessage] Error: Channel closing: too late to send/recv, messages will be lost\n[task 2019-08-09T21:23:02.370Z] 21:23:02     INFO - [GPU 11228, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.370Z] 21:23:02     INFO - [GPU 11228, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.370Z] 21:23:02     INFO - [Parent 608, Gecko_IOThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.370Z] 21:23:02     INFO - [Parent 608, Gecko_IOThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.380Z] 21:23:02     INFO - !!! error running onStopped callback: TypeError: callback is not a function\n[task 2019-08-09T21:23:02.430Z] 21:23:02     INFO - [Parent 608, Gecko_IOThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.440Z] 21:23:02     INFO - [Child 8116, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.441Z] 21:23:02     INFO - [Child 8116, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.441Z] 21:23:02     INFO - [Parent 608, Gecko_IOThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.442Z] 21:23:02     INFO - [GPU 11228, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.442Z] 21:23:02     INFO - [GPU 11228, Chrome_ChildThread] WARNING: pipe error: 109: file z:/build/build/src/ipc/chromium/src/chrome/common/ipc_channel_win.cc, line 341\n[task 2019-08-09T21:23:02.442Z] 21:23:02     INFO - ###!!! [Parent][RunMessage] Error: Channel closing: too late to send/recv, messages will be lost\n[task 2019-08-09T21:23:02.442Z] 21:23:02     INFO - [GPU 11228, Chrome_ChildThread] WARNING: pipe error: 109: file z:/bui","author":"intermittent-bug-filer@mozilla.bugs","creation_time":"2019-08-09T22:17:08Z"},{"id":14292004,"creation_time":"2019-08-11T02:29:12Z","count":1,"author":"dvarga@mozilla.com","text":"bdahl: Could this be related to your push: https://treeherder.mozilla.org/#/jobs?repo=autoland&searchStr=windows%2C10%2Cx64%2Casan%2Creftests%2Ctest-windows10-64-asan%2Fopt-crashtest-e10s%2Cr%28c%29&revision=f2c97aac3c4b685c1466feb122aa90ebd30ce075?\n\nRetrigger link: https://treeherder.mozilla.org/#/jobs?repo=autoland&fromchange=4c86b78c1ce2ae3190678ecf7dcaafa4e989c84f&searchStr=windows%2C10%2Cx64%2Casan%2Creftests%2Ctest-windows10-64-asan%2Fopt-crashtest-e10s%2Cr%28c%29&selectedJob=260867274"},{"creation_time":"2019-08-12T06:44:05Z","author":"orangefactor@bots.tld","count":2,"text":"13 failures in 4666 pushes (0.003 failures/push) were associated with this bug in the last 7 days.\n\nRepository breakdown:\n* autoland: 10\n* mozilla-inbound: 1\n* mozilla-central: 2\n\nPlatform breakdown:\n* windows10-64: 13\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1572874&startday=2019-08-05&endday=2019-08-11&tree=all","id":14293993},{"id":14295378,"creation_time":"2019-08-12T18:01:38Z","author":"bdahl@mozilla.com","count":3,"text":"(In reply to Daniel Varga [:dvarga] from comment #1)\n> bdahl: Could this be related to your push\n\nI don't think so, that test is using an HTMLDocument and I removed a XULDocument so I think it's unlikely."},{"id":14298713,"text":"\n\n*** This bug has been marked as a duplicate of bug 1494117 ***","author":"dvarga@mozilla.com","count":4,"creation_time":"2019-08-14T02:14:29Z"},{"id":14306723,"text":"17 failures in 4839 pushes (0.004 failures/push) were associated with this bug in the last 7 days.\n\nRepository breakdown:\n* autoland: 13\n* mozilla-inbound: 3\n* oak: 1\n\nPlatform breakdown:\n* windows10-64: 16\n* windows7-32-shippable: 1\n\nFor more details, see:\nhttps://treeherder.mozilla.org/intermittent-failures.html#/bugdetails?bug=1572874&startday=2019-08-12&endday=2019-08-18&tree=all","count":5,"author":"orangefactor@bots.tld","creation_time":"2019-08-19T06:12:24Z"},{"count":6,"author":"aryx.bugmail@gmx-topmail.de","text":"\n\n*** This bug has been marked as a duplicate of bug 1419902 ***","creation_time":"2019-08-19T12:39:08Z","id":14308757},{"creation_time":"2019-08-19T12:40:14Z","count":7,"author":"aryx.bugmail@gmx-topmail.de","text":"\n\n*** This bug has been marked as a duplicate of bug 1573281 ***","id":14308760}],"attachments":[]}
{"cf_rank":null,"is_open":true,"url":"","cf_status_firefox73":"---","product":"Core","creation_time":"2019-08-09T21:47:08Z","dupe_of":null,"qa_contact":"","cf_has_regression_range":"---","blocks":[],"regressed_by":[],"status":"NEW","assigned_to_detail":{"id":517691,"name":"alwu@mozilla.com","nick":"alwu","email":"alwu@mozilla.com","real_name":"Alastor Wu [:alwu]"},"id":1572869,"duplicates":[448910],"cf_status_thunderbird_esr68":"---","cf_status_firefox75":"---","cf_tracking_thunderbird_esr60":"---","cf_tracking_thunderbird_esr68":"---","cf_last_resolved":null,"regressions":[],"last_change_time":"2020-02-17T12:51:07Z","creator_detail":{"real_name":"Alastor Wu [:alwu]","email":"alwu@mozilla.com","nick":"alwu","id":517691,"name":"alwu@mozilla.com"},"votes":7,"classification":"Components","cf_tracking_firefox_esr68":"---","severity":"normal","platform":"Unspecified","keywords":["meta"],"cf_tracking_firefox73":"---","alias":"media-control","cf_webcompat_priority":"---","mentors":[],"resolution":"","is_cc_accessible":true,"cc":["BijuMailList@GMail.Com","bug.zilla@mail.com","bugzilla@zackboehm.com","bynaristar@opayq.com","cchang@mozilla.com","evilpies@gmail.com","hg.stangl@gmail.com","joshua@nozzlegear.com","jryans@gmail.com","kidhanis@gmail.com","krzysztof.glebowicz@gmail.com","marc.streckfuss@gmail.com","mb8672@protonmail.com","me@0upti.me","mkmelin+mozilla@iki.fi","myonetaps+mozillabugzilla@gmail.com","nfroyd@mozilla.com","peter@peteruithoven.nl","rtanglao@mozilla.com","victorhfmag@gmail.com","yoasif@gmail.com"],"cf_crash_signature":"","comment_count":8,"flags":[],"is_creator_accessible":true,"groups":[],"priority":"P2","cf_user_story":"","cc_detail":[{"name":"BijuMailList@GMail.Com","id":80752,"email":"BijuMailList@GMail.Com","nick":"BijuMailList","real_name":"Biju"},{"email":"bug.zilla@mail.com","nick":"bug.zilla","real_name":"","name":"bug.zilla@mail.com","id":432697},{"real_name":"Zack Boehm","email":"bugzilla@zackboehm.com","nick":"bugzilla","name":"bugzilla@zackboehm.com","id":498063},{"id":632242,"name":"bynaristar@opayq.com","real_name":"","email":"bynaristar@opayq.com","nick":"bynaristar"},{"name":"cchang@mozilla.com","id":521646,"email":"cchang@mozilla.com","nick":"chunmin","real_name":"C.M.Chang[:chunmin]"},{"real_name":"Tom Schuster [:evilpie]","email":"evilpies@gmail.com","nick":"evilpie","name":"evilpies@gmail.com","id":393835},{"real_name":"","nick":"hg.stangl","email":"hg.stangl@gmail.com","name":"hg.stangl@gmail.com","id":655593},{"real_name":"Joshua Harms","nick":"joshua","email":"joshua@nozzlegear.com","id":616599,"name":"joshua@nozzlegear.com"},{"real_name":"J. Ryan Stinnett [:jryans] (Use needinfo, replies may be slow)","nick":"jryans","email":"jryans@gmail.com","id":282978,"name":"jryans@gmail.com"},{"id":611782,"name":"kidhanis@gmail.com","real_name":"Kidhanis","email":"kidhanis@gmail.com","nick":"kidhanis"},{"nick":"krzysztof.glebowicz","email":"krzysztof.glebowicz@gmail.com","real_name":"Krzysztof","name":"krzysztof.glebowicz@gmail.com","id":442930},{"name":"marc.streckfuss@gmail.com","id":647733,"nick":"MeFisto94","email":"marc.streckfuss@gmail.com","real_name":"Marc Streckfu [:MeFisto94]"},{"email":"mb8672@protonmail.com","nick":"mb8672","real_name":"mb","id":609007,"name":"mb8672@protonmail.com"},{"name":"me@0upti.me","id":598954,"email":"me@0upti.me","nick":"me","real_name":"Ilya K"},{"id":101158,"name":"mkmelin+mozilla@iki.fi","real_name":"Magnus Melin [:mkmelin]","email":"mkmelin+mozilla@iki.fi","nick":"mkmelin"},{"real_name":"","nick":"myonetaps+mozillabugzilla","email":"myonetaps+mozillabugzilla@gmail.com","id":642375,"name":"myonetaps+mozillabugzilla@gmail.com"},{"name":"nfroyd@mozilla.com","id":417288,"real_name":"Nathan Froyd [:froydnj]","email":"nfroyd@mozilla.com","nick":"froydnj"},{"id":521541,"name":"peter@peteruithoven.nl","email":"peter@peteruithoven.nl","nick":"peter","real_name":""},{"name":"rtanglao@mozilla.com","id":352356,"nick":"rolandtanglao","email":"rtanglao@mozilla.com","real_name":"Roland Tanglao needinfo please :rolandtanglao, :mohnkuchen, :adobo, :sinigang, :roland"},{"real_name":"Victor Magalhes","nick":"victorhfmag","email":"victorhfmag@gmail.com","id":603341,"name":"victorhfmag@gmail.com"},{"name":"yoasif@gmail.com","id":347239,"email":"yoasif@gmail.com","nick":"yoasif","real_name":"Asif Youssuff"}],"cf_status_thunderbird_esr60":"---","cf_fission_milestone":"---","whiteboard":"","summary":"[meta] Control any media without interacting directly with pages where media are","type":"enhancement","cf_qa_whiteboard":"","creator":"alwu@mozilla.com","component":"Audio/Video: Playback","cf_has_str":"---","target_milestone":"---","cf_status_firefox74":"---","see_also":["https://bugzilla.mozilla.org/show_bug.cgi?id=1583858","https://bugzilla.mozilla.org/show_bug.cgi?id=1584542"],"op_sys":"Unspecified","assigned_to":"alwu@mozilla.com","cf_tracking_firefox_relnote":"---","is_confirmed":true,"depends_on":[1251795,1577890,1584501,1592037,1599938,1601510,1611235,1611328,1615112,1615270,1615375,1615665,1353652,1565689,1575995,1577367,1578615,1578945,1579588,1584029,1584030,1590579,1591230,1591288,1591608,1591620,1592151,1592454,1592461,1593131,1593826,1598968,1599591,1601144,1601379,1601508,1602336,1602617,1603527,1603544,1603878,1604653,1604691,1604962,1605769,1606588,1606782,1609452,1610723,1611021,1611031,1611272,1611332,1613600],"cf_tracking_firefox75":"---","mentors_detail":[],"version":"unspecified","cf_fx_iteration":"---","cf_tracking_firefox74":"---","cf_fx_points":"---","cf_status_firefox_esr68":"---","history":[{"who":"alwu@mozilla.com","when":"2019-08-09T21:48:54Z","changes":[{"added":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module on GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","comment_id":14291264,"removed":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n1. Support hardware media keys\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n2. Media Control Interface on desktop\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n3. external Media Control Module on GeckoView\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","field_name":"comment_revision","comment_count":0}]},{"when":"2019-08-09T22:33:46Z","who":"alwu@mozilla.com","changes":[{"comment_id":14291264,"added":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module for GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","comment_count":0,"field_name":"comment_revision","removed":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module on GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko."}]},{"when":"2019-08-09T22:53:11Z","who":"alwu@mozilla.com","changes":[{"field_name":"comment_revision","comment_count":0,"removed":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module for GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","comment_id":14291264,"added":"This is a meta bug to track all media control related issues and there are some different possible features which we could implement under this topic. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module for GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko."}]},{"changes":[{"field_name":"cc","removed":"","added":"cchang@mozilla.com"}],"who":"cchang@mozilla.com","when":"2019-08-19T22:54:55Z"},{"when":"2019-08-22T22:35:07Z","who":"alwu@mozilla.com","changes":[{"field_name":"depends_on","removed":"","added":"1575995"}]},{"changes":[{"added":"1577367","field_name":"depends_on","removed":""}],"who":"alwu@mozilla.com","when":"2019-08-29T00:33:07Z"},{"changes":[{"added":"1577890","removed":"","field_name":"depends_on"}],"when":"2019-08-30T21:06:03Z","who":"alwu@mozilla.com"},{"changes":[{"added":"1578615","removed":"","field_name":"depends_on"}],"when":"2019-09-04T02:08:54Z","who":"alwu@mozilla.com"},{"who":"alwu@mozilla.com","when":"2019-09-05T00:11:29Z","changes":[{"field_name":"depends_on","removed":"","added":"1578945"}]},{"who":"alwu@mozilla.com","when":"2019-09-07T01:28:14Z","changes":[{"added":"1579588","removed":"","field_name":"depends_on"}]},{"changes":[{"field_name":"cc","removed":"","added":"joshua@nozzlegear.com"}],"who":"joshua@nozzlegear.com","when":"2019-09-09T02:37:16Z"},{"changes":[{"removed":"","field_name":"cc","added":"krzysztof.glebowicz@gmail.com"}],"who":"krzysztof.glebowicz@gmail.com","when":"2019-09-25T11:56:15Z"},{"changes":[{"added":"1584029","field_name":"depends_on","removed":""}],"when":"2019-09-25T23:53:57Z","who":"alwu@mozilla.com"},{"changes":[{"added":"1584030","field_name":"depends_on","removed":""}],"when":"2019-09-25T23:54:55Z","who":"alwu@mozilla.com"},{"changes":[{"added":"BijuMailList@GMail.Com","field_name":"cc","removed":""}],"who":"alwu@mozilla.com","when":"2019-09-26T19:09:10Z"},{"changes":[{"added":"starletts.webs@gmail.com","field_name":"cc","removed":""}],"who":"bynaristar@opayq.com","when":"2019-09-26T19:11:09Z"},{"when":"2019-09-26T19:14:47Z","who":"mkmelin+mozilla@iki.fi","changes":[{"removed":"","field_name":"cc","added":"mkmelin+mozilla@iki.fi"}]},{"changes":[{"removed":"","field_name":"cc","added":"nfroyd@mozilla.com"}],"who":"nfroyd@mozilla.com","when":"2019-09-26T19:15:41Z"},{"changes":[{"added":"rtanglao@mozilla.com","field_name":"cc","removed":""}],"when":"2019-09-26T20:08:31Z","who":"rtanglao@mozilla.com"},{"when":"2019-09-27T00:20:03Z","who":"alwu@mozilla.com","changes":[{"field_name":"depends_on","removed":"","added":"1353652"}]},{"changes":[{"added":"1251795","field_name":"depends_on","removed":""}],"who":"alwu@mozilla.com","when":"2019-09-27T00:21:16Z"},{"changes":[{"removed":"","field_name":"depends_on","added":"1583858"}],"when":"2019-09-27T00:25:27Z","who":"alwu@mozilla.com"},{"changes":[{"removed":"","field_name":"cc","added":"marc.streckfuss@gmail.com"}],"when":"2019-09-27T11:04:00Z","who":"marc.streckfuss@gmail.com"},{"changes":[{"field_name":"depends_on","removed":"","added":"1584501"}],"who":"marc.streckfuss@gmail.com","when":"2019-09-27T14:48:54Z"},{"who":"alwu@mozilla.com","when":"2019-10-02T02:05:46Z","changes":[{"removed":"(In reply to Marc Streckfu from comment #3)\n> Speaking of [448910](https://bugzilla.mozilla.org/show_bug.cgi?id=448910), there is one take away though:\n>  1. We might need a bug to track control of regular <video> and <audio> elements\nAll those things are based on controlling <video> and <audio> tags, so I don't understand why we need another bug to track them. \nEg. In bug1575995, we are able to control those tags via mac play/pause key.\n\n>  2. We have to think about in-app-focus. What happens if I open two videos in different tabs vs different windows etc.\nAudio competing between tabs has been implemented in bug1565689. On Android, we have an android component to handle audio focus between apps.\n\n>  3. We might need a bug to track combining all the bugs, wiering up the APIs\nThat's why we use this bug to track all related implementations.","field_name":"comment_revision","comment_count":4,"comment_id":14398359,"added":"(In reply to Marc Streckfu from comment #3)\n> Speaking of [448910](https://bugzilla.mozilla.org/show_bug.cgi?id=448910), there is one take away though:\n>  1. We might need a bug to track control of regular <video> and <audio> elements\n\nAll those things are based on controlling <video> and <audio> tags, so I don't understand why we need another bug to track them. \nEg. In bug1575995, we are able to control those tags via mac play/pause key.\n\n>  2. We have to think about in-app-focus. What happens if I open two videos in different tabs vs different windows etc.\n\nAudio competing between tabs has been implemented in bug1565689. On Android, we have an android component to handle audio focus between apps.\n\n>  3. We might need a bug to track combining all the bugs, wiering up the APIs\n\nThat's why we use this bug to track all related implementations."}]},{"who":"alwu@mozilla.com","when":"2019-10-22T23:06:45Z","changes":[{"field_name":"depends_on","removed":"","added":"1590579"}]},{"when":"2019-10-24T20:47:37Z","who":"alwu@mozilla.com","changes":[{"removed":"","field_name":"depends_on","added":"1591230"}]},{"who":"alwu@mozilla.com","when":"2019-10-25T00:45:33Z","changes":[{"added":"1591288","removed":"","field_name":"depends_on"}]},{"when":"2019-10-25T21:54:54Z","who":"alwu@mozilla.com","changes":[{"added":"","field_name":"depends_on","removed":"1583858"},{"field_name":"see_also","removed":"","added":"https://bugzilla.mozilla.org/show_bug.cgi?id=1583858"}]},{"who":"alwu@mozilla.com","when":"2019-10-25T22:00:41Z","changes":[{"removed":"","field_name":"see_also","added":"https://bugzilla.mozilla.org/show_bug.cgi?id=1584542"}]},{"changes":[{"added":"1591608","field_name":"depends_on","removed":""}],"when":"2019-10-25T23:38:11Z","who":"alwu@mozilla.com"},{"changes":[{"removed":"","field_name":"depends_on","added":"1591620"}],"who":"alwu@mozilla.com","when":"2019-10-26T00:01:43Z"},{"changes":[{"added":"1592037","removed":"","field_name":"depends_on"}],"who":"alwu@mozilla.com","when":"2019-10-28T17:43:41Z"},{"who":"alwu@mozilla.com","when":"2019-10-28T23:40:24Z","changes":[{"removed":"","field_name":"depends_on","added":"1592151"}]},{"changes":[{"added":"1592454","removed":"","field_name":"depends_on"}],"who":"alwu@mozilla.com","when":"2019-10-29T23:32:56Z"},{"who":"alwu@mozilla.com","when":"2019-10-29T23:39:39Z","changes":[{"added":"1592461","field_name":"depends_on","removed":""}]},{"changes":[{"added":"1593131","removed":"","field_name":"depends_on"}],"when":"2019-10-31T21:43:16Z","who":"alwu@mozilla.com"},{"who":"alwu@mozilla.com","when":"2019-11-04T22:00:57Z","changes":[{"removed":"","field_name":"depends_on","added":"1593826"}]},{"when":"2019-11-16T15:15:38Z","who":"myonetaps+mozillabugzilla@gmail.com","changes":[{"field_name":"cc","removed":"","added":"myonetaps+mozillabugzilla@gmail.com"}]},{"who":"marc.streckfuss@gmail.com","when":"2019-11-24T18:39:40Z","changes":[{"added":"1598968","field_name":"depends_on","removed":""}]},{"changes":[{"added":"1599591","field_name":"depends_on","removed":""}],"when":"2019-11-26T21:09:49Z","who":"alwu@mozilla.com"},{"when":"2019-11-28T00:33:01Z","who":"alwu@mozilla.com","changes":[{"removed":"","field_name":"depends_on","added":"1599938"}]},{"changes":[{"added":"yoasif@gmail.com","removed":"","field_name":"cc"}],"who":"yoasif@gmail.com","when":"2019-11-28T23:42:06Z"},{"who":"alwu@mozilla.com","when":"2019-12-04T01:23:51Z","changes":[{"added":"1601144","removed":"","field_name":"depends_on"}]},{"changes":[{"added":"1601379","removed":"","field_name":"depends_on"}],"when":"2019-12-04T18:42:10Z","who":"alwu@mozilla.com"},{"when":"2019-12-05T00:35:08Z","who":"alwu@mozilla.com","changes":[{"added":"1601508","field_name":"depends_on","removed":""}]},{"changes":[{"removed":"","field_name":"depends_on","added":"1601510"}],"who":"alwu@mozilla.com","when":"2019-12-05T00:57:18Z"},{"changes":[{"field_name":"depends_on","removed":"","added":"1602336"}],"who":"alwu@mozilla.com","when":"2019-12-09T01:45:41Z"},{"changes":[{"added":"1602617","removed":"","field_name":"depends_on"}],"who":"alwu@mozilla.com","when":"2019-12-09T22:20:48Z"},{"who":"alwu@mozilla.com","when":"2019-12-12T19:00:27Z","changes":[{"added":"1603527","removed":"","field_name":"depends_on"}]},{"changes":[{"removed":"","field_name":"depends_on","added":"1603544"}],"when":"2019-12-12T19:57:16Z","who":"alwu@mozilla.com"},{"changes":[{"field_name":"depends_on","removed":"","added":"1603878"}],"when":"2019-12-13T23:39:12Z","who":"alwu@mozilla.com"},{"when":"2019-12-17T22:40:55Z","who":"alwu@mozilla.com","changes":[{"removed":"","field_name":"depends_on","added":"1604653"}]},{"who":"alwu@mozilla.com","when":"2019-12-18T04:24:48Z","changes":[{"added":"1604691","field_name":"depends_on","removed":""}]},{"who":"alwu@mozilla.com","when":"2019-12-18T23:39:39Z","changes":[{"removed":"","field_name":"depends_on","added":"1604962"}]},{"who":"victorhfmag@gmail.com","when":"2019-12-20T08:19:45Z","changes":[{"added":"victorhfmag@gmail.com","field_name":"cc","removed":""}]},{"when":"2019-12-23T19:22:26Z","who":"alwu@mozilla.com","changes":[{"field_name":"depends_on","removed":"","added":"1605769"}]},{"when":"2019-12-28T18:32:07Z","who":"bug.zilla@mail.com","changes":[{"added":"bug.zilla@mail.com","field_name":"cc","removed":""}]},{"who":"alwu@mozilla.com","when":"2020-01-02T02:29:09Z","changes":[{"field_name":"depends_on","removed":"","added":"1606588"}]},{"changes":[{"added":"1606782","field_name":"depends_on","removed":""}],"who":"alwu@mozilla.com","when":"2020-01-03T07:37:00Z"},{"changes":[{"field_name":"cc","removed":"","added":"mb8672@protonmail.com"}],"who":"mb8672@protonmail.com","when":"2020-01-05T00:22:08Z"},{"changes":[{"added":"1609452","removed":"","field_name":"depends_on"}],"when":"2020-01-15T16:22:23Z","who":"alwu@mozilla.com"},{"changes":[{"field_name":"cc","removed":"","added":"hg.stangl@gmail.com"}],"who":"hg.stangl@gmail.com","when":"2020-01-21T18:22:23Z"},{"changes":[{"removed":"","field_name":"depends_on","added":"1610723"}],"when":"2020-01-22T03:08:47Z","who":"alwu@mozilla.com"},{"when":"2020-01-23T00:40:41Z","who":"alwu@mozilla.com","changes":[{"added":"1611021","field_name":"depends_on","removed":""}]},{"changes":[{"removed":"","field_name":"depends_on","added":"1611031"}],"who":"alwu@mozilla.com","when":"2020-01-23T01:38:17Z"},{"who":"marc.streckfuss@gmail.com","when":"2020-01-23T18:30:27Z","changes":[{"removed":"","field_name":"depends_on","added":"1611235"}]},{"changes":[{"added":"1611272","removed":"","field_name":"depends_on"}],"when":"2020-01-23T20:53:33Z","who":"alwu@mozilla.com"},{"changes":[{"added":"1611328","removed":"","field_name":"depends_on"}],"when":"2020-01-24T00:21:52Z","who":"alwu@mozilla.com"},{"changes":[{"added":"1611332","field_name":"depends_on","removed":""}],"when":"2020-01-24T00:29:27Z","who":"alwu@mozilla.com"},{"changes":[{"removed":"","field_name":"depends_on","added":"1613600"}],"who":"alwu@mozilla.com","when":"2020-02-06T08:56:14Z"},{"changes":[{"added":"evilpies@gmail.com","field_name":"cc","removed":""}],"who":"evilpies@gmail.com","when":"2020-02-07T21:39:14Z"},{"changes":[{"field_name":"cc","removed":"","added":"kidhanis@gmail.com"}],"who":"kidhanis@gmail.com","when":"2020-02-08T05:13:26Z"},{"when":"2020-02-11T12:46:23Z","who":"jryans@gmail.com","changes":[{"added":"jryans@gmail.com","field_name":"cc","removed":""}]},{"who":"alwu@mozilla.com","when":"2020-02-13T00:13:29Z","changes":[{"removed":"","field_name":"depends_on","added":"1615112"}]},{"changes":[{"added":"1615270","field_name":"depends_on","removed":""}],"when":"2020-02-13T13:28:34Z","who":"marc.streckfuss@gmail.com"},{"changes":[{"field_name":"depends_on","removed":"","added":"1615375"}],"when":"2020-02-13T17:45:11Z","who":"marc.streckfuss@gmail.com"},{"who":"bugzilla@zackboehm.com","when":"2020-02-14T05:44:37Z","changes":[{"field_name":"cc","removed":"","added":"bugzilla@zackboehm.com"}]},{"changes":[{"added":"1615665","removed":"","field_name":"depends_on"}],"when":"2020-02-14T18:02:54Z","who":"alwu@mozilla.com"},{"when":"2020-02-17T12:10:56Z","who":"me@0upti.me","changes":[{"field_name":"cc","removed":"","added":"me@0upti.me"}]},{"changes":[{"added":"peter@peteruithoven.nl","field_name":"cc","removed":""}],"who":"peter@peteruithoven.nl","when":"2020-02-17T12:51:07Z"}],"comments":[{"count":0,"text":"This is a meta bug to track all media control related issues and there are some different possible features which we could implement under this topic. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module for GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","author":"alwu@mozilla.com","creation_time":"2019-08-09T21:47:08Z","id":14291264},{"count":1,"creation_time":"2019-09-26T19:09:10Z","text":"*** Bug 448910 has been marked as a duplicate of this bug. ***","author":"alwu@mozilla.com","id":14387655},{"author":"marc.streckfuss@gmail.com","text":"Depends on: [1584501] (https://bugzilla.mozilla.org/show_bug.cgi?id=1584501)","creation_time":"2019-09-27T11:04:00Z","count":2,"id":14389248},{"id":14390872,"count":3,"creation_time":"2019-09-28T11:29:49Z","text":"Speaking of [448910](https://bugzilla.mozilla.org/show_bug.cgi?id=448910), there is one take away though:\n 1. We might need a bug to track control of regular <video> and <audio> elements\n 2. We have to think about in-app-focus. What happens if I open two videos in different tabs vs different windows etc.\n 3. We might need a bug to track combining all the bugs, wiering up the APIs","author":"marc.streckfuss@gmail.com"},{"id":14398359,"text":"(In reply to Marc Streckfu from comment #3)\n> Speaking of [448910](https://bugzilla.mozilla.org/show_bug.cgi?id=448910), there is one take away though:\n>  1. We might need a bug to track control of regular <video> and <audio> elements\n\nAll those things are based on controlling <video> and <audio> tags, so I don't understand why we need another bug to track them. \nEg. In bug1575995, we are able to control those tags via mac play/pause key.\n\n>  2. We have to think about in-app-focus. What happens if I open two videos in different tabs vs different windows etc.\n\nAudio competing between tabs has been implemented in bug1565689. On Android, we have an android component to handle audio focus between apps.\n\n>  3. We might need a bug to track combining all the bugs, wiering up the APIs\n\nThat's why we use this bug to track all related implementations.","author":"alwu@mozilla.com","creation_time":"2019-10-02T02:05:28Z","count":4},{"id":14523776,"count":5,"creation_time":"2019-12-03T12:05:43Z","author":"marc.streckfuss@gmail.com","text":"One thing I have to investigate is PlayPause() vs. dedicated Play() and Pause().\nUnder MPRIS I had the \"bug\", that when pausing the video manually, I had to press my media button twice, as it's state was on \"still playing\".\n\nI think the major takeaway here is, that we need to propagate such \"MediaStateChangeEvents\" to the native backends, so the OS knows that the video has been paused (which is also important for UI/UX).\nIs that related to the Metadata, i.e.e could this be done in one pass?"},{"id":14539287,"count":6,"author":"alwu@mozilla.com","text":"(In reply to Marc Streckfu [:MeFisto94] from comment #5)\n> I think the major takeaway here is, that we need to propagate such \"MediaStateChangeEvents\" to the native backends, so the OS knows that the video has been paused (which is also important for UI/UX).\n> Is that related to the Metadata, i.e.e could this be done in one pass?\n\nYes, I've also been thinking about the same thing, we should have a event to notify when media controller playing state change or metadata change.","creation_time":"2019-12-10T18:59:30Z"},{"creation_time":"2020-01-05T00:22:08Z","author":"mb8672@protonmail.com","text":"This will annoy plenty of Mac users that use iTunes/Music/Spotify. A workaround to lock your media keys to your preferred music app is https://github.com/milgra/macmediakeyforwarder. \n\nIs there a chance of adding a pref or an toggle in Preferences for this behavior?","count":7,"id":14573022}],"attachments":[]}
{"cf_rank":null,"is_open":true,"url":"","cf_status_firefox73":"---","product":"Core","creation_time":"2019-08-09T21:47:08Z","dupe_of":null,"qa_contact":"","cf_has_regression_range":"---","blocks":[],"regressed_by":[],"status":"NEW","assigned_to_detail":{"id":517691,"name":"alwu@mozilla.com","nick":"alwu","email":"alwu@mozilla.com","real_name":"Alastor Wu [:alwu]"},"id":1556846,"duplicates":[448910],"cf_status_thunderbird_esr68":"---","cf_status_firefox75":"---","cf_tracking_thunderbird_esr60":"---","cf_tracking_thunderbird_esr68":"---","cf_last_resolved":null,"regressions":[],"last_change_time":"2020-02-17T12:51:07Z","creator_detail":{"real_name":"Alastor Wu [:alwu]","email":"alwu@mozilla.com","nick":"alwu","id":517691,"name":"alwu@mozilla.com"},"votes":7,"classification":"Components","cf_tracking_firefox_esr68":"---","severity":"normal","platform":"Unspecified","keywords":["meta"],"cf_tracking_firefox73":"---","alias":"media-control","cf_webcompat_priority":"---","mentors":[],"resolution":"","is_cc_accessible":true,"cc":["BijuMailList@GMail.Com","bug.zilla@mail.com","bugzilla@zackboehm.com","bynaristar@opayq.com","cchang@mozilla.com","evilpies@gmail.com","hg.stangl@gmail.com","joshua@nozzlegear.com","jryans@gmail.com","kidhanis@gmail.com","krzysztof.glebowicz@gmail.com","marc.streckfuss@gmail.com","mb8672@protonmail.com","me@0upti.me","mkmelin+mozilla@iki.fi","myonetaps+mozillabugzilla@gmail.com","nfroyd@mozilla.com","peter@peteruithoven.nl","rtanglao@mozilla.com","victorhfmag@gmail.com","yoasif@gmail.com"],"cf_crash_signature":"","comment_count":8,"flags":[],"is_creator_accessible":true,"groups":[],"priority":"P2","cf_user_story":"","cc_detail":[{"name":"BijuMailList@GMail.Com","id":80752,"email":"BijuMailList@GMail.Com","nick":"BijuMailList","real_name":"Biju"},{"email":"bug.zilla@mail.com","nick":"bug.zilla","real_name":"","name":"bug.zilla@mail.com","id":432697},{"real_name":"Zack Boehm","email":"bugzilla@zackboehm.com","nick":"bugzilla","name":"bugzilla@zackboehm.com","id":498063},{"id":632242,"name":"bynaristar@opayq.com","real_name":"","email":"bynaristar@opayq.com","nick":"bynaristar"},{"name":"cchang@mozilla.com","id":521646,"email":"cchang@mozilla.com","nick":"chunmin","real_name":"C.M.Chang[:chunmin]"},{"real_name":"Tom Schuster [:evilpie]","email":"evilpies@gmail.com","nick":"evilpie","name":"evilpies@gmail.com","id":393835},{"real_name":"","nick":"hg.stangl","email":"hg.stangl@gmail.com","name":"hg.stangl@gmail.com","id":655593},{"real_name":"Joshua Harms","nick":"joshua","email":"joshua@nozzlegear.com","id":616599,"name":"joshua@nozzlegear.com"},{"real_name":"J. Ryan Stinnett [:jryans] (Use needinfo, replies may be slow)","nick":"jryans","email":"jryans@gmail.com","id":282978,"name":"jryans@gmail.com"},{"id":611782,"name":"kidhanis@gmail.com","real_name":"Kidhanis","email":"kidhanis@gmail.com","nick":"kidhanis"},{"nick":"krzysztof.glebowicz","email":"krzysztof.glebowicz@gmail.com","real_name":"Krzysztof","name":"krzysztof.glebowicz@gmail.com","id":442930},{"name":"marc.streckfuss@gmail.com","id":647733,"nick":"MeFisto94","email":"marc.streckfuss@gmail.com","real_name":"Marc Streckfu [:MeFisto94]"},{"email":"mb8672@protonmail.com","nick":"mb8672","real_name":"mb","id":609007,"name":"mb8672@protonmail.com"},{"name":"me@0upti.me","id":598954,"email":"me@0upti.me","nick":"me","real_name":"Ilya K"},{"id":101158,"name":"mkmelin+mozilla@iki.fi","real_name":"Magnus Melin [:mkmelin]","email":"mkmelin+mozilla@iki.fi","nick":"mkmelin"},{"real_name":"","nick":"myonetaps+mozillabugzilla","email":"myonetaps+mozillabugzilla@gmail.com","id":642375,"name":"myonetaps+mozillabugzilla@gmail.com"},{"name":"nfroyd@mozilla.com","id":417288,"real_name":"Nathan Froyd [:froydnj]","email":"nfroyd@mozilla.com","nick":"froydnj"},{"id":521541,"name":"peter@peteruithoven.nl","email":"peter@peteruithoven.nl","nick":"peter","real_name":""},{"name":"rtanglao@mozilla.com","id":352356,"nick":"rolandtanglao","email":"rtanglao@mozilla.com","real_name":"Roland Tanglao needinfo please :rolandtanglao, :mohnkuchen, :adobo, :sinigang, :roland"},{"real_name":"Victor Magalhes","nick":"victorhfmag","email":"victorhfmag@gmail.com","id":603341,"name":"victorhfmag@gmail.com"},{"name":"yoasif@gmail.com","id":347239,"email":"yoasif@gmail.com","nick":"yoasif","real_name":"Asif Youssuff"}],"cf_status_thunderbird_esr60":"---","cf_fission_milestone":"---","whiteboard": "[rca - codingerror][rca-memory]","summary":"[meta] Control any media without interacting directly with pages where media are","type":"enhancement","cf_qa_whiteboard":"","creator":"alwu@mozilla.com","component":"Audio/Video: Playback","cf_has_str":"---","target_milestone":"---","cf_status_firefox74":"---","see_also":["https://bugzilla.mozilla.org/show_bug.cgi?id=1583858","https://bugzilla.mozilla.org/show_bug.cgi?id=1584542"],"op_sys":"Unspecified","assigned_to":"alwu@mozilla.com","cf_tracking_firefox_relnote":"---","is_confirmed":true,"depends_on":[1251795,1577890,1584501,1592037,1599938,1601510,1611235,1611328,1615112,1615270,1615375,1615665,1353652,1565689,1575995,1577367,1578615,1578945,1579588,1584029,1584030,1590579,1591230,1591288,1591608,1591620,1592151,1592454,1592461,1593131,1593826,1598968,1599591,1601144,1601379,1601508,1602336,1602617,1603527,1603544,1603878,1604653,1604691,1604962,1605769,1606588,1606782,1609452,1610723,1611021,1611031,1611272,1611332,1613600],"cf_tracking_firefox75":"---","mentors_detail":[],"version":"unspecified","cf_fx_iteration":"---","cf_tracking_firefox74":"---","cf_fx_points":"---","cf_status_firefox_esr68":"---","history":[{"who":"alwu@mozilla.com","when":"2019-08-09T21:48:54Z","changes":[{"added":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module on GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","comment_id":14291264,"removed":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n1. Support hardware media keys\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n2. Media Control Interface on desktop\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n3. external Media Control Module on GeckoView\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","field_name":"comment_revision","comment_count":0}]},{"when":"2019-08-09T22:33:46Z","who":"alwu@mozilla.com","changes":[{"comment_id":14291264,"added":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module for GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","comment_count":0,"field_name":"comment_revision","removed":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module on GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko."}]},{"when":"2019-08-09T22:53:11Z","who":"alwu@mozilla.com","changes":[{"field_name":"comment_revision","comment_count":0,"removed":"This is a meta bug to track all media control related issues and there are some different implementable features under this topics. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module for GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","comment_id":14291264,"added":"This is a meta bug to track all media control related issues and there are some different possible features which we could implement under this topic. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module for GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko."}]},{"changes":[{"field_name":"cc","removed":"","added":"cchang@mozilla.com"}],"who":"cchang@mozilla.com","when":"2019-08-19T22:54:55Z"},{"when":"2019-08-22T22:35:07Z","who":"alwu@mozilla.com","changes":[{"field_name":"depends_on","removed":"","added":"1575995"}]},{"changes":[{"added":"1577367","field_name":"depends_on","removed":""}],"who":"alwu@mozilla.com","when":"2019-08-29T00:33:07Z"},{"changes":[{"added":"1577890","removed":"","field_name":"depends_on"}],"when":"2019-08-30T21:06:03Z","who":"alwu@mozilla.com"},{"changes":[{"added":"1578615","removed":"","field_name":"depends_on"}],"when":"2019-09-04T02:08:54Z","who":"alwu@mozilla.com"},{"who":"alwu@mozilla.com","when":"2019-09-05T00:11:29Z","changes":[{"field_name":"depends_on","removed":"","added":"1578945"}]},{"who":"alwu@mozilla.com","when":"2019-09-07T01:28:14Z","changes":[{"added":"1579588","removed":"","field_name":"depends_on"}]},{"changes":[{"field_name":"cc","removed":"","added":"joshua@nozzlegear.com"}],"who":"joshua@nozzlegear.com","when":"2019-09-09T02:37:16Z"},{"changes":[{"removed":"","field_name":"cc","added":"krzysztof.glebowicz@gmail.com"}],"who":"krzysztof.glebowicz@gmail.com","when":"2019-09-25T11:56:15Z"},{"changes":[{"added":"1584029","field_name":"depends_on","removed":""}],"when":"2019-09-25T23:53:57Z","who":"alwu@mozilla.com"},{"changes":[{"added":"1584030","field_name":"depends_on","removed":""}],"when":"2019-09-25T23:54:55Z","who":"alwu@mozilla.com"},{"changes":[{"added":"BijuMailList@GMail.Com","field_name":"cc","removed":""}],"who":"alwu@mozilla.com","when":"2019-09-26T19:09:10Z"},{"changes":[{"added":"starletts.webs@gmail.com","field_name":"cc","removed":""}],"who":"bynaristar@opayq.com","when":"2019-09-26T19:11:09Z"},{"when":"2019-09-26T19:14:47Z","who":"mkmelin+mozilla@iki.fi","changes":[{"removed":"","field_name":"cc","added":"mkmelin+mozilla@iki.fi"}]},{"changes":[{"removed":"","field_name":"cc","added":"nfroyd@mozilla.com"}],"who":"nfroyd@mozilla.com","when":"2019-09-26T19:15:41Z"},{"changes":[{"added":"rtanglao@mozilla.com","field_name":"cc","removed":""}],"when":"2019-09-26T20:08:31Z","who":"rtanglao@mozilla.com"},{"when":"2019-09-27T00:20:03Z","who":"alwu@mozilla.com","changes":[{"field_name":"depends_on","removed":"","added":"1353652"}]},{"changes":[{"added":"1251795","field_name":"depends_on","removed":""}],"who":"alwu@mozilla.com","when":"2019-09-27T00:21:16Z"},{"changes":[{"removed":"","field_name":"depends_on","added":"1583858"}],"when":"2019-09-27T00:25:27Z","who":"alwu@mozilla.com"},{"changes":[{"removed":"","field_name":"cc","added":"marc.streckfuss@gmail.com"}],"when":"2019-09-27T11:04:00Z","who":"marc.streckfuss@gmail.com"},{"changes":[{"field_name":"depends_on","removed":"","added":"1584501"}],"who":"marc.streckfuss@gmail.com","when":"2019-09-27T14:48:54Z"},{"who":"alwu@mozilla.com","when":"2019-10-02T02:05:46Z","changes":[{"removed":"(In reply to Marc Streckfu from comment #3)\n> Speaking of [448910](https://bugzilla.mozilla.org/show_bug.cgi?id=448910), there is one take away though:\n>  1. We might need a bug to track control of regular <video> and <audio> elements\nAll those things are based on controlling <video> and <audio> tags, so I don't understand why we need another bug to track them. \nEg. In bug1575995, we are able to control those tags via mac play/pause key.\n\n>  2. We have to think about in-app-focus. What happens if I open two videos in different tabs vs different windows etc.\nAudio competing between tabs has been implemented in bug1565689. On Android, we have an android component to handle audio focus between apps.\n\n>  3. We might need a bug to track combining all the bugs, wiering up the APIs\nThat's why we use this bug to track all related implementations.","field_name":"comment_revision","comment_count":4,"comment_id":14398359,"added":"(In reply to Marc Streckfu from comment #3)\n> Speaking of [448910](https://bugzilla.mozilla.org/show_bug.cgi?id=448910), there is one take away though:\n>  1. We might need a bug to track control of regular <video> and <audio> elements\n\nAll those things are based on controlling <video> and <audio> tags, so I don't understand why we need another bug to track them. \nEg. In bug1575995, we are able to control those tags via mac play/pause key.\n\n>  2. We have to think about in-app-focus. What happens if I open two videos in different tabs vs different windows etc.\n\nAudio competing between tabs has been implemented in bug1565689. On Android, we have an android component to handle audio focus between apps.\n\n>  3. We might need a bug to track combining all the bugs, wiering up the APIs\n\nThat's why we use this bug to track all related implementations."}]},{"who":"alwu@mozilla.com","when":"2019-10-22T23:06:45Z","changes":[{"field_name":"depends_on","removed":"","added":"1590579"}]},{"when":"2019-10-24T20:47:37Z","who":"alwu@mozilla.com","changes":[{"removed":"","field_name":"depends_on","added":"1591230"}]},{"who":"alwu@mozilla.com","when":"2019-10-25T00:45:33Z","changes":[{"added":"1591288","removed":"","field_name":"depends_on"}]},{"when":"2019-10-25T21:54:54Z","who":"alwu@mozilla.com","changes":[{"added":"","field_name":"depends_on","removed":"1583858"},{"field_name":"see_also","removed":"","added":"https://bugzilla.mozilla.org/show_bug.cgi?id=1583858"}]},{"who":"alwu@mozilla.com","when":"2019-10-25T22:00:41Z","changes":[{"removed":"","field_name":"see_also","added":"https://bugzilla.mozilla.org/show_bug.cgi?id=1584542"}]},{"changes":[{"added":"1591608","field_name":"depends_on","removed":""}],"when":"2019-10-25T23:38:11Z","who":"alwu@mozilla.com"},{"changes":[{"removed":"","field_name":"depends_on","added":"1591620"}],"who":"alwu@mozilla.com","when":"2019-10-26T00:01:43Z"},{"changes":[{"added":"1592037","removed":"","field_name":"depends_on"}],"who":"alwu@mozilla.com","when":"2019-10-28T17:43:41Z"},{"who":"alwu@mozilla.com","when":"2019-10-28T23:40:24Z","changes":[{"removed":"","field_name":"depends_on","added":"1592151"}]},{"changes":[{"added":"1592454","removed":"","field_name":"depends_on"}],"who":"alwu@mozilla.com","when":"2019-10-29T23:32:56Z"},{"who":"alwu@mozilla.com","when":"2019-10-29T23:39:39Z","changes":[{"added":"1592461","field_name":"depends_on","removed":""}]},{"changes":[{"added":"1593131","removed":"","field_name":"depends_on"}],"when":"2019-10-31T21:43:16Z","who":"alwu@mozilla.com"},{"who":"alwu@mozilla.com","when":"2019-11-04T22:00:57Z","changes":[{"removed":"","field_name":"depends_on","added":"1593826"}]},{"when":"2019-11-16T15:15:38Z","who":"myonetaps+mozillabugzilla@gmail.com","changes":[{"field_name":"cc","removed":"","added":"myonetaps+mozillabugzilla@gmail.com"}]},{"who":"marc.streckfuss@gmail.com","when":"2019-11-24T18:39:40Z","changes":[{"added":"1598968","field_name":"depends_on","removed":""}]},{"changes":[{"added":"1599591","field_name":"depends_on","removed":""}],"when":"2019-11-26T21:09:49Z","who":"alwu@mozilla.com"},{"when":"2019-11-28T00:33:01Z","who":"alwu@mozilla.com","changes":[{"removed":"","field_name":"depends_on","added":"1599938"}]},{"changes":[{"added":"yoasif@gmail.com","removed":"","field_name":"cc"}],"who":"yoasif@gmail.com","when":"2019-11-28T23:42:06Z"},{"who":"alwu@mozilla.com","when":"2019-12-04T01:23:51Z","changes":[{"added":"1601144","removed":"","field_name":"depends_on"}]},{"changes":[{"added":"1601379","removed":"","field_name":"depends_on"}],"when":"2019-12-04T18:42:10Z","who":"alwu@mozilla.com"},{"when":"2019-12-05T00:35:08Z","who":"alwu@mozilla.com","changes":[{"added":"1601508","field_name":"depends_on","removed":""}]},{"changes":[{"removed":"","field_name":"depends_on","added":"1601510"}],"who":"alwu@mozilla.com","when":"2019-12-05T00:57:18Z"},{"changes":[{"field_name":"depends_on","removed":"","added":"1602336"}],"who":"alwu@mozilla.com","when":"2019-12-09T01:45:41Z"},{"changes":[{"added":"1602617","removed":"","field_name":"depends_on"}],"who":"alwu@mozilla.com","when":"2019-12-09T22:20:48Z"},{"who":"alwu@mozilla.com","when":"2019-12-12T19:00:27Z","changes":[{"added":"1603527","removed":"","field_name":"depends_on"}]},{"changes":[{"removed":"","field_name":"depends_on","added":"1603544"}],"when":"2019-12-12T19:57:16Z","who":"alwu@mozilla.com"},{"changes":[{"field_name":"depends_on","removed":"","added":"1603878"}],"when":"2019-12-13T23:39:12Z","who":"alwu@mozilla.com"},{"when":"2019-12-17T22:40:55Z","who":"alwu@mozilla.com","changes":[{"removed":"","field_name":"depends_on","added":"1604653"}]},{"who":"alwu@mozilla.com","when":"2019-12-18T04:24:48Z","changes":[{"added":"1604691","field_name":"depends_on","removed":""}]},{"who":"alwu@mozilla.com","when":"2019-12-18T23:39:39Z","changes":[{"removed":"","field_name":"depends_on","added":"1604962"}]},{"who":"victorhfmag@gmail.com","when":"2019-12-20T08:19:45Z","changes":[{"added":"victorhfmag@gmail.com","field_name":"cc","removed":""}]},{"when":"2019-12-23T19:22:26Z","who":"alwu@mozilla.com","changes":[{"field_name":"depends_on","removed":"","added":"1605769"}]},{"when":"2019-12-28T18:32:07Z","who":"bug.zilla@mail.com","changes":[{"added":"bug.zilla@mail.com","field_name":"cc","removed":""}]},{"who":"alwu@mozilla.com","when":"2020-01-02T02:29:09Z","changes":[{"field_name":"depends_on","removed":"","added":"1606588"}]},{"changes":[{"added":"1606782","field_name":"depends_on","removed":""}],"who":"alwu@mozilla.com","when":"2020-01-03T07:37:00Z"},{"changes":[{"field_name":"cc","removed":"","added":"mb8672@protonmail.com"}],"who":"mb8672@protonmail.com","when":"2020-01-05T00:22:08Z"},{"changes":[{"added":"1609452","removed":"","field_name":"depends_on"}],"when":"2020-01-15T16:22:23Z","who":"alwu@mozilla.com"},{"changes":[{"field_name":"cc","removed":"","added":"hg.stangl@gmail.com"}],"who":"hg.stangl@gmail.com","when":"2020-01-21T18:22:23Z"},{"changes":[{"removed":"","field_name":"depends_on","added":"1610723"}],"when":"2020-01-22T03:08:47Z","who":"alwu@mozilla.com"},{"when":"2020-01-23T00:40:41Z","who":"alwu@mozilla.com","changes":[{"added":"1611021","field_name":"depends_on","removed":""}]},{"changes":[{"removed":"","field_name":"depends_on","added":"1611031"}],"who":"alwu@mozilla.com","when":"2020-01-23T01:38:17Z"},{"who":"marc.streckfuss@gmail.com","when":"2020-01-23T18:30:27Z","changes":[{"removed":"","field_name":"depends_on","added":"1611235"}]},{"changes":[{"added":"1611272","removed":"","field_name":"depends_on"}],"when":"2020-01-23T20:53:33Z","who":"alwu@mozilla.com"},{"changes":[{"added":"1611328","removed":"","field_name":"depends_on"}],"when":"2020-01-24T00:21:52Z","who":"alwu@mozilla.com"},{"changes":[{"added":"1611332","field_name":"depends_on","removed":""}],"when":"2020-01-24T00:29:27Z","who":"alwu@mozilla.com"},{"changes":[{"removed":"","field_name":"depends_on","added":"1613600"}],"who":"alwu@mozilla.com","when":"2020-02-06T08:56:14Z"},{"changes":[{"added":"evilpies@gmail.com","field_name":"cc","removed":""}],"who":"evilpies@gmail.com","when":"2020-02-07T21:39:14Z"},{"changes":[{"field_name":"cc","removed":"","added":"kidhanis@gmail.com"}],"who":"kidhanis@gmail.com","when":"2020-02-08T05:13:26Z"},{"when":"2020-02-11T12:46:23Z","who":"jryans@gmail.com","changes":[{"added":"jryans@gmail.com","field_name":"cc","removed":""}]},{"who":"alwu@mozilla.com","when":"2020-02-13T00:13:29Z","changes":[{"removed":"","field_name":"depends_on","added":"1615112"}]},{"changes":[{"added":"1615270","field_name":"depends_on","removed":""}],"when":"2020-02-13T13:28:34Z","who":"marc.streckfuss@gmail.com"},{"changes":[{"field_name":"depends_on","removed":"","added":"1615375"}],"when":"2020-02-13T17:45:11Z","who":"marc.streckfuss@gmail.com"},{"who":"bugzilla@zackboehm.com","when":"2020-02-14T05:44:37Z","changes":[{"field_name":"cc","removed":"","added":"bugzilla@zackboehm.com"}]},{"changes":[{"added":"1615665","removed":"","field_name":"depends_on"}],"when":"2020-02-14T18:02:54Z","who":"alwu@mozilla.com"},{"when":"2020-02-17T12:10:56Z","who":"me@0upti.me","changes":[{"field_name":"cc","removed":"","added":"me@0upti.me"}]},{"changes":[{"added":"peter@peteruithoven.nl","field_name":"cc","removed":""}],"who":"peter@peteruithoven.nl","when":"2020-02-17T12:51:07Z"}],"comments":[{"count":0,"text":"This is a meta bug to track all media control related issues and there are some different possible features which we could implement under this topic. \n\n**1. Support hardware media keys**\nNo matter play/pause keys from normal keyboard, from Mac's touch bar, or from the headphone or any other hardware controllers which are desinated to control media, we should provide an ability to control media via these keys.\n\n**2. Media Control Interface on desktop**\nChrome has implemented something like that [1], which is a controller interface to play/pause/seek next or prev (if website implements that via MediaSession).\n\nWhen websites implements MediaSession, they would hook up the control to that session object. If they doesn't, controller can still control media via a default session object.\n\nAlthough we haven't had any implementation for MediaSession yet, we can still acheieve this feature by the implementation in bug1565689.\n\n[1] https://www.theverge.com/2019/7/6/20684353/google-chrome-global-media-controls-play-button-pause-experimental-test-canary\n\n**3. An external Media Control Module for GeckoView**\nWe have a media control interface on Fennec, which will show in Android notification bar and lockscreen while media is playing, but we have nothing on Fennix.\n\nSo we could implement some API to let GeckoView create an extern module which are used to control media inside Gecko.","author":"alwu@mozilla.com","creation_time":"2019-08-09T21:47:08Z","id":14291264},{"count":1,"creation_time":"2019-09-26T19:09:10Z","text":"*** Bug 448910 has been marked as a duplicate of this bug. ***","author":"alwu@mozilla.com","id":14387655},{"author":"marc.streckfuss@gmail.com","text":"Depends on: [1584501] (https://bugzilla.mozilla.org/show_bug.cgi?id=1584501)","creation_time":"2019-09-27T11:04:00Z","count":2,"id":14389248},{"id":14390872,"count":3,"creation_time":"2019-09-28T11:29:49Z","text":"Speaking of [448910](https://bugzilla.mozilla.org/show_bug.cgi?id=448910), there is one take away though:\n 1. We might need a bug to track control of regular <video> and <audio> elements\n 2. We have to think about in-app-focus. What happens if I open two videos in different tabs vs different windows etc.\n 3. We might need a bug to track combining all the bugs, wiering up the APIs","author":"marc.streckfuss@gmail.com"},{"id":14398359,"text":"(In reply to Marc Streckfu from comment #3)\n> Speaking of [448910](https://bugzilla.mozilla.org/show_bug.cgi?id=448910), there is one take away though:\n>  1. We might need a bug to track control of regular <video> and <audio> elements\n\nAll those things are based on controlling <video> and <audio> tags, so I don't understand why we need another bug to track them. \nEg. In bug1575995, we are able to control those tags via mac play/pause key.\n\n>  2. We have to think about in-app-focus. What happens if I open two videos in different tabs vs different windows etc.\n\nAudio competing between tabs has been implemented in bug1565689. On Android, we have an android component to handle audio focus between apps.\n\n>  3. We might need a bug to track combining all the bugs, wiering up the APIs\n\nThat's why we use this bug to track all related implementations.","author":"alwu@mozilla.com","creation_time":"2019-10-02T02:05:28Z","count":4},{"id":14523776,"count":5,"creation_time":"2019-12-03T12:05:43Z","author":"marc.streckfuss@gmail.com","text":"One thing I have to investigate is PlayPause() vs. dedicated Play() and Pause().\nUnder MPRIS I had the \"bug\", that when pausing the video manually, I had to press my media button twice, as it's state was on \"still playing\".\n\nI think the major takeaway here is, that we need to propagate such \"MediaStateChangeEvents\" to the native backends, so the OS knows that the video has been paused (which is also important for UI/UX).\nIs that related to the Metadata, i.e.e could this be done in one pass?"},{"id":14539287,"count":6,"author":"alwu@mozilla.com","text":"(In reply to Marc Streckfu [:MeFisto94] from comment #5)\n> I think the major takeaway here is, that we need to propagate such \"MediaStateChangeEvents\" to the native backends, so the OS knows that the video has been paused (which is also important for UI/UX).\n> Is that related to the Metadata, i.e.e could this be done in one pass?\n\nYes, I've also been thinking about the same thing, we should have a event to notify when media controller playing state change or metadata change.","creation_time":"2019-12-10T18:59:30Z"},{"creation_time":"2020-01-05T00:22:08Z","author":"mb8672@protonmail.com","text":"This will annoy plenty of Mac users that use iTunes/Music/Spotify. A workaround to lock your media keys to your preferred music app is https://github.com/milgra/macmediakeyforwarder. \n\nIs there a chance of adding a pref or an toggle in Preferences for this behavior?","count":7,"id":14573022}],"attachments":[]}
{"history":[{"changes":[{"removed":"","field_name":"flagtypes.name","added":"needinfo?(hikezoe.birchill@mozilla.com)"}],"who":"boris.chiou@gmail.com","when":"2019-10-03T20:15:08Z"},{"changes":[{"added":"UNCONFIRMED","field_name":"status","removed":"NEW"},{"added":"0","field_name":"is_confirmed","removed":"1"}],"who":"boris.chiou@gmail.com","when":"2019-10-03T20:31:35Z"},{"changes":[{"added":"NEW","field_name":"status","removed":"UNCONFIRMED"},{"added":"1","removed":"0","field_name":"is_confirmed"},{"added":"","field_name":"flagtypes.name","removed":"needinfo?(hikezoe.birchill@mozilla.com)"}],"who":"hikezoe.birchill@mozilla.com","when":"2019-10-03T21:14:40Z"},{"changes":[{"added":"https://bugzilla.mozilla.org/show_bug.cgi?id=1429305","field_name":"see_also","removed":""}],"when":"2019-10-03T21:21:33Z","who":"boris.chiou@gmail.com"},{"when":"2019-10-05T11:41:16Z","who":"mcastelluccio@mozilla.com","changes":[{"field_name":"cc","removed":"","added":"mcastelluccio@mozilla.com"},{"added":"enhancement","removed":"defect","field_name":"type"}]}],"attachments":[],"comments":[{"count":0,"text":"Not sure if this is expected behavior. For example:\n```\n@keyframes anim {\n  to {\n    transform: rotate(45deg);\n    transform-origin: 10% 90%;\n  }\n}\n#target {\n  animation: anim 5s;\n}\n<div id=\"target\"></div>\n```\nIn this case, we have an animation on `transform` and `transform-origin` properties. Basically, we run the `transform` animation on the compositor with a [fixed `transform-origin`](https://searchfox.org/mozilla-central/rev/01d1011ca4a460f751da030d455d35c267c3e210/layout/painting/nsDisplayList.cpp#763-764) value by setting it into `AnimationData`. So if we have an animation on `transform-origin`, we should fall-back to the main thread, I think. However, I tried to dump the log to make sure this, and I notice that we run this animation on the main thread indeed, but we still pass `transform` animation to the compositor thread, so we still compose `transform` animation on the compositor thread. This means we compose `transform` animation on both the compositor thread and the main thread, but `transform-origin` only runs on the main thread. Although the rendering result is correct, it seems we don't need to pass transform animation to the compositor?\nOr is this expected?","creation_time":"2019-10-03T20:14:38Z","id":14402907},{"creation_time":"2019-10-03T20:17:11Z","id":14402915,"count":1,"text":"I will close this if this is expected."},{"id":14402975,"creation_time":"2019-10-03T20:37:27Z","text":"It seems we [add the animation into the compositor](https://searchfox.org/mozilla-central/rev/01d1011ca4a460f751da030d455d35c267c3e210/layout/painting/nsDisplayList.cpp#900-901) for each tick (because we reconstruct nsDisplayTransform), so we get the up-to-date transform-origin on the compositor, so does the rendering result.","count":2},{"creation_time":"2019-10-03T21:14:40Z","id":14403040,"count":3,"text":"I am pretty sure this is a bug."},{"creation_time":"2019-10-03T21:21:02Z","id":14403053,"count":4,"text":"What I suppose we should do is make transform-origin run on the compositor."},{"text":"(In reply to Hiroyuki Ikezoe (:hiro) from comment #4)\n> What I suppose we should do is make transform-origin run on the compositor.\n\nAgree.","count":5,"id":14403055,"creation_time":"2019-10-03T21:22:11Z"}],"url":"","assigned_to_detail":{"name":"nobody@mozilla.org","nick":"nobody","id":1,"email":"nobody@mozilla.org","real_name":"Nobody; OK to take it and work on it"},"classification":"Components","depends_on":[],"status":"NEW","comment_count":6,"blocks":[],"is_open":true,"cf_qa_whiteboard":"","alias":null,"cf_has_str":"---","cf_status_firefox90":"---","votes":0,"product":"Core","cf_status_firefox_esr78":"---","duplicates":[],"priority":"P3","groups":[],"cf_rank":null,"cf_last_resolved":null,"cf_user_story":"","version":"unspecified","cc_detail":[{"nick":"birtles","name":"brian@birchill.co.jp","real_name":"Brian Birtles (:birtles)","email":"brian@birchill.co.jp","id":165012},{"name":"hikezoe.birchill@mozilla.com","nick":"hiro","id":131213,"real_name":"Hiroyuki Ikezoe (:hiro)","email":"hikezoe.birchill@mozilla.com"},{"name":"matt.woodrow@gmail.com","nick":"mattwoodrow","id":380838,"email":"matt.woodrow@gmail.com","real_name":"Matt Woodrow (:mattwoodrow)"},{"name":"mcastelluccio@mozilla.com","nick":"marco","real_name":"Marco Castelluccio [:marco]","email":"mcastelluccio@mozilla.com","id":420453}],"last_change_time":"2019-10-05T11:41:16Z","cf_fx_points":"---","whiteboard":"","cf_fx_iteration":"---","cf_tracking_firefox90":"---","assigned_to":"nobody@mozilla.org","cf_root_cause":"---","cf_tracking_firefox_esr78":"---","summary":"No need to compose transform animation on the compositor thread if we have animations on transform-origin","mentors_detail":[],"severity":"normal","cf_tracking_firefox_relnote":"---","cf_status_firefox89":"---","cf_has_regression_range":"---","keywords":[],"creator_detail":{"nick":"boris","name":"boris.chiou@gmail.com","real_name":"Boris Chiou [:boris]","email":"boris.chiou@gmail.com","id":500786},"component":"CSS Transitions and Animations","type":"enhancement","cf_status_firefox91":"---","creation_time":"2019-10-03T20:14:38Z","see_also":["https://bugzilla.mozilla.org/show_bug.cgi?id=1429305"],"cf_crash_signature":"","platform":"Unspecified","cf_tracking_thunderbird_esr78":"---","mentors":[],"target_milestone":"---","regressed_by":[],"is_creator_accessible":true,"creator":"boris.chiou@gmail.com","cc":["brian@birchill.co.jp","hikezoe.birchill@mozilla.com","matt.woodrow@gmail.com","mcastelluccio@mozilla.com"],"id":1586096,"cf_webcompat_priority":"---","cf_fission_milestone":"---","cf_status_thunderbird_esr78":"---","cf_a11y_review_project_flag":"---","is_cc_accessible":true,"resolution":"","regressions":[],"is_confirmed":true,"cf_tracking_firefox89":"---","qa_contact":"","dupe_of":null,"cf_tracking_firefox_sumo":"---","cf_tracking_firefox91":"---","flags":[],"op_sys":"Unspecified"}
{"history": [{"changes": [{"removed": "", "field_name": "cc", "added": "gavin.sharp@gmail.com"}, {"field_name": "groups", "added": "", "removed": "security"}], "when": "2008-07-20T14:09:49Z", "who": "gavin.sharp@gmail.com"}, {"changes": [{"removed": "", "field_name": "keywords", "added": "privacy"}, {"added": "NEW", "field_name": "status", "removed": "UNCONFIRMED"}, {"added": "trivial", "field_name": "severity", "removed": "major"}, {"removed": "", "added": "dveditz@cruzio.com", "field_name": "cc"}, {"removed": "0", "field_name": "is_confirmed", "added": "1"}], "who": "dveditz@mozilla.com", "when": "2008-07-20T16:54:10Z"}, {"who": "bugzilla@johnath.com", "when": "2008-07-21T13:41:34Z", "changes": [{"added": "johnath@mozilla.com", "field_name": "cc", "removed": ""}]}, {"who": "bugzilla@johnath.com", "when": "2015-03-17T13:39:21Z", "changes": [{"field_name": "cc", "added": "", "removed": "johnath@mozilla.com"}]}, {"changes": [{"removed": "--", "field_name": "priority", "added": "P5"}, {"removed": "", "field_name": "cc", "added": "jhofmann@mozilla.com"}, {"field_name": "component", "added": "Data Sanitization", "removed": "Security"}, {"added": "1102808", "field_name": "blocks", "removed": ""}, {"added": "enhancement", "field_name": "type", "removed": "defect"}, {"removed": "Firefox", "field_name": "product", "added": "Toolkit"}], "when": "2019-12-09T15:04:37Z", "who": "mail@johann-hofmann.com"}, {"changes": [{"added": "N/A", "field_name": "severity", "removed": "trivial"}, {"removed": "", "added": "pbz@mozilla.com", "field_name": "cc"}], "who": "pbz@mozilla.com", "when": "2022-01-24T16:56:05Z"}], "comments": [{"creation_time": "2008-07-20T08:12:41Z", "count": 0, "id": 3711235, "text": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; en-GB; rv:1.8.1.14) Gecko/20080404 Firefox/2.0.0.14\nBuild Identifier: Mozilla/5.0 (Windows; U; Windows NT 6.0; en-GB; rv:1.8.1.14) Gecko/20080404 Firefox/2.0.0.14\n\nWhen clicking on Clear Private Data and then saving a file, it goes back to the previously saved directory. I think this is a privacy concern.\n\nReproducible: Always\n\nSteps to Reproduce:\n1.\n2.\n3."}, {"text": "Privacy concerns that aren't remotely exploitable don't need to be kept confidential.", "id": 3711363, "count": 1, "creation_time": "2008-07-20T14:09:49Z"}, {"creation_time": "2008-07-20T16:54:10Z", "count": 2, "id": 3711446, "text": "I can confirm, if you clear your download history it does not reset the directory shown on the save-as dialog to the default download location. I can see the consistency argument for resetting, but I don't really see the privacy argument.\n\nMaybe that's because I view the \"clear download history\" thing mostly as clutter-control, not a privacy feature -- unless you're actually deleting the files someone who has the access required to read the download directory could also have found the directory and files themselves by searching on your computer disk.\n\nAs a simple test I tried the built-in Windows Search feature on the start menu. Searching for files and documents modified in a single day range it took no more than a minute or two to find my download directory.\n\nIf you're on a shared computer and don't want people to see what you've downloaded you'll have to use separate OS accounts or download to a USB stick you take with you. In either case wiping the directory name doesn't add much to your privacy (but in the USB stick case I can see wiping the filenames).\n\nUnless you can better explain the scenario where privacy matters this bug is probably headed for WONTFIX: we preserve the directory as a convenience because most people like to keep their files together. Of course _most_ most people never change the directory from the default so this bug doesn't affect them either way."}, {"count": 3, "id": 3711930, "text": "Well, \"Clear Private Data\" is a feature which \"clears private data\". Even the name tells you that it's a privacy feature and not just clutter control. And the last directory saved to is \"download history\" so the command is not fulfilling it's whole purpose.\n\nIt's quite similar to clearing the url history. Those url's are still public to everyone (like the folders on the computer) but you are clearing the fact that you were there. I might even argue that it's even worse to leave the last saved directory as it's very easy to stumble upon this knowledge even by accident.\n\nstupid eg: A boy is supposed to be doing his homework on the comp but he decides to do some surfing. Afterwards his parents could easily see what he was doing because his last saved directory was \"/downloads/gametrailers\" \n", "creation_time": "2008-07-21T05:21:50Z"}, {"count": 4, "id": 3712304, "text": "I agree it's pretty trivial, and that unlike things like browsing history, which we control, clearing this is no indication that the information can't be retrieved elsewhere.  Still, I don't know if I'd agree with a WONTFIX here - if we had a patch that did this, we wouldn't take it?  Put another way - if the dialog already did this, would we consider that a bug?  Whether it's effective or not, plenty of people no doubt use \"hidden\" directories to store their secret stuff, and might be surprised to have it casually exposed after a Clear Private Data pass -- to others who would not likely ever have searched for it intentionally.", "creation_time": "2008-07-21T13:45:15Z"}], "attachments": [], "cf_status_firefox112": "---", "keywords": ["privacy"], "cf_last_resolved": null, "cf_status_firefox110": "---", "mentors": [], "cf_tracking_firefox_esr102": "---", "duplicates": [], "classification": "Components", "cc": ["dveditz@mozilla.com", "gavin.sharp@gmail.com", "mail@johann-hofmann.com", "pbz@mozilla.com"], "product": "Toolkit", "op_sys": "Windows Vista", "qa_contact": "", "cf_rank": null, "cf_user_story": "", "type": "enhancement", "is_confirmed": true, "cf_tracking_firefox112": "---", "cf_tracking_firefox_relnote": "---", "status": "NEW", "dupe_of": null, "creator_detail": {"real_name": "Mladen Mihajlovic", "id": 230945, "email": "mladen@hixnet.co.za", "nick": "mladen", "name": "mladen@hixnet.co.za"}, "filed_via": "unknown", "depends_on": [], "cf_performance_impact": "---", "cf_fx_points": "---", "assigned_to_detail": {"nick": "nobody", "name": "nobody@mozilla.org", "real_name": "Nobody; OK to take it and work on it", "id": 1, "email": "nobody@mozilla.org"}, "creation_time": "2008-07-20T08:12:41Z", "is_open": true, "target_milestone": "---", "last_change_time": "2022-01-24T16:56:05Z", "is_creator_accessible": true, "cf_status_thunderbird_esr102": "---", "priority": "P5", "cf_status_firefox111": "---", "id": 446261, "cf_tracking_firefox111": "---", "mentors_detail": [], "cf_qa_whiteboard": "", "whiteboard": "", "comment_count": 5, "groups": [], "flags": [], "regressed_by": [], "regressions": [], "platform": "x86", "is_cc_accessible": true, "cf_tracking_thunderbird_esr102": "---", "component": "Data Sanitization", "cf_crash_signature": "", "see_also": [], "votes": 1, "cf_status_thunderbird_esr91": "---", "cf_fx_iteration": "---", "assigned_to": "nobody@mozilla.org", "url": "", "creator": "mladen@hixnet.co.za", "cc_detail": [{"nick": "dveditz", "name": "dveditz@mozilla.com", "real_name": "Daniel Veditz [:dveditz]", "id": 1689, "email": "dveditz@mozilla.com"}, {"name": "gavin.sharp@gmail.com", "nick": "Gavin", "email": "gavin.sharp@gmail.com", "real_name": ":Gavin Sharp [email: gavin@gavinsharp.com]", "id": 103593}, {"id": 522029, "real_name": "Johann Hofmann [:johannh]", "email": "mail@johann-hofmann.com", "nick": "johannh", "name": "mail@johann-hofmann.com"}, {"name": "pbz@mozilla.com", "nick": "pbz", "email": "pbz@mozilla.com", "real_name": "Paul Z\u00fchlcke [:pbz]", "id": 636491}], "cf_webcompat_priority": "---", "version": "unspecified", "cf_has_str": "---", "cf_status_firefox_esr102": "---", "severity": "N/A", "cf_tracking_thunderbird_esr91": "---", "summary": "Clear Private Data should also reset last directory saved to", "alias": null, "resolution": "", "cf_a11y_review_project_flag": "---", "blocks": [1102808], "cf_tracking_firefox110": "---", "cf_cab_review": "---"}
{"history": [{"changes": [{"field_name": "cc", "added": "bugzilla@spray.se", "removed": ""}], "who": "bugzilla@spray.se", "when": "2008-08-26T16:14:40Z"}, {"changes": [{"field_name": "cc", "added": "davegar@comcast.net", "removed": ""}], "who": "davemgarrett@gmail.com", "when": "2008-08-26T18:22:31Z"}, {"changes": [{"removed": "", "added": "ria.klaassen@gmail.com", "field_name": "cc"}], "when": "2008-08-27T10:33:15Z", "who": "ria.klaassen@gmail.com"}, {"who": "robert.strong.bugs@gmail.com", "when": "2008-09-03T03:00:49Z", "changes": [{"removed": "", "added": "robert.bugzilla@gmail.com", "field_name": "cc"}]}, {"changes": [{"removed": "", "field_name": "cc", "added": "gavin.sharp@gmail.com"}], "when": "2012-01-24T23:59:53Z", "who": "gavin.sharp@gmail.com"}, {"who": "c.ascheberg@gmx.de", "when": "2012-05-19T09:20:28Z", "changes": [{"removed": "", "field_name": "cc", "added": "c.ascheberg@gmx.de"}]}, {"when": "2012-05-19T09:38:01Z", "who": "c.ascheberg@gmx.de", "changes": [{"added": "naylor83@gmail.com", "field_name": "cc", "removed": ""}]}, {"changes": [{"field_name": "cc", "added": "", "removed": "johnath@mozilla.com"}], "when": "2015-03-19T15:20:34Z", "who": "bugzilla@johnath.com"}, {"changes": [{"field_name": "cc", "added": "", "removed": "robert.strong.bugs@gmail.com"}], "who": "robert.strong.bugs@gmail.com", "when": "2019-01-30T10:06:01Z"}, {"when": "2020-04-16T20:01:38Z", "who": "tublitzed@gmail.com", "changes": [{"removed": "", "added": "rtublitz@mozilla.com", "field_name": "cc"}, {"removed": "defect", "field_name": "type", "added": "enhancement"}, {"removed": "Shell Integration", "added": "General", "field_name": "component"}]}, {"who": "automation@bmo.tld", "when": "2022-10-10T22:21:37Z", "changes": [{"removed": "normal", "field_name": "severity", "added": "S3"}]}], "comments": [{"creation_time": "2008-08-26T16:13:16Z", "text": "Currently, the first-use experience of Firefox is spoiled by a honking great dialog box which says \"Firefox is not your default browser. Do you want to make it the default?\"\n\nThe correct UI would be a button which said \"I don't have a flipping clue, you haven't given me a chance to try it yet.\"\n\nWe could either provide such a button or, alternatively and perhaps better, ask at shutdown rather than at startup. This would be much better - having finished a Firefox browsing session which you enjoyed, and when you are full of happy memories, Firefox asks you \"Do you want to use Firefox as your default browser in future?\" and you say \"Yes, of course!\"\n\nGerv", "id": 3754840, "count": 0}, {"text": "Maybe a task of the notification bar? With \"Not now\" (default), \"Make Default Browser\" and a button with a list of other browsers that are installed. If people want to change their default browser, they do.", "id": 3756065, "count": 1, "creation_time": "2008-08-27T10:33:15Z"}, {"text": "Created attachment 336601\nIE \"error\" with the subtext as text\n\nIE uses an error icon, and I wonder if that doesn't compel the user to be more agreeable than our use of the question icon (snarky screen shot attached of how I think this dialog box is processed by the average user).  It's not that I condone these tactics, but I think we need to think carefully about how this decision will effect our market share.  For instance, a notification bar (which are really tab related not app related) would drastically reduce the number of people who switch their default browser.\n\nOverall I think I it makes more sense to ask during the installation process and getting this out of the first run experience entirely.  If the user doesn't like Firefox after the first run, they can go back to IE and it will throw an error when opening to help them switch back.", "id": 3764320, "count": 2, "creation_time": "2008-09-03T02:47:06Z"}, {"count": 3, "id": 3764339, "text": "(In reply to comment #2)\n> Created an attachment (id=336601) [details]\n> IE \"error\" with the subtext as text\n> \n> IE uses an error icon, and I wonder if that doesn't compel the user to be more\n> agreeable than our use of the question icon (snarky screen shot attached of how\n> I think this dialog box is processed by the average user).  It's not that I\n> condone these tactics, but I think we need to think carefully about how this\n> decision will effect our market share.  For instance, a notification bar (which\n> are really tab related not app related) would drastically reduce the number of\n> people who switch their default browser.\n> \n> Overall I think I it makes more sense to ask during the installation process\n> and getting this out of the first run experience entirely.  If the user doesn't\n> like Firefox after the first run, they can go back to IE and it will throw an\n> error when opening to help them switch back.\niirc, IE doesn't check by default after the first run on Vista.\n\nWe do provide an option to set as default in the installer on Win32... there is bug 433249 to provide an option not to prompt for the new user profile if the user unchecks the box.\n\nIt would be great to do the same on Mac. It is doubtful it will happen on Linux since it no longer has an installer.", "creation_time": "2008-09-03T03:00:49Z"}, {"creation_time": "2008-09-03T03:06:14Z", "text": "btw: my primary concern regarding just making the app default without an option to not set as default in the installer is for nightly users. Often they will download older builds and install into a different directory to try to narrow down regression windows. If there isn't an option to not set as default I highly suspect we will have less testing of the installer by nightly users which are the ones that do the most QA.", "id": 3764343, "count": 4}, {"creation_time": "2008-09-03T09:31:58Z", "text": "Alex: good points about market share.\n\nAll I am suggesting is to have exactly the same dialog box, but pop it up when the user closes the last window rather than when they open the first window.\n\n-------------------------------------\nWe hope you enjoyed using Firefox.\n\nMake Firefox your default browser?\n\n[ ] Don't ask again\n\n[ Make Default ]  [ No, Thanks ]\n-------------------------------------\n\nGerv", "id": 3764569, "count": 5}, {"count": 6, "id": 3764615, "text": "Showing the dialog on exit seems indeed more useful than showing on startup but I still wonder if Firefox's market share wins by forcing insufficiently funded solutions. I still think that quality sells itself. And people did the effort to download and install the Firefox browser after all, so they were sufficiently motivated, and I really wonder if extra pushes in the back work. I would think: why are they trying so hard? what do they gain? is this in my interest? And be highly irritated that automatically hitting the enter key changes my Windows settings.", "creation_time": "2008-09-03T10:49:41Z"}, {"creation_time": "2008-09-04T06:59:29Z", "count": 7, "text": ">btw: my primary concern regarding just making the app default without an option\n>to not set as default in the installer is for nightly users.\n\nIt seems like nightly builds simply shouldn't be setting themselves as default (either by asking or otherwise).\n\nAsking on exit does seem both more logical and humane, but we really need to run these ideas past the drivers. These are huge decisions.\n\nOne argument to ask during start up is precisely because it is annoying.  For instance Safari on Windows throws a modal dialog with \"Yes\" as the default whatever button, probably in hope that you will just try to quickly get it out of the way so you can continue on with your actual task.", "id": 3765914}, {"creation_time": "2008-09-04T13:55:49Z", "id": 3766330, "text": "(In reply to comment #7)\n> One argument to ask during start up is precisely because it is annoying.  For\n> instance Safari on Windows throws a modal dialog with \"Yes\" as the default\n> whatever button, probably in hope that you will just try to quickly get it out\n> of the way so you can continue on with your actual task.\n\nI know (?) you were being tongue-in-cheek, but lest anyone take this idea too much to heart, I don't think we should have any interest in \"tricking\" users into making us the default.  That is profoundly weasely, imo.\n\nWe've been around the block a couple times on this - iirc, one of the main arguments against doing anything at shutdown is that it is really annoying for an app to interrupt you when you've told it to go away.  You're about to get up from your computer, or reboot, or get back to whatever other thing you are now focused on.  Having us interrupt to say \"Don't you love us?\" is less than entirely palatable, though I appreciate it's at least a more informed time for the user to make that decision.\n\nI also seem to remember discussions around doing it on second launch, \"Welcome back, if we're going to keep meeting like this, should we make it more official?\"  I remember liking this idea, though if I strain my recollection to the limit, I believe the concerns raised were that if we weren't default after the first shutdown, novice users might never find us again.  They might be clicking on link shortcuts, or using the XP/Vista default-browser-goes-in-start-menu habits, and misplace their (otherwise loved, and preferred) Firefox install in the process.", "count": 8}, {"id": 3771886, "text": ">I know (?) you were being tongue-in-cheek\n\nMy point was that this is probably the logic used by people who start with a modal dialog (like Safari on windows), not that we should adopt that reasoning ourselves.  The use of the warning icon (both IE and Safari) is in my opinion particularly devious.", "count": 9, "creation_time": "2008-09-09T00:20:04Z"}, {"creation_time": "2012-05-19T09:20:28Z", "count": 10, "id": 6321183, "text": "Has there been any progress made on this topic?\nGoogle Chrome currently uses a notificationbox to ask users if the want Chrome as their default browser.\nI think in that case the risk that a users chooses \"Don't ask again\" is not that high because the box barely interrupts the workflow.\nYou can easily run Chrome a few times before finally making a choice. Still, you are always hinted at the possibility.\nIn Firefox, the dialog is much more annoying. Also, there is no easy way for novice users to set Firefox as default browser once they got rid of the dialog.\nIs it okay to use a notificationbox in Firefox, too? (The suggestion has been in here already.)\nThere already are notificationboxes for \"Know your rights\" and performance data though.\nHow about adding a question to the bottom of about:home, with the possibility of not showing it again? (Or would it clutter up the page too much?)\nHaving a less annoying way of asking the user would (reduce the need to) fix bug 433249."}, {"text": "*** Bug 484831 has been marked as a duplicate of this bug. ***", "id": 6321190, "count": 11, "creation_time": "2012-05-19T09:38:01Z"}, {"creation_time": "2012-05-19T14:57:25Z", "text": "Created attachment 625408\nask in about:home, draft\n\nI created it because I found it interesting to try it", "id": 6321443, "count": 12}], "attachments": [{"content_type": "image/png", "id": 336601, "is_patch": 0, "creation_time": "2008-09-03T02:47:06Z", "file_name": "IE error subtext.png", "flags": []}, {"is_patch": 0, "content_type": "image/jpeg", "creation_time": "2012-05-19T14:57:25Z", "id": 625408, "flags": [], "file_name": "abouthome_default_browser.jpg"}], "cf_tracking_firefox111": "---", "id": 452258, "cf_status_firefox111": "---", "priority": "--", "is_creator_accessible": true, "cf_fx_points": "---", "cf_performance_impact": "---", "is_open": true, "assigned_to_detail": {"id": 1, "real_name": "Nobody; OK to take it and work on it", "email": "nobody@mozilla.org", "nick": "nobody", "name": "nobody@mozilla.org"}, "creation_time": "2008-08-26T16:13:16Z", "target_milestone": "---", "last_change_time": "2022-10-10T22:21:37Z", "cf_tracking_firefox112": "---", "cf_tracking_firefox_relnote": "---", "creator_detail": {"nick": "gerv", "name": "gerv@mozilla.org", "id": 9911, "real_name": "Gervase Markham [:gerv]", "email": "gerv@mozilla.org"}, "dupe_of": null, "status": "NEW", "depends_on": [], "filed_via": "unknown", "qa_contact": "", "cf_rank": null, "cf_user_story": "", "is_confirmed": true, "type": "enhancement", "cc": ["bugzilla@spray.se", "c.ascheberg@gmx.de", "davemgarrett@gmail.com", "faaborg@gmail.com", "gavin.sharp@gmail.com", "naylor83@gmail.com", "ria.klaassen@gmail.com", "tublitzed@gmail.com"], "classification": "Client Software", "product": "Firefox", "op_sys": "All", "cf_last_resolved": null, "cf_status_firefox110": "---", "mentors": [], "duplicates": [484831], "cf_tracking_firefox_esr102": "---", "cf_status_firefox112": "---", "keywords": [], "resolution": "", "cf_a11y_review_project_flag": "---", "alias": null, "blocks": [], "cf_cab_review": "---", "cf_tracking_firefox110": "---", "severity": "S3", "cf_status_firefox_esr102": "---", "summary": "Ask whether to make Firefox the default browser on shutdown rather than on startup", "creator": "gerv@mozilla.org", "cc_detail": [{"email": "bugzilla@spray.se", "real_name": "Jos\u00e9 Jeria", "id": 25585, "name": "bugzilla@spray.se", "nick": "bugzilla"}, {"email": "c.ascheberg@gmx.de", "real_name": "Christian Ascheberg", "id": 210425, "name": "c.ascheberg@gmx.de", "nick": "c.ascheberg"}, {"name": "davemgarrett@gmail.com", "nick": "davemgarrett", "email": "davemgarrett@gmail.com", "real_name": "Dave Garrett", "id": 275233}, {"nick": "faaborg", "name": "faaborg@gmail.com", "real_name": "Alex Faaborg [:faaborg] (Firefox UX)", "id": 283305, "email": "faaborg@gmail.com"}, {"nick": "Gavin", "name": "gavin.sharp@gmail.com", "id": 103593, "real_name": ":Gavin Sharp [email: gavin@gavinsharp.com]", "email": "gavin.sharp@gmail.com"}, {"name": "naylor83@gmail.com", "nick": "naylor83", "email": "naylor83@gmail.com", "id": 111566, "real_name": "David Naylor"}, {"name": "ria.klaassen@gmail.com", "nick": "ria.klaassen", "email": "ria.klaassen@gmail.com", "id": 154309, "real_name": "Ria Klaassen (not reading all bugmail)"}, {"name": "tublitzed@gmail.com", "nick": "rachel", "email": "tublitzed@gmail.com", "id": 646733, "real_name": "Rachel Tublitz [:rachel]"}], "cf_webcompat_priority": "---", "cf_has_str": "---", "version": "3.0 Branch", "cf_fx_iteration": "---", "assigned_to": "nobody@mozilla.org", "url": "", "cf_crash_signature": "", "see_also": [], "votes": 0, "is_cc_accessible": true, "component": "General", "regressions": [], "platform": "All", "mentors_detail": [], "cf_qa_whiteboard": "", "comment_count": 13, "whiteboard": "", "regressed_by": [], "flags": [], "groups": []}
{"history": [{"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8975390, "added": "review?(MattN+bmo@mozilla.com)"}, {"field_name": "cc", "removed": "", "added": "MattN+bmo@mozilla.com"}, {"comment_id": 13274607, "added": "mozreview-request", "comment_count": 1, "field_name": "comment_tag", "removed": ""}], "when": "2018-05-14T05:10:42Z", "who": "felipc@gmail.com"}, {"when": "2018-05-14T20:33:56Z", "changes": [{"added": "mozreview-review", "comment_id": 13277008, "comment_count": 2, "removed": "", "field_name": "comment_tag"}], "who": "mozilla+bmo@noorenberghe.ca"}, {"when": "2018-05-15T00:26:48Z", "changes": [{"comment_id": 13277540, "added": "mozreview-request", "field_name": "comment_tag", "removed": "", "comment_count": 3}], "who": "felipc@gmail.com"}, {"changes": [{"added": "mozreview-request", "comment_id": 13285462, "field_name": "comment_tag", "removed": "", "comment_count": 6}], "when": "2018-05-17T19:41:27Z", "who": "felipc@gmail.com"}, {"when": "2018-05-17T19:46:16Z", "changes": [{"added": "mozreview-request", "comment_id": 13285485, "field_name": "comment_tag", "removed": "", "comment_count": 8}], "who": "felipc@gmail.com"}, {"when": "2018-05-18T04:44:08Z", "changes": [{"removed": "review?(MattN+bmo@mozilla.com)", "field_name": "flagtypes.name", "added": "review+", "attachment_id": 8975390}], "who": "mozilla+bmo@noorenberghe.ca"}, {"when": "2018-05-18T04:44:09Z", "changes": [{"comment_id": 13286324, "added": "mozreview-review", "comment_count": 9, "removed": "", "field_name": "comment_tag"}], "who": "mozilla+bmo@noorenberghe.ca"}, {"when": "2018-05-26T04:12:32Z", "changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"removed": "", "field_name": "resolution", "added": "FIXED"}, {"field_name": "target_milestone", "removed": "---", "added": "Firefox 62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-26T04:12:32Z"}, {"removed": "affected", "field_name": "cf_status_firefox62", "added": "fixed"}, {"comment_count": 12, "removed": "", "field_name": "comment_tag", "comment_id": 13365715, "added": "bugherder"}], "who": "dluca@mozilla.com"}, {"when": "2018-05-29T16:32:25Z", "changes": [{"added": "1436250", "field_name": "blocks", "removed": ""}], "who": "felipc@gmail.com"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "when": "2018-06-09T07:03:35Z", "who": "mcastelluccio@mozilla.com"}], "comments": [{"id": 13274606, "count": 0, "text": "An instance of the FormSubmitObserver object is created for every tab (in content.js) only to add its observer for the \"invalidformsubmit\" notification.\n\nWe can add this observer in content.js and only load the .jsm when that happens.\n\nThis patch makes use of the helper being added in bug 1457988", "creation_time": "2018-05-14T05:08:37Z"}, {"id": 13274607, "count": 1, "creation_time": "2018-05-14T05:10:42Z", "text": "Created attachment 8975390\nBug 1461247 - Only load FormSubmitObserver.jsm when an invalidformsubmit notification happens.\n\nReview commit: https://reviewboard.mozilla.org/r/243694/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/243694/"}, {"id": 13277008, "count": 2, "text": "Comment on attachment 8975390\nBug 1461247 - Only load FormSubmitObserver.jsm when an invalidformsubmit notification happens.\n\nhttps://reviewboard.mozilla.org/r/243694/#review249494\n\n::: browser/base/content/content.js:51\n(Diff revision 1)\n>  // Load the form validation popup handler\n> -var formSubmitObserver = new FormSubmitObserver(content, this);\n> +var formSubmitObserver = XPCOMUtils.defineLazyProxy(null, null, () => {\n> +  let tmp = {};\n> +  ChromeUtils.import(\"resource:///modules/FormSubmitObserver.jsm\", tmp);\n> +  return new tmp.FormSubmitObserver(content, this);\n> +}, { QueryInterface: XPCOMUtils.generateQI([Ci.nsIFormSubmitObserver, Ci.nsISupportsWeakReference])});\n\nNit: I think this should be ChromeUtils.generateQI?\n\n::: browser/modules/FormSubmitObserver.jsm:5\n(Diff revision 1)\n>  /*\n>   * Handles the validation callback from nsIFormFillController and\n>   * the display of the help panel on invalid elements.\n>   */\n>  \n>  \"use strict\";\n>  \n>  var EXPORTED_SYMBOLS = [ \"FormSubmitObserver\" ];\n>  \n>  ChromeUtils.import(\"resource://gre/modules/XPCOMUtils.jsm\");\n>  ChromeUtils.import(\"resource://gre/modules/Services.jsm\");\n>  ChromeUtils.import(\"resource://gre/modules/BrowserUtils.jsm\");\n>  \n>  function FormSubmitObserver(aWindow, aTabChildGlobal) {\n>    this.init(aWindow, aTabChildGlobal);\n>  }\n>  \n> +// nsIFormSubmitObserver callback about invalid forms. See HTMLFormElement\n> +// for details.\n\nMaybe this comment should be merged with the one at the top of the file?", "creation_time": "2018-05-14T20:33:56Z"}, {"count": 3, "creation_time": "2018-05-15T00:26:48Z", "text": "Comment on attachment 8975390\nBug 1461247 - Only load FormSubmitObserver.jsm when an invalidformsubmit notification happens.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/243694/diff/1-2/", "id": 13277540}, {"count": 4, "text": "Created attachment 8975688\nform-submit-alternate.diff\n\nI updated MozReview with the cleaner version that we talked about, and I'm attaching here the alternate approach that doesn't use defineLazyProxy for you to choose.", "creation_time": "2018-05-15T00:32:56Z", "id": 13277545}, {"id": 13277554, "creation_time": "2018-05-15T00:41:19Z", "text": "Created attachment 8975691\nallow-trapping-of-QueryInterface-setter.diff\n\nAnd this is another alternative to use defineLazyProxy but improve the readability a bit by allowing QueryInterface to be defined in the proxy.", "count": 5}, {"id": 13285462, "text": "Comment on attachment 8975390\nBug 1461247 - Only load FormSubmitObserver.jsm when an invalidformsubmit notification happens.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/243694/diff/2-3/", "creation_time": "2018-05-17T19:41:27Z", "count": 6}, {"id": 13285465, "count": 7, "text": "(cleaned up the main patch a bit.. organizing all the XPCOMUtils.defineLazyProxy stuff together makes it easier to read)", "creation_time": "2018-05-17T19:42:00Z"}, {"creation_time": "2018-05-17T19:46:16Z", "text": "Comment on attachment 8975390\nBug 1461247 - Only load FormSubmitObserver.jsm when an invalidformsubmit notification happens.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/243694/diff/3-4/", "count": 8, "id": 13285485}, {"count": 9, "creation_time": "2018-05-18T04:44:08Z", "text": "Comment on attachment 8975390\nBug 1461247 - Only load FormSubmitObserver.jsm when an invalidformsubmit notification happens.\n\nhttps://reviewboard.mozilla.org/r/243694/#review250938\n\n::: browser/base/content/content.js:51\n(Diff revision 4)\n>    return new ContextMenu(global);\n>  });\n>  \n> +XPCOMUtils.defineLazyProxy(this, \"formSubmitObserver\", () => {\n> +  return new FormSubmitObserver(content, this);\n> +}, { QueryInterface: ChromeUtils.generateQI([Ci.nsIFormSubmitObserver, Ci.nsISupportsWeakReference])});\n\nNit: I think it would be easier to read with the property on its own line:\n```js\n\u2026\n}, {\n  QueryInterface: ChromeUtils.generateQI([Ci.nsIFormSubmitObserver, Ci.nsISupportsWeakReference])\n});\n```\n\n::: browser/base/content/content.js:56\n(Diff revision 4)\n> -// Load the form validation popup handler\n> +Services.obs.addObserver(formSubmitObserver, \"invalidformsubmit\", true);\n> -var formSubmitObserver = new FormSubmitObserver(content, this);\n\nI have no idea what the test coverage of this is like (and whether they are enabled) so please do a manual test and/or check that automated tests run in automation.", "id": 13286324}, {"id": 13287775, "count": 10, "creation_time": "2018-05-18T16:51:50Z", "text": "(In reply to Matthew N. [:MattN] (PM if requests are blocking you) from comment #9)x\n> \u2026\n> }, {\n>   QueryInterface: ChromeUtils.generateQI([Ci.nsIFormSubmitObserver,\n> Ci.nsISupportsWeakReference])\n> });\n> ```\n> \n> ::: browser/base/content/content.js:56\n> (Diff revision 4)\n> > -// Load the form validation popup handler\n> > +Services.obs.addObserver(formSubmitObserver, \"invalidformsubmit\", true);\n> > -var formSubmitObserver = new FormSubmitObserver(content, this);\n> \n> I have no idea what the test coverage of this is like (and whether they are\n> enabled) so please do a manual test and/or check that automated tests run in\n> automation.\n\nThey are disabled due to being intermittent, but I ran them locally and they pass:\n  browser_form_validation.js, browser_validation_iframe.js, browser_validation_invisible.js\n\n(The first one has a testcase that was never fixed for e10s, so it fails with e10s, but it's unrelated to this change)"}, {"id": 13364514, "count": 11, "creation_time": "2018-05-25T17:23:15Z", "text": "Pushed by felipc@gmail.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/0398ab28d537\nOnly load FormSubmitObserver.jsm when an invalidformsubmit notification happens. r=MattN"}, {"id": 13365715, "count": 12, "text": "https://hg.mozilla.org/mozilla-central/rev/0398ab28d537", "creation_time": "2018-05-26T04:12:32Z"}], "attachments": [{"is_patch": 0, "id": 8975390, "file_name": "reviewboard-243694-url.txt", "flags": [{"id": 1756229, "setter": "mozilla+bmo@noorenberghe.ca", "modification_date": "2018-05-18T04:44:08Z", "name": "review", "creation_date": "2018-05-14T05:10:42Z", "status": "+", "type_id": 748}], "content_type": "text/x-review-board-request", "creation_time": "2018-05-14T05:10:42Z"}, {"id": 8975688, "is_patch": 1, "file_name": "form-submit-alternate.diff", "content_type": "text/plain", "flags": [], "creation_time": "2018-05-15T00:32:56Z"}, {"creation_time": "2018-05-15T00:41:19Z", "file_name": "allow-trapping-of-QueryInterface-setter.diff", "flags": [], "content_type": "text/plain", "id": 8975691, "is_patch": 1}], "cf_qa_whiteboard": "", "mentors_detail": [], "flags": [], "groups": [], "regressed_by": [], "whiteboard": "[fxperf:p1]", "comment_count": 13, "regressions": [], "platform": "Unspecified", "component": "General", "is_cc_accessible": true, "cf_crash_signature": "", "votes": 0, "see_also": [], "cf_fx_iteration": "---", "url": "", "assigned_to": "felipc@gmail.com", "cc_detail": [{"name": "mcastelluccio@mozilla.com", "nick": "marco", "email": "mcastelluccio@mozilla.com", "real_name": "Marco Castelluccio [:marco]", "id": 420453}, {"real_name": "Matthew N. [:MattN]", "id": 305228, "email": "mozilla+bmo@noorenberghe.ca", "nick": "MattN", "name": "mozilla+bmo@noorenberghe.ca"}], "creator": "felipc@gmail.com", "version": "Trunk", "cf_has_str": "---", "cf_webcompat_priority": "---", "cf_status_firefox_esr102": "---", "severity": "normal", "summary": "Only load FormSubmitObserver when an invalidformsubmit notification happens", "alias": null, "cf_a11y_review_project_flag": "---", "resolution": "FIXED", "cf_cab_review": "---", "cf_tracking_firefox110": "---", "blocks": [1436250], "cf_status_firefox112": "---", "keywords": [], "cf_status_firefox110": "---", "cf_last_resolved": "2018-05-26T04:12:32Z", "cf_tracking_firefox_esr102": "---", "duplicates": [], "mentors": [], "product": "Firefox", "classification": "Client Software", "cc": ["mcastelluccio@mozilla.com", "mozilla+bmo@noorenberghe.ca"], "cf_status_firefox62": "fixed", "op_sys": "Unspecified", "cf_rank": null, "qa_contact": "", "is_confirmed": true, "type": "enhancement", "cf_user_story": "", "cf_tracking_firefox112": "---", "cf_tracking_firefox_relnote": "---", "filed_via": "unknown", "depends_on": [1457988], "status": "RESOLVED", "dupe_of": null, "creator_detail": {"email": "felipc@gmail.com", "id": 208747, "real_name": ":Felipe Gomes (needinfo for replies!)", "name": "felipc@gmail.com", "nick": "Felipe"}, "assigned_to_detail": {"nick": "Felipe", "name": "felipc@gmail.com", "id": 208747, "real_name": ":Felipe Gomes (needinfo for replies!)", "email": "felipc@gmail.com"}, "creation_time": "2018-05-14T05:08:37Z", "is_open": false, "cf_performance_impact": "---", "cf_fx_points": "---", "last_change_time": "2018-06-09T07:03:35Z", "target_milestone": "Firefox 62", "is_creator_accessible": true, "priority": "--", "cf_status_firefox111": "---", "id": 1461247, "cf_tracking_firefox111": "---"}
{"history": [{"changes": [{"removed": "", "field_name": "cc", "added": "mconley@mozilla.com"}], "who": "mconley@mozilla.com", "when": "2018-04-30T18:59:18Z"}, {"changes": [{"added": "Tobias.Marty@gmx.de", "removed": "", "field_name": "cc"}], "when": "2018-05-01T18:14:12Z", "who": "Tobias.Marty@gmx.de"}, {"changes": [{"removed": "", "field_name": "cc", "added": "mcastelluccio@mozilla.com"}], "when": "2018-05-02T10:44:54Z", "who": "mcastelluccio@mozilla.com"}, {"who": "pastith@gmail.com", "when": "2018-05-10T16:09:45Z", "changes": [{"removed": "--", "field_name": "priority", "added": "P3"}, {"added": "past@mozilla.com", "field_name": "cc", "removed": ""}]}, {"changes": [{"removed": "P3", "field_name": "priority", "added": "P1"}, {"field_name": "whiteboard", "removed": "", "added": "[fxperf:p1]"}], "who": "felipc@gmail.com", "when": "2018-05-14T04:34:58Z"}, {"when": "2018-05-14T04:45:08Z", "who": "felipc@gmail.com", "changes": [{"added": "XPCOMUtils.defineLazyProxy (was: lazy listeners for the content process)", "field_name": "summary", "removed": "Create lazy listener infra-structure for the content process"}]}, {"changes": [{"added": "review?(kmaglione+bmo@mozilla.com)", "attachment_id": 8975389, "field_name": "flagtypes.name", "removed": ""}, {"removed": "", "field_name": "cc", "added": "kmaglione+bmo@mozilla.com"}, {"removed": "", "field_name": "comment_tag", "comment_count": 3, "comment_id": 13274599, "added": "mozreview-request"}], "who": "felipc@gmail.com", "when": "2018-05-14T04:48:53Z"}, {"changes": [{"removed": "", "field_name": "blocks", "added": "1461247"}], "when": "2018-05-14T05:08:37Z", "who": "felipc@gmail.com"}, {"when": "2018-05-14T05:15:38Z", "who": "felipc@gmail.com", "changes": [{"field_name": "blocks", "removed": "", "added": "1461248"}]}, {"when": "2018-05-14T07:51:13Z", "who": "mail@johann-hofmann.com", "changes": [{"added": "jhofmann@mozilla.com", "field_name": "cc", "removed": ""}]}, {"when": "2018-05-14T17:45:57Z", "who": "mozilla+bmo@noorenberghe.ca", "changes": [{"added": "MattN+bmo@mozilla.com", "field_name": "cc", "removed": ""}]}, {"when": "2018-05-14T18:54:24Z", "who": "kmaglione+bmo@mozilla.com", "changes": [{"removed": "", "field_name": "cc", "added": "nika@thelayzells.com"}]}, {"changes": [{"field_name": "blocks", "removed": "", "added": "1461444"}], "when": "2018-05-14T19:47:53Z", "who": "felipc@gmail.com"}, {"when": "2018-05-14T20:39:18Z", "who": "kmaglione+bmo@mozilla.com", "changes": [{"added": "", "attachment_id": 8975389, "field_name": "flagtypes.name", "removed": "review?(kmaglione+bmo@mozilla.com)"}, {"comment_id": 13277021, "added": "mozreview-review", "comment_count": 5, "field_name": "comment_tag", "removed": ""}]}, {"who": "kmaglione+bmo@mozilla.com", "when": "2018-05-14T20:43:53Z", "changes": [{"added": "mozreview-review-reply", "comment_id": 13277030, "comment_count": 6, "field_name": "comment_tag", "removed": ""}]}, {"changes": [{"field_name": "flagtypes.name", "removed": "", "attachment_id": 8975389, "added": "review?(kmaglione+bmo@mozilla.com)"}, {"field_name": "comment_tag", "removed": "", "comment_count": 8, "comment_id": 13277500, "added": "mozreview-request"}], "who": "felipc@gmail.com", "when": "2018-05-15T00:00:43Z"}, {"changes": [{"added": "review+", "attachment_id": 8975389, "removed": "review?(kmaglione+bmo@mozilla.com)", "field_name": "flagtypes.name"}, {"comment_id": 13277623, "added": "mozreview-review", "removed": "", "comment_count": 9, "field_name": "comment_tag"}], "who": "kmaglione+bmo@mozilla.com", "when": "2018-05-15T01:39:50Z"}, {"when": "2018-05-15T23:17:12Z", "who": "jryans@gmail.com", "changes": [{"removed": "", "field_name": "cc", "added": "jryans@gmail.com"}]}, {"who": "ebalazs@mozilla.com", "when": "2018-05-16T10:04:21Z", "changes": [{"removed": "ASSIGNED", "field_name": "status", "added": "RESOLVED"}, {"added": "FIXED", "removed": "", "field_name": "resolution"}, {"removed": "---", "field_name": "target_milestone", "added": "Firefox 62"}, {"removed": "", "field_name": "cf_last_resolved", "added": "2018-05-16T10:04:21Z"}, {"added": "fixed", "removed": "---", "field_name": "cf_status_firefox62"}]}, {"when": "2018-05-16T10:04:22Z", "who": "ebalazs@mozilla.com", "changes": [{"comment_id": 13280953, "added": "bugherder", "removed": "", "field_name": "comment_tag", "comment_count": 11}]}, {"when": "2018-05-16T12:42:05Z", "who": "ryanvm@gmail.com", "changes": [{"field_name": "cf_status_firefox61", "removed": "affected", "added": "wontfix"}]}, {"when": "2018-05-17T16:42:00Z", "who": "felipc@gmail.com", "changes": [{"added": "1462400", "removed": "", "field_name": "depends_on"}]}], "comments": [{"count": 0, "text": "nsBrowserGlue already has something similar, here:\nhttps://searchfox.org/mozilla-central/rev/08df4e6e11284186d477d7e5b0ae48483ecc979c/browser/components/nsBrowserGlue.js#186\n\nWe should create some infrastructure to do this in the content process, and start moving things out of the main scripts into separate scripts that are only used when needed.\n\nOne slightly difficult aspect is that the existing implementation in nsBrowserGlue doesn't cover the case for event listeners, and when we do that, we'll need to pay attention into the cases where it's just a function (to call it directly) vs. when it's an object with handleEvent. This is done automagically by XPCOM now but if we might have to handle it manually on the first event.", "id": 13243937, "creation_time": "2018-04-30T18:24:10Z"}, {"count": 1, "text": "Hey all, apologies for the delay here.. I went back and forth on this for a while, but I arrived at something that I think will be really useful in general, and not just for frame scripts in the content process.\n\nStory time if you're curious (feel free to skip this comment otherwise):\n\nI started following a similar pattern from what's in nsBrowserGlue (linked above) and to adapt it to the use cases of the stuff found in the content scripts.\n\nIt worked but it had shortcomings:\n - the changes needed to make on the current code were more verbose and more often required changes in behavior, specially around managing the adding/removal of listeners\n\n- dealing with repeated msgs is harder here than what's covered in nsBrowserGlue, because events make it harder: two different callers might want to add a listener for the same event, but with different parameters (e.g. bubbling vs capture). Having a central object become the de-facto listener and correctly find and dispatch the real listeners for each case quickly became unwieldy.\n\n- handling all different use cases (module singleton, singleton + .init() function, exported constructor) made things weird\n\n- the lifetime of stuff is harder to reason about when the real listener is a central object and it keeps references to all other objects\n\n\nSo, after I had a lot working, I had an idea to go in another direction using Proxies, and once it worked I scrapped all that I had from the above", "id": 13274593, "creation_time": "2018-05-14T04:34:58Z"}, {"creation_time": "2018-05-14T04:45:08Z", "text": "The better thing to have would be a way to define a lazy getter to be passed for an event listener/observer/msg listener, that is evaluated only when it'll be called.\n\nThe lazy getters provided by XPCOMUtils are not enough for this, because simply passing one as a reference to e.g. addEventListener will cause its getter to run.\n\nSo what we really need is some sort of lazy getter that is resilient to be passed around by reference, and is only evaluated when really used.\n\nI went in this direction and implemented it using proxies, which can be passed around. As soon as any trap gets called, it will evaluate the lazy getter and forward everything to the underlying object.\n\n\n(There are many more details in the implementation that cover the use cases needed for a lot of the stuff that I'm lazy-fying in content scripts, which I'll be doing in separate bugs)", "id": 13274597, "count": 2}, {"text": "Created attachment 8975389\nBug 1457988 - Implement XPCOMUtils.defineLazyProxy.\n\nThis implements a new kind of lazy getter in XPCOMUtils that creates an object (implemented as a JS Proxy) that is resilient to be passed around as references to other functions, and will only evaluate the getter when it really needs to be used\n\nReview commit: https://reviewboard.mozilla.org/r/243690/diff/#index_header\nSee other reviews: https://reviewboard.mozilla.org/r/243690/", "id": 13274599, "count": 3, "creation_time": "2018-05-14T04:48:53Z"}, {"creation_time": "2018-05-14T18:54:24Z", "text": "(In reply to :Felipe Gomes (needinfo me!) from comment #0)\n> nsBrowserGlue already has something similar, here:\n> https://searchfox.org/mozilla-central/rev/\n> 08df4e6e11284186d477d7e5b0ae48483ecc979c/browser/components/nsBrowserGlue.\n> js#186\n> \n> We should create some infrastructure to do this in the content process, and\n> start moving things out of the main scripts into separate scripts that are\n> only used when needed.\n> \n> One slightly difficult aspect is that the existing implementation in\n> nsBrowserGlue doesn't cover the case for event listeners, and when we do\n> that, we'll need to pay attention into the cases where it's just a function\n> (to call it directly) vs. when it's an object with handleEvent. This is done\n> automagically by XPCOM now but if we might have to handle it manually on the\n> first event.\n\nIt's worth noting that Nika and I are working on some things for Fission are aimed at making it easier to do this automatically. If there are specific cases you're especially concerned about, it would be interesting to hear about them so we can make sure they're covered by the new auto-loading infrastructure.", "id": 13276683, "count": 4}, {"creation_time": "2018-05-14T20:39:18Z", "id": 13277021, "text": "Comment on attachment 8975389\nBug 1457988 - Implement XPCOMUtils.defineLazyProxy.\n\nhttps://reviewboard.mozilla.org/r/243690/#review249708\n\nThanks. This looks useful. I just have some nits about performance concerns.\n\n::: js/xpconnect/loader/XPCOMUtils.jsm:623\n(Diff revision 1)\n> +    let handler = new LazyProxyHandler(aName, aStubProperties, aUntrapCallback);\n> +\n> +    if (typeof(aInitFuncOrResource) == \"string\") {\n> +      this.defineLazyModuleGetter(handler, \"realObject\", aInitFuncOrResource, aName);\n> +    } else {\n> +      this.defineLazyGetter(handler, \"realObject\", aInitFuncOrResource);\n\nHm. This also uses `delete` and will put the handler into dictionary mode... :( We should maybe fix that first.\n\n::: js/xpconnect/loader/XPCOMUtils.jsm:661\n(Diff revision 1)\n> + * stored as `realObject`, which is defined as a lazy getter\n> + * and which will be evaulated at the first time that any of these\n> + * traps are called (with an exception in the get() trap for\n> + * the properties provided in the `aStubProperties` parameter).\n> + */\n> +function LazyProxyHandler(aName, aStubProperties, aUntrapCallback) {\n\nPlease make this an ES6 class\n\n::: js/xpconnect/loader/XPCOMUtils.jsm:673\n(Diff revision 1)\n> +LazyProxyHandler.prototype = {\n> +  getObject() {\n> +    if (this.pending) {\n> +      this.pending = false;\n> +      if (this.untrapCallback) {\n> +        this.untrapCallback.call(undefined, this.realObject);\n\nShould be `null` rather than `undefined`\n\n::: js/xpconnect/loader/XPCOMUtils.jsm:674\n(Diff revision 1)\n> +  getObject() {\n> +    if (this.pending) {\n> +      this.pending = false;\n> +      if (this.untrapCallback) {\n> +        this.untrapCallback.call(undefined, this.realObject);\n> +        delete this.untrapCallback;\n\nPlease don't delete properties. It changes the shape of the object, and generally puts it in dictionary mode, which is bad for the JIT. Just null it out instead.\n\n::: js/xpconnect/loader/XPCOMUtils.jsm:681\n(Diff revision 1)\n> +      delete this.stubProperties;\n> +    }\n> +    return this.realObject;\n> +  },\n> +\n> +  getPrototypeOf(...args) {\n\nI hate to say this... but rest args and spread args are pretty expensive and don't have good JIT support at the moment. We should just use the explicit handler args in all of these traps.\n\n::: js/xpconnect/tests/unit/test_lazyproxy.js:51\n(Diff revision 1)\n> +  //\n> +  // Note: Even though Assert.equal uses a shallow\n> +  // comparison (==), on success it stringifies the\n> +  // two parameters given for the log,\n> +  // which enumerates the proxy :S.\n> +  Assert.ok(lazyProxy === tmp.myLazyProxy);\n\n`Assert.strictEqual`, please.\n\nAlso, please add descriptions for all assertions. Debugging xpcshell failures without assertion descriptions is a nightmare.", "count": 5}, {"count": 6, "text": "Comment on attachment 8975389\nBug 1457988 - Implement XPCOMUtils.defineLazyProxy.\n\nhttps://reviewboard.mozilla.org/r/243690/#review249708\n\n> Hm. This also uses `delete` and will put the handler into dictionary mode... :( We should maybe fix that first.\n\nHonestly, we should probably just skip the existing lazy getter machinery and just have the proxy handler evaluate this the first time it's needed. This probably really isn't a place where we want to run into additional JIT overhead (having a proxy at all means we won't get ICs for most operations we otherwise would), and the existing lazy getter stuff tends to be pretty hairy, as far as the platform is concerned...", "id": 13277030, "creation_time": "2018-05-14T20:43:53Z"}, {"count": 7, "text": "(In reply to Kris Maglione [:kmag] (long backlog; ping on IRC if you're blocked) from comment #5)\n\nThanks! Addressed all the comments, except:\n\n> > +  Assert.ok(lazyProxy === tmp.myLazyProxy);\n> \n> `Assert.strictEqual`, please.\n\nAssert.strictEqual calls Assert.report, which wants to stringify the two objects compared (even when it succeeds), which ends up triggering the proxy evaluation.  I improved the comment a bit to make this more clear.", "id": 13277495, "creation_time": "2018-05-14T23:58:57Z"}, {"text": "Comment on attachment 8975389\nBug 1457988 - Implement XPCOMUtils.defineLazyProxy.\n\nReview request updated; see interdiff: https://reviewboard.mozilla.org/r/243690/diff/1-2/", "id": 13277500, "count": 8, "creation_time": "2018-05-15T00:00:43Z"}, {"creation_time": "2018-05-15T01:39:50Z", "id": 13277623, "text": "Comment on attachment 8975389\nBug 1457988 - Implement XPCOMUtils.defineLazyProxy.\n\nhttps://reviewboard.mozilla.org/r/243690/#review249842\n\nThanks\n\n::: js/xpconnect/loader/XPCOMUtils.jsm:622\n(Diff revision 2)\n> +  defineLazyProxy: function XPCOMUtils__defineLazyProxy(aObject, aName, aInitFuncOrResource,\n> +                                                        aStubProperties, aUntrapCallback) {\n> +    let initFunc = aInitFuncOrResource;\n> +\n> +    if (typeof(aInitFuncOrResource) == \"string\") {\n> +      initFunc = () => ChromeUtils.import(aInitFuncOrResource)[aName];\n\nThis is going to wind up defining a bunch of unwanted symbols on the XPCOMUtils global.\n\nPassing `null` as the second arg would fix that problem. But there's another problem, which is that the module loader supports exporting lexical symbols (and also, for that matter, only exporting listed symbols), which are not accessible on the plain module global object.\n\nWe should really probably import into a temporary object and get `aName` from that.\n\n::: js/xpconnect/loader/XPCOMUtils.jsm:719\n(Diff revision 2)\n> +  }\n> +\n> +  get(target, prop, receiver) {\n> +    if (this.pending &&\n> +        this.stubProperties &&\n> +        this.stubProperties.hasOwnProperty(prop)) {\n\nSo, two things. 1) Using `hasOwnProperty` this way can be a bit of a footgun if there's any chance of that being defined on the object itself, and overriding the prototype method. 2) We may actually want to include object prototype properties here so they don't wind up forcing evaluation of the lazy getter.\n\nI don't have that strong an opinion on #2, but for #1, please use something like Object.prototype.hasOwnProperty.call or Object.getOwnPropertyDescriptor.\n\n::: js/xpconnect/loader/XPCOMUtils.jsm:737\n(Diff revision 2)\n> +  apply(target, thisArg, argsList) {\n> +    return Reflect.apply(this.getObject(), thisArg, argsList);\n> +  }\n> +\n> +  construct(target, argsList, newTarget) {\n> +    return Reflect.construct(this.getObject(), argsList, newTarget);\n> +  }\n\nThese aren't necessary. They only work if the target object is a function, which it never is here.", "count": 9}, {"creation_time": "2018-05-15T22:51:18Z", "count": 10, "text": "Pushed by felipc@gmail.com:\nhttps://hg.mozilla.org/integration/mozilla-inbound/rev/62451c9687b2\nImplement XPCOMUtils.defineLazyProxy. r=kmag", "id": 13280207}, {"count": 11, "text": "https://hg.mozilla.org/mozilla-central/rev/62451c9687b2", "id": 13280953, "creation_time": "2018-05-16T10:04:21Z"}], "attachments": [{"content_type": "text/x-review-board-request", "id": 8975389, "flags": [{"id": 1756728, "type_id": 748, "modification_date": "2018-05-15T01:39:50Z", "setter": "kmaglione+bmo@mozilla.com", "name": "review", "creation_date": "2018-05-15T00:00:43Z", "status": "+"}], "is_patch": 0, "creation_time": "2018-05-14T04:48:53Z", "file_name": "reviewboard-243690-url.txt"}], "is_cc_accessible": true, "groups": [], "mentors": [], "is_creator_accessible": true, "product": "Firefox", "component": "General", "cc_detail": [{"name": "jryans@gmail.com", "nick": "jryans", "real_name": "J. Ryan Stinnett [:jryans] (Use needinfo, replies may be slow)", "id": 282978, "email": "jryans@gmail.com"}, {"name": "kmaglione+bmo@mozilla.com", "email": "kmaglione+bmo@mozilla.com", "real_name": "Kris Maglione [:kmag]", "id": 106098, "nick": "kmag"}, {"name": "mail@johann-hofmann.com", "real_name": "Johann Hofmann [:johannh]", "email": "mail@johann-hofmann.com", "id": 522029, "nick": "johannh"}, {"name": "mcastelluccio@mozilla.com", "nick": "marco", "real_name": "Marco Castelluccio [:marco]", "email": "mcastelluccio@mozilla.com", "id": 420453}, {"id": 403756, "email": "mconley@mozilla.com", "real_name": "Mike Conley (:mconley) (:\u2699\ufe0f)", "nick": "mconley", "name": "mconley@mozilla.com"}, {"name": "mozilla+bmo@noorenberghe.ca", "real_name": "Matthew N. [:MattN]", "id": 305228, "email": "mozilla+bmo@noorenberghe.ca", "nick": "MattN"}, {"nick": "nika", "real_name": "Nika Layzell [:nika] (ni? for response)", "id": 534482, "email": "nika@thelayzells.com", "name": "nika@thelayzells.com"}, {"nick": "past", "email": "pastith@gmail.com", "id": 363318, "real_name": "Panos Astithas (he/him) [:past] (please ni?)", "name": "pastith@gmail.com"}, {"email": "Tobias.Marty@gmx.de", "real_name": "TMart", "id": 572549, "nick": "Tobias.Marty", "name": "Tobias.Marty@gmx.de"}], "creator_detail": {"name": "felipc@gmail.com", "real_name": ":Felipe Gomes (needinfo for replies!)", "id": 208747, "email": "felipc@gmail.com", "nick": "Felipe"}, "assigned_to": "felipc@gmail.com", "cf_cab_review": "---", "summary": "XPCOMUtils.defineLazyProxy (was: lazy listeners for the content process)", "url": "", "blocks": [1461247, 1461248, 1461444], "regressed_by": [], "cf_fx_points": "---", "id": 1457988, "whiteboard": "[fxperf:p1]", "cf_rank": null, "last_change_time": "2018-05-17T16:42:00Z", "type": "enhancement", "cf_qa_whiteboard": "", "cf_status_firefox62": "fixed", "cf_performance_impact": "---", "cf_status_firefox61": "wontfix", "cf_a11y_review_project_flag": "---", "op_sys": "Unspecified", "cf_tracking_firefox_esr102": "---", "cf_fx_iteration": "---", "cf_status_firefox110": "---", "severity": "normal", "alias": null, "target_milestone": "Firefox 62", "cf_tracking_firefox_relnote": "---", "cf_tracking_firefox111": "---", "see_also": [], "cc": ["jryans@gmail.com", "kmaglione+bmo@mozilla.com", "mail@johann-hofmann.com", "mcastelluccio@mozilla.com", "mconley@mozilla.com", "mozilla+bmo@noorenberghe.ca", "nika@thelayzells.com", "pastith@gmail.com", "Tobias.Marty@gmx.de"], "comment_count": 12, "cf_status_firefox_esr102": "---", "classification": "Client Software", "platform": "Unspecified", "is_open": false, "cf_last_resolved": "2018-05-16T10:04:21Z", "cf_status_firefox111": "---", "version": "Trunk", "cf_tracking_firefox110": "---", "dupe_of": null, "cf_crash_signature": "", "is_confirmed": true, "qa_contact": "", "keywords": [], "cf_status_firefox112": "---", "cf_has_str": "---", "cf_user_story": "", "votes": 1, "regressions": [], "status": "RESOLVED", "filed_via": "unknown", "cf_tracking_firefox112": "---", "creation_time": "2018-04-30T18:24:10Z", "creator": "felipc@gmail.com", "duplicates": [], "resolution": "FIXED", "depends_on": [1462400], "priority": "P1", "mentors_detail": [], "flags": [], "assigned_to_detail": {"name": "felipc@gmail.com", "nick": "Felipe", "real_name": ":Felipe Gomes (needinfo for replies!)", "email": "felipc@gmail.com", "id": 208747}, "cf_webcompat_priority": "---"}